/*! For license information please see index-918b7.js.LICENSE.txt */
(()=>{var e={83820:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0;const r=a(n(67294)),l=n(44833),o=n(88684),i=n(44283),c=n(74093);t.Map=({array:e,children:t,equalityCheck:n})=>{const a=(0,o.useFacetUnwrap)((0,i.useFacetMap)((e=>e.length),[],[e])),l=a!==c.NO_VALUE?a:0;return r.default.createElement(r.default.Fragment,null,d((a=>void 0!==n?r.default.createElement(s,{key:a,arrayFacet:e,index:a,length:l,equalityCheck:n,children:t}):r.default.createElement(u,{key:a,arrayFacet:e,index:a,length:l,children:t})),l))};const s=({arrayFacet:e,index:t,length:n,children:a,equalityCheck:r})=>a((0,l.useFacetMemo)((e=>t<e.length?e[t]:c.NO_VALUE),[t],[e],r),t,n),u=({arrayFacet:e,index:t,length:n,children:a})=>a((0,i.useFacetMap)((e=>t<e.length?e[t]:c.NO_VALUE),[t],[e]),t,n),d=(e,t)=>{const n=[];for(let a=0;a<t;a++)n.push(e(a));return n}},92885:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mount=void 0;const a=n(88684);t.Mount=({when:e,children:t,condition:n=!0})=>(0,a.useFacetUnwrap)(e)===n?t:null},60725:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.With=void 0;const a=n(44833),r=n(88684),l=n(44283),o=n(74093);t.With=({data:e,children:t})=>{const n=(0,l.useFacetMap)((e=>null!=e),[],[e]),i=(0,r.useFacetUnwrap)(n),c=(0,a.useFacetMemo)((e=>null!=e?e:o.NO_VALUE),[],[e]);return!0===i?t(c):null}},12493:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(83820),t),r(n(92885),t),r(n(60725),t)},41024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOptionalValueEqualityCheck=t.createObjectWithKeySpecificEqualityCheck=t.createUniformArrayEqualityCheck=t.createUniformObjectEqualityCheck=t.createNullableEqualityCheck=void 0;const a=n(74093);t.createNullableEqualityCheck=e=>{const t=e();let n=a.NO_VALUE;return e=>null==e||null==n?e===n||(n=e,!1):(n=e,t(e))},t.createUniformObjectEqualityCheck=e=>()=>{const t={};let n=new Set,a=!1;return r=>{var l;let o=!0;for(const a in r)a in t||(t[a]=e()),(null===(l=t[a])||void 0===l?void 0:l.call(t,r[a]))||(o=!1),n.delete(a);if(n.size>0){for(const e of n)delete t[e];o=!1}n=new Set;for(const e in r)n.add(e);return a?o:(a=!0,!1)}},t.createUniformArrayEqualityCheck=e=>()=>{const t=[];let n=!1;return a=>{var r,l;const o=Math.max(null!==(r=null==t?void 0:t.length)&&void 0!==r?r:0,null!==(l=null==a?void 0:a.length)&&void 0!==l?l:0);let i=!0;for(let n=0;n<o;n++)void 0===t[n]&&(t[n]=e()),t[n](a[n])||(i=!1);return n?i:(n=!0,!1)}},t.createObjectWithKeySpecificEqualityCheck=e=>()=>{const t={};for(const n in e)t[n]=e[n]();const n=t;return e=>{let t=!0;for(const a in e)n[a](e[a])||(t=!1);return t}},t.createOptionalValueEqualityCheck=e=>()=>{let t=!0,n=e();return a=>null==a?!!t||(n=e(),t=!0,!1):(t=!1,n(a))}},27755:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFacetContext=void 0;const a=n(67294);t.createFacetContext=function(e){const t={get:()=>e,observe:t=>(t(e),()=>{})};return(0,a.createContext)(t)}},52868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEqualityCheck=t.nullableShallowArrayEqualityCheck=t.nullableShallowObjectArrayEqualityCheck=t.nullableShallowObjectEqualityCheck=t.shallowArrayEqualityCheck=t.shallowObjectArrayEqualityCheck=t.shallowObjectEqualityCheck=t.strictEqualityCheck=void 0;const a=n(41024),r=n(74093);t.strictEqualityCheck=()=>{let e=r.NO_VALUE;return t=>e===t||(e=t,!1)},t.shallowObjectEqualityCheck=(0,a.createUniformObjectEqualityCheck)(t.strictEqualityCheck),t.shallowObjectArrayEqualityCheck=(0,a.createUniformArrayEqualityCheck)(t.shallowObjectEqualityCheck),t.shallowArrayEqualityCheck=(0,a.createUniformArrayEqualityCheck)(t.strictEqualityCheck),t.nullableShallowObjectEqualityCheck=()=>(0,a.createNullableEqualityCheck)((0,a.createUniformObjectEqualityCheck)(t.strictEqualityCheck)),t.nullableShallowObjectArrayEqualityCheck=(0,a.createNullableEqualityCheck)((0,a.createUniformArrayEqualityCheck)(t.shallowObjectEqualityCheck)),t.nullableShallowArrayEqualityCheck=(0,a.createNullableEqualityCheck)((0,a.createUniformArrayEqualityCheck)(t.strictEqualityCheck)),t.defaultEqualityCheck=()=>{let e=r.NO_VALUE;return t=>{const n=typeof t;return!("number"!==n&&"string"!==n&&"boolean"!==n&&null!=t||t!==e&&(e=t,1))}}},90486:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFacet=void 0;const a=n(52868),r=n(74093),l=n(82358);t.createFacet=function({initialValue:e,startSubscription:t,equalityCheck:n=a.defaultEqualityCheck}){const o=new Set;let i,c=e;const s=null==n?void 0:n(),u=e=>{if(void 0!==n)if(n===a.defaultEqualityCheck){const t=typeof e;if(("number"===t||"string"===t||"boolean"===t||null==e)&&c===e)return}else if(void 0!==s&&s(e))return;(0,l.batch)((()=>{c=e;for(const e of o)e(c)}))};return{set:u,setWithCallback:e=>{const t=e(c);t===r.NO_VALUE?c=r.NO_VALUE:u(t)},get:()=>c,observe:n=>(o.add(n),c!==r.NO_VALUE&&n(c),1===o.size&&t&&(i=t(u)),()=>{o.delete(n),0===o.size&&i&&(c=e,i())})}}},27200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createReadOnlyFacet=void 0;const a=n(90486);t.createReadOnlyFacet=function(e){return(0,a.createFacet)(e)}},49095:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStaticFacet=void 0,t.createStaticFacet=function(e){return{get:()=>e,observe:t=>(t(e),()=>{})}}},46103:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(90486),t),r(n(27200),t),r(n(49095),t)},97190:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areAllDefinedValues=void 0;const a=n(83127);t.areAllDefinedValues=e=>{for(let t=0;t<e.length;t++)if(!(0,a.hasDefinedValue)(e[t]))return!1;return!0}},83127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasDefinedValue=void 0;const a=n(74093);t.hasDefinedValue=e=>null!=e&&e!==a.NO_VALUE},5900:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(97190),t),r(n(83127),t),r(n(86191),t)},86191:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiObserve=void 0;const a=n(74093);t.multiObserve=function(e,t){if(1===t.length)return t[0].observe(e);let n,r=!1;const l=[],o=t.map((()=>a.NO_VALUE));for(let i=0;i<t.length;i++)l[i]=t[i].observe((t=>{o[i]=t,r=r||o.every((e=>e!==a.NO_VALUE)),r&&(void 0!==n&&n(),n=e(...o))}));return()=>{for(let e=0;e<l.length;e++)l[e]();void 0!==n&&n()}}},47923:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(2367),t),r(n(96955),t),r(n(28488),t),r(n(44283),t),r(n(44833),t),r(n(50813),t),r(n(80551),t),r(n(66280),t),r(n(95174),t),r(n(88684),t),r(n(99751),t)},2367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetCallback=void 0;const a=n(67294),r=n(74093);t.useFacetCallback=function(e,t,n,l){(0,a.useLayoutEffect)((()=>{const e=n.map((e=>e.observe((()=>{}))));return()=>{e.forEach((e=>e()))}}),n);const o=(0,a.useCallback)(e,t),i=(0,a.useRef)(n);return i.current=n,(0,a.useCallback)(((...e)=>{const t=i.current.map((e=>e.get()));for(const e of t)if(e===r.NO_VALUE)return void 0!==l?l:r.NO_VALUE;return o(...t)(...e)}),[o,l])}},96955:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetEffect=t.createUseFacetEffect=void 0;const a=n(67294),r=n(74093),l=n(82358);t.createUseFacetEffect=e=>function(t,n,o){const i=(0,a.useCallback)(t,n);e((()=>{let e;if(1===o.length){const t=o[0].observe((t=>{void 0!==e&&e(),e=i(t)}));return()=>{t(),void 0!==e&&e()}}let t=!1;const n=[],a=o.map((()=>r.NO_VALUE)),c=()=>{t=t||a.every((e=>e!==r.NO_VALUE)),t&&(void 0!==e&&e(),e=i(...a))};return o.forEach(((e,r)=>{n[r]=e.observe((e=>{a[r]=e,t?(0,l.scheduleTask)(c):c()}))})),()=>{(0,l.cancelScheduledTask)(c),n.forEach((e=>e())),void 0!==e&&e()}}),[i,...o])},t.useFacetEffect=(0,t.createUseFacetEffect)(a.useEffect)},28488:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetLayoutEffect=void 0;const a=n(67294),r=n(96955);t.useFacetLayoutEffect=(0,r.createUseFacetEffect)(a.useLayoutEffect)},44283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetMap=void 0;const a=n(67294),r=n(52868),l=n(12914);t.useFacetMap=function(e,t,n,o=r.defaultEqualityCheck){const i=(0,a.useCallback)(e,t);return(0,a.useMemo)((()=>(0,l.mapFacetsLightweight)(n,i,o)),[i,o,...n])}},44833:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetMemo=void 0;const a=n(67294),r=n(52868),l=n(12914);t.useFacetMemo=function(e,t,n,o=r.defaultEqualityCheck){const i=(0,a.useCallback)(e,t);return(0,a.useMemo)((()=>(0,l.mapFacetsCached)(n,i,o)),[i,o,...n])}},50813:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetPropSetter=void 0;const a=n(67294),r=n(74093);t.useFacetPropSetter=function(e,t){return(0,a.useMemo)((()=>n=>{e.setWithCallback((e=>Object.assign(Object.assign({},e!==r.NO_VALUE?e:{}),{[t]:n})))}),[e,t])}},66280:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetReducer=void 0;const a=n(67294),r=n(52868),l=n(95174);t.useFacetReducer=(e,t,n=r.defaultEqualityCheck)=>{const[o,i]=(0,l.useFacetState)(t,n);return[o,(0,a.useCallback)((t=>{i((n=>e(n,t)))}),[e,i])]}},80551:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetRef=void 0;const a=n(67294),r=n(96955),l=n(74093);t.useFacetRef=function(e,t){let n=e.get();n===l.NO_VALUE&&void 0!==t&&(n=t);const o=(0,a.useRef)(n);return(0,r.useFacetEffect)((e=>{o.current=e}),[],[e]),o}},95174:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetState=void 0;const a=n(67294),r=n(52868),l=n(46103);t.useFacetState=(e,t=r.defaultEqualityCheck)=>(0,a.useMemo)((()=>{const n=(0,l.createFacet)({initialValue:e,equalityCheck:t});return[n,e=>{o(e)?n.setWithCallback(e):n.set(e)}]}),[]);const o=e=>"function"==typeof e},88684:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetUnwrap=void 0;const a=n(67294),r=n(74093),l=n(52868);t.useFacetUnwrap=function(e,t=l.defaultEqualityCheck){const[n,o]=(0,a.useState)((()=>(0,r.isFacet)(e)?{value:e.get()}:{value:e}));return(0,a.useLayoutEffect)((()=>{if((0,r.isFacet)(e)){const n=t(),a=e.get();return a!==r.NO_VALUE&&n(a),e.observe((e=>{o((a=>{const{value:o}=a;if(t===l.defaultEqualityCheck){const t=typeof o;return"number"!==t&&"string"!==t&&"boolean"!==t&&null!=e||e!==o?{value:e}:a}return o!==r.NO_VALUE&&n(e)?a:{value:e}}))}))}}),[e,t]),(0,r.isFacet)(e)?n.value:e}},99751:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetWrap=void 0;const a=n(67294),r=n(52868),l=n(46103),o=n(74093);t.useFacetWrap=function(e,t=r.defaultEqualityCheck){const n=(0,o.isFacet)(e),i=(0,a.useMemo)((()=>n?void 0:(0,l.createFacet)({initialValue:e,equalityCheck:t})),[n]);return void 0===i?e:(i.set(e),i)}},88572:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.batch=void 0,r(n(12493),t),r(n(41024),t),r(n(27755),t),r(n(52868),t),r(n(46103),t),r(n(5900),t),r(n(47923),t),r(n(12914),t),r(n(74093),t);var l=n(82358);Object.defineProperty(t,"batch",{enumerable:!0,get:function(){return l.batch}})},12914:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(43118),t)},8273:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetArrayCached=void 0;const a=n(74093),r=n(71794),l=n(46103);t.mapFacetArrayCached=function(e,t,n){const o=(0,l.createFacet)({startSubscription:(0,r.mapIntoObserveArray)(e,t,n),initialValue:a.NO_VALUE});return{get:()=>{const n=o.get();if(n!==a.NO_VALUE)return n;const r=e.map((e=>e.get()));if(!r.reduce(((e,t)=>e&&t!==a.NO_VALUE),!0))return a.NO_VALUE;const l=t(...r);return l!==a.NO_VALUE&&o.set(l),l},observe:o.observe}}},89160:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetArrayLightweight=void 0;const a=n(71794),r=n(74093);t.mapFacetArrayLightweight=function(e,t,n){return{get:()=>{const n=e.map((e=>e.get()));return n.reduce(((e,t)=>e&&t!==r.NO_VALUE),!0)?t(...n):r.NO_VALUE},observe:(0,a.mapIntoObserveArray)(e,t,n)}}},26741:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetSingleCached=void 0;const a=n(74093),r=n(78781),l=n(46103);t.mapFacetSingleCached=function(e,t,n){const o=(0,l.createFacet)({startSubscription:(0,r.mapIntoObserveSingle)(e,t,n),initialValue:a.NO_VALUE});return{get:()=>{const n=o.get();if(n!==a.NO_VALUE)return n;const r=e.get();if(r===a.NO_VALUE)return a.NO_VALUE;const l=t(r);return l!==a.NO_VALUE&&o.set(l),l},observe:o.observe}}},14714:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetSingleLightweight=void 0;const a=n(74093),r=n(78781);t.mapFacetSingleLightweight=function(e,t,n){return{get:()=>{const n=e.get();return n===a.NO_VALUE?a.NO_VALUE:t(n)},observe:(0,r.mapIntoObserveSingle)(e,t,n)}}},43118:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetsCached=t.mapFacetsLightweight=void 0;const a=n(8273),r=n(89160),l=n(26741),o=n(14714);t.mapFacetsLightweight=function(e,t,n){return 1===e.length?(0,o.mapFacetSingleLightweight)(e[0],t,n):(0,r.mapFacetArrayLightweight)(e,t,n)},t.mapFacetsCached=function(e,t,n){return 1===e.length?(0,l.mapFacetSingleCached)(e[0],t,n):(0,a.mapFacetArrayCached)(e,t,n)}},71794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapIntoObserveArray=void 0;const a=n(82358),r=n(52868),l=n(74093);t.mapIntoObserveArray=function(e,t,n){return o=>{let i=l.NO_VALUE;const c=null==n?void 0:n(),s=e.map((()=>l.NO_VALUE));let u=!1;const d=void 0===c?()=>{if(u=u||s.every((e=>e!==l.NO_VALUE)),!u)return;const e=t(...s);e!==l.NO_VALUE&&o(e)}:n===r.defaultEqualityCheck?()=>{if(u=u||s.every((e=>e!==l.NO_VALUE)),!u)return;const e=t(...s);if(e===l.NO_VALUE)return;const n=typeof i;("number"!==n&&"string"!==n&&"boolean"!==n&&null!=i||i!==e)&&(i=e,o(e))}:()=>{if(u=u||s.every((e=>e!==l.NO_VALUE)),!u)return;const e=t(...s);e!==l.NO_VALUE&&(c(e)||o(e))},m=e.map(((e,t)=>e.observe((e=>{s[t]=e,u?(0,a.scheduleTask)(d):d()}))));return()=>{(0,a.cancelScheduledTask)(d),m.forEach((e=>e()))}}}},78781:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapIntoObserveSingle=void 0;const a=n(52868),r=n(74093);t.mapIntoObserveSingle=function(e,t,n){return void 0===n?n=>e.observe((e=>{const a=t(e);a!==r.NO_VALUE&&n(a)})):n===a.defaultEqualityCheck?n=>{let a=r.NO_VALUE;return e.observe((e=>{const l=t(e);if(l===r.NO_VALUE)return;const o=typeof a;("number"!==o&&"string"!==o&&"boolean"!==o&&null!=a||a!==l)&&(a=l,n(l))}))}:a=>{const l=n();return e.observe((e=>{const n=t(e);n!==r.NO_VALUE&&(l(n)||a(n))}))}}},82358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.batch=t.cancelScheduledTask=t.scheduleTask=void 0;let n=0,a=[];t.scheduleTask=e=>{0!==n?e.scheduled||(e.scheduled=!0,a.push(e)):e()},t.cancelScheduledTask=e=>{e.scheduled=!1},t.batch=e=>{n+=1;try{if(e(),1===n)do{const e=a;a=[];try{for(let t=0;t<e.length;t++){const n=e[t];n.scheduled&&(n.scheduled=!1,n())}}catch(t){for(let t=0;t<e.length;t++)e[t].scheduled=!1;throw a=[],t}}while(a.length>0)}finally{n-=1}}},74093:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NO_VALUE=t.isFacet=t.FACET_FACTORY=void 0,t.FACET_FACTORY=Symbol("facet-factory"),t.isFacet=e=>null!=e&&void 0!==e.observe&&void 0!==e.get,t.NO_VALUE=Symbol.for("NoValue")},1170:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PauseMountProvider=t.ImmediateMount=t.useIsPaused=t.useIsDeferring=t.DeferredMountWithCallback=t.useNotifyMountComplete=t.DeferredMount=t.DeferredMountProvider=t.InnerDeferredMountProvider=t.DeferredMountConfigProvider=void 0;const o=l(n(67294)),i=n(88572),c=(0,o.createContext)({forceImmediateMount:!1});function s({children:e,frameTimeBudget:t=16}){const[n,a]=(0,i.useFacetState)(!0),[r,l]=(0,i.useFacetState)(!1),c=(0,o.useRef)(!1),s=(0,o.useRef)([]),u=(0,o.useCallback)((e=>(l(!0),s.current.push(e),()=>{if(0===s.current.length&&!c.current)return;const t=s.current.indexOf(e);-1!==t&&s.current.splice(t,1)})),[l]);return(0,i.useFacetEffect)((e=>{if(!e&&0===s.current.length&&!c.current)return;const n=e=>{const o=s.current;r=o.length>0||c.current?window.requestAnimationFrame(n):-1;let i=0,u=e;for(;o.length>0&&u-e+i<t&&!c.current;){const e=u,t=o.shift()(!1),a=performance.now();i=a-e,u=a,"function"==typeof t&&(c.current=!0,t((()=>{c.current=!1,-1===r&&(r=window.requestAnimationFrame(n))})))}0!==o.length||c.current||(a(!1),l(!1))};let r=window.requestAnimationFrame(n);return()=>{window.cancelAnimationFrame(r)}}),[t,a,l],[r]),o.default.createElement(m.Provider,{value:n},o.default.createElement(d.Provider,{value:u},e))}t.DeferredMountConfigProvider=function({config:e,children:t}){return o.default.createElement(c.Provider,{value:e},t)},t.InnerDeferredMountProvider=s,t.DeferredMountProvider=function(e){return(0,o.useContext)(c).forceImmediateMount?o.default.createElement(o.default.Fragment,null,e.children):o.default.createElement(s,Object.assign({},e))},t.DeferredMount=function({children:e}){const t=(0,o.useContext)(d),[n,a]=(0,o.useState)(void 0!==t);return(0,o.useEffect)((()=>{t&&t(a)}),[t]),n?null:e};const u=(0,o.createContext)((()=>{}));t.useNotifyMountComplete=()=>(0,o.useContext)(u),t.DeferredMountWithCallback=function({children:e}){const t=(0,o.useContext)(d),[n,a]=(0,o.useState)(void 0!==t),r=(0,o.useRef)(),l=(0,o.useRef)(!1),i=(0,o.useCallback)((()=>{void 0!==r.current?r.current():l.current=!0}),[]);return(0,o.useEffect)((()=>{t&&t((e=>t=>{a(e),l.current?t():r.current=t}))}),[t,i]),n?null:o.default.createElement(u.Provider,{value:i},e)},t.useIsDeferring=function(){return(0,o.useContext)(m)},t.useIsPaused=function(){return(0,o.useContext)(p)},t.ImmediateMount=function({children:e}){return e};const d=(0,o.createContext)(void 0),m=(0,o.createContext)((0,i.createFacet)({initialValue:!1})),p=(0,o.createContext)(!1);t.PauseMountProvider=function({paused:e,children:t}){const n=(0,o.useRef)(!e);return(0,o.useEffect)((()=>{e||(n.current=!0)}),[e]),o.default.createElement(p.Provider,{value:!n.current&&e},t)}},36982:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFiberRoot=void 0,t.createFiberRoot=e=>t=>e.createContainer({children:new Set,element:t,styleUnsubscribers:new Map,style:t.style},!1,!1)},70024:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPortal=void 0;const n=Symbol.for("react.portal");t.createPortal=function(e,t,a){return{$$typeof:n,key:a,children:e,containerInfo:{children:new Set,element:t,styleUnsubscribers:new Map,style:t.style}}}},47811:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createReconciler=void 0;const r=a(n(76525)),l=n(8446);t.createReconciler=()=>(0,r.default)((0,l.setupHostConfig)())},47154:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;const l=n(36982),o=n(47811);r(n(7358),t),r(n(70024),t),r(n(36982),t),r(n(47811),t),t.render=function(e,t){if(null===t)return()=>{};const n=(0,o.createReconciler)(),a=(0,l.createFiberRoot)(n)(t);return n.updateContainer(e,a,null,(()=>{})),()=>{n.updateContainer(null,a,null,(()=>{}))}}},92786:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupAttributeUpdate=t.setupViewBoxUpdate=t.setupTextUpdate=t.setupSrcUpdate=t.setupValueUpdate=t.setupRowsUpdate=t.setupMaxLengthUpdate=t.setupIdUpdate=t.setupClassUpdate=void 0;const a=n(88572);t.setupClassUpdate=(e,t)=>{const n=t;if((0,a.isFacet)(e))return e.observe((e=>{n.className=void 0!==e?e:""}));n.className=void 0!==e?e:""},t.setupIdUpdate=(e,t)=>{if((0,a.isFacet)(e))return e.observe((e=>{t.id=void 0!==e?e:""}));t.id=void 0!==e?e:""},t.setupMaxLengthUpdate=(e,t)=>{if((0,a.isFacet)(e))return e.observe((e=>{t.maxLength=void 0!==e?e:Number.MAX_SAFE_INTEGER}));t.maxLength=void 0!==e?e:Number.MAX_SAFE_INTEGER},t.setupRowsUpdate=(e,t)=>{if((0,a.isFacet)(e))return e.observe((e=>{t.rows=void 0!==e?e:Number.MAX_SAFE_INTEGER}));t.rows=void 0!==e?e:Number.MAX_SAFE_INTEGER};const r=(e,t)=>{const n=e;"number"===n.type&&isNaN(Number(t))||(void 0!==t?(n.value=t,n.setAttribute("value",t)):(n.value="",n.removeAttribute("value")))};t.setupValueUpdate=(e,t)=>{if((0,a.isFacet)(e))return e.observe((e=>r(t,e)));r(t,e)},t.setupSrcUpdate=(e,t)=>{if((0,a.isFacet)(e))return e.observe((e=>{t.src=void 0!==e?e:""}));t.src=void 0!==e?e:""},t.setupTextUpdate=(e,t)=>{if((0,a.isFacet)(e))return e.observe((e=>{t.nodeValue=void 0!==e?e:""}));t.nodeValue=void 0!==e?e:""},t.setupViewBoxUpdate=(e,t)=>{if((0,a.isFacet)(e))return e.observe((e=>{void 0!==e?t.setAttributeNS(null,"viewBox",e):t.removeAttributeNS(null,"viewBox")}));void 0!==e?t.setAttributeNS(null,"viewBox",e):t.removeAttributeNS(null,"viewBox")},t.setupAttributeUpdate=(e,t,n)=>{if((0,a.isFacet)(t))return t.observe((t=>{!0===t?n.setAttribute(e,""):!1===t?n.removeAttribute(e):void 0!==t?n.setAttribute(e,t):n.removeAttribute(e)}));!0===t?n.setAttribute(e,""):!1===t?n.removeAttribute(e):void 0!==t?n.setAttribute(e,t):n.removeAttribute(e)}},8446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupHostConfig=void 0;const a=n(7358),r=n(88572),l=n(92786);t.setupHostConfig=()=>({isPrimaryRenderer:!0,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,now:Date.now,setTimeout:"undefined"!=typeof window?window.setTimeout:(e,t)=>window.setTimeout(e,t),clearTimeout:"undefined"!=typeof window?window.clearTimeout:e=>window.clearTimeout(e),noTimeout:i,scheduleDeferredCallback:function(e,t){return window.setTimeout(e,t?t.timeout:0)},cancelDeferredCallback:function(e){return window.clearTimeout(e)},getRootHostContext:function(){return c},getChildHostContext:function(){return c},shouldSetTextContent:function(){return!1},createTextInstance:function(e){return{element:document.createTextNode(e)}},createInstance:function(e,t){var n;if("fast-text"===e){const e=document.createTextNode("");return{children:new Set,element:e,text:(0,l.setupTextUpdate)(t.text,e)}}const a=null!==(n=s[e])&&void 0!==n?n:e,o=u[e],i=void 0!==o?document.createElementNS("http://www.w3.org/2000/svg",o):document.createElement(a);let c,d;if(void 0!==t.style){c=i.style,d=new Map;const e=c,n=d,a=t.style;for(const t in a){const l=a[t];void 0!==l&&((0,r.isFacet)(l)?n.set(t,l.observe((n=>{e[t]=n}))):e[t]=l)}}return void 0!==t.dangerouslySetInnerHTML&&(i.innerHTML=t.dangerouslySetInnerHTML.__html),t.onClick&&i.addEventListener("click",t.onClick),t.onFocus&&i.addEventListener("focus",t.onFocus),t.onBlur&&i.addEventListener("blur",t.onBlur),t.onMouseDown&&i.addEventListener("mousedown",t.onMouseDown),t.onMouseMove&&i.addEventListener("mousemove",t.onMouseMove),t.onMouseUp&&i.addEventListener("mouseup",t.onMouseUp),t.onTouchStart&&i.addEventListener("touchstart",t.onTouchStart),t.onTouchMove&&i.addEventListener("touchmove",t.onTouchMove),t.onTouchEnd&&i.addEventListener("touchend",t.onTouchEnd),t.onMouseEnter&&i.addEventListener("mouseenter",t.onMouseEnter),t.onMouseLeave&&i.addEventListener("mouseleave",t.onMouseLeave),t.onKeyPress&&i.addEventListener("keypress",t.onKeyPress),t.onKeyDown&&i.addEventListener("keydown",t.onKeyDown),t.onKeyUp&&i.addEventListener("keyup",t.onKeyUp),{element:i,styleUnsubscribers:d,style:c,children:new Set,className:void 0!==t.className?(0,l.setupClassUpdate)(t.className,i):void 0,id:void 0!==t.id?(0,l.setupIdUpdate)(t.id,i):void 0,autoPlay:void 0!==t.autoPlay?(0,l.setupAttributeUpdate)("autoplay",t.autoPlay,i):void 0,loop:void 0!==t.loop?(0,l.setupAttributeUpdate)("loop",t.loop,i):void 0,href:void 0!==t.href?(0,l.setupAttributeUpdate)("href",t.href,i):void 0,target:void 0!==t.target?(0,l.setupAttributeUpdate)("target",t.target,i):void 0,disabled:void 0!==t.disabled?(0,l.setupAttributeUpdate)("disabled",t.disabled,i):void 0,maxLength:void 0!==t.maxLength?(0,l.setupMaxLengthUpdate)(t.maxLength,i):void 0,rows:void 0!==t.rows?(0,l.setupRowsUpdate)(t.rows,i):void 0,type:void 0!==t.type?(0,l.setupAttributeUpdate)("type",t.type,i):void 0,value:void 0!==t.value?(0,l.setupValueUpdate)(t.value,i):void 0,src:void 0!==t.src?(0,l.setupSrcUpdate)(t.src,i):void 0,d:void 0!==t.d?(0,l.setupAttributeUpdate)("d",t.d,i):void 0,fill:void 0!==t.fill?(0,l.setupAttributeUpdate)("fill",t.fill,i):void 0,height:void 0!==t.height?(0,l.setupAttributeUpdate)("height",t.height,i):void 0,stroke:void 0!==t.stroke?(0,l.setupAttributeUpdate)("stroke",t.stroke,i):void 0,x:void 0!==t.x?(0,l.setupAttributeUpdate)("x",t.x,i):void 0,width:void 0!==t.width?(0,l.setupAttributeUpdate)("width",t.width,i):void 0,y:void 0!==t.y?(0,l.setupAttributeUpdate)("y",t.y,i):void 0,cx:void 0!==t.cx?(0,l.setupAttributeUpdate)("cx",t.cx,i):void 0,cy:void 0!==t.cy?(0,l.setupAttributeUpdate)("cy",t.cy,i):void 0,r:void 0!==t.r?(0,l.setupAttributeUpdate)("r",t.r,i):void 0,rx:void 0!==t.rx?(0,l.setupAttributeUpdate)("rx",t.rx,i):void 0,ry:void 0!==t.ry?(0,l.setupAttributeUpdate)("ry",t.ry,i):void 0,x1:void 0!==t.x1?(0,l.setupAttributeUpdate)("x1",t.x1,i):void 0,x2:void 0!==t.x2?(0,l.setupAttributeUpdate)("x2",t.x2,i):void 0,y1:void 0!==t.y1?(0,l.setupAttributeUpdate)("y1",t.y1,i):void 0,y2:void 0!==t.y2?(0,l.setupAttributeUpdate)("y2",t.y2,i):void 0,strokeWidth:void 0!==t.strokeWidth?(0,l.setupAttributeUpdate)("stroke-width",t.strokeWidth,i):void 0,viewBox:void 0!==t.viewBox?(0,l.setupViewBoxUpdate)(t.viewBox,i):void 0,xLinkHref:void 0!==t.xLinkHref?(0,l.setupAttributeUpdate)("xlink:href",t.xLinkHref,i):void 0,fillOpacity:void 0!==t.fillOpacity?(0,l.setupAttributeUpdate)("fill-opacity",t.fillOpacity,i):void 0,strokeOpacity:void 0!==t.strokeOpacity?(0,l.setupAttributeUpdate)("stroke-opacity",t.strokeOpacity,i):void 0,strokeLinecap:void 0!==t.strokeLinecap?(0,l.setupAttributeUpdate)("stroke-linecap",t.strokeLinecap,i):void 0,strokeLinejoin:void 0!==t.strokeLinejoin?(0,l.setupAttributeUpdate)("stroke-linejoin",t.strokeLinejoin,i):void 0,points:void 0!==t.points?(0,l.setupAttributeUpdate)("points",t.points,i):void 0,offset:void 0!==t.offset?(0,l.setupAttributeUpdate)("offset",t.offset,i):void 0,stopColor:void 0!==t.stopColor?(0,l.setupAttributeUpdate)("stop-color",t.stopColor,i):void 0,stopOpacity:void 0!==t.stopOpacity?(0,l.setupAttributeUpdate)("stop-opacity",t.stopOpacity,i):void 0,fontFamily:void 0!==t.fontFamily?(0,l.setupAttributeUpdate)("font-family",t.fontFamily,i):void 0,fontSize:void 0!==t.fontSize?(0,l.setupAttributeUpdate)("font-size",t.fontSize,i):void 0,"data-droppable":void 0!==t["data-droppable"]?(0,l.setupAttributeUpdate)("data-droppable",t["data-droppable"],i):void 0,"data-narrate":void 0!==t["data-narrate"]?(0,l.setupAttributeUpdate)("data-narrate",t["data-narrate"],i):void 0,"data-narrate-as":void 0!==t["data-narrate-as"]?(0,l.setupAttributeUpdate)("data-narrate-as",t["data-narrate-as"],i):void 0,"data-narrate-before":void 0!==t["data-narrate-before"]?(0,l.setupAttributeUpdate)("data-narrate-before",t["data-narrate-before"],i):void 0,"data-narrate-after":void 0!==t["data-narrate-after"]?(0,l.setupAttributeUpdate)("data-narrate-after",t["data-narrate-after"],i):void 0,"data-testid":void 0!==t["data-testid"]?(0,l.setupAttributeUpdate)("data-testid",t["data-testid"],i):void 0,"data-x-ray":void 0!==t["data-x-ray"]?(0,l.setupAttributeUpdate)("data-x-ray",t["data-x-ray"],i):void 0,cohinline:void 0!==t.cohinline?(0,l.setupAttributeUpdate)("cohinline",t.cohinline,i):void 0}},finalizeInitialChildren:function(){return!1},prepareForCommit:function(){},resetAfterCommit:function(){},commitMount:function(){},prepareUpdate:function(){return!0},commitUpdate:function(e,t,n,a,o){var i,c,s,u,d,m,p,f,g,E,h,b,v,F,y,S,C,M,w,k,T,x,I,P,O,A,N,R,L,_,D,B,W,U,z,j,H,V,G,$,K,X,Y,q,Q,J,Z,ee,te,ne,ae;const{element:re}=e;if("fast-text"===n){const t=re;return void(o.text!==a.text&&(null===(i=e.text)||void 0===i||i.call(e),e.text=(0,l.setupTextUpdate)(o.text,t)))}const le=re;if(o.style!==a.style){const t=e.style||le.style,n=e.styleUnsubscribers||new Map;e.style=t,e.styleUnsubscribers=n;const l=t,i=a.style,s=o.style;if(void 0!==i)for(const e in i){const t=i[e];t===(null==s?void 0:s[e])&&void 0!==s||(0,r.isFacet)(t)&&(null===(c=n.get(e))||void 0===c||c())}if(void 0!==s)for(const e in s){const t=null==i?void 0:i[e],a=s[e];t===a&&void 0!==i||((0,r.isFacet)(a)?n.set(e,a.observe((t=>{l[e]=t}))):l[e]=a)}}o.dangerouslySetInnerHTML!==a.dangerouslySetInnerHTML&&(void 0!==o.dangerouslySetInnerHTML?le.innerHTML=o.dangerouslySetInnerHTML.__html:le.innerHTML=""),o.autoPlay!==a.autoPlay&&(null===(s=e.autoPlay)||void 0===s||s.call(e),void 0===o.autoPlay?le.removeAttribute("autoplay"):e.autoPlay=(0,l.setupAttributeUpdate)("autoplay",o.autoPlay,le)),o.className!==a.className&&(null===(u=e.className)||void 0===u||u.call(e),void 0===o.className?le.className="":e.className=(0,l.setupClassUpdate)(o.className,le)),o.d!==a.d&&(null===(d=e.d)||void 0===d||d.call(e),void 0===o.d?le.removeAttribute("d"):e.d=(0,l.setupAttributeUpdate)("d",o.d,le)),o["data-droppable"]!==a["data-droppable"]&&(null===(m=e["data-droppable"])||void 0===m||m.call(e),void 0===o["data-droppable"]?le.removeAttribute("data-droppable"):e["data-droppable"]=(0,l.setupAttributeUpdate)("data-droppable",o["data-droppable"],le)),o["data-narrate"]!==a["data-narrate"]&&(null===(p=e["data-narrate"])||void 0===p||p.call(e),void 0===o["data-narrate"]?le.removeAttribute("data-narrate"):e["data-narrate"]=(0,l.setupAttributeUpdate)("data-narrate",o["data-narrate"],le)),o["data-narrate-as"]!==a["data-narrate-as"]&&(null===(f=e["data-narrate-as"])||void 0===f||f.call(e),void 0===o["data-narrate-as"]?le.removeAttribute("data-narrate-as"):e["data-narrate-as"]=(0,l.setupAttributeUpdate)("data-narrate-as",o["data-narrate-as"],le)),o["data-narrate-after"]!==a["data-narrate-after"]&&(null===(g=e["data-narrate-after"])||void 0===g||g.call(e),void 0===o["data-narrate-after"]?le.removeAttribute("data-narrate-after"):e["data-narrate-after"]=(0,l.setupAttributeUpdate)("data-narrate-after",o["data-narrate-after"],le)),o["data-narrate-before"]!==a["data-narrate-before"]&&(null===(E=e["data-narrate-before"])||void 0===E||E.call(e),void 0===o["data-narrate-before"]?le.removeAttribute("data-narrate-before"):e["data-narrate-before"]=(0,l.setupAttributeUpdate)("data-narrate-before",o["data-narrate-before"],le)),o["data-testid"]!==a["data-testid"]&&(null===(h=e["data-testid"])||void 0===h||h.call(e),void 0===o["data-testid"]?le.removeAttribute("data-testid"):e["data-testid"]=(0,l.setupAttributeUpdate)("data-testid",o["data-testid"],le)),o["data-x-ray"]!==a["data-x-ray"]&&(null===(b=e["data-x-ray"])||void 0===b||b.call(e),void 0===o["data-x-ray"]?le.removeAttribute("data-x-ray"):e["data-x-ray"]=(0,l.setupAttributeUpdate)("data-x-ray",o["data-x-ray"],le)),o.fill!==a.fill&&(null===(v=e.fill)||void 0===v||v.call(e),void 0===o.fill?le.removeAttribute("fill"):e.fill=(0,l.setupAttributeUpdate)("fill",o.fill,le)),o.id!==a.id&&(null===(F=e.id)||void 0===F||F.call(e),void 0===o.id?le.id="":e.id=(0,l.setupIdUpdate)(o.id,le)),o.loop!==a.loop&&(null===(y=e.loop)||void 0===y||y.call(e),void 0===o.loop?le.removeAttribute("loop"):e.loop=(0,l.setupAttributeUpdate)("loop",o.loop,le)),o.href!==a.href&&(null===(S=e.href)||void 0===S||S.call(e),void 0===o.href?le.removeAttribute("href"):e.href=(0,l.setupAttributeUpdate)("href",o.href,le)),o.target!==a.target&&(null===(C=e.target)||void 0===C||C.call(e),void 0===o.target?le.removeAttribute("target"):e.target=(0,l.setupAttributeUpdate)("target",o.target,le)),o.disabled!==a.disabled&&(null===(M=e.disabled)||void 0===M||M.call(e),void 0===o.disabled?le.removeAttribute("disabled"):e.disabled=(0,l.setupAttributeUpdate)("disabled",o.disabled,le)),o.height!==a.height&&(null===(w=e.height)||void 0===w||w.call(e),void 0===o.height?le.removeAttribute("height"):e.height=(0,l.setupAttributeUpdate)("height",o.height,le)),o.maxLength!==a.maxLength&&(null===(k=e.maxLength)||void 0===k||k.call(e),void 0===o.maxLength?le.removeAttribute("maxlength"):e.maxLength=(0,l.setupMaxLengthUpdate)(o.maxLength,le)),o.rows!==a.rows&&(null===(T=e.rows)||void 0===T||T.call(e),void 0===o.rows?le.removeAttribute("rows"):e.rows=(0,l.setupRowsUpdate)(o.rows,le)),o.stroke!==a.stroke&&(null===(x=e.stroke)||void 0===x||x.call(e),void 0===o.stroke?le.removeAttribute("stroke"):e.stroke=(0,l.setupAttributeUpdate)("stroke",o.stroke,le)),o.type!==a.type&&(null===(I=e.type)||void 0===I||I.call(e),void 0===o.type?le.removeAttribute("type"):e.type=(0,l.setupAttributeUpdate)("type",o.type,le)),o.value!==a.value&&(null===(P=e.value)||void 0===P||P.call(e),void 0===o.value?le.removeAttribute("value"):e.value=(0,l.setupValueUpdate)(o.value,le)),o.x!==a.x&&(null===(O=e.x)||void 0===O||O.call(e),void 0===o.x?le.removeAttribute("x"):e.x=(0,l.setupAttributeUpdate)("x",o.x,le)),o.width!==a.width&&(null===(A=e.width)||void 0===A||A.call(e),void 0===o.width?le.removeAttribute("width"):e.width=(0,l.setupAttributeUpdate)("width",o.width,le)),o.y!==a.y&&(null===(N=e.y)||void 0===N||N.call(e),void 0===o.y?le.removeAttribute("y"):e.y=(0,l.setupAttributeUpdate)("y",o.y,le)),o.cx!==a.cx&&(null===(R=e.cx)||void 0===R||R.call(e),void 0===o.cx?le.removeAttribute("cx"):e.cx=(0,l.setupAttributeUpdate)("cx",o.cx,le)),o.r!==a.r&&(null===(L=e.r)||void 0===L||L.call(e),void 0===o.r?le.removeAttribute("r"):e.r=(0,l.setupAttributeUpdate)("r",o.r,le)),o.cy!==a.cy&&(null===(_=e.cy)||void 0===_||_.call(e),void 0===o.cy?le.removeAttribute("cy"):e.cy=(0,l.setupAttributeUpdate)("cy",o.cy,le)),o.rx!==a.rx&&(null===(D=e.rx)||void 0===D||D.call(e),void 0===o.rx?le.removeAttribute("rx"):e.rx=(0,l.setupAttributeUpdate)("rx",o.rx,le)),o.ry!==a.ry&&(null===(B=e.ry)||void 0===B||B.call(e),void 0===o.ry?le.removeAttribute("ry"):e.ry=(0,l.setupAttributeUpdate)("ry",o.ry,le)),o.x1!==a.x1&&(null===(W=e.x1)||void 0===W||W.call(e),void 0===o.x1?le.removeAttribute("x1"):e.x1=(0,l.setupAttributeUpdate)("x1",o.x1,le)),o.x2!==a.x2&&(null===(U=e.x2)||void 0===U||U.call(e),void 0===o.x2?le.removeAttribute("x2"):e.x2=(0,l.setupAttributeUpdate)("x2",o.x2,le)),o.y1!==a.y1&&(null===(z=e.y1)||void 0===z||z.call(e),void 0===o.y1?le.removeAttribute("y1"):e.y1=(0,l.setupAttributeUpdate)("y1",o.y1,le)),o.y2!==a.y2&&(null===(j=e.y2)||void 0===j||j.call(e),void 0===o.y2?le.removeAttribute("y2"):e.y2=(0,l.setupAttributeUpdate)("y2",o.y2,le)),o.strokeWidth!==a.strokeWidth&&(null===(H=e.strokeWidth)||void 0===H||H.call(e),void 0===o.strokeWidth?le.removeAttribute("strokeWidth"):e.strokeWidth=(0,l.setupAttributeUpdate)("stroke-width",o.strokeWidth,le)),o.viewBox!==a.viewBox&&(null===(V=e.viewBox)||void 0===V||V.call(e),void 0===o.viewBox?le.removeAttribute("viewBox"):e.viewBox=(0,l.setupViewBoxUpdate)(o.viewBox,le)),o.xLinkHref!==a.xLinkHref&&(null===(G=e.xLinkHref)||void 0===G||G.call(e),void 0===o.xLinkHref?le.removeAttribute("xlink:href"):e.xLinkHref=(0,l.setupAttributeUpdate)("xlink:href",o.xLinkHref,le)),o.fillOpacity!==a.fillOpacity&&(null===($=e.fillOpacity)||void 0===$||$.call(e),void 0===o.fillOpacity?le.removeAttribute("fill-opacity"):e.fillOpacity=(0,l.setupAttributeUpdate)("fill-opacity",o.fillOpacity,le)),o.strokeOpacity!==a.strokeOpacity&&(null===(K=e.strokeOpacity)||void 0===K||K.call(e),void 0===o.strokeOpacity?le.removeAttribute("stroke-opacity"):e.strokeOpacity=(0,l.setupAttributeUpdate)("stroke-opacity",o.strokeOpacity,le)),o.strokeLinecap!==a.strokeLinecap&&(null===(X=e.strokeLinecap)||void 0===X||X.call(e),void 0===o.strokeLinecap?le.removeAttribute("stroke-linecap"):e.strokeLinecap=(0,l.setupAttributeUpdate)("stroke-linecap",o.strokeLinecap,le)),o.strokeLinejoin!==a.strokeLinejoin&&(null===(Y=e.strokeLinejoin)||void 0===Y||Y.call(e),void 0===o.strokeLinejoin?le.removeAttribute("stroke-linejoin"):e.strokeLinejoin=(0,l.setupAttributeUpdate)("stroke-linejoin",o.strokeLinejoin,le)),o.points!==a.points&&(null===(q=e.points)||void 0===q||q.call(e),void 0===o.points?le.removeAttribute("points"):e.points=(0,l.setupAttributeUpdate)("points",o.points,le)),o.offset!==a.offset&&(null===(Q=e.offset)||void 0===Q||Q.call(e),void 0===o.offset?le.removeAttribute("offset"):e.offset=(0,l.setupAttributeUpdate)("offset",o.offset,le)),o.stopColor!==a.stopColor&&(null===(J=e.stopColor)||void 0===J||J.call(e),void 0===o.stopColor?le.removeAttribute("stop-color"):e.stopColor=(0,l.setupAttributeUpdate)("stop-color",o.stopColor,le)),o.stopOpacity!==a.stopOpacity&&(null===(Z=e.stopOpacity)||void 0===Z||Z.call(e),void 0===o.stopOpacity?le.removeAttribute("stop-opacity"):e.stopOpacity=(0,l.setupAttributeUpdate)("stop-opacity",o.stopOpacity,le)),o.fontFamily!==a.fontFamily&&(null===(ee=e.fontFamily)||void 0===ee||ee.call(e),void 0===o.fontFamily?le.removeAttribute("font-family"):e.fontFamily=(0,l.setupAttributeUpdate)("font-family",o.fontFamily,le)),o.fontSize!==a.fontSize&&(null===(te=e.fontSize)||void 0===te||te.call(e),void 0===o.fontSize?le.removeAttribute("font-size"):e.fontSize=(0,l.setupAttributeUpdate)("font-size",o.fontSize,le)),o.src!==a.src&&(null===(ne=e.src)||void 0===ne||ne.call(e),void 0===o.src?le.removeAttribute("src"):e.src=(0,l.setupSrcUpdate)(o.src,le)),o.cohinline!==a.cohinline&&(null===(ae=e.cohinline)||void 0===ae||ae.call(e),void 0===o.cohinline?le.removeAttribute("cohinline"):e.cohinline=(0,l.setupAttributeUpdate)("cohinline",o.cohinline,le)),o.onClick!==a.onClick&&(a.onClick&&le.removeEventListener("click",a.onClick),o.onClick&&le.addEventListener("click",o.onClick)),o.onFocus!==a.onFocus&&(a.onFocus&&le.removeEventListener("focus",a.onFocus),o.onFocus&&le.addEventListener("focus",o.onFocus)),o.onBlur!==a.onBlur&&(a.onBlur&&le.removeEventListener("blur",a.onBlur),o.onBlur&&le.addEventListener("blur",o.onBlur)),o.onMouseDown!==a.onMouseDown&&(a.onMouseDown&&le.removeEventListener("mousedown",a.onMouseDown),o.onMouseDown&&le.addEventListener("mousedown",o.onMouseDown)),o.onMouseMove!==a.onMouseMove&&(a.onMouseMove&&le.removeEventListener("mousemove",a.onMouseMove),o.onMouseMove&&le.addEventListener("mousemove",o.onMouseMove)),o.onMouseEnter!==a.onMouseEnter&&(a.onMouseEnter&&le.removeEventListener("mouseenter",a.onMouseEnter),o.onMouseEnter&&le.addEventListener("mouseenter",o.onMouseEnter)),o.onMouseLeave!==a.onMouseLeave&&(a.onMouseLeave&&le.removeEventListener("mouseleave",a.onMouseLeave),o.onMouseLeave&&le.addEventListener("mouseleave",o.onMouseLeave)),o.onMouseUp!==a.onMouseUp&&(a.onMouseUp&&le.removeEventListener("mouseup",a.onMouseUp),o.onMouseUp&&le.addEventListener("mouseup",o.onMouseUp)),o.onTouchStart!==a.onTouchStart&&(a.onTouchStart&&le.removeEventListener("touchstart",a.onTouchStart),o.onTouchStart&&le.addEventListener("touchstart",o.onTouchStart)),o.onTouchMove!==a.onTouchMove&&(a.onTouchMove&&le.removeEventListener("touchmove",a.onTouchMove),o.onTouchMove&&le.addEventListener("touchmove",o.onTouchMove)),o.onTouchEnd!==a.onTouchEnd&&(a.onTouchEnd&&le.removeEventListener("touchend",a.onTouchEnd),o.onTouchEnd&&le.addEventListener("touchend",o.onTouchEnd)),o.onTouchMove!==a.onTouchMove&&(a.onTouchMove&&le.removeEventListener("touchmove",a.onTouchMove),o.onTouchMove&&le.addEventListener("touchmove",o.onTouchMove)),o.onTouchEnd!==a.onTouchEnd&&(a.onTouchEnd&&le.removeEventListener("touchend",a.onTouchEnd),o.onTouchEnd&&le.addEventListener("touchend",o.onTouchEnd)),o.onKeyPress!==a.onKeyPress&&(a.onKeyPress&&le.removeEventListener("keypress",a.onKeyPress),o.onKeyPress&&le.addEventListener("keypress",o.onKeyPress)),o.onKeyDown!==a.onKeyDown&&(a.onKeyDown&&le.removeEventListener("keydown",a.onKeyDown),o.onKeyDown&&le.addEventListener("keydown",o.onKeyDown)),o.onKeyUp!==a.onKeyUp&&(a.onKeyUp&&le.removeEventListener("keyup",a.onKeyUp),o.onKeyUp&&le.addEventListener("keyup",o.onKeyUp))},commitTextUpdate:function(e,t,n){e.element.nodeValue=n},appendInitialChild:function(e,t){(0,a.isElementContainer)(t)&&e.children.add(t),e.element.appendChild(t.element)},appendChildToContainer:function(e,t){(0,a.isElementContainer)(t)&&e.children.add(t),e.element.appendChild(t.element)},appendChild:function(e,t){(0,a.isElementContainer)(t)&&e.children.add(t),e.element.appendChild(t.element)},insertBefore:function(e,t,n){(0,a.isElementContainer)(t)&&e.children.add(t),e.element.insertBefore(t.element,n.element)},removeChild:function(e,t){(0,a.isElementContainer)(t)&&o(e,t),e.element.removeChild(t.element)},insertInContainerBefore:function(e,t,n){(0,a.isElementContainer)(t)&&e.children.add(t),e.element.insertBefore(t.element,n.element)},removeChildFromContainer:function(e,t){(0,a.isElementContainer)(t)&&o(e,t),e.element.removeChild(t.element)},resetTextContent:function(e){e.element.textContent=""},shouldDeprioritizeSubtree:function(){return!1},getPublicInstance:function(e){return e.element}});const o=(e,t)=>{var n,a,r,l,i,c,s,u,d,m,p,f,g,E,h,b,v,F,y,S,C,M,w,k,T,x,I,P,O,A,N,R,L,_,D,B,W,U,z,j,H,V,G,$,K,X,Y,q,Q,J,Z,ee;e.children.delete(t),null===(n=t.styleUnsubscribers)||void 0===n||n.forEach((e=>e())),null===(a=t.styleUnsubscribers)||void 0===a||a.clear(),t.children.forEach(o),t.children.clear(),null===(r=t.className)||void 0===r||r.call(t),null===(l=t.cx)||void 0===l||l.call(t),null===(i=t.cy)||void 0===i||i.call(t),null===(c=t.d)||void 0===c||c.call(t),null===(s=t["data-droppable"])||void 0===s||s.call(t),null===(u=t["data-narrate"])||void 0===u||u.call(t),null===(d=t["data-narrate-as"])||void 0===d||d.call(t),null===(m=t["data-narrate-after"])||void 0===m||m.call(t),null===(p=t["data-narrate-before"])||void 0===p||p.call(t),null===(f=t["data-testid"])||void 0===f||f.call(t),null===(g=t["data-x-ray"])||void 0===g||g.call(t),null===(E=t.fill)||void 0===E||E.call(t),null===(h=t.id)||void 0===h||h.call(t),null===(b=t.src)||void 0===b||b.call(t),null===(v=t.height)||void 0===v||v.call(t),null===(F=t.href)||void 0===F||F.call(t),null===(y=t.target)||void 0===y||y.call(t),null===(S=t.autoPlay)||void 0===S||S.call(t),null===(C=t.loop)||void 0===C||C.call(t),null===(M=t.disabled)||void 0===M||M.call(t),null===(w=t.maxLength)||void 0===w||w.call(t),null===(k=t.r)||void 0===k||k.call(t),null===(T=t.rx)||void 0===T||T.call(t),null===(x=t.ry)||void 0===x||x.call(t),null===(I=t.rows)||void 0===I||I.call(t),null===(P=t.stroke)||void 0===P||P.call(t),null===(O=t.strokeWidth)||void 0===O||O.call(t),null===(A=t.type)||void 0===A||A.call(t),null===(N=t.text)||void 0===N||N.call(t),null===(R=t.value)||void 0===R||R.call(t),null===(L=t.x)||void 0===L||L.call(t),null===(_=t.x1)||void 0===_||_.call(t),null===(D=t.x2)||void 0===D||D.call(t),null===(B=t.width)||void 0===B||B.call(t),null===(W=t.y)||void 0===W||W.call(t),null===(U=t.y1)||void 0===U||U.call(t),null===(z=t.y2)||void 0===z||z.call(t),null===(j=t.viewBox)||void 0===j||j.call(t),null===(H=t.xLinkHref)||void 0===H||H.call(t),null===(V=t.fillOpacity)||void 0===V||V.call(t),null===(G=t.strokeOpacity)||void 0===G||G.call(t),null===($=t.strokeLinecap)||void 0===$||$.call(t),null===(K=t.strokeLinejoin)||void 0===K||K.call(t),null===(X=t.points)||void 0===X||X.call(t),null===(Y=t.offset)||void 0===Y||Y.call(t),null===(q=t.stopColor)||void 0===q||q.call(t),null===(Q=t.stopOpacity)||void 0===Q||Q.call(t),null===(J=t.fontFamily)||void 0===J||J.call(t),null===(Z=t.fontSize)||void 0===Z||Z.call(t),null===(ee=t.cohinline)||void 0===ee||ee.call(t)},i=()=>{},c={},s={"fast-a":"a","fast-div":"div","fast-p":"p","fast-img":"img","fast-input":"input","fast-span":"span","fast-textarea":"textarea","fast-text":"span",a:"a",div:"div",p:"p",img:"img",textarea:"textarea",input:"input",style:"style"},u={"fast-circle":"circle","fast-ellipse":"ellipse","fast-line":"line","fast-path":"path","fast-rect":"rect","fast-svg":"svg","fast-foreignObject":"foreignObject","fast-use":"use","fast-polyline":"polyline","fast-polygon":"polygon","fast-linearGradient":"linearGradient","fast-radialGradient":"radialGradient","fast-stop":"stop","fast-svg-text":"text","fast-pattern":"pattern",circle:"circle",ellipse:"ellipse",line:"line",path:"path",rect:"rect",svg:"svg",foreignObject:"foreignObject",symbol:"symbol",g:"g",use:"use",defs:"defs",polyline:"polyline",polygon:"polygon",linearGradient:"linearGradient",radialGradient:"radialGradient",stop:"stop",text:"text",pattern:"pattern"}},7358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isElementContainer=void 0,t.isElementContainer=e=>"children"in e},3130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSharedFacet=t.SharedFacetDriverProvider=t.sharedFacetDriverContext=void 0;const a=n(67294);t.sharedFacetDriverContext=(0,a.createContext)((()=>()=>{})),t.SharedFacetDriverProvider=t.sharedFacetDriverContext.Provider,t.useSharedFacet=e=>e((0,a.useContext)(t.sharedFacetDriverContext))},30401:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(3130),t),r(n(37350),t),r(n(51090),t),r(n(15685),t),r(n(60815),t),r(n(20206),t)},5811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=new Map;return n=>{const a=t.get(n);if(a)return a;const r=e(n);return t.set(n,r),r}}},37350:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedDynamicSelector=void 0;const r=a(n(5811)),l=n(88572),o=n(15685);t.sharedDynamicSelector=function(e,t=l.defaultEqualityCheck){return(0,r.default)((n=>{const[a,i]=e(n),c=(0,r.default)((e=>o.sharedSelector(a,i,t)(e)));return c.factory=l.FACET_FACTORY,c}))}},51090:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedFacet=void 0;const r=a(n(5811)),l=n(88572);t.sharedFacet=function(e,t=l.NO_VALUE){const n=(0,r.default)((n=>(0,l.createFacet)({initialValue:t,startSubscription:t=>n(e,t)})));return n.factory=l.FACET_FACTORY,n}},15685:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedSelector=void 0;const r=a(n(5811)),l=n(88572);t.sharedSelector=function(e,t,n=l.defaultEqualityCheck){const a=(0,r.default)((a=>(0,l.mapFacetsCached)(t.map((e=>e(a))),e,n)));return a.factory=l.FACET_FACTORY,a}},60815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},20206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSharedFacetPropSetter=void 0;const a=n(88572),r=n(3130);t.useSharedFacetPropSetter=function(e,t){return(0,a.useFacetCallback)((e=>n=>{e[t]=n}),[t],[(0,r.useSharedFacet)(e)])}},34753:(e,t,n)=>{window.__globalDevCoreUISoundDefinitions=window.__globalDevCoreUISoundDefinitions||{},Object.assign(window.__globalDevCoreUISoundDefinitions,{"tokens.vanilla.release":{category:"ui",sounds:[{name:n(99373)}]},"tokens.vanilla.snes_pop":{category:"ui",sounds:[{name:n(43464)}]},"tokens.vanilla.modal_hide":{category:"ui",sounds:[{name:n(60197)}]}})},47455:()=>{},52910:(e,t,n)=>{"use strict";n.d(t,{facet:()=>s,shallowObjectEqualityCheck:()=>c,strictShallowObjectEqualityCheck:()=>i});var a=n(88572);n.o(a,"DeferredMount")&&n.d(t,{DeferredMount:function(){return a.DeferredMount}}),n.o(a,"DeferredMountProvider")&&n.d(t,{DeferredMountProvider:function(){return a.DeferredMountProvider}}),n.o(a,"DeferredMountWithCallback")&&n.d(t,{DeferredMountWithCallback:function(){return a.DeferredMountWithCallback}}),n.o(a,"Map")&&n.d(t,{Map:function(){return a.Map}}),n.o(a,"Mount")&&n.d(t,{Mount:function(){return a.Mount}}),n.o(a,"NO_VALUE")&&n.d(t,{NO_VALUE:function(){return a.NO_VALUE}}),n.o(a,"PauseMountProvider")&&n.d(t,{PauseMountProvider:function(){return a.PauseMountProvider}}),n.o(a,"SharedFacetDriverProvider")&&n.d(t,{SharedFacetDriverProvider:function(){return a.SharedFacetDriverProvider}}),n.o(a,"With")&&n.d(t,{With:function(){return a.With}}),n.o(a,"createFacet")&&n.d(t,{createFacet:function(){return a.createFacet}}),n.o(a,"createFacetContext")&&n.d(t,{createFacetContext:function(){return a.createFacetContext}}),n.o(a,"createPortal")&&n.d(t,{createPortal:function(){return a.createPortal}}),n.o(a,"createStaticFacet")&&n.d(t,{createStaticFacet:function(){return a.createStaticFacet}}),n.o(a,"createUniformArrayEqualityCheck")&&n.d(t,{createUniformArrayEqualityCheck:function(){return a.createUniformArrayEqualityCheck}}),n.o(a,"isFacet")&&n.d(t,{isFacet:function(){return a.isFacet}}),n.o(a,"multiObserve")&&n.d(t,{multiObserve:function(){return a.multiObserve}}),n.o(a,"render")&&n.d(t,{render:function(){return a.render}}),n.o(a,"sharedDynamicSelector")&&n.d(t,{sharedDynamicSelector:function(){return a.sharedDynamicSelector}}),n.o(a,"sharedFacet")&&n.d(t,{sharedFacet:function(){return a.sharedFacet}}),n.o(a,"sharedSelector")&&n.d(t,{sharedSelector:function(){return a.sharedSelector}}),n.o(a,"useFacetCallback")&&n.d(t,{useFacetCallback:function(){return a.useFacetCallback}}),n.o(a,"useFacetEffect")&&n.d(t,{useFacetEffect:function(){return a.useFacetEffect}}),n.o(a,"useFacetLayoutEffect")&&n.d(t,{useFacetLayoutEffect:function(){return a.useFacetLayoutEffect}}),n.o(a,"useFacetMap")&&n.d(t,{useFacetMap:function(){return a.useFacetMap}}),n.o(a,"useFacetMemo")&&n.d(t,{useFacetMemo:function(){return a.useFacetMemo}}),n.o(a,"useFacetRef")&&n.d(t,{useFacetRef:function(){return a.useFacetRef}}),n.o(a,"useFacetState")&&n.d(t,{useFacetState:function(){return a.useFacetState}}),n.o(a,"useFacetUnwrap")&&n.d(t,{useFacetUnwrap:function(){return a.useFacetUnwrap}}),n.o(a,"useFacetWrap")&&n.d(t,{useFacetWrap:function(){return a.useFacetWrap}}),n.o(a,"useIsDeferring")&&n.d(t,{useIsDeferring:function(){return a.useIsDeferring}}),n.o(a,"useIsPaused")&&n.d(t,{useIsPaused:function(){return a.useIsPaused}}),n.o(a,"useNotifyMountComplete")&&n.d(t,{useNotifyMountComplete:function(){return a.useNotifyMountComplete}}),n.o(a,"useSharedFacet")&&n.d(t,{useSharedFacet:function(){return a.useSharedFacet}});var r=n(47154);n.o(r,"DeferredMount")&&n.d(t,{DeferredMount:function(){return r.DeferredMount}}),n.o(r,"DeferredMountProvider")&&n.d(t,{DeferredMountProvider:function(){return r.DeferredMountProvider}}),n.o(r,"DeferredMountWithCallback")&&n.d(t,{DeferredMountWithCallback:function(){return r.DeferredMountWithCallback}}),n.o(r,"Map")&&n.d(t,{Map:function(){return r.Map}}),n.o(r,"Mount")&&n.d(t,{Mount:function(){return r.Mount}}),n.o(r,"NO_VALUE")&&n.d(t,{NO_VALUE:function(){return r.NO_VALUE}}),n.o(r,"PauseMountProvider")&&n.d(t,{PauseMountProvider:function(){return r.PauseMountProvider}}),n.o(r,"SharedFacetDriverProvider")&&n.d(t,{SharedFacetDriverProvider:function(){return r.SharedFacetDriverProvider}}),n.o(r,"With")&&n.d(t,{With:function(){return r.With}}),n.o(r,"createFacet")&&n.d(t,{createFacet:function(){return r.createFacet}}),n.o(r,"createFacetContext")&&n.d(t,{createFacetContext:function(){return r.createFacetContext}}),n.o(r,"createPortal")&&n.d(t,{createPortal:function(){return r.createPortal}}),n.o(r,"createStaticFacet")&&n.d(t,{createStaticFacet:function(){return r.createStaticFacet}}),n.o(r,"createUniformArrayEqualityCheck")&&n.d(t,{createUniformArrayEqualityCheck:function(){return r.createUniformArrayEqualityCheck}}),n.o(r,"isFacet")&&n.d(t,{isFacet:function(){return r.isFacet}}),n.o(r,"multiObserve")&&n.d(t,{multiObserve:function(){return r.multiObserve}}),n.o(r,"render")&&n.d(t,{render:function(){return r.render}}),n.o(r,"sharedDynamicSelector")&&n.d(t,{sharedDynamicSelector:function(){return r.sharedDynamicSelector}}),n.o(r,"sharedFacet")&&n.d(t,{sharedFacet:function(){return r.sharedFacet}}),n.o(r,"sharedSelector")&&n.d(t,{sharedSelector:function(){return r.sharedSelector}}),n.o(r,"useFacetCallback")&&n.d(t,{useFacetCallback:function(){return r.useFacetCallback}}),n.o(r,"useFacetEffect")&&n.d(t,{useFacetEffect:function(){return r.useFacetEffect}}),n.o(r,"useFacetLayoutEffect")&&n.d(t,{useFacetLayoutEffect:function(){return r.useFacetLayoutEffect}}),n.o(r,"useFacetMap")&&n.d(t,{useFacetMap:function(){return r.useFacetMap}}),n.o(r,"useFacetMemo")&&n.d(t,{useFacetMemo:function(){return r.useFacetMemo}}),n.o(r,"useFacetRef")&&n.d(t,{useFacetRef:function(){return r.useFacetRef}}),n.o(r,"useFacetState")&&n.d(t,{useFacetState:function(){return r.useFacetState}}),n.o(r,"useFacetUnwrap")&&n.d(t,{useFacetUnwrap:function(){return r.useFacetUnwrap}}),n.o(r,"useFacetWrap")&&n.d(t,{useFacetWrap:function(){return r.useFacetWrap}}),n.o(r,"useIsDeferring")&&n.d(t,{useIsDeferring:function(){return r.useIsDeferring}}),n.o(r,"useIsPaused")&&n.d(t,{useIsPaused:function(){return r.useIsPaused}}),n.o(r,"useNotifyMountComplete")&&n.d(t,{useNotifyMountComplete:function(){return r.useNotifyMountComplete}}),n.o(r,"useSharedFacet")&&n.d(t,{useSharedFacet:function(){return r.useSharedFacet}});var l=n(30401);n.o(l,"DeferredMount")&&n.d(t,{DeferredMount:function(){return l.DeferredMount}}),n.o(l,"DeferredMountProvider")&&n.d(t,{DeferredMountProvider:function(){return l.DeferredMountProvider}}),n.o(l,"DeferredMountWithCallback")&&n.d(t,{DeferredMountWithCallback:function(){return l.DeferredMountWithCallback}}),n.o(l,"Map")&&n.d(t,{Map:function(){return l.Map}}),n.o(l,"Mount")&&n.d(t,{Mount:function(){return l.Mount}}),n.o(l,"NO_VALUE")&&n.d(t,{NO_VALUE:function(){return l.NO_VALUE}}),n.o(l,"PauseMountProvider")&&n.d(t,{PauseMountProvider:function(){return l.PauseMountProvider}}),n.o(l,"SharedFacetDriverProvider")&&n.d(t,{SharedFacetDriverProvider:function(){return l.SharedFacetDriverProvider}}),n.o(l,"With")&&n.d(t,{With:function(){return l.With}}),n.o(l,"createFacet")&&n.d(t,{createFacet:function(){return l.createFacet}}),n.o(l,"createFacetContext")&&n.d(t,{createFacetContext:function(){return l.createFacetContext}}),n.o(l,"createPortal")&&n.d(t,{createPortal:function(){return l.createPortal}}),n.o(l,"createStaticFacet")&&n.d(t,{createStaticFacet:function(){return l.createStaticFacet}}),n.o(l,"createUniformArrayEqualityCheck")&&n.d(t,{createUniformArrayEqualityCheck:function(){return l.createUniformArrayEqualityCheck}}),n.o(l,"isFacet")&&n.d(t,{isFacet:function(){return l.isFacet}}),n.o(l,"multiObserve")&&n.d(t,{multiObserve:function(){return l.multiObserve}}),n.o(l,"render")&&n.d(t,{render:function(){return l.render}}),n.o(l,"sharedDynamicSelector")&&n.d(t,{sharedDynamicSelector:function(){return l.sharedDynamicSelector}}),n.o(l,"sharedFacet")&&n.d(t,{sharedFacet:function(){return l.sharedFacet}}),n.o(l,"sharedSelector")&&n.d(t,{sharedSelector:function(){return l.sharedSelector}}),n.o(l,"useFacetCallback")&&n.d(t,{useFacetCallback:function(){return l.useFacetCallback}}),n.o(l,"useFacetEffect")&&n.d(t,{useFacetEffect:function(){return l.useFacetEffect}}),n.o(l,"useFacetLayoutEffect")&&n.d(t,{useFacetLayoutEffect:function(){return l.useFacetLayoutEffect}}),n.o(l,"useFacetMap")&&n.d(t,{useFacetMap:function(){return l.useFacetMap}}),n.o(l,"useFacetMemo")&&n.d(t,{useFacetMemo:function(){return l.useFacetMemo}}),n.o(l,"useFacetRef")&&n.d(t,{useFacetRef:function(){return l.useFacetRef}}),n.o(l,"useFacetState")&&n.d(t,{useFacetState:function(){return l.useFacetState}}),n.o(l,"useFacetUnwrap")&&n.d(t,{useFacetUnwrap:function(){return l.useFacetUnwrap}}),n.o(l,"useFacetWrap")&&n.d(t,{useFacetWrap:function(){return l.useFacetWrap}}),n.o(l,"useIsDeferring")&&n.d(t,{useIsDeferring:function(){return l.useIsDeferring}}),n.o(l,"useIsPaused")&&n.d(t,{useIsPaused:function(){return l.useIsPaused}}),n.o(l,"useNotifyMountComplete")&&n.d(t,{useNotifyMountComplete:function(){return l.useNotifyMountComplete}}),n.o(l,"useSharedFacet")&&n.d(t,{useSharedFacet:function(){return l.useSharedFacet}});var o=n(1170);n.o(o,"DeferredMount")&&n.d(t,{DeferredMount:function(){return o.DeferredMount}}),n.o(o,"DeferredMountProvider")&&n.d(t,{DeferredMountProvider:function(){return o.DeferredMountProvider}}),n.o(o,"DeferredMountWithCallback")&&n.d(t,{DeferredMountWithCallback:function(){return o.DeferredMountWithCallback}}),n.o(o,"Map")&&n.d(t,{Map:function(){return o.Map}}),n.o(o,"Mount")&&n.d(t,{Mount:function(){return o.Mount}}),n.o(o,"NO_VALUE")&&n.d(t,{NO_VALUE:function(){return o.NO_VALUE}}),n.o(o,"PauseMountProvider")&&n.d(t,{PauseMountProvider:function(){return o.PauseMountProvider}}),n.o(o,"SharedFacetDriverProvider")&&n.d(t,{SharedFacetDriverProvider:function(){return o.SharedFacetDriverProvider}}),n.o(o,"With")&&n.d(t,{With:function(){return o.With}}),n.o(o,"createFacet")&&n.d(t,{createFacet:function(){return o.createFacet}}),n.o(o,"createFacetContext")&&n.d(t,{createFacetContext:function(){return o.createFacetContext}}),n.o(o,"createPortal")&&n.d(t,{createPortal:function(){return o.createPortal}}),n.o(o,"createStaticFacet")&&n.d(t,{createStaticFacet:function(){return o.createStaticFacet}}),n.o(o,"createUniformArrayEqualityCheck")&&n.d(t,{createUniformArrayEqualityCheck:function(){return o.createUniformArrayEqualityCheck}}),n.o(o,"isFacet")&&n.d(t,{isFacet:function(){return o.isFacet}}),n.o(o,"multiObserve")&&n.d(t,{multiObserve:function(){return o.multiObserve}}),n.o(o,"render")&&n.d(t,{render:function(){return o.render}}),n.o(o,"sharedDynamicSelector")&&n.d(t,{sharedDynamicSelector:function(){return o.sharedDynamicSelector}}),n.o(o,"sharedFacet")&&n.d(t,{sharedFacet:function(){return o.sharedFacet}}),n.o(o,"sharedSelector")&&n.d(t,{sharedSelector:function(){return o.sharedSelector}}),n.o(o,"useFacetCallback")&&n.d(t,{useFacetCallback:function(){return o.useFacetCallback}}),n.o(o,"useFacetEffect")&&n.d(t,{useFacetEffect:function(){return o.useFacetEffect}}),n.o(o,"useFacetLayoutEffect")&&n.d(t,{useFacetLayoutEffect:function(){return o.useFacetLayoutEffect}}),n.o(o,"useFacetMap")&&n.d(t,{useFacetMap:function(){return o.useFacetMap}}),n.o(o,"useFacetMemo")&&n.d(t,{useFacetMemo:function(){return o.useFacetMemo}}),n.o(o,"useFacetRef")&&n.d(t,{useFacetRef:function(){return o.useFacetRef}}),n.o(o,"useFacetState")&&n.d(t,{useFacetState:function(){return o.useFacetState}}),n.o(o,"useFacetUnwrap")&&n.d(t,{useFacetUnwrap:function(){return o.useFacetUnwrap}}),n.o(o,"useFacetWrap")&&n.d(t,{useFacetWrap:function(){return o.useFacetWrap}}),n.o(o,"useIsDeferring")&&n.d(t,{useIsDeferring:function(){return o.useIsDeferring}}),n.o(o,"useIsPaused")&&n.d(t,{useIsPaused:function(){return o.useIsPaused}}),n.o(o,"useNotifyMountComplete")&&n.d(t,{useNotifyMountComplete:function(){return o.useNotifyMountComplete}}),n.o(o,"useSharedFacet")&&n.d(t,{useSharedFacet:function(){return o.useSharedFacet}});const i=a.shallowObjectEqualityCheck,c=a.shallowObjectEqualityCheck,s=l.sharedFacet},73595:()=>{},94184:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var l=typeof n;if("string"===l||"number"===l)e.push(n);else if(Array.isArray(n)&&n.length){var o=r.apply(null,n);o&&e.push(o)}else if("object"===l)for(var i in n)a.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},91296:(e,t,n)=>{var a=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,o=/^0o[0-7]+$/i,i=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,s="object"==typeof self&&self&&self.Object===Object&&self,u=c||s||Function("return this")(),d=Object.prototype.toString,m=Math.max,p=Math.min,f=function(){return u.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function E(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=l.test(e);return n||o.test(e)?i(e.slice(2),n?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var a,r,l,o,i,c,s=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=a,l=r;return a=r=void 0,s=t,o=e.apply(l,n)}function v(e){return s=e,i=setTimeout(y,t),u?b(e):o}function F(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-s>=l}function y(){var e=f();if(F(e))return S(e);i=setTimeout(y,function(e){var n=t-(e-c);return d?p(n,l-(e-s)):n}(e))}function S(e){return i=void 0,h&&a?b(e):(a=r=void 0,o)}function C(){var e=f(),n=F(e);if(a=arguments,r=this,c=e,n){if(void 0===i)return v(c);if(d)return i=setTimeout(y,t),b(c)}return void 0===i&&(i=setTimeout(y,t)),o}return t=E(t)||0,g(n)&&(u=!!n.leading,l=(d="maxWait"in n)?m(E(n.maxWait)||0,t):l,h="trailing"in n?!!n.trailing:h),C.cancel=function(){void 0!==i&&clearTimeout(i),s=0,a=c=r=i=void 0},C.flush=function(){return void 0===i?o:S(f())},C}},93096:(e,t,n)=>{var a="Expected a function",r=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,c=parseInt,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=s||u||Function("return this")(),m=Object.prototype.toString,p=Math.max,f=Math.min,g=function(){return d.Date.now()};function E(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==m.call(e)}(e))return NaN;if(E(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=E(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=o.test(e);return n||i.test(e)?c(e.slice(2),n?2:8):l.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,l=!0;if("function"!=typeof e)throw new TypeError(a);return E(n)&&(r="leading"in n?!!n.leading:r,l="trailing"in n?!!n.trailing:l),function(e,t,n){var r,l,o,i,c,s,u=0,d=!1,m=!1,b=!0;if("function"!=typeof e)throw new TypeError(a);function v(t){var n=r,a=l;return r=l=void 0,u=t,i=e.apply(a,n)}function F(e){return u=e,c=setTimeout(S,t),d?v(e):i}function y(e){var n=e-s;return void 0===s||n>=t||n<0||m&&e-u>=o}function S(){var e=g();if(y(e))return C(e);c=setTimeout(S,function(e){var n=t-(e-s);return m?f(n,o-(e-u)):n}(e))}function C(e){return c=void 0,b&&r?v(e):(r=l=void 0,i)}function M(){var e=g(),n=y(e);if(r=arguments,l=this,s=e,n){if(void 0===c)return F(s);if(m)return c=setTimeout(S,t),v(s)}return void 0===c&&(c=setTimeout(S,t)),i}return t=h(t)||0,E(n)&&(d=!!n.leading,o=(m="maxWait"in n)?p(h(n.maxWait)||0,t):o,b="trailing"in n?!!n.trailing:b),M.cancel=function(){void 0!==c&&clearTimeout(c),u=0,r=s=l=c=void 0},M.flush=function(){return void 0===c?i:C(g())},M}(e,t,{leading:r,maxWait:t,trailing:l})}},78230:(e,t,n)=>{var a=n(91387).runInContext();e.exports=n(84599)(a,a)},84599:(e,t,n)=>{var a=n(68836),r=n(69306),l=Array.prototype.push;function o(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function i(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var a=Array(n);n--;)a[n]=arguments[n];var r=a[0]=t.apply(void 0,a);return e.apply(void 0,a),r}}}e.exports=function e(t,n,s,u){var d="function"==typeof n,m=n===Object(n);if(m&&(u=s,s=n,n=void 0),null==s)throw new TypeError;u||(u={});var p=!("cap"in u)||u.cap,f=!("curry"in u)||u.curry,g=!("fixed"in u)||u.fixed,E=!("immutable"in u)||u.immutable,h=!("rearg"in u)||u.rearg,b=d?s:r,v="curry"in u&&u.curry,F="fixed"in u&&u.fixed,y="rearg"in u&&u.rearg,S=d?s.runInContext():void 0,C=d?s:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},M=C.ary,w=C.assign,k=C.clone,T=C.curry,x=C.forEach,I=C.isArray,P=C.isError,O=C.isFunction,A=C.isWeakMap,N=C.keys,R=C.rearg,L=C.toInteger,_=C.toPath,D=N(a.aryMethod),B={castArray:function(e){return function(){var t=arguments[0];return I(t)?e(i(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],a=e(t,n),r=a.length;return p&&"number"==typeof n?(n=n>2?n-2:1,r&&r<=n?a:o(a,n)):a}},mixin:function(e){return function(t){var n=this;if(!O(n))return e(n,Object(t));var a=[];return x(N(t),(function(e){O(t[e])&&a.push([e,n.prototype[e]])})),e(n,Object(t)),x(a,(function(e){var t=e[1];O(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:L(t)+1;return T(e(t),n)}},rearg:function(e){return function(t,n){var a=n?n.length:0;return T(e(t,n),a)}},runInContext:function(n){return function(a){return e(t,n(a),u)}}};function W(e,t,n){if(g&&(F||!a.skipFixed[e])){var r=a.methodSpread[e],o=r&&r.start;return void 0===o?M(t,n):function(e,t){return function(){for(var n=arguments.length,a=n-1,r=Array(n);n--;)r[n]=arguments[n];var o=r[t],i=r.slice(0,t);return o&&l.apply(i,o),t!=a&&l.apply(i,r.slice(t+1)),e.apply(this,i)}}(t,o)}return t}function U(e,t,n){return h&&n>1&&(y||!a.skipRearg[e])?R(t,a.methodRearg[e]||a.aryRearg[n]):t}function z(e,t){for(var n=-1,a=(t=_(t)).length,r=a-1,l=k(Object(e)),o=l;null!=o&&++n<a;){var i=t[n],c=o[i];null==c||O(c)||P(c)||A(c)||(o[i]=k(n==r?c:Object(c))),o=o[i]}return l}function j(t,n){var r=a.aliasToReal[t]||t,l=a.remap[r]||r,o=u;return function(t){var a=d?S:C,i=d?S[l]:n,c=w(w({},o),t);return e(a,r,i,c)}}function H(e,t){return function(){var n=arguments.length;if(!n)return e();for(var a=Array(n);n--;)a[n]=arguments[n];var r=h?0:n-1;return a[r]=t(a[r]),e.apply(void 0,a)}}function V(e,t,n){var r,l=a.aliasToReal[e]||e,s=t,u=B[l];return u?s=u(t):E&&(a.mutate.array[l]?s=c(t,i):a.mutate.object[l]?s=c(t,function(e){return function(t){return e({},t)}}(t)):a.mutate.set[l]&&(s=c(t,z))),x(D,(function(e){return x(a.aryMethod[e],(function(t){if(l==t){var n=a.methodSpread[l],i=n&&n.afterRearg;return r=i?W(l,U(l,s,e),e):U(l,W(l,s,e),e),r=function(e,t,n){return v||f&&n>1?T(t,n):t}(0,r=function(e,t){if(p){var n=a.iterateeRearg[e];if(n)return function(e,t){return H(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(R(o(e,n),t),n)}))}(t,n);var r=!d&&a.iterateeAry[e];if(r)return function(e,t){return H(e,(function(e){return"function"==typeof e?o(e,t):e}))}(t,r)}return t}(l,r),e),!1}})),!r})),r||(r=s),r==t&&(r=v?T(r,1):function(){return t.apply(this,arguments)}),r.convert=j(l,t),r.placeholder=t.placeholder=n,r}if(!m)return V(n,s,b);var G=s,$=[];return x(D,(function(e){x(a.aryMethod[e],(function(e){var t=G[a.remap[e]||e];t&&$.push([e,V(e,t,G)])}))})),x(N(G),(function(e){var t=G[e];if("function"==typeof t){for(var n=$.length;n--;)if($[n][0]==e)return;t.convert=j(e,t),$.push([e,t])}})),x($,(function(e){G[e[0]]=e[1]})),G.convert=function(e){return G.runInContext.convert(e)(void 0)},G.placeholder=G,x(N(G),(function(e){x(a.realToAlias[e]||[],(function(t){G[t]=G[e]}))})),G}},68836:(e,t)=>{t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,a={};for(var r in n){var l=n[r];e.call(a,l)?a[l].push(r):a[l]=[r]}return a}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},69306:e=>{e.exports={}},91387:function(e,t,n){var a;e=n.nmd(e),function(){function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function l(e,t,n,a){for(var r=-1,l=null==e?0:e.length;++r<l;){var o=e[r];t(a,o,n(o),e)}return a}function o(e,t){for(var n=-1,a=null==e?0:e.length;++n<a&&!1!==t(e[n],n,e););return e}function i(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function c(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(!t(e[n],n,e))return!1;return!0}function s(e,t){for(var n=-1,a=null==e?0:e.length,r=0,l=[];++n<a;){var o=e[n];t(o,n,e)&&(l[r++]=o)}return l}function u(e,t){return!(null==e||!e.length)&&v(e,t,0)>-1}function d(e,t,n){for(var a=-1,r=null==e?0:e.length;++a<r;)if(n(t,e[a]))return!0;return!1}function m(e,t){for(var n=-1,a=null==e?0:e.length,r=Array(a);++n<a;)r[n]=t(e[n],n,e);return r}function p(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e}function f(e,t,n,a){var r=-1,l=null==e?0:e.length;for(a&&l&&(n=e[++r]);++r<l;)n=t(n,e[r],r,e);return n}function g(e,t,n,a){var r=null==e?0:e.length;for(a&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function E(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}function h(e,t,n){var a;return n(e,(function(e,n,r){if(t(e,n,r))return a=n,!1})),a}function b(e,t,n,a){for(var r=e.length,l=n+(a?1:-1);a?l--:++l<r;)if(t(e[l],l,e))return l;return-1}function v(e,t,n){return t==t?function(e,t,n){for(var a=n-1,r=e.length;++a<r;)if(e[a]===t)return a;return-1}(e,t,n):b(e,y,n)}function F(e,t,n,a){for(var r=n-1,l=e.length;++r<l;)if(a(e[r],t))return r;return-1}function y(e){return e!=e}function S(e,t){var n=null==e?0:e.length;return n?k(e,t)/n:ee}function C(e){return function(t){return null==t?$:t[e]}}function M(e){return function(t){return null==e?$:e[t]}}function w(e,t,n,a,r){return r(e,(function(e,r,l){n=a?(a=!1,e):t(n,e,r,l)})),n}function k(e,t){for(var n,a=-1,r=e.length;++a<r;){var l=t(e[a]);l!==$&&(n=n===$?l:n+l)}return n}function T(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}function x(e){return e?e.slice(0,V(e)+1).replace(Ge,""):e}function I(e){return function(t){return e(t)}}function P(e,t){return m(t,(function(t){return e[t]}))}function O(e,t){return e.has(t)}function A(e,t){for(var n=-1,a=e.length;++n<a&&v(t,e[n],0)>-1;);return n}function N(e,t){for(var n=e.length;n--&&v(t,e[n],0)>-1;);return n}function R(e,t){for(var n=e.length,a=0;n--;)e[n]===t&&++a;return a}function L(e){return"\\"+Kt[e]}function _(e){return zt.test(e)}function D(e){return jt.test(e)}function B(e){var t=-1,n=Array(e.size);return e.forEach((function(e,a){n[++t]=[a,e]})),n}function W(e,t){return function(n){return e(t(n))}}function U(e,t){for(var n=-1,a=e.length,r=0,l=[];++n<a;){var o=e[n];o!==t&&o!==Y||(e[n]=Y,l[r++]=n)}return l}function z(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function j(e){return _(e)?function(e){for(var t=Wt.lastIndex=0;Wt.test(e);)++t;return t}(e):dn(e)}function H(e){return _(e)?function(e){return e.match(Wt)||[]}(e):function(e){return e.split("")}(e)}function V(e){for(var t=e.length;t--&&$e.test(e.charAt(t)););return t}function G(e){return e.match(Ut)||[]}var $,K="Expected a function",X="__lodash_hash_undefined__",Y="__lodash_placeholder__",q=32,Q=128,J=1/0,Z=9007199254740991,ee=NaN,te=4294967295,ne=[["ary",Q],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",q],["partialRight",64],["rearg",256]],ae="[object Arguments]",re="[object Array]",le="[object Boolean]",oe="[object Date]",ie="[object Error]",ce="[object Function]",se="[object GeneratorFunction]",ue="[object Map]",de="[object Number]",me="[object Object]",pe="[object Promise]",fe="[object RegExp]",ge="[object Set]",Ee="[object String]",he="[object Symbol]",be="[object WeakMap]",ve="[object ArrayBuffer]",Fe="[object DataView]",ye="[object Float32Array]",Se="[object Float64Array]",Ce="[object Int8Array]",Me="[object Int16Array]",we="[object Int32Array]",ke="[object Uint8Array]",Te="[object Uint8ClampedArray]",xe="[object Uint16Array]",Ie="[object Uint32Array]",Pe=/\b__p \+= '';/g,Oe=/\b(__p \+=) '' \+/g,Ae=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ne=/&(?:amp|lt|gt|quot|#39);/g,Re=/[&<>"']/g,Le=RegExp(Ne.source),_e=RegExp(Re.source),De=/<%-([\s\S]+?)%>/g,Be=/<%([\s\S]+?)%>/g,We=/<%=([\s\S]+?)%>/g,Ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ze=/^\w*$/,je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,He=/[\\^$.*+?()[\]{}|]/g,Ve=RegExp(He.source),Ge=/^\s+/,$e=/\s/,Ke=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ye=/,? & /,qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qe=/[()=,{}\[\]\/\s]/,Je=/\\(\\)?/g,Ze=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,et=/\w*$/,tt=/^[-+]0x[0-9a-f]+$/i,nt=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,rt=/^0o[0-7]+$/i,lt=/^(?:0|[1-9]\d*)$/,ot=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,it=/($^)/,ct=/['\n\r\u2028\u2029\\]/g,st="\\ud800-\\udfff",ut="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\u2700-\\u27bf",mt="a-z\\xdf-\\xf6\\xf8-\\xff",pt="A-Z\\xc0-\\xd6\\xd8-\\xde",ft="\\ufe0e\\ufe0f",gt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Et="["+st+"]",ht="["+gt+"]",bt="["+ut+"]",vt="\\d+",Ft="["+dt+"]",yt="["+mt+"]",St="[^"+st+gt+vt+dt+mt+pt+"]",Ct="\\ud83c[\\udffb-\\udfff]",Mt="[^"+st+"]",wt="(?:\\ud83c[\\udde6-\\uddff]){2}",kt="[\\ud800-\\udbff][\\udc00-\\udfff]",Tt="["+pt+"]",xt="(?:"+yt+"|"+St+")",It="(?:"+Tt+"|"+St+")",Pt="(?:['’](?:d|ll|m|re|s|t|ve))?",Ot="(?:['’](?:D|LL|M|RE|S|T|VE))?",At="(?:"+bt+"|"+Ct+")?",Nt="["+ft+"]?",Rt=Nt+At+"(?:\\u200d(?:"+[Mt,wt,kt].join("|")+")"+Nt+At+")*",Lt="(?:"+[Ft,wt,kt].join("|")+")"+Rt,_t="(?:"+[Mt+bt+"?",bt,wt,kt,Et].join("|")+")",Dt=RegExp("['’]","g"),Bt=RegExp(bt,"g"),Wt=RegExp(Ct+"(?="+Ct+")|"+_t+Rt,"g"),Ut=RegExp([Tt+"?"+yt+"+"+Pt+"(?="+[ht,Tt,"$"].join("|")+")",It+"+"+Ot+"(?="+[ht,Tt+xt,"$"].join("|")+")",Tt+"?"+xt+"+"+Pt,Tt+"+"+Ot,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vt,Lt].join("|"),"g"),zt=RegExp("[\\u200d"+st+ut+ft+"]"),jt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ht=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vt=-1,Gt={};Gt[ye]=Gt[Se]=Gt[Ce]=Gt[Me]=Gt[we]=Gt[ke]=Gt[Te]=Gt[xe]=Gt[Ie]=!0,Gt[ae]=Gt[re]=Gt[ve]=Gt[le]=Gt[Fe]=Gt[oe]=Gt[ie]=Gt[ce]=Gt[ue]=Gt[de]=Gt[me]=Gt[fe]=Gt[ge]=Gt[Ee]=Gt[be]=!1;var $t={};$t[ae]=$t[re]=$t[ve]=$t[Fe]=$t[le]=$t[oe]=$t[ye]=$t[Se]=$t[Ce]=$t[Me]=$t[we]=$t[ue]=$t[de]=$t[me]=$t[fe]=$t[ge]=$t[Ee]=$t[he]=$t[ke]=$t[Te]=$t[xe]=$t[Ie]=!0,$t[ie]=$t[ce]=$t[be]=!1;var Kt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xt=parseFloat,Yt=parseInt,qt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,Qt="object"==typeof self&&self&&self.Object===Object&&self,Jt=qt||Qt||Function("return this")(),Zt=t&&!t.nodeType&&t,en=Zt&&e&&!e.nodeType&&e,tn=en&&en.exports===Zt,nn=tn&&qt.process,an=function(){try{return en&&en.require&&en.require("util").types||nn&&nn.binding&&nn.binding("util")}catch(e){}}(),rn=an&&an.isArrayBuffer,ln=an&&an.isDate,on=an&&an.isMap,cn=an&&an.isRegExp,sn=an&&an.isSet,un=an&&an.isTypedArray,dn=C("length"),mn=M({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),pn=M({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),fn=M({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gn=function e(t){function n(e){if(_r(e)&&!ki(e)&&!(e instanceof $e)){if(e instanceof M)return e;if(wl.call(e,"__wrapped__"))return cr(e)}return new M(e)}function a(){}function M(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=$}function $e(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function st(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function ut(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function dt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}function mt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new dt;++t<n;)this.add(e[t])}function pt(e){this.size=(this.__data__=new ut(e)).size}function ft(e,t){var n=ki(e),a=!n&&wi(e),r=!n&&!a&&xi(e),l=!n&&!a&&!r&&Ni(e),o=n||a||r||l,i=o?T(e.length,bl):[],c=i.length;for(var s in e)!t&&!wl.call(e,s)||o&&("length"==s||r&&("offset"==s||"parent"==s)||l&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Ga(s,c))||i.push(s);return i}function gt(e){var t=e.length;return t?e[xn(0,t-1)]:$}function Et(e,t){return rr(la(e),wt(t,0,e.length))}function ht(e){return rr(la(e))}function bt(e,t,n){(n===$||xr(e[t],n))&&(n!==$||t in e)||Ct(e,t,n)}function vt(e,t,n){var a=e[t];wl.call(e,t)&&xr(a,n)&&(n!==$||t in e)||Ct(e,t,n)}function Ft(e,t){for(var n=e.length;n--;)if(xr(e[n][0],t))return n;return-1}function yt(e,t,n,a){return Mo(e,(function(e,r,l){t(a,e,n(e),l)})),a}function St(e,t){return e&&oa(t,qr(t),e)}function Ct(e,t,n){"__proto__"==t&&Hl?Hl(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Mt(e,t){for(var n=-1,a=t.length,r=dl(a),l=null==e;++n<a;)r[n]=l?$:Xr(e,t[n]);return r}function wt(e,t,n){return e==e&&(n!==$&&(e=e<=n?e:n),t!==$&&(e=e>=t?e:t)),e}function kt(e,t,n,a,r,l){var i,c=1&t,s=2&t,u=4&t;if(n&&(i=r?n(e,a,r,l):n(e)),i!==$)return i;if(!Lr(e))return e;var d=ki(e);if(d){if(i=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&wl.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return la(e,i)}else{var m=_o(e),p=m==ce||m==se;if(xi(e))return Zn(e,c);if(m==me||m==ae||p&&!r){if(i=s||p?{}:Ha(e),!c)return s?function(e,t){return oa(e,Lo(e),t)}(e,function(e,t){return e&&oa(t,Qr(t),e)}(i,e)):function(e,t){return oa(e,Ro(e),t)}(e,St(i,e))}else{if(!$t[m])return r?e:{};i=function(e,t,n){var a=e.constructor;switch(t){case ve:return ea(e);case le:case oe:return new a(+e);case Fe:return function(e,t){return new e.constructor(t?ea(e.buffer):e.buffer,e.byteOffset,e.byteLength)}(e,n);case ye:case Se:case Ce:case Me:case we:case ke:case Te:case xe:case Ie:return ta(e,n);case ue:return new a;case de:case Ee:return new a(e);case fe:return function(e){var t=new e.constructor(e.source,et.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ge:return new a;case he:return function(e){return yo?El(yo.call(e)):{}}(e)}}(e,m,c)}}l||(l=new pt);var f=l.get(e);if(f)return f;l.set(e,i),Ai(e)?e.forEach((function(a){i.add(kt(a,t,n,a,e,l))})):Pi(e)&&e.forEach((function(a,r){i.set(r,kt(a,t,n,r,e,l))}));var g=d?$:(u?s?La:Ra:s?Qr:qr)(e);return o(g||e,(function(a,r){g&&(a=e[r=a]),vt(i,r,kt(a,t,n,r,e,l))})),i}function Tt(e,t,n){var a=n.length;if(null==e)return!a;for(e=El(e);a--;){var r=n[a],l=t[r],o=e[r];if(o===$&&!(r in e)||!l(o))return!1}return!0}function xt(e,t,n){if("function"!=typeof e)throw new vl(K);return Wo((function(){e.apply($,n)}),t)}function It(e,t,n,a){var r=-1,l=u,o=!0,i=e.length,c=[],s=t.length;if(!i)return c;n&&(t=m(t,I(n))),a?(l=d,o=!1):t.length>=200&&(l=O,o=!1,t=new mt(t));e:for(;++r<i;){var p=e[r],f=null==n?p:n(p);if(p=a||0!==p?p:0,o&&f==f){for(var g=s;g--;)if(t[g]===f)continue e;c.push(p)}else l(t,f,a)||c.push(p)}return c}function Pt(e,t){var n=!0;return Mo(e,(function(e,a,r){return n=!!t(e,a,r)})),n}function Ot(e,t,n){for(var a=-1,r=e.length;++a<r;){var l=e[a],o=t(l);if(null!=o&&(i===$?o==o&&!Ur(o):n(o,i)))var i=o,c=l}return c}function At(e,t){var n=[];return Mo(e,(function(e,a,r){t(e,a,r)&&n.push(e)})),n}function Nt(e,t,n,a,r){var l=-1,o=e.length;for(n||(n=Va),r||(r=[]);++l<o;){var i=e[l];t>0&&n(i)?t>1?Nt(i,t-1,n,a,r):p(r,i):a||(r[r.length]=i)}return r}function Rt(e,t){return e&&ko(e,t,qr)}function Lt(e,t){return e&&To(e,t,qr)}function _t(e,t){return s(t,(function(t){return Ar(e[t])}))}function Wt(e,t){for(var n=0,a=(t=Qn(t,e)).length;null!=e&&n<a;)e=e[lr(t[n++])];return n&&n==a?e:$}function Ut(e,t,n){var a=t(e);return ki(e)?a:p(a,n(e))}function zt(e){return null==e?e===$?"[object Undefined]":"[object Null]":jl&&jl in El(e)?function(e){var t=wl.call(e,jl),n=e[jl];try{e[jl]=$;var a=!0}catch(e){}var r=xl.call(e);return a&&(t?e[jl]=n:delete e[jl]),r}(e):function(e){return xl.call(e)}(e)}function jt(e,t){return e>t}function Kt(e,t){return null!=e&&wl.call(e,t)}function qt(e,t){return null!=e&&t in El(e)}function Qt(e,t,n){for(var a=n?d:u,r=e[0].length,l=e.length,o=l,i=dl(l),c=1/0,s=[];o--;){var p=e[o];o&&t&&(p=m(p,I(t))),c=to(p.length,c),i[o]=!n&&(t||r>=120&&p.length>=120)?new mt(o&&p):$}p=e[0];var f=-1,g=i[0];e:for(;++f<r&&s.length<c;){var E=p[f],h=t?t(E):E;if(E=n||0!==E?E:0,!(g?O(g,h):a(s,h,n))){for(o=l;--o;){var b=i[o];if(!(b?O(b,h):a(e[o],h,n)))continue e}g&&g.push(h),s.push(E)}}return s}function Zt(e,t,n){var a=null==(e=Za(e,t=Qn(t,e)))?e:e[lr(pr(t))];return null==a?$:r(a,e,n)}function en(e){return _r(e)&&zt(e)==ae}function nn(e,t,n,a,r){return e===t||(null==e||null==t||!_r(e)&&!_r(t)?e!=e&&t!=t:function(e,t,n,a,r,l){var o=ki(e),i=ki(t),c=o?re:_o(e),s=i?re:_o(t),u=(c=c==ae?me:c)==me,d=(s=s==ae?me:s)==me,m=c==s;if(m&&xi(e)){if(!xi(t))return!1;o=!0,u=!1}if(m&&!u)return l||(l=new pt),o||Ni(e)?Aa(e,t,n,a,r,l):function(e,t,n,a,r,l,o){switch(n){case Fe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ve:return!(e.byteLength!=t.byteLength||!l(new Rl(e),new Rl(t)));case le:case oe:case de:return xr(+e,+t);case ie:return e.name==t.name&&e.message==t.message;case fe:case Ee:return e==t+"";case ue:var i=B;case ge:var c=1&a;if(i||(i=z),e.size!=t.size&&!c)return!1;var s=o.get(e);if(s)return s==t;a|=2,o.set(e,t);var u=Aa(i(e),i(t),a,r,l,o);return o.delete(e),u;case he:if(yo)return yo.call(e)==yo.call(t)}return!1}(e,t,c,n,a,r,l);if(!(1&n)){var p=u&&wl.call(e,"__wrapped__"),f=d&&wl.call(t,"__wrapped__");if(p||f){var g=p?e.value():e,E=f?t.value():t;return l||(l=new pt),r(g,E,n,a,l)}}return!!m&&(l||(l=new pt),function(e,t,n,a,r,l){var o=1&n,i=Ra(e),c=i.length;if(c!=Ra(t).length&&!o)return!1;for(var s=c;s--;){var u=i[s];if(!(o?u in t:wl.call(t,u)))return!1}var d=l.get(e),m=l.get(t);if(d&&m)return d==t&&m==e;var p=!0;l.set(e,t),l.set(t,e);for(var f=o;++s<c;){var g=e[u=i[s]],E=t[u];if(a)var h=o?a(E,g,u,t,e,l):a(g,E,u,e,t,l);if(!(h===$?g===E||r(g,E,n,a,l):h)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var b=e.constructor,v=t.constructor;b!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v)&&(p=!1)}return l.delete(e),l.delete(t),p}(e,t,n,a,r,l))}(e,t,n,a,nn,r))}function an(e,t,n,a){var r=n.length,l=r,o=!a;if(null==e)return!l;for(e=El(e);r--;){var i=n[r];if(o&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++r<l;){var c=(i=n[r])[0],s=e[c],u=i[1];if(o&&i[2]){if(s===$&&!(c in e))return!1}else{var d=new pt;if(a)var m=a(s,u,c,e,t,d);if(!(m===$?nn(u,s,3,a,d):m))return!1}}return!0}function dn(e){return!(!Lr(e)||function(e){return!!Tl&&Tl in e}(e))&&(Ar(e)?Ol:at).test(or(e))}function En(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?ki(e)?yn(e[0],e[1]):Fn(e):cl(e)}function hn(e){if(!Ya(e))return Zl(e);var t=[];for(var n in El(e))wl.call(e,n)&&"constructor"!=n&&t.push(n);return t}function bn(e,t){return e<t}function vn(e,t){var n=-1,a=Ir(e)?dl(e.length):[];return Mo(e,(function(e,r,l){a[++n]=t(e,r,l)})),a}function Fn(e){var t=Ua(e);return 1==t.length&&t[0][2]?Qa(t[0][0],t[0][1]):function(n){return n===e||an(n,e,t)}}function yn(e,t){return Ka(e)&&qa(t)?Qa(lr(e),t):function(n){var a=Xr(n,e);return a===$&&a===t?Yr(n,e):nn(t,a,3)}}function Sn(e,t,n,a,r){e!==t&&ko(t,(function(l,o){if(r||(r=new pt),Lr(l))!function(e,t,n,a,r,l,o){var i=tr(e,n),c=tr(t,n),s=o.get(c);if(s)return bt(e,n,s),$;var u=l?l(i,c,n+"",e,t,o):$,d=u===$;if(d){var m=ki(c),p=!m&&xi(c),f=!m&&!p&&Ni(c);u=c,m||p||f?ki(i)?u=i:Pr(i)?u=la(i):p?(d=!1,u=Zn(c,!0)):f?(d=!1,u=ta(c,!0)):u=[]:Br(c)||wi(c)?(u=i,wi(i)?u=$r(i):Lr(i)&&!Ar(i)||(u=Ha(c))):d=!1}d&&(o.set(c,u),r(u,c,a,l,o),o.delete(c)),bt(e,n,u)}(e,t,o,n,Sn,a,r);else{var i=a?a(tr(e,o),l,o+"",e,t,r):$;i===$&&(i=l),bt(e,o,i)}}),Qr)}function Cn(e,t){var n=e.length;if(n)return Ga(t+=t<0?n:0,n)?e[t]:$}function Mn(e,t,n){t=t.length?m(t,(function(e){return ki(e)?function(t){return Wt(t,1===e.length?e[0]:e)}:e})):[rl];var a=-1;return t=m(t,I(Ba())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(vn(e,(function(e,n,r){return{criteria:m(t,(function(t){return t(e)})),index:++a,value:e}})),(function(e,t){return function(e,t,n){for(var a=-1,r=e.criteria,l=t.criteria,o=r.length,i=n.length;++a<o;){var c=na(r[a],l[a]);if(c)return a>=i?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}(e,t,n)}))}function wn(e,t,n){for(var a=-1,r=t.length,l={};++a<r;){var o=t[a],i=Wt(e,o);n(i,o)&&Nn(l,Qn(o,e),i)}return l}function kn(e,t,n,a){var r=a?F:v,l=-1,o=t.length,i=e;for(e===t&&(t=la(t)),n&&(i=m(e,I(n)));++l<o;)for(var c=0,s=t[l],u=n?n(s):s;(c=r(i,u,c,a))>-1;)i!==e&&Wl.call(i,c,1),Wl.call(e,c,1);return e}function Tn(e,t){for(var n=e?t.length:0,a=n-1;n--;){var r=t[n];if(n==a||r!==l){var l=r;Ga(r)?Wl.call(e,r,1):Hn(e,r)}}return e}function xn(e,t){return e+Xl(ro()*(t-e+1))}function In(e,t){var n="";if(!e||t<1||t>Z)return n;do{t%2&&(n+=e),(t=Xl(t/2))&&(e+=e)}while(t);return n}function Pn(e,t){return Uo(Ja(e,t,rl),e+"")}function On(e){return gt(Zr(e))}function An(e,t){var n=Zr(e);return rr(n,wt(t,0,n.length))}function Nn(e,t,n,a){if(!Lr(e))return e;for(var r=-1,l=(t=Qn(t,e)).length,o=l-1,i=e;null!=i&&++r<l;){var c=lr(t[r]),s=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(r!=o){var u=i[c];(s=a?a(u,c,i):$)===$&&(s=Lr(u)?u:Ga(t[r+1])?[]:{})}vt(i,c,s),i=i[c]}return e}function Rn(e){return rr(Zr(e))}function Ln(e,t,n){var a=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var l=dl(r);++a<r;)l[a]=e[a+t];return l}function _n(e,t){var n;return Mo(e,(function(e,a,r){return!(n=t(e,a,r))})),!!n}function Dn(e,t,n){var a=0,r=null==e?a:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;a<r;){var l=a+r>>>1,o=e[l];null!==o&&!Ur(o)&&(n?o<=t:o<t)?a=l+1:r=l}return r}return Bn(e,t,rl,n)}function Bn(e,t,n,a){var r=0,l=null==e?0:e.length;if(0===l)return 0;for(var o=(t=n(t))!=t,i=null===t,c=Ur(t),s=t===$;r<l;){var u=Xl((r+l)/2),d=n(e[u]),m=d!==$,p=null===d,f=d==d,g=Ur(d);if(o)var E=a||f;else E=s?f&&(a||m):i?f&&m&&(a||!p):c?f&&m&&!p&&(a||!g):!p&&!g&&(a?d<=t:d<t);E?r=u+1:l=u}return to(l,4294967294)}function Wn(e,t){for(var n=-1,a=e.length,r=0,l=[];++n<a;){var o=e[n],i=t?t(o):o;if(!n||!xr(i,c)){var c=i;l[r++]=0===o?0:o}}return l}function Un(e){return"number"==typeof e?e:Ur(e)?ee:+e}function zn(e){if("string"==typeof e)return e;if(ki(e))return m(e,zn)+"";if(Ur(e))return So?So.call(e):"";var t=e+"";return"0"==t&&1/e==-J?"-0":t}function jn(e,t,n){var a=-1,r=u,l=e.length,o=!0,i=[],c=i;if(n)o=!1,r=d;else if(l>=200){var s=t?null:Ao(e);if(s)return z(s);o=!1,r=O,c=new mt}else c=t?[]:i;e:for(;++a<l;){var m=e[a],p=t?t(m):m;if(m=n||0!==m?m:0,o&&p==p){for(var f=c.length;f--;)if(c[f]===p)continue e;t&&c.push(p),i.push(m)}else r(c,p,n)||(c!==i&&c.push(p),i.push(m))}return i}function Hn(e,t){return null==(e=Za(e,t=Qn(t,e)))||delete e[lr(pr(t))]}function Vn(e,t,n,a){return Nn(e,t,n(Wt(e,t)),a)}function Gn(e,t,n,a){for(var r=e.length,l=a?r:-1;(a?l--:++l<r)&&t(e[l],l,e););return n?Ln(e,a?0:l,a?l+1:r):Ln(e,a?l+1:0,a?r:l)}function $n(e,t){var n=e;return n instanceof $e&&(n=n.value()),f(t,(function(e,t){return t.func.apply(t.thisArg,p([e],t.args))}),n)}function Kn(e,t,n){var a=e.length;if(a<2)return a?jn(e[0]):[];for(var r=-1,l=dl(a);++r<a;)for(var o=e[r],i=-1;++i<a;)i!=r&&(l[r]=It(l[r]||o,e[i],t,n));return jn(Nt(l,1),t,n)}function Xn(e,t,n){for(var a=-1,r=e.length,l=t.length,o={};++a<r;)n(o,e[a],a<l?t[a]:$);return o}function Yn(e){return Pr(e)?e:[]}function qn(e){return"function"==typeof e?e:rl}function Qn(e,t){return ki(e)?e:Ka(e,t)?[e]:zo(Kr(e))}function Jn(e,t,n){var a=e.length;return n=n===$?a:n,!t&&n>=a?e:Ln(e,t,n)}function Zn(e,t){if(t)return e.slice();var n=e.length,a=Ll?Ll(n):new e.constructor(n);return e.copy(a),a}function ea(e){var t=new e.constructor(e.byteLength);return new Rl(t).set(new Rl(e)),t}function ta(e,t){return new e.constructor(t?ea(e.buffer):e.buffer,e.byteOffset,e.length)}function na(e,t){if(e!==t){var n=e!==$,a=null===e,r=e==e,l=Ur(e),o=t!==$,i=null===t,c=t==t,s=Ur(t);if(!i&&!s&&!l&&e>t||l&&o&&c&&!i&&!s||a&&o&&c||!n&&c||!r)return 1;if(!a&&!l&&!s&&e<t||s&&n&&r&&!a&&!l||i&&n&&r||!o&&r||!c)return-1}return 0}function aa(e,t,n,a){for(var r=-1,l=e.length,o=n.length,i=-1,c=t.length,s=eo(l-o,0),u=dl(c+s),d=!a;++i<c;)u[i]=t[i];for(;++r<o;)(d||r<l)&&(u[n[r]]=e[r]);for(;s--;)u[i++]=e[r++];return u}function ra(e,t,n,a){for(var r=-1,l=e.length,o=-1,i=n.length,c=-1,s=t.length,u=eo(l-i,0),d=dl(u+s),m=!a;++r<u;)d[r]=e[r];for(var p=r;++c<s;)d[p+c]=t[c];for(;++o<i;)(m||r<l)&&(d[p+n[o]]=e[r++]);return d}function la(e,t){var n=-1,a=e.length;for(t||(t=dl(a));++n<a;)t[n]=e[n];return t}function oa(e,t,n,a){var r=!n;n||(n={});for(var l=-1,o=t.length;++l<o;){var i=t[l],c=a?a(n[i],e[i],i,n,e):$;c===$&&(c=e[i]),r?Ct(n,i,c):vt(n,i,c)}return n}function ia(e,t){return function(n,a){var r=ki(n)?l:yt,o=t?t():{};return r(n,e,Ba(a,2),o)}}function ca(e){return Pn((function(t,n){var a=-1,r=n.length,l=r>1?n[r-1]:$,o=r>2?n[2]:$;for(l=e.length>3&&"function"==typeof l?(r--,l):$,o&&$a(n[0],n[1],o)&&(l=r<3?$:l,r=1),t=El(t);++a<r;){var i=n[a];i&&e(t,i,a,l)}return t}))}function sa(e,t){return function(n,a){if(null==n)return n;if(!Ir(n))return e(n,a);for(var r=n.length,l=t?r:-1,o=El(n);(t?l--:++l<r)&&!1!==a(o[l],l,o););return n}}function ua(e){return function(t,n,a){for(var r=-1,l=El(t),o=a(t),i=o.length;i--;){var c=o[e?i:++r];if(!1===n(l[c],c,l))break}return t}}function da(e){return function(t){var n=_(t=Kr(t))?H(t):$,a=n?n[0]:t.charAt(0),r=n?Jn(n,1).join(""):t.slice(1);return a[e]()+r}}function ma(e){return function(t){return f(nl(tl(t).replace(Dt,"")),e,"")}}function pa(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Co(e.prototype),a=e.apply(n,t);return Lr(a)?a:n}}function fa(e,t,n){var a=pa(e);return function l(){for(var o=arguments.length,i=dl(o),c=o,s=Da(l);c--;)i[c]=arguments[c];var u=o<3&&i[0]!==s&&i[o-1]!==s?[]:U(i,s);return(o-=u.length)<n?wa(e,t,ha,l.placeholder,$,i,u,$,$,n-o):r(this&&this!==Jt&&this instanceof l?a:e,this,i)}}function ga(e){return function(t,n,a){var r=El(t);if(!Ir(t)){var l=Ba(n,3);t=qr(t),n=function(e){return l(r[e],e,r)}}var o=e(t,n,a);return o>-1?r[l?t[o]:o]:$}}function Ea(e){return Na((function(t){var n=t.length,a=n,r=M.prototype.thru;for(e&&t.reverse();a--;){var l=t[a];if("function"!=typeof l)throw new vl(K);if(r&&!o&&"wrapper"==_a(l))var o=new M([],!0)}for(a=o?a:n;++a<n;){var i=_a(l=t[a]),c="wrapper"==i?No(l):$;o=c&&Xa(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?o[_a(c[0])].apply(o,c[3]):1==l.length&&Xa(l)?o[i]():o.thru(l)}return function(){var e=arguments,a=e[0];if(o&&1==e.length&&ki(a))return o.plant(a).value();for(var r=0,l=n?t[r].apply(this,e):a;++r<n;)l=t[r].call(this,l);return l}}))}function ha(e,t,n,a,r,l,o,i,c,s){var u=t&Q,d=1&t,m=2&t,p=24&t,f=512&t,g=m?$:pa(e);return function E(){for(var h=arguments.length,b=dl(h),v=h;v--;)b[v]=arguments[v];if(p)var F=Da(E),y=R(b,F);if(a&&(b=aa(b,a,r,p)),l&&(b=ra(b,l,o,p)),h-=y,p&&h<s)return wa(e,t,ha,E.placeholder,n,b,U(b,F),i,c,s-h);var S=d?n:this,C=m?S[e]:e;return h=b.length,i?b=er(b,i):f&&h>1&&b.reverse(),u&&c<h&&(b.length=c),this&&this!==Jt&&this instanceof E&&(C=g||pa(C)),C.apply(S,b)}}function ba(e,t){return function(n,a){return function(e,t,n,a){return Rt(e,(function(e,r,l){t(a,n(e),r,l)})),a}(n,e,t(a),{})}}function va(e,t){return function(n,a){var r;if(n===$&&a===$)return t;if(n!==$&&(r=n),a!==$){if(r===$)return a;"string"==typeof n||"string"==typeof a?(n=zn(n),a=zn(a)):(n=Un(n),a=Un(a)),r=e(n,a)}return r}}function Fa(e){return Na((function(t){return t=m(t,I(Ba())),Pn((function(n){var a=this;return e(t,(function(e){return r(e,a,n)}))}))}))}function ya(e,t){var n=(t=t===$?" ":zn(t)).length;if(n<2)return n?In(t,e):t;var a=In(t,Kl(e/j(t)));return _(t)?Jn(H(a),0,e).join(""):a.slice(0,e)}function Sa(e,t,n,a){var l=1&t,o=pa(e);return function t(){for(var i=-1,c=arguments.length,s=-1,u=a.length,d=dl(u+c),m=this&&this!==Jt&&this instanceof t?o:e;++s<u;)d[s]=a[s];for(;c--;)d[s++]=arguments[++i];return r(m,l?n:this,d)}}function Ca(e){return function(t,n,a){return a&&"number"!=typeof a&&$a(t,n,a)&&(n=a=$),t=jr(t),n===$?(n=t,t=0):n=jr(n),function(e,t,n,a){for(var r=-1,l=eo(Kl((t-e)/(n||1)),0),o=dl(l);l--;)o[a?l:++r]=e,e+=n;return o}(t,n,a=a===$?t<n?1:-1:jr(a),e)}}function Ma(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Gr(t),n=Gr(n)),e(t,n)}}function wa(e,t,n,a,r,l,o,i,c,s){var u=8&t;t|=u?q:64,4&(t&=~(u?64:q))||(t&=-4);var d=[e,t,r,u?l:$,u?o:$,u?$:l,u?$:o,i,c,s],m=n.apply($,d);return Xa(e)&&Bo(m,d),m.placeholder=a,nr(m,e,t)}function ka(e){var t=gl[e];return function(e,n){if(e=Gr(e),(n=null==n?0:to(Hr(n),292))&&Ql(e)){var a=(Kr(e)+"e").split("e");return+((a=(Kr(t(a[0]+"e"+(+a[1]+n)))+"e").split("e"))[0]+"e"+(+a[1]-n))}return t(e)}}function Ta(e){return function(t){var n=_o(t);return n==ue?B(t):n==ge?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return m(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function xa(e,t,n,a,r,l,o,i){var c=2&t;if(!c&&"function"!=typeof e)throw new vl(K);var s=a?a.length:0;if(s||(t&=-97,a=r=$),o=o===$?o:eo(Hr(o),0),i=i===$?i:Hr(i),s-=r?r.length:0,64&t){var u=a,d=r;a=r=$}var m=c?$:No(e),p=[e,t,n,a,r,u,d,l,o,i];if(m&&function(e,t){var n=e[1],a=t[1],r=n|a,l=r<131,o=a==Q&&8==n||a==Q&&256==n&&e[7].length<=t[8]||384==a&&t[7].length<=t[8]&&8==n;if(!l&&!o)return e;1&a&&(e[2]=t[2],r|=1&n?0:4);var i=t[3];if(i){var c=e[3];e[3]=c?aa(c,i,t[4]):i,e[4]=c?U(e[3],Y):t[4]}(i=t[5])&&(c=e[5],e[5]=c?ra(c,i,t[6]):i,e[6]=c?U(e[5],Y):t[6]),(i=t[7])&&(e[7]=i),a&Q&&(e[8]=null==e[8]?t[8]:to(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(p,m),e=p[0],t=p[1],n=p[2],a=p[3],r=p[4],!(i=p[9]=p[9]===$?c?0:e.length:eo(p[9]-s,0))&&24&t&&(t&=-25),t&&1!=t)f=8==t||16==t?fa(e,t,i):t!=q&&33!=t||r.length?ha.apply($,p):Sa(e,t,n,a);else var f=function(e,t,n){var a=1&t,r=pa(e);return function t(){return(this&&this!==Jt&&this instanceof t?r:e).apply(a?n:this,arguments)}}(e,t,n);return nr((m?xo:Bo)(f,p),e,t)}function Ia(e,t,n,a){return e===$||xr(e,Sl[n])&&!wl.call(a,n)?t:e}function Pa(e,t,n,a,r,l){return Lr(e)&&Lr(t)&&(l.set(t,e),Sn(e,t,$,Pa,l),l.delete(t)),e}function Oa(e){return Br(e)?$:e}function Aa(e,t,n,a,r,l){var o=1&n,i=e.length,c=t.length;if(i!=c&&!(o&&c>i))return!1;var s=l.get(e),u=l.get(t);if(s&&u)return s==t&&u==e;var d=-1,m=!0,p=2&n?new mt:$;for(l.set(e,t),l.set(t,e);++d<i;){var f=e[d],g=t[d];if(a)var h=o?a(g,f,d,t,e,l):a(f,g,d,e,t,l);if(h!==$){if(h)continue;m=!1;break}if(p){if(!E(t,(function(e,t){if(!O(p,t)&&(f===e||r(f,e,n,a,l)))return p.push(t)}))){m=!1;break}}else if(f!==g&&!r(f,g,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}function Na(e){return Uo(Ja(e,$,dr),e+"")}function Ra(e){return Ut(e,qr,Ro)}function La(e){return Ut(e,Qr,Lo)}function _a(e){for(var t=e.name+"",n=fo[t],a=wl.call(fo,t)?n.length:0;a--;){var r=n[a],l=r.func;if(null==l||l==e)return r.name}return t}function Da(e){return(wl.call(n,"placeholder")?n:e).placeholder}function Ba(){var e=n.iteratee||ll;return e=e===ll?En:e,arguments.length?e(arguments[0],arguments[1]):e}function Wa(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ua(e){for(var t=qr(e),n=t.length;n--;){var a=t[n],r=e[a];t[n]=[a,r,qa(r)]}return t}function za(e,t){var n=function(e,t){return null==e?$:e[t]}(e,t);return dn(n)?n:$}function ja(e,t,n){for(var a=-1,r=(t=Qn(t,e)).length,l=!1;++a<r;){var o=lr(t[a]);if(!(l=null!=e&&n(e,o)))break;e=e[o]}return l||++a!=r?l:!!(r=null==e?0:e.length)&&Rr(r)&&Ga(o,r)&&(ki(e)||wi(e))}function Ha(e){return"function"!=typeof e.constructor||Ya(e)?{}:Co(_l(e))}function Va(e){return ki(e)||wi(e)||!!(Ul&&e&&e[Ul])}function Ga(e,t){var n=typeof e;return!!(t=null==t?Z:t)&&("number"==n||"symbol"!=n&&lt.test(e))&&e>-1&&e%1==0&&e<t}function $a(e,t,n){if(!Lr(n))return!1;var a=typeof t;return!!("number"==a?Ir(n)&&Ga(t,n.length):"string"==a&&t in n)&&xr(n[t],e)}function Ka(e,t){if(ki(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ur(e))||ze.test(e)||!Ue.test(e)||null!=t&&e in El(t)}function Xa(e){var t=_a(e),a=n[t];if("function"!=typeof a||!(t in $e.prototype))return!1;if(e===a)return!0;var r=No(a);return!!r&&e===r[0]}function Ya(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Sl)}function qa(e){return e==e&&!Lr(e)}function Qa(e,t){return function(n){return null!=n&&n[e]===t&&(t!==$||e in El(n))}}function Ja(e,t,n){return t=eo(t===$?e.length-1:t,0),function(){for(var a=arguments,l=-1,o=eo(a.length-t,0),i=dl(o);++l<o;)i[l]=a[t+l];l=-1;for(var c=dl(t+1);++l<t;)c[l]=a[l];return c[t]=n(i),r(e,this,c)}}function Za(e,t){return t.length<2?e:Wt(e,Ln(t,0,-1))}function er(e,t){for(var n=e.length,a=to(t.length,n),r=la(e);a--;){var l=t[a];e[a]=Ga(l,n)?r[l]:$}return e}function tr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function nr(e,t,n){var a=t+"";return Uo(e,function(e,t){var n=t.length;if(!n)return e;var a=n-1;return t[a]=(n>1?"& ":"")+t[a],t=t.join(n>2?", ":" "),e.replace(Ke,"{\n/* [wrapped with "+t+"] */\n")}(a,ir(function(e){var t=e.match(Xe);return t?t[1].split(Ye):[]}(a),n)))}function ar(e){var t=0,n=0;return function(){var a=no(),r=16-(a-n);if(n=a,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply($,arguments)}}function rr(e,t){var n=-1,a=e.length,r=a-1;for(t=t===$?a:t;++n<t;){var l=xn(n,r),o=e[l];e[l]=e[n],e[n]=o}return e.length=t,e}function lr(e){if("string"==typeof e||Ur(e))return e;var t=e+"";return"0"==t&&1/e==-J?"-0":t}function or(e){if(null!=e){try{return Ml.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ir(e,t){return o(ne,(function(n){var a="_."+n[0];t&n[1]&&!u(e,a)&&e.push(a)})),e.sort()}function cr(e){if(e instanceof $e)return e.clone();var t=new M(e.__wrapped__,e.__chain__);return t.__actions__=la(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function sr(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=null==n?0:Hr(n);return r<0&&(r=eo(a+r,0)),b(e,Ba(t,3),r)}function ur(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=a-1;return n!==$&&(r=Hr(n),r=n<0?eo(a+r,0):to(r,a-1)),b(e,Ba(t,3),r,!0)}function dr(e){return null!=e&&e.length?Nt(e,1):[]}function mr(e){return e&&e.length?e[0]:$}function pr(e){var t=null==e?0:e.length;return t?e[t-1]:$}function fr(e,t){return e&&e.length&&t&&t.length?kn(e,t):e}function gr(e){return null==e?e:lo.call(e)}function Er(e){if(!e||!e.length)return[];var t=0;return e=s(e,(function(e){if(Pr(e))return t=eo(e.length,t),!0})),T(t,(function(t){return m(e,C(t))}))}function hr(e,t){if(!e||!e.length)return[];var n=Er(e);return null==t?n:m(n,(function(e){return r(t,$,e)}))}function br(e){var t=n(e);return t.__chain__=!0,t}function vr(e,t){return t(e)}function Fr(e,t){return(ki(e)?o:Mo)(e,Ba(t,3))}function yr(e,t){return(ki(e)?i:wo)(e,Ba(t,3))}function Sr(e,t){return(ki(e)?m:vn)(e,Ba(t,3))}function Cr(e,t,n){return t=n?$:t,t=e&&null==t?e.length:t,xa(e,Q,$,$,$,$,t)}function Mr(e,t){var n;if("function"!=typeof t)throw new vl(K);return e=Hr(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=$),n}}function wr(e,t,n){function a(t){var n=s,a=u;return s=u=$,g=t,m=e.apply(a,n)}function r(e){return g=e,p=Wo(o,t),E?a(e):m}function l(e){var n=e-f;return f===$||n>=t||n<0||h&&e-g>=d}function o(){var e=fi();return l(e)?i(e):(p=Wo(o,function(e){var n=t-(e-f);return h?to(n,d-(e-g)):n}(e)),$)}function i(e){return p=$,b&&s?a(e):(s=u=$,m)}function c(){var e=fi(),n=l(e);if(s=arguments,u=this,f=e,n){if(p===$)return r(f);if(h)return Oo(p),p=Wo(o,t),a(f)}return p===$&&(p=Wo(o,t)),m}var s,u,d,m,p,f,g=0,E=!1,h=!1,b=!0;if("function"!=typeof e)throw new vl(K);return t=Gr(t)||0,Lr(n)&&(E=!!n.leading,d=(h="maxWait"in n)?eo(Gr(n.maxWait)||0,t):d,b="trailing"in n?!!n.trailing:b),c.cancel=function(){p!==$&&Oo(p),g=0,s=f=u=p=$},c.flush=function(){return p===$?m:i(fi())},c}function kr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new vl(K);var n=function(){var a=arguments,r=t?t.apply(this,a):a[0],l=n.cache;if(l.has(r))return l.get(r);var o=e.apply(this,a);return n.cache=l.set(r,o)||l,o};return n.cache=new(kr.Cache||dt),n}function Tr(e){if("function"!=typeof e)throw new vl(K);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function xr(e,t){return e===t||e!=e&&t!=t}function Ir(e){return null!=e&&Rr(e.length)&&!Ar(e)}function Pr(e){return _r(e)&&Ir(e)}function Or(e){if(!_r(e))return!1;var t=zt(e);return t==ie||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Br(e)}function Ar(e){if(!Lr(e))return!1;var t=zt(e);return t==ce||t==se||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Nr(e){return"number"==typeof e&&e==Hr(e)}function Rr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Z}function Lr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function _r(e){return null!=e&&"object"==typeof e}function Dr(e){return"number"==typeof e||_r(e)&&zt(e)==de}function Br(e){if(!_r(e)||zt(e)!=me)return!1;var t=_l(e);if(null===t)return!0;var n=wl.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ml.call(n)==Il}function Wr(e){return"string"==typeof e||!ki(e)&&_r(e)&&zt(e)==Ee}function Ur(e){return"symbol"==typeof e||_r(e)&&zt(e)==he}function zr(e){if(!e)return[];if(Ir(e))return Wr(e)?H(e):la(e);if(zl&&e[zl])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[zl]());var t=_o(e);return(t==ue?B:t==ge?z:Zr)(e)}function jr(e){return e?(e=Gr(e))===J||e===-J?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Hr(e){var t=jr(e),n=t%1;return t==t?n?t-n:t:0}function Vr(e){return e?wt(Hr(e),0,te):0}function Gr(e){if("number"==typeof e)return e;if(Ur(e))return ee;if(Lr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Lr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=x(e);var n=nt.test(e);return n||rt.test(e)?Yt(e.slice(2),n?2:8):tt.test(e)?ee:+e}function $r(e){return oa(e,Qr(e))}function Kr(e){return null==e?"":zn(e)}function Xr(e,t,n){var a=null==e?$:Wt(e,t);return a===$?n:a}function Yr(e,t){return null!=e&&ja(e,t,qt)}function qr(e){return Ir(e)?ft(e):hn(e)}function Qr(e){return Ir(e)?ft(e,!0):function(e){if(!Lr(e))return function(e){var t=[];if(null!=e)for(var n in El(e))t.push(n);return t}(e);var t=Ya(e),n=[];for(var a in e)("constructor"!=a||!t&&wl.call(e,a))&&n.push(a);return n}(e)}function Jr(e,t){if(null==e)return{};var n=m(La(e),(function(e){return[e]}));return t=Ba(t),wn(e,n,(function(e,n){return t(e,n[0])}))}function Zr(e){return null==e?[]:P(e,qr(e))}function el(e){return lc(Kr(e).toLowerCase())}function tl(e){return(e=Kr(e))&&e.replace(ot,mn).replace(Bt,"")}function nl(e,t,n){return e=Kr(e),(t=n?$:t)===$?D(e)?G(e):function(e){return e.match(qe)||[]}(e):e.match(t)||[]}function al(e){return function(){return e}}function rl(e){return e}function ll(e){return En("function"==typeof e?e:kt(e,1))}function ol(e,t,n){var a=qr(t),r=_t(t,a);null!=n||Lr(t)&&(r.length||!a.length)||(n=t,t=e,e=this,r=_t(t,qr(t)));var l=!(Lr(n)&&"chain"in n&&!n.chain),i=Ar(e);return o(r,(function(n){var a=t[n];e[n]=a,i&&(e.prototype[n]=function(){var t=this.__chain__;if(l||t){var n=e(this.__wrapped__);return(n.__actions__=la(this.__actions__)).push({func:a,args:arguments,thisArg:e}),n.__chain__=t,n}return a.apply(e,p([this.value()],arguments))})})),e}function il(){}function cl(e){return Ka(e)?C(lr(e)):function(e){return function(t){return Wt(t,e)}}(e)}function sl(){return[]}function ul(){return!1}var dl=(t=null==t?Jt:gn.defaults(Jt.Object(),t,gn.pick(Jt,Ht))).Array,ml=t.Date,pl=t.Error,fl=t.Function,gl=t.Math,El=t.Object,hl=t.RegExp,bl=t.String,vl=t.TypeError,Fl=dl.prototype,yl=fl.prototype,Sl=El.prototype,Cl=t["__core-js_shared__"],Ml=yl.toString,wl=Sl.hasOwnProperty,kl=0,Tl=function(){var e=/[^.]+$/.exec(Cl&&Cl.keys&&Cl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),xl=Sl.toString,Il=Ml.call(El),Pl=Jt._,Ol=hl("^"+Ml.call(wl).replace(He,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Al=tn?t.Buffer:$,Nl=t.Symbol,Rl=t.Uint8Array,Ll=Al?Al.allocUnsafe:$,_l=W(El.getPrototypeOf,El),Dl=El.create,Bl=Sl.propertyIsEnumerable,Wl=Fl.splice,Ul=Nl?Nl.isConcatSpreadable:$,zl=Nl?Nl.iterator:$,jl=Nl?Nl.toStringTag:$,Hl=function(){try{var e=za(El,"defineProperty");return e({},"",{}),e}catch(e){}}(),Vl=t.clearTimeout!==Jt.clearTimeout&&t.clearTimeout,Gl=ml&&ml.now!==Jt.Date.now&&ml.now,$l=t.setTimeout!==Jt.setTimeout&&t.setTimeout,Kl=gl.ceil,Xl=gl.floor,Yl=El.getOwnPropertySymbols,ql=Al?Al.isBuffer:$,Ql=t.isFinite,Jl=Fl.join,Zl=W(El.keys,El),eo=gl.max,to=gl.min,no=ml.now,ao=t.parseInt,ro=gl.random,lo=Fl.reverse,oo=za(t,"DataView"),io=za(t,"Map"),co=za(t,"Promise"),so=za(t,"Set"),uo=za(t,"WeakMap"),mo=za(El,"create"),po=uo&&new uo,fo={},go=or(oo),Eo=or(io),ho=or(co),bo=or(so),vo=or(uo),Fo=Nl?Nl.prototype:$,yo=Fo?Fo.valueOf:$,So=Fo?Fo.toString:$,Co=function(){function e(){}return function(t){if(!Lr(t))return{};if(Dl)return Dl(t);e.prototype=t;var n=new e;return e.prototype=$,n}}();n.templateSettings={escape:De,evaluate:Be,interpolate:We,variable:"",imports:{_:n}},n.prototype=a.prototype,n.prototype.constructor=n,M.prototype=Co(a.prototype),M.prototype.constructor=M,$e.prototype=Co(a.prototype),$e.prototype.constructor=$e,st.prototype.clear=function(){this.__data__=mo?mo(null):{},this.size=0},st.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},st.prototype.get=function(e){var t=this.__data__;if(mo){var n=t[e];return n===X?$:n}return wl.call(t,e)?t[e]:$},st.prototype.has=function(e){var t=this.__data__;return mo?t[e]!==$:wl.call(t,e)},st.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=mo&&t===$?X:t,this},ut.prototype.clear=function(){this.__data__=[],this.size=0},ut.prototype.delete=function(e){var t=this.__data__,n=Ft(t,e);return!(n<0||(n==t.length-1?t.pop():Wl.call(t,n,1),--this.size,0))},ut.prototype.get=function(e){var t=this.__data__,n=Ft(t,e);return n<0?$:t[n][1]},ut.prototype.has=function(e){return Ft(this.__data__,e)>-1},ut.prototype.set=function(e,t){var n=this.__data__,a=Ft(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this},dt.prototype.clear=function(){this.size=0,this.__data__={hash:new st,map:new(io||ut),string:new st}},dt.prototype.delete=function(e){var t=Wa(this,e).delete(e);return this.size-=t?1:0,t},dt.prototype.get=function(e){return Wa(this,e).get(e)},dt.prototype.has=function(e){return Wa(this,e).has(e)},dt.prototype.set=function(e,t){var n=Wa(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this},mt.prototype.add=mt.prototype.push=function(e){return this.__data__.set(e,X),this},mt.prototype.has=function(e){return this.__data__.has(e)},pt.prototype.clear=function(){this.__data__=new ut,this.size=0},pt.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},pt.prototype.get=function(e){return this.__data__.get(e)},pt.prototype.has=function(e){return this.__data__.has(e)},pt.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ut){var a=n.__data__;if(!io||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new dt(a)}return n.set(e,t),this.size=n.size,this};var Mo=sa(Rt),wo=sa(Lt,!0),ko=ua(),To=ua(!0),xo=po?function(e,t){return po.set(e,t),e}:rl,Io=Hl?function(e,t){return Hl(e,"toString",{configurable:!0,enumerable:!1,value:al(t),writable:!0})}:rl,Po=Pn,Oo=Vl||function(e){return Jt.clearTimeout(e)},Ao=so&&1/z(new so([,-0]))[1]==J?function(e){return new so(e)}:il,No=po?function(e){return po.get(e)}:il,Ro=Yl?function(e){return null==e?[]:(e=El(e),s(Yl(e),(function(t){return Bl.call(e,t)})))}:sl,Lo=Yl?function(e){for(var t=[];e;)p(t,Ro(e)),e=_l(e);return t}:sl,_o=zt;(oo&&_o(new oo(new ArrayBuffer(1)))!=Fe||io&&_o(new io)!=ue||co&&_o(co.resolve())!=pe||so&&_o(new so)!=ge||uo&&_o(new uo)!=be)&&(_o=function(e){var t=zt(e),n=t==me?e.constructor:$,a=n?or(n):"";if(a)switch(a){case go:return Fe;case Eo:return ue;case ho:return pe;case bo:return ge;case vo:return be}return t});var Do=Cl?Ar:ul,Bo=ar(xo),Wo=$l||function(e,t){return Jt.setTimeout(e,t)},Uo=ar(Io),zo=function(e){var t=kr((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(je,(function(e,n,a,r){t.push(a?r.replace(Je,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),jo=Pn((function(e,t){return Pr(e)?It(e,Nt(t,1,Pr,!0)):[]})),Ho=Pn((function(e,t){var n=pr(t);return Pr(n)&&(n=$),Pr(e)?It(e,Nt(t,1,Pr,!0),Ba(n,2)):[]})),Vo=Pn((function(e,t){var n=pr(t);return Pr(n)&&(n=$),Pr(e)?It(e,Nt(t,1,Pr,!0),$,n):[]})),Go=Pn((function(e){var t=m(e,Yn);return t.length&&t[0]===e[0]?Qt(t):[]})),$o=Pn((function(e){var t=pr(e),n=m(e,Yn);return t===pr(n)?t=$:n.pop(),n.length&&n[0]===e[0]?Qt(n,Ba(t,2)):[]})),Ko=Pn((function(e){var t=pr(e),n=m(e,Yn);return(t="function"==typeof t?t:$)&&n.pop(),n.length&&n[0]===e[0]?Qt(n,$,t):[]})),Xo=Pn(fr),Yo=Na((function(e,t){var n=null==e?0:e.length,a=Mt(e,t);return Tn(e,m(t,(function(e){return Ga(e,n)?+e:e})).sort(na)),a})),qo=Pn((function(e){return jn(Nt(e,1,Pr,!0))})),Qo=Pn((function(e){var t=pr(e);return Pr(t)&&(t=$),jn(Nt(e,1,Pr,!0),Ba(t,2))})),Jo=Pn((function(e){var t=pr(e);return t="function"==typeof t?t:$,jn(Nt(e,1,Pr,!0),$,t)})),Zo=Pn((function(e,t){return Pr(e)?It(e,t):[]})),ei=Pn((function(e){return Kn(s(e,Pr))})),ti=Pn((function(e){var t=pr(e);return Pr(t)&&(t=$),Kn(s(e,Pr),Ba(t,2))})),ni=Pn((function(e){var t=pr(e);return t="function"==typeof t?t:$,Kn(s(e,Pr),$,t)})),ai=Pn(Er),ri=Pn((function(e){var t=e.length,n=t>1?e[t-1]:$;return n="function"==typeof n?(e.pop(),n):$,hr(e,n)})),li=Na((function(e){var t=e.length,n=t?e[0]:0,a=this.__wrapped__,r=function(t){return Mt(t,e)};return!(t>1||this.__actions__.length)&&a instanceof $e&&Ga(n)?((a=a.slice(n,+n+(t?1:0))).__actions__.push({func:vr,args:[r],thisArg:$}),new M(a,this.__chain__).thru((function(e){return t&&!e.length&&e.push($),e}))):this.thru(r)})),oi=ia((function(e,t,n){wl.call(e,n)?++e[n]:Ct(e,n,1)})),ii=ga(sr),ci=ga(ur),si=ia((function(e,t,n){wl.call(e,n)?e[n].push(t):Ct(e,n,[t])})),ui=Pn((function(e,t,n){var a=-1,l="function"==typeof t,o=Ir(e)?dl(e.length):[];return Mo(e,(function(e){o[++a]=l?r(t,e,n):Zt(e,t,n)})),o})),di=ia((function(e,t,n){Ct(e,n,t)})),mi=ia((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),pi=Pn((function(e,t){if(null==e)return[];var n=t.length;return n>1&&$a(e,t[0],t[1])?t=[]:n>2&&$a(t[0],t[1],t[2])&&(t=[t[0]]),Mn(e,Nt(t,1),[])})),fi=Gl||function(){return Jt.Date.now()},gi=Pn((function(e,t,n){var a=1;if(n.length){var r=U(n,Da(gi));a|=q}return xa(e,a,t,n,r)})),Ei=Pn((function(e,t,n){var a=3;if(n.length){var r=U(n,Da(Ei));a|=q}return xa(t,a,e,n,r)})),hi=Pn((function(e,t){return xt(e,1,t)})),bi=Pn((function(e,t,n){return xt(e,Gr(t)||0,n)}));kr.Cache=dt;var vi=Po((function(e,t){var n=(t=1==t.length&&ki(t[0])?m(t[0],I(Ba())):m(Nt(t,1),I(Ba()))).length;return Pn((function(a){for(var l=-1,o=to(a.length,n);++l<o;)a[l]=t[l].call(this,a[l]);return r(e,this,a)}))})),Fi=Pn((function(e,t){return xa(e,q,$,t,U(t,Da(Fi)))})),yi=Pn((function(e,t){return xa(e,64,$,t,U(t,Da(yi)))})),Si=Na((function(e,t){return xa(e,256,$,$,$,t)})),Ci=Ma(jt),Mi=Ma((function(e,t){return e>=t})),wi=en(function(){return arguments}())?en:function(e){return _r(e)&&wl.call(e,"callee")&&!Bl.call(e,"callee")},ki=dl.isArray,Ti=rn?I(rn):function(e){return _r(e)&&zt(e)==ve},xi=ql||ul,Ii=ln?I(ln):function(e){return _r(e)&&zt(e)==oe},Pi=on?I(on):function(e){return _r(e)&&_o(e)==ue},Oi=cn?I(cn):function(e){return _r(e)&&zt(e)==fe},Ai=sn?I(sn):function(e){return _r(e)&&_o(e)==ge},Ni=un?I(un):function(e){return _r(e)&&Rr(e.length)&&!!Gt[zt(e)]},Ri=Ma(bn),Li=Ma((function(e,t){return e<=t})),_i=ca((function(e,t){if(Ya(t)||Ir(t))return oa(t,qr(t),e),$;for(var n in t)wl.call(t,n)&&vt(e,n,t[n])})),Di=ca((function(e,t){oa(t,Qr(t),e)})),Bi=ca((function(e,t,n,a){oa(t,Qr(t),e,a)})),Wi=ca((function(e,t,n,a){oa(t,qr(t),e,a)})),Ui=Na(Mt),zi=Pn((function(e,t){e=El(e);var n=-1,a=t.length,r=a>2?t[2]:$;for(r&&$a(t[0],t[1],r)&&(a=1);++n<a;)for(var l=t[n],o=Qr(l),i=-1,c=o.length;++i<c;){var s=o[i],u=e[s];(u===$||xr(u,Sl[s])&&!wl.call(e,s))&&(e[s]=l[s])}return e})),ji=Pn((function(e){return e.push($,Pa),r(Ki,$,e)})),Hi=ba((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=xl.call(t)),e[t]=n}),al(rl)),Vi=ba((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=xl.call(t)),wl.call(e,t)?e[t].push(n):e[t]=[n]}),Ba),Gi=Pn(Zt),$i=ca((function(e,t,n){Sn(e,t,n)})),Ki=ca((function(e,t,n,a){Sn(e,t,n,a)})),Xi=Na((function(e,t){var n={};if(null==e)return n;var a=!1;t=m(t,(function(t){return t=Qn(t,e),a||(a=t.length>1),t})),oa(e,La(e),n),a&&(n=kt(n,7,Oa));for(var r=t.length;r--;)Hn(n,t[r]);return n})),Yi=Na((function(e,t){return null==e?{}:function(e,t){return wn(e,t,(function(t,n){return Yr(e,n)}))}(e,t)})),qi=Ta(qr),Qi=Ta(Qr),Ji=ma((function(e,t,n){return t=t.toLowerCase(),e+(n?el(t):t)})),Zi=ma((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),ec=ma((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),tc=da("toLowerCase"),nc=ma((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),ac=ma((function(e,t,n){return e+(n?" ":"")+lc(t)})),rc=ma((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),lc=da("toUpperCase"),oc=Pn((function(e,t){try{return r(e,$,t)}catch(e){return Or(e)?e:new pl(e)}})),ic=Na((function(e,t){return o(t,(function(t){t=lr(t),Ct(e,t,gi(e[t],e))})),e})),cc=Ea(),sc=Ea(!0),uc=Pn((function(e,t){return function(n){return Zt(n,e,t)}})),dc=Pn((function(e,t){return function(n){return Zt(e,n,t)}})),mc=Fa(m),pc=Fa(c),fc=Fa(E),gc=Ca(),Ec=Ca(!0),hc=va((function(e,t){return e+t}),0),bc=ka("ceil"),vc=va((function(e,t){return e/t}),1),Fc=ka("floor"),yc=va((function(e,t){return e*t}),1),Sc=ka("round"),Cc=va((function(e,t){return e-t}),0);return n.after=function(e,t){if("function"!=typeof t)throw new vl(K);return e=Hr(e),function(){if(--e<1)return t.apply(this,arguments)}},n.ary=Cr,n.assign=_i,n.assignIn=Di,n.assignInWith=Bi,n.assignWith=Wi,n.at=Ui,n.before=Mr,n.bind=gi,n.bindAll=ic,n.bindKey=Ei,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ki(e)?e:[e]},n.chain=br,n.chunk=function(e,t,n){t=(n?$a(e,t,n):t===$)?1:eo(Hr(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var r=0,l=0,o=dl(Kl(a/t));r<a;)o[l++]=Ln(e,r,r+=t);return o},n.compact=function(e){for(var t=-1,n=null==e?0:e.length,a=0,r=[];++t<n;){var l=e[t];l&&(r[a++]=l)}return r},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=dl(e-1),n=arguments[0],a=e;a--;)t[a-1]=arguments[a];return p(ki(n)?la(n):[n],Nt(t,1))},n.cond=function(e){var t=null==e?0:e.length,n=Ba();return e=t?m(e,(function(e){if("function"!=typeof e[1])throw new vl(K);return[n(e[0]),e[1]]})):[],Pn((function(n){for(var a=-1;++a<t;){var l=e[a];if(r(l[0],this,n))return r(l[1],this,n)}}))},n.conforms=function(e){return function(e){var t=qr(e);return function(n){return Tt(n,e,t)}}(kt(e,1))},n.constant=al,n.countBy=oi,n.create=function(e,t){var n=Co(e);return null==t?n:St(n,t)},n.curry=function e(t,n,a){var r=xa(t,8,$,$,$,$,$,n=a?$:n);return r.placeholder=e.placeholder,r},n.curryRight=function e(t,n,a){var r=xa(t,16,$,$,$,$,$,n=a?$:n);return r.placeholder=e.placeholder,r},n.debounce=wr,n.defaults=zi,n.defaultsDeep=ji,n.defer=hi,n.delay=bi,n.difference=jo,n.differenceBy=Ho,n.differenceWith=Vo,n.drop=function(e,t,n){var a=null==e?0:e.length;return a?Ln(e,(t=n||t===$?1:Hr(t))<0?0:t,a):[]},n.dropRight=function(e,t,n){var a=null==e?0:e.length;return a?Ln(e,0,(t=a-(t=n||t===$?1:Hr(t)))<0?0:t):[]},n.dropRightWhile=function(e,t){return e&&e.length?Gn(e,Ba(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?Gn(e,Ba(t,3),!0):[]},n.fill=function(e,t,n,a){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&$a(e,t,n)&&(n=0,a=r),function(e,t,n,a){var r=e.length;for((n=Hr(n))<0&&(n=-n>r?0:r+n),(a=a===$||a>r?r:Hr(a))<0&&(a+=r),a=n>a?0:Vr(a);n<a;)e[n++]=t;return e}(e,t,n,a)):[]},n.filter=function(e,t){return(ki(e)?s:At)(e,Ba(t,3))},n.flatMap=function(e,t){return Nt(Sr(e,t),1)},n.flatMapDeep=function(e,t){return Nt(Sr(e,t),J)},n.flatMapDepth=function(e,t,n){return n=n===$?1:Hr(n),Nt(Sr(e,t),n)},n.flatten=dr,n.flattenDeep=function(e){return null!=e&&e.length?Nt(e,J):[]},n.flattenDepth=function(e,t){return null!=e&&e.length?Nt(e,t=t===$?1:Hr(t)):[]},n.flip=function(e){return xa(e,512)},n.flow=cc,n.flowRight=sc,n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,a={};++t<n;){var r=e[t];a[r[0]]=r[1]}return a},n.functions=function(e){return null==e?[]:_t(e,qr(e))},n.functionsIn=function(e){return null==e?[]:_t(e,Qr(e))},n.groupBy=si,n.initial=function(e){return null!=e&&e.length?Ln(e,0,-1):[]},n.intersection=Go,n.intersectionBy=$o,n.intersectionWith=Ko,n.invert=Hi,n.invertBy=Vi,n.invokeMap=ui,n.iteratee=ll,n.keyBy=di,n.keys=qr,n.keysIn=Qr,n.map=Sr,n.mapKeys=function(e,t){var n={};return t=Ba(t,3),Rt(e,(function(e,a,r){Ct(n,t(e,a,r),e)})),n},n.mapValues=function(e,t){var n={};return t=Ba(t,3),Rt(e,(function(e,a,r){Ct(n,a,t(e,a,r))})),n},n.matches=function(e){return Fn(kt(e,1))},n.matchesProperty=function(e,t){return yn(e,kt(t,1))},n.memoize=kr,n.merge=$i,n.mergeWith=Ki,n.method=uc,n.methodOf=dc,n.mixin=ol,n.negate=Tr,n.nthArg=function(e){return e=Hr(e),Pn((function(t){return Cn(t,e)}))},n.omit=Xi,n.omitBy=function(e,t){return Jr(e,Tr(Ba(t)))},n.once=function(e){return Mr(2,e)},n.orderBy=function(e,t,n,a){return null==e?[]:(ki(t)||(t=null==t?[]:[t]),ki(n=a?$:n)||(n=null==n?[]:[n]),Mn(e,t,n))},n.over=mc,n.overArgs=vi,n.overEvery=pc,n.overSome=fc,n.partial=Fi,n.partialRight=yi,n.partition=mi,n.pick=Yi,n.pickBy=Jr,n.property=cl,n.propertyOf=function(e){return function(t){return null==e?$:Wt(e,t)}},n.pull=Xo,n.pullAll=fr,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?kn(e,t,Ba(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?kn(e,t,$,n):e},n.pullAt=Yo,n.range=gc,n.rangeRight=Ec,n.rearg=Si,n.reject=function(e,t){return(ki(e)?s:At)(e,Tr(Ba(t,3)))},n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var a=-1,r=[],l=e.length;for(t=Ba(t,3);++a<l;){var o=e[a];t(o,a,e)&&(n.push(o),r.push(a))}return Tn(e,r),n},n.rest=function(e,t){if("function"!=typeof e)throw new vl(K);return Pn(e,t=t===$?t:Hr(t))},n.reverse=gr,n.sampleSize=function(e,t,n){return t=(n?$a(e,t,n):t===$)?1:Hr(t),(ki(e)?Et:An)(e,t)},n.set=function(e,t,n){return null==e?e:Nn(e,t,n)},n.setWith=function(e,t,n,a){return a="function"==typeof a?a:$,null==e?e:Nn(e,t,n,a)},n.shuffle=function(e){return(ki(e)?ht:Rn)(e)},n.slice=function(e,t,n){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&$a(e,t,n)?(t=0,n=a):(t=null==t?0:Hr(t),n=n===$?a:Hr(n)),Ln(e,t,n)):[]},n.sortBy=pi,n.sortedUniq=function(e){return e&&e.length?Wn(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?Wn(e,Ba(t,2)):[]},n.split=function(e,t,n){return n&&"number"!=typeof n&&$a(e,t,n)&&(t=n=$),(n=n===$?te:n>>>0)?(e=Kr(e))&&("string"==typeof t||null!=t&&!Oi(t))&&!(t=zn(t))&&_(e)?Jn(H(e),0,n):e.split(t,n):[]},n.spread=function(e,t){if("function"!=typeof e)throw new vl(K);return t=null==t?0:eo(Hr(t),0),Pn((function(n){var a=n[t],l=Jn(n,0,t);return a&&p(l,a),r(e,this,l)}))},n.tail=function(e){var t=null==e?0:e.length;return t?Ln(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?Ln(e,0,(t=n||t===$?1:Hr(t))<0?0:t):[]},n.takeRight=function(e,t,n){var a=null==e?0:e.length;return a?Ln(e,(t=a-(t=n||t===$?1:Hr(t)))<0?0:t,a):[]},n.takeRightWhile=function(e,t){return e&&e.length?Gn(e,Ba(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?Gn(e,Ba(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var a=!0,r=!0;if("function"!=typeof e)throw new vl(K);return Lr(n)&&(a="leading"in n?!!n.leading:a,r="trailing"in n?!!n.trailing:r),wr(e,t,{leading:a,maxWait:t,trailing:r})},n.thru=vr,n.toArray=zr,n.toPairs=qi,n.toPairsIn=Qi,n.toPath=function(e){return ki(e)?m(e,lr):Ur(e)?[e]:la(zo(Kr(e)))},n.toPlainObject=$r,n.transform=function(e,t,n){var a=ki(e),r=a||xi(e)||Ni(e);if(t=Ba(t,4),null==n){var l=e&&e.constructor;n=r?a?new l:[]:Lr(e)&&Ar(l)?Co(_l(e)):{}}return(r?o:Rt)(e,(function(e,a,r){return t(n,e,a,r)})),n},n.unary=function(e){return Cr(e,1)},n.union=qo,n.unionBy=Qo,n.unionWith=Jo,n.uniq=function(e){return e&&e.length?jn(e):[]},n.uniqBy=function(e,t){return e&&e.length?jn(e,Ba(t,2)):[]},n.uniqWith=function(e,t){return t="function"==typeof t?t:$,e&&e.length?jn(e,$,t):[]},n.unset=function(e,t){return null==e||Hn(e,t)},n.unzip=Er,n.unzipWith=hr,n.update=function(e,t,n){return null==e?e:Vn(e,t,qn(n))},n.updateWith=function(e,t,n,a){return a="function"==typeof a?a:$,null==e?e:Vn(e,t,qn(n),a)},n.values=Zr,n.valuesIn=function(e){return null==e?[]:P(e,Qr(e))},n.without=Zo,n.words=nl,n.wrap=function(e,t){return Fi(qn(t),e)},n.xor=ei,n.xorBy=ti,n.xorWith=ni,n.zip=ai,n.zipObject=function(e,t){return Xn(e||[],t||[],vt)},n.zipObjectDeep=function(e,t){return Xn(e||[],t||[],Nn)},n.zipWith=ri,n.entries=qi,n.entriesIn=Qi,n.extend=Di,n.extendWith=Bi,ol(n,n),n.add=hc,n.attempt=oc,n.camelCase=Ji,n.capitalize=el,n.ceil=bc,n.clamp=function(e,t,n){return n===$&&(n=t,t=$),n!==$&&(n=(n=Gr(n))==n?n:0),t!==$&&(t=(t=Gr(t))==t?t:0),wt(Gr(e),t,n)},n.clone=function(e){return kt(e,4)},n.cloneDeep=function(e){return kt(e,5)},n.cloneDeepWith=function(e,t){return kt(e,5,t="function"==typeof t?t:$)},n.cloneWith=function(e,t){return kt(e,4,t="function"==typeof t?t:$)},n.conformsTo=function(e,t){return null==t||Tt(e,t,qr(t))},n.deburr=tl,n.defaultTo=function(e,t){return null==e||e!=e?t:e},n.divide=vc,n.endsWith=function(e,t,n){e=Kr(e),t=zn(t);var a=e.length,r=n=n===$?a:wt(Hr(n),0,a);return(n-=t.length)>=0&&e.slice(n,r)==t},n.eq=xr,n.escape=function(e){return(e=Kr(e))&&_e.test(e)?e.replace(Re,pn):e},n.escapeRegExp=function(e){return(e=Kr(e))&&Ve.test(e)?e.replace(He,"\\$&"):e},n.every=function(e,t,n){var a=ki(e)?c:Pt;return n&&$a(e,t,n)&&(t=$),a(e,Ba(t,3))},n.find=ii,n.findIndex=sr,n.findKey=function(e,t){return h(e,Ba(t,3),Rt)},n.findLast=ci,n.findLastIndex=ur,n.findLastKey=function(e,t){return h(e,Ba(t,3),Lt)},n.floor=Fc,n.forEach=Fr,n.forEachRight=yr,n.forIn=function(e,t){return null==e?e:ko(e,Ba(t,3),Qr)},n.forInRight=function(e,t){return null==e?e:To(e,Ba(t,3),Qr)},n.forOwn=function(e,t){return e&&Rt(e,Ba(t,3))},n.forOwnRight=function(e,t){return e&&Lt(e,Ba(t,3))},n.get=Xr,n.gt=Ci,n.gte=Mi,n.has=function(e,t){return null!=e&&ja(e,t,Kt)},n.hasIn=Yr,n.head=mr,n.identity=rl,n.includes=function(e,t,n,a){e=Ir(e)?e:Zr(e),n=n&&!a?Hr(n):0;var r=e.length;return n<0&&(n=eo(r+n,0)),Wr(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&v(e,t,n)>-1},n.indexOf=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=null==n?0:Hr(n);return r<0&&(r=eo(a+r,0)),v(e,t,r)},n.inRange=function(e,t,n){return t=jr(t),n===$?(n=t,t=0):n=jr(n),function(e,t,n){return e>=to(t,n)&&e<eo(t,n)}(e=Gr(e),t,n)},n.invoke=Gi,n.isArguments=wi,n.isArray=ki,n.isArrayBuffer=Ti,n.isArrayLike=Ir,n.isArrayLikeObject=Pr,n.isBoolean=function(e){return!0===e||!1===e||_r(e)&&zt(e)==le},n.isBuffer=xi,n.isDate=Ii,n.isElement=function(e){return _r(e)&&1===e.nodeType&&!Br(e)},n.isEmpty=function(e){if(null==e)return!0;if(Ir(e)&&(ki(e)||"string"==typeof e||"function"==typeof e.splice||xi(e)||Ni(e)||wi(e)))return!e.length;var t=_o(e);if(t==ue||t==ge)return!e.size;if(Ya(e))return!hn(e).length;for(var n in e)if(wl.call(e,n))return!1;return!0},n.isEqual=function(e,t){return nn(e,t)},n.isEqualWith=function(e,t,n){var a=(n="function"==typeof n?n:$)?n(e,t):$;return a===$?nn(e,t,$,n):!!a},n.isError=Or,n.isFinite=function(e){return"number"==typeof e&&Ql(e)},n.isFunction=Ar,n.isInteger=Nr,n.isLength=Rr,n.isMap=Pi,n.isMatch=function(e,t){return e===t||an(e,t,Ua(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:$,an(e,t,Ua(t),n)},n.isNaN=function(e){return Dr(e)&&e!=+e},n.isNative=function(e){if(Do(e))throw new pl("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return dn(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=Dr,n.isObject=Lr,n.isObjectLike=_r,n.isPlainObject=Br,n.isRegExp=Oi,n.isSafeInteger=function(e){return Nr(e)&&e>=-Z&&e<=Z},n.isSet=Ai,n.isString=Wr,n.isSymbol=Ur,n.isTypedArray=Ni,n.isUndefined=function(e){return e===$},n.isWeakMap=function(e){return _r(e)&&_o(e)==be},n.isWeakSet=function(e){return _r(e)&&"[object WeakSet]"==zt(e)},n.join=function(e,t){return null==e?"":Jl.call(e,t)},n.kebabCase=Zi,n.last=pr,n.lastIndexOf=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=a;return n!==$&&(r=(r=Hr(n))<0?eo(a+r,0):to(r,a-1)),t==t?function(e,t,n){for(var a=n+1;a--;)if(e[a]===t)return a;return a}(e,t,r):b(e,y,r,!0)},n.lowerCase=ec,n.lowerFirst=tc,n.lt=Ri,n.lte=Li,n.max=function(e){return e&&e.length?Ot(e,rl,jt):$},n.maxBy=function(e,t){return e&&e.length?Ot(e,Ba(t,2),jt):$},n.mean=function(e){return S(e,rl)},n.meanBy=function(e,t){return S(e,Ba(t,2))},n.min=function(e){return e&&e.length?Ot(e,rl,bn):$},n.minBy=function(e,t){return e&&e.length?Ot(e,Ba(t,2),bn):$},n.stubArray=sl,n.stubFalse=ul,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=yc,n.nth=function(e,t){return e&&e.length?Cn(e,Hr(t)):$},n.noConflict=function(){return Jt._===this&&(Jt._=Pl),this},n.noop=il,n.now=fi,n.pad=function(e,t,n){e=Kr(e);var a=(t=Hr(t))?j(e):0;if(!t||a>=t)return e;var r=(t-a)/2;return ya(Xl(r),n)+e+ya(Kl(r),n)},n.padEnd=function(e,t,n){e=Kr(e);var a=(t=Hr(t))?j(e):0;return t&&a<t?e+ya(t-a,n):e},n.padStart=function(e,t,n){e=Kr(e);var a=(t=Hr(t))?j(e):0;return t&&a<t?ya(t-a,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ao(Kr(e).replace(Ge,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&$a(e,t,n)&&(t=n=$),n===$&&("boolean"==typeof t?(n=t,t=$):"boolean"==typeof e&&(n=e,e=$)),e===$&&t===$?(e=0,t=1):(e=jr(e),t===$?(t=e,e=0):t=jr(t)),e>t){var a=e;e=t,t=a}if(n||e%1||t%1){var r=ro();return to(e+r*(t-e+Xt("1e-"+((r+"").length-1))),t)}return xn(e,t)},n.reduce=function(e,t,n){var a=ki(e)?f:w,r=arguments.length<3;return a(e,Ba(t,4),n,r,Mo)},n.reduceRight=function(e,t,n){var a=ki(e)?g:w,r=arguments.length<3;return a(e,Ba(t,4),n,r,wo)},n.repeat=function(e,t,n){return t=(n?$a(e,t,n):t===$)?1:Hr(t),In(Kr(e),t)},n.replace=function(){var e=arguments,t=Kr(e[0]);return e.length<3?t:t.replace(e[1],e[2])},n.result=function(e,t,n){var a=-1,r=(t=Qn(t,e)).length;for(r||(r=1,e=$);++a<r;){var l=null==e?$:e[lr(t[a])];l===$&&(a=r,l=n),e=Ar(l)?l.call(e):l}return e},n.round=Sc,n.runInContext=e,n.sample=function(e){return(ki(e)?gt:On)(e)},n.size=function(e){if(null==e)return 0;if(Ir(e))return Wr(e)?j(e):e.length;var t=_o(e);return t==ue||t==ge?e.size:hn(e).length},n.snakeCase=nc,n.some=function(e,t,n){var a=ki(e)?E:_n;return n&&$a(e,t,n)&&(t=$),a(e,Ba(t,3))},n.sortedIndex=function(e,t){return Dn(e,t)},n.sortedIndexBy=function(e,t,n){return Bn(e,t,Ba(n,2))},n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var a=Dn(e,t);if(a<n&&xr(e[a],t))return a}return-1},n.sortedLastIndex=function(e,t){return Dn(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return Bn(e,t,Ba(n,2),!0)},n.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Dn(e,t,!0)-1;if(xr(e[n],t))return n}return-1},n.startCase=ac,n.startsWith=function(e,t,n){return e=Kr(e),n=null==n?0:wt(Hr(n),0,e.length),t=zn(t),e.slice(n,n+t.length)==t},n.subtract=Cc,n.sum=function(e){return e&&e.length?k(e,rl):0},n.sumBy=function(e,t){return e&&e.length?k(e,Ba(t,2)):0},n.template=function(e,t,a){var r=n.templateSettings;a&&$a(e,t,a)&&(t=$),e=Kr(e),t=Bi({},t,r,Ia);var l,o,i=Bi({},t.imports,r.imports,Ia),c=qr(i),s=P(i,c),u=0,d=t.interpolate||it,m="__p += '",p=hl((t.escape||it).source+"|"+d.source+"|"+(d===We?Ze:it).source+"|"+(t.evaluate||it).source+"|$","g"),f="//# sourceURL="+(wl.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vt+"]")+"\n";e.replace(p,(function(t,n,a,r,i,c){return a||(a=r),m+=e.slice(u,c).replace(ct,L),n&&(l=!0,m+="' +\n__e("+n+") +\n'"),i&&(o=!0,m+="';\n"+i+";\n__p += '"),a&&(m+="' +\n((__t = ("+a+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),m+="';\n";var g=wl.call(t,"variable")&&t.variable;if(g){if(Qe.test(g))throw new pl("Invalid `variable` option passed into `_.template`")}else m="with (obj) {\n"+m+"\n}\n";m=(o?m.replace(Pe,""):m).replace(Oe,"$1").replace(Ae,"$1;"),m="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(l?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var E=oc((function(){return fl(c,f+"return "+m).apply($,s)}));if(E.source=m,Or(E))throw E;return E},n.times=function(e,t){if((e=Hr(e))<1||e>Z)return[];var n=te,a=to(e,te);t=Ba(t),e-=te;for(var r=T(a,t);++n<e;)t(n);return r},n.toFinite=jr,n.toInteger=Hr,n.toLength=Vr,n.toLower=function(e){return Kr(e).toLowerCase()},n.toNumber=Gr,n.toSafeInteger=function(e){return e?wt(Hr(e),-Z,Z):0===e?e:0},n.toString=Kr,n.toUpper=function(e){return Kr(e).toUpperCase()},n.trim=function(e,t,n){if((e=Kr(e))&&(n||t===$))return x(e);if(!e||!(t=zn(t)))return e;var a=H(e),r=H(t);return Jn(a,A(a,r),N(a,r)+1).join("")},n.trimEnd=function(e,t,n){if((e=Kr(e))&&(n||t===$))return e.slice(0,V(e)+1);if(!e||!(t=zn(t)))return e;var a=H(e);return Jn(a,0,N(a,H(t))+1).join("")},n.trimStart=function(e,t,n){if((e=Kr(e))&&(n||t===$))return e.replace(Ge,"");if(!e||!(t=zn(t)))return e;var a=H(e);return Jn(a,A(a,H(t))).join("")},n.truncate=function(e,t){var n=30,a="...";if(Lr(t)){var r="separator"in t?t.separator:r;n="length"in t?Hr(t.length):n,a="omission"in t?zn(t.omission):a}var l=(e=Kr(e)).length;if(_(e)){var o=H(e);l=o.length}if(n>=l)return e;var i=n-j(a);if(i<1)return a;var c=o?Jn(o,0,i).join(""):e.slice(0,i);if(r===$)return c+a;if(o&&(i+=c.length-i),Oi(r)){if(e.slice(i).search(r)){var s,u=c;for(r.global||(r=hl(r.source,Kr(et.exec(r))+"g")),r.lastIndex=0;s=r.exec(u);)var d=s.index;c=c.slice(0,d===$?i:d)}}else if(e.indexOf(zn(r),i)!=i){var m=c.lastIndexOf(r);m>-1&&(c=c.slice(0,m))}return c+a},n.unescape=function(e){return(e=Kr(e))&&Le.test(e)?e.replace(Ne,fn):e},n.uniqueId=function(e){var t=++kl;return Kr(e)+t},n.upperCase=rc,n.upperFirst=lc,n.each=Fr,n.eachRight=yr,n.first=mr,ol(n,function(){var e={};return Rt(n,(function(t,a){wl.call(n.prototype,a)||(e[a]=t)})),e}(),{chain:!1}),n.VERSION="4.17.21",o(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){n[e].placeholder=n})),o(["drop","take"],(function(e,t){$e.prototype[e]=function(n){n=n===$?1:eo(Hr(n),0);var a=this.__filtered__&&!t?new $e(this):this.clone();return a.__filtered__?a.__takeCount__=to(n,a.__takeCount__):a.__views__.push({size:to(n,te),type:e+(a.__dir__<0?"Right":"")}),a},$e.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),o(["filter","map","takeWhile"],(function(e,t){var n=t+1,a=1==n||3==n;$e.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ba(e,3),type:n}),t.__filtered__=t.__filtered__||a,t}})),o(["head","last"],(function(e,t){var n="take"+(t?"Right":"");$e.prototype[e]=function(){return this[n](1).value()[0]}})),o(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");$e.prototype[e]=function(){return this.__filtered__?new $e(this):this[n](1)}})),$e.prototype.compact=function(){return this.filter(rl)},$e.prototype.find=function(e){return this.filter(e).head()},$e.prototype.findLast=function(e){return this.reverse().find(e)},$e.prototype.invokeMap=Pn((function(e,t){return"function"==typeof e?new $e(this):this.map((function(n){return Zt(n,e,t)}))})),$e.prototype.reject=function(e){return this.filter(Tr(Ba(e)))},$e.prototype.slice=function(e,t){e=Hr(e);var n=this;return n.__filtered__&&(e>0||t<0)?new $e(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==$&&(n=(t=Hr(t))<0?n.dropRight(-t):n.take(t-e)),n)},$e.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},$e.prototype.toArray=function(){return this.take(te)},Rt($e.prototype,(function(e,t){var a=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),l=n[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);l&&(n.prototype[t]=function(){var t=this.__wrapped__,i=r?[1]:arguments,c=t instanceof $e,s=i[0],u=c||ki(t),d=function(e){var t=l.apply(n,p([e],i));return r&&m?t[0]:t};u&&a&&"function"==typeof s&&1!=s.length&&(c=u=!1);var m=this.__chain__,f=!!this.__actions__.length,g=o&&!m,E=c&&!f;if(!o&&u){t=E?t:new $e(this);var h=e.apply(t,i);return h.__actions__.push({func:vr,args:[d],thisArg:$}),new M(h,m)}return g&&E?e.apply(this,i):(h=this.thru(d),g?r?h.value()[0]:h.value():h)})})),o(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Fl[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var n=this.value();return t.apply(ki(n)?n:[],e)}return this[a]((function(n){return t.apply(ki(n)?n:[],e)}))}})),Rt($e.prototype,(function(e,t){var a=n[t];if(a){var r=a.name+"";wl.call(fo,r)||(fo[r]=[]),fo[r].push({name:t,func:a})}})),fo[ha($,2).name]=[{name:"wrapper",func:$}],$e.prototype.clone=function(){var e=new $e(this.__wrapped__);return e.__actions__=la(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=la(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=la(this.__views__),e},$e.prototype.reverse=function(){if(this.__filtered__){var e=new $e(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},$e.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ki(e),a=t<0,r=n?e.length:0,l=function(e,t,n){for(var a=-1,r=n.length;++a<r;){var l=n[a],o=l.size;switch(l.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=to(t,e+o);break;case"takeRight":e=eo(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=l.start,i=l.end,c=i-o,s=a?i:o-1,u=this.__iteratees__,d=u.length,m=0,p=to(c,this.__takeCount__);if(!n||!a&&r==c&&p==c)return $n(e,this.__actions__);var f=[];e:for(;c--&&m<p;){for(var g=-1,E=e[s+=t];++g<d;){var h=u[g],b=h.iteratee,v=h.type,F=b(E);if(2==v)E=F;else if(!F){if(1==v)continue e;break e}}f[m++]=E}return f},n.prototype.at=li,n.prototype.chain=function(){return br(this)},n.prototype.commit=function(){return new M(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===$&&(this.__values__=zr(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?$:this.__values__[this.__index__++]}},n.prototype.plant=function(e){for(var t,n=this;n instanceof a;){var r=cr(n);r.__index__=0,r.__values__=$,t?l.__wrapped__=r:t=r;var l=r;n=n.__wrapped__}return l.__wrapped__=e,t},n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof $e){var t=e;return this.__actions__.length&&(t=new $e(this)),(t=t.reverse()).__actions__.push({func:vr,args:[gr],thisArg:$}),new M(t,this.__chain__)}return this.thru(gr)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return $n(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,zl&&(n.prototype[zl]=function(){return this}),n}();Jt._=gn,void 0===(a=function(){return gn}.call(t,n,t,e))||(e.exports=a)}.call(this)},27418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,l){for(var o,i,c=r(e),s=1;s<arguments.length;s++){for(var u in o=Object(arguments[s]))n.call(o,u)&&(c[u]=o[u]);if(t){i=t(o);for(var d=0;d<i.length;d++)a.call(o,i[d])&&(c[i[d]]=o[i[d]])}}return c}},63195:(e,t,n)=>{var a=n(7455),r=n(79002)((function(e,t){return a(e.length,(function(){return e.apply(t,arguments)}))}));e.exports=r},2220:(e,t,n)=>{var a=n(7455),r=n(76224),l=n(79002),o=n(32738),i=l((function(e,t){return 1===e?r(t):a(e,o(e,[],t))}));e.exports=i},51481:(e,t,n)=>{var a=n(79002),r=n(74023),l=a((function(e,t){return r(e,t,[],[])}));e.exports=l},51383:(e,t,n)=>{var a=n(79002),r=n(34793),l=n(34877),o=n(8291),i=n(39488),c=n(11383),s=n(90368),u=a(r(["filter"],c,(function(e,t){return o(t)?i((function(n,a){return e(t[a])&&(n[a]=t[a]),n}),{},s(t)):l(e,t)})));e.exports=u},46376:(e,t,n)=>{var a=n(79002)(n(34793)(["find"],n(47855),(function(e,t){for(var n=0,a=t.length;n<a;){if(e(t[n]))return t[n];n+=1}})));e.exports=a},9134:(e,t,n)=>{var a=n(76224),r=n(2220),l=a((function(e){return r(e.length,(function(t,n){var a=Array.prototype.slice.call(arguments,0);return a[0]=n,a[1]=t,e.apply(this,a)}))}));e.exports=l},59270:(e,t,n)=>{var a=n(87243),r=n(79002)(a);e.exports=r},7455:e=>{e.exports=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,a){return t.apply(this,arguments)};case 4:return function(e,n,a,r){return t.apply(this,arguments)};case 5:return function(e,n,a,r,l){return t.apply(this,arguments)};case 6:return function(e,n,a,r,l,o){return t.apply(this,arguments)};case 7:return function(e,n,a,r,l,o,i){return t.apply(this,arguments)};case 8:return function(e,n,a,r,l,o,i,c){return t.apply(this,arguments)};case 9:return function(e,n,a,r,l,o,i,c,s){return t.apply(this,arguments)};case 10:return function(e,n,a,r,l,o,i,c,s,u){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},54118:e=>{e.exports=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}},73542:(e,t,n)=>{var a=n(20219);e.exports=function(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return a(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}},48770:e=>{e.exports=function(e){return function(){return!e.apply(this,arguments)}}},76224:(e,t,n)=>{var a=n(36464);e.exports=function(e){return function t(n){return 0===arguments.length||a(n)?t:e.apply(this,arguments)}}},79002:(e,t,n)=>{var a=n(76224),r=n(36464);e.exports=function(e){return function t(n,l){switch(arguments.length){case 0:return t;case 1:return r(n)?t:a((function(t){return e(n,t)}));default:return r(n)&&r(l)?t:r(n)?a((function(t){return e(t,l)})):r(l)?a((function(t){return e(n,t)})):e(n,l)}}}},16370:(e,t,n)=>{var a=n(76224),r=n(79002),l=n(36464);e.exports=function(e){return function t(n,o,i){switch(arguments.length){case 0:return t;case 1:return l(n)?t:r((function(t,a){return e(n,t,a)}));case 2:return l(n)&&l(o)?t:l(n)?r((function(t,n){return e(t,o,n)})):l(o)?r((function(t,a){return e(n,t,a)})):a((function(t){return e(n,o,t)}));default:return l(n)&&l(o)&&l(i)?t:l(n)&&l(o)?r((function(t,n){return e(t,n,i)})):l(n)&&l(i)?r((function(t,n){return e(t,o,n)})):l(o)&&l(i)?r((function(t,a){return e(n,t,a)})):l(n)?a((function(t){return e(t,o,i)})):l(o)?a((function(t){return e(n,t,i)})):l(i)?a((function(t){return e(n,o,t)})):e(n,o,i)}}}},32738:(e,t,n)=>{var a=n(7455),r=n(36464);e.exports=function e(t,n,l){return function(){for(var o=[],i=0,c=t,s=0;s<n.length||i<arguments.length;){var u;s<n.length&&(!r(n[s])||i>=arguments.length)?u=n[s]:(u=arguments[i],i+=1),o[s]=u,r(u)||(c-=1),s+=1}return c<=0?l.apply(this,o):a(c,e(t,o,l))}}},34793:(e,t,n)=>{var a=n(20219),r=n(69082);e.exports=function(e,t,n){return function(){if(0===arguments.length)return n();var l=Array.prototype.slice.call(arguments,0),o=l.pop();if(!a(o)){for(var i=0;i<e.length;){if("function"==typeof o[e[i]])return o[e[i]].apply(o,l);i+=1}if(r(o)){var c=t.apply(null,l);return c(o)}}return n.apply(this,arguments)}}},74023:(e,t,n)=>{var a=n(54118),r=n(82976),l=n(4931),o=n(87684),i=n(21361),c=n(90368),s=n(36433);function u(e,t,n,l){var o=a(e),i=a(t);function c(e,t){return d(e,t,n.slice(),l.slice())}return!r((function(e,t){return!r(c,t,e)}),i,o)}function d(e,t,n,a){if(i(e,t))return!0;var r=s(e);if(r!==s(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(r){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===l(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!i(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!i(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var m=n.length-1;m>=0;){if(n[m]===e)return a[m]===t;m-=1}switch(r){case"Map":return e.size===t.size&&u(e.entries(),t.entries(),n.concat([e]),a.concat([t]));case"Set":return e.size===t.size&&u(e.values(),t.values(),n.concat([e]),a.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var p=c(e);if(p.length!==c(t).length)return!1;var f=n.concat([e]),g=a.concat([t]);for(m=p.length-1;m>=0;){var E=p[m];if(!o(E,t)||!d(t[E],e[E],f,g))return!1;m-=1}return!0}e.exports=d},34877:e=>{e.exports=function(e,t){for(var n=0,a=t.length,r=[];n<a;)e(t[n])&&(r[r.length]=t[n]),n+=1;return r}},4931:e=>{e.exports=function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}},87684:e=>{e.exports=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)}},87243:(e,t,n)=>{var a=n(96069);e.exports=function(e,t){return a(t,e,0)>=0}},82976:e=>{e.exports=function(e,t,n){for(var a=0,r=n.length;a<r;){if(e(t,n[a]))return!0;a+=1}return!1}},96069:(e,t,n)=>{var a=n(51481);e.exports=function(e,t,n){var r,l;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;n<e.length;){if(0===(l=e[n])&&1/l===r)return n;n+=1}return-1}if(t!=t){for(;n<e.length;){if("number"==typeof(l=e[n])&&l!=l)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(a(e[n],t))return n;n+=1}return-1}},97587:(e,t,n)=>{var a=n(87684),r=Object.prototype.toString,l=function(){return"[object Arguments]"===r.call(arguments)?function(e){return"[object Arguments]"===r.call(e)}:function(e){return a("callee",e)}}();e.exports=l},20219:e=>{e.exports=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)}},3219:(e,t,n)=>{var a=n(76224),r=n(20219),l=n(20190),o=a((function(e){return!!r(e)||!!e&&"object"==typeof e&&!l(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))}));e.exports=o},8291:e=>{e.exports=function(e){return"[object Object]"===Object.prototype.toString.call(e)}},36464:e=>{e.exports=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}},20190:e=>{e.exports=function(e){return"[object String]"===Object.prototype.toString.call(e)}},69082:e=>{e.exports=function(e){return null!=e&&"function"==typeof e["@@transducer/step"]}},21361:e=>{e.exports="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},39488:(e,t,n)=>{var a=n(3219),r=n(39874),l=n(63195);function o(e,t,n){for(var a=n.next();!a.done;){if((t=e["@@transducer/step"](t,a.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}a=n.next()}return e["@@transducer/result"](t)}function i(e,t,n,a){return e["@@transducer/result"](n[a](l(e["@@transducer/step"],e),t))}var c="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";e.exports=function(e,t,n){if("function"==typeof e&&(e=r(e)),a(n))return function(e,t,n){for(var a=0,r=n.length;a<r;){if((t=e["@@transducer/step"](t,n[a]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}a+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return i(e,t,n,"fantasy-land/reduce");if(null!=n[c])return o(e,t,n[c]());if("function"==typeof n.next)return o(e,t,n);if("function"==typeof n.reduce)return i(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}},22157:e=>{e.exports=function(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}},93714:e=>{e.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}}},11383:(e,t,n)=>{var a=n(79002),r=n(93714),l=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=r.init,e.prototype["@@transducer/result"]=r.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),o=a((function(e,t){return new l(e,t)}));e.exports=o},47855:(e,t,n)=>{var a=n(79002),r=n(22157),l=n(93714),o=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=l.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=r(this.xf["@@transducer/step"](e,t))),e},e}(),i=a((function(e,t){return new o(e,t)}));e.exports=i},39874:e=>{var t=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();e.exports=function(e){return new t(e)}},90368:(e,t,n)=>{var a=n(76224),r=n(87684),l=n(97587),o=!{toString:null}.propertyIsEnumerable("toString"),i=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],c=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),s=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},u="function"!=typeof Object.keys||c?a((function(e){if(Object(e)!==e)return[];var t,n,a=[],u=c&&l(e);for(t in e)!r(t,e)||u&&"length"===t||(a[a.length]=t);if(o)for(n=i.length-1;n>=0;)r(t=i[n],e)&&!s(a,t)&&(a[a.length]=t),n-=1;return a})):a((function(e){return Object(e)!==e?[]:Object.keys(e)}));e.exports=u},18371:(e,t,n)=>{var a=n(16370),r=n(51481),l=a((function(e,t,n){return r(t,n[e])}));e.exports=l},63266:(e,t,n)=>{var a=n(48770),r=n(79002),l=n(51383),o=r((function(e,t){return l(a(e),t)}));e.exports=o},81753:(e,t,n)=>{var a=n(73542),r=n(16370)(a("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)})));e.exports=r},59241:(e,t,n)=>{var a=n(79002),r=n(81753),l=a((function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],a=0;a<t.length;)n.push(r(a,a+=e,t));return n}));e.exports=l},32250:(e,t,n)=>{var a=n(79002)((function(e,t){var n,a=Number(t),r=0;if(a<0||isNaN(a))throw new RangeError("n must be a non-negative number");for(n=new Array(a);r<a;)n[r]=e(r),r+=1;return n}));e.exports=a},36433:(e,t,n)=>{var a=n(76224)((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));e.exports=a},76290:(e,t,n)=>{var a=n(87243),r=n(79002),l=n(9134),o=n(63266),i=r((function(e,t){return o(l(a)(e),t)}));e.exports=i},67287:(e,t,n)=>{e.exports=function t(a){"use strict";var r=n(27418),l=n(67294),o=n(60373);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;c.hasOwnProperty("ReactCurrentDispatcher")||(c.ReactCurrentDispatcher={current:null}),c.hasOwnProperty("ReactCurrentBatchConfig")||(c.ReactCurrentBatchConfig={suspense:null});var s="function"==typeof Symbol&&Symbol.for,u=s?Symbol.for("react.element"):60103,d=s?Symbol.for("react.portal"):60106,m=s?Symbol.for("react.fragment"):60107,p=s?Symbol.for("react.strict_mode"):60108,f=s?Symbol.for("react.profiler"):60114,g=s?Symbol.for("react.provider"):60109,E=s?Symbol.for("react.context"):60110,h=s?Symbol.for("react.concurrent_mode"):60111,b=s?Symbol.for("react.forward_ref"):60112,v=s?Symbol.for("react.suspense"):60113,F=s?Symbol.for("react.suspense_list"):60120,y=s?Symbol.for("react.memo"):60115,S=s?Symbol.for("react.lazy"):60116;s&&Symbol.for("react.fundamental"),s&&Symbol.for("react.responder"),s&&Symbol.for("react.scope");var C="function"==typeof Symbol&&Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}function w(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case d:return"Portal";case f:return"Profiler";case p:return"StrictMode";case v:return"Suspense";case F:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case E:return"Context.Consumer";case g:return"Context.Provider";case b:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case y:return w(e.type);case S:if(e=1===e._status?e._result:null)return w(e)}return null}function k(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function T(e){if(k(e)!==e)throw Error(i(188))}function x(e){var t=e.alternate;if(!t){if(null===(t=k(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(a=r.return)){n=a;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===n)return T(r),e;if(l===a)return T(r),t;l=l.sibling}throw Error(i(188))}if(n.return!==a.return)n=r,a=l;else{for(var o=!1,c=r.child;c;){if(c===n){o=!0,n=r,a=l;break}if(c===a){o=!0,a=r,n=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===n){o=!0,n=l,a=r;break}if(c===a){o=!0,a=l,n=r;break}c=c.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==a)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}function I(e){if(!(e=x(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var P=a.getPublicInstance,O=a.getRootHostContext,A=a.getChildHostContext,N=a.prepareForCommit,R=a.resetAfterCommit,L=a.createInstance,_=a.appendInitialChild,D=a.finalizeInitialChildren,B=a.prepareUpdate,W=a.shouldSetTextContent,U=a.shouldDeprioritizeSubtree,z=a.createTextInstance,j=a.setTimeout,H=a.clearTimeout,V=a.noTimeout,G=a.isPrimaryRenderer,$=a.supportsMutation,K=a.supportsPersistence,X=a.supportsHydration,Y=a.appendChild,q=a.appendChildToContainer,Q=a.commitTextUpdate,J=a.commitMount,Z=a.commitUpdate,ee=a.insertBefore,te=a.insertInContainerBefore,ne=a.removeChild,ae=a.removeChildFromContainer,re=a.resetTextContent,le=a.hideInstance,oe=a.hideTextInstance,ie=a.unhideInstance,ce=a.unhideTextInstance,se=a.cloneInstance,ue=a.createContainerChildSet,de=a.appendChildToContainerChildSet,me=a.finalizeContainerChildren,pe=a.replaceContainerChildren,fe=a.cloneHiddenInstance,ge=a.cloneHiddenTextInstance,Ee=a.canHydrateInstance,he=a.canHydrateTextInstance,be=a.isSuspenseInstancePending,ve=a.isSuspenseInstanceFallback,Fe=a.getNextHydratableSibling,ye=a.getFirstHydratableChild,Se=a.hydrateInstance,Ce=a.hydrateTextInstance,Me=a.getNextHydratableInstanceAfterSuspenseInstance,we=a.commitHydratedContainer,ke=a.commitHydratedSuspenseInstance,Te=/^(.*)[\\\/]/;function xe(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var a=e._debugOwner,r=e._debugSource,l=w(e.type);n=null,a&&(n=w(a.type)),a=l,l="",r?l=" (at "+r.fileName.replace(Te,"")+":"+r.lineNumber+")":n&&(l=" (created by "+n+")"),n="\n    in "+(a||"Unknown")+l}t+=n,e=e.return}while(e);return t}new Set;var Ie=[],Pe=-1;function Oe(e){0>Pe||(e.current=Ie[Pe],Ie[Pe]=null,Pe--)}function Ae(e,t){Pe++,Ie[Pe]=e.current,e.current=t}var Ne={},Re={current:Ne},Le={current:!1},_e=Ne;function De(e,t){var n=e.type.contextTypes;if(!n)return Ne;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,l={};for(r in n)l[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Be(e){return null!=e.childContextTypes}function We(e){Oe(Le),Oe(Re)}function Ue(e){Oe(Le),Oe(Re)}function ze(e,t,n){if(Re.current!==Ne)throw Error(i(168));Ae(Re,t),Ae(Le,n)}function je(e,t,n){var a=e.stateNode;if(e=t.childContextTypes,"function"!=typeof a.getChildContext)return n;for(var l in a=a.getChildContext())if(!(l in e))throw Error(i(108,w(t)||"Unknown",l));return r({},n,{},a)}function He(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Ne,_e=Re.current,Ae(Re,t),Ae(Le,Le.current),!0}function Ve(e,t,n){var a=e.stateNode;if(!a)throw Error(i(169));n?(t=je(e,t,_e),a.__reactInternalMemoizedMergedChildContext=t,Oe(Le),Oe(Re),Ae(Re,t)):Oe(Le),Ae(Le,n)}var Ge=o.unstable_runWithPriority,$e=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,Ye=o.unstable_requestPaint,qe=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,Ze=o.unstable_UserBlockingPriority,et=o.unstable_NormalPriority,tt=o.unstable_LowPriority,nt=o.unstable_IdlePriority,at={},rt=void 0!==Ye?Ye:function(){},lt=null,ot=null,it=!1,ct=qe(),st=1e4>ct?qe:function(){return qe()-ct};function ut(){switch(Qe()){case Je:return 99;case Ze:return 98;case et:return 97;case tt:return 96;case nt:return 95;default:throw Error(i(332))}}function dt(e){switch(e){case 99:return Je;case 98:return Ze;case 97:return et;case 96:return tt;case 95:return nt;default:throw Error(i(332))}}function mt(e,t){return e=dt(e),Ge(e,t)}function pt(e,t,n){return e=dt(e),$e(e,t,n)}function ft(e){return null===lt?(lt=[e],ot=$e(Je,Et)):lt.push(e),at}function gt(){if(null!==ot){var e=ot;ot=null,Ke(e)}Et()}function Et(){if(!it&&null!==lt){it=!0;var e=0;try{var t=lt;mt(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),lt=null}catch(t){throw null!==lt&&(lt=lt.slice(e+1)),$e(Je,gt),t}finally{it=!1}}}var ht=3;function bt(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}var vt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Ft=Object.prototype.hasOwnProperty;function yt(e,t){if(vt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++)if(!Ft.call(t,n[a])||!vt(e[n[a]],t[n[a]]))return!1;return!0}function St(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Ct={current:null},Mt=null,wt=null,kt=null;function Tt(){kt=wt=Mt=null}function xt(e,t){var n=e.type._context;G?(Ae(Ct,n._currentValue),n._currentValue=t):(Ae(Ct,n._currentValue2),n._currentValue2=t)}function It(e){var t=Ct.current;Oe(Ct),e=e.type._context,G?e._currentValue=t:e._currentValue2=t}function Pt(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Ot(e,t){Mt=e,kt=wt=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ma=!0),e.firstContext=null)}function At(e,t){if(kt!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(kt=e,t=1073741823),t={context:e,observedBits:t,next:null},null===wt){if(null===Mt)throw Error(i(308));wt=t,Mt.dependencies={expirationTime:0,firstContext:t,responders:null}}else wt=wt.next=t;return G?e._currentValue:e._currentValue2}var Nt=!1;function Rt(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Lt(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function _t(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Dt(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Bt(e,t){var n=e.alternate;if(null===n){var a=e.updateQueue,r=null;null===a&&(a=e.updateQueue=Rt(e.memoizedState))}else a=e.updateQueue,r=n.updateQueue,null===a?null===r?(a=e.updateQueue=Rt(e.memoizedState),r=n.updateQueue=Rt(n.memoizedState)):a=e.updateQueue=Lt(r):null===r&&(r=n.updateQueue=Lt(a));null===r||a===r?Dt(a,t):null===a.lastUpdate||null===r.lastUpdate?(Dt(a,t),Dt(r,t)):(Dt(a,t),r.lastUpdate=t)}function Wt(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Rt(e.memoizedState):Ut(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Ut(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Lt(t)),t}function zt(e,t,n,a,l,o){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(o,a,l):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(l="function"==typeof(e=n.payload)?e.call(o,a,l):e))break;return r({},a,l);case 2:Nt=!0}return a}function jt(e,t,n,a,r){Nt=!1;for(var l=(t=Ut(e,t)).baseState,o=null,i=0,c=t.firstUpdate,s=l;null!==c;){var u=c.expirationTime;u<r?(null===o&&(o=c,l=s),i<u&&(i=u)):(Wr(u,c.suspenseConfig),s=zt(e,0,c,s,n,a),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(u=null,c=t.firstCapturedUpdate;null!==c;){var d=c.expirationTime;d<r?(null===u&&(u=c,null===o&&(l=s)),i<d&&(i=d)):(s=zt(e,0,c,s,n,a),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===o&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===u&&(l=s),t.baseState=l,t.firstUpdate=o,t.firstCapturedUpdate=u,Ur(i),e.expirationTime=i,e.memoizedState=s}function Ht(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Vt(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Vt(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Vt(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var a=t;if("function"!=typeof n)throw Error(i(191,n));n.call(a)}e=e.nextEffect}}var Gt=c.ReactCurrentBatchConfig,$t=(new l.Component).refs;function Kt(e,t,n,a){n=null==(n=n(a,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,null!==(a=e.updateQueue)&&0===e.expirationTime&&(a.baseState=n)}var Xt={isMounted:function(e){return!!(e=e._reactInternalFiber)&&k(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var a=Tr(),r=Gt.suspense;(r=_t(a=xr(a,e,r),r)).payload=t,null!=n&&(r.callback=n),Bt(e,r),Ir(e,a)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var a=Tr(),r=Gt.suspense;(r=_t(a=xr(a,e,r),r)).tag=1,r.payload=t,null!=n&&(r.callback=n),Bt(e,r),Ir(e,a)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Tr(),a=Gt.suspense;(a=_t(n=xr(n,e,a),a)).tag=2,null!=t&&(a.callback=t),Bt(e,a),Ir(e,n)}};function Yt(e,t,n,a,r,l,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,l,o):!(t.prototype&&t.prototype.isPureReactComponent&&yt(n,a)&&yt(r,l))}function qt(e,t,n){var a=!1,r=Ne,l=t.contextType;return"object"==typeof l&&null!==l?l=At(l):(r=Be(t)?_e:Re.current,l=(a=null!=(a=t.contextTypes))?De(e,r):Ne),t=new t(n,l),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Xt,e.stateNode=t,t._reactInternalFiber=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=l),t}function Qt(e,t,n,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Xt.enqueueReplaceState(t,t.state,null)}function Jt(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=$t;var l=t.contextType;"object"==typeof l&&null!==l?r.context=At(l):(l=Be(t)?_e:Re.current,r.context=De(e,l)),null!==(l=e.updateQueue)&&(jt(e,l,n,r,a),r.state=e.memoizedState),"function"==typeof(l=t.getDerivedStateFromProps)&&(Kt(e,t,l,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Xt.enqueueReplaceState(r,r.state,null),null!==(l=e.updateQueue)&&(jt(e,l,n,r,a),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var Zt=Array.isArray;function en(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var a=n.stateNode}if(!a)throw Error(i(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=a.refs;t===$t&&(t=a.refs={}),null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function tn(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function nn(e){function t(t,n){if(e){var a=t.lastEffect;null!==a?(a.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t,n){return(e=ol(e,t)).index=0,e.sibling=null,e}function l(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.effectTag=2,n):a:(t.effectTag=2,n):n}function o(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,a){return null===t||6!==t.tag?((t=sl(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function s(e,t,n,a){return null!==t&&t.elementType===n.type?((a=r(t,n.props)).ref=en(e,t,n),a.return=e,a):((a=il(n.type,n.key,n.props,null,e.mode,a)).ref=en(e,t,n),a.return=e,a)}function p(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ul(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function f(e,t,n,a,l){return null===t||7!==t.tag?((t=cl(n,e.mode,a,l)).return=e,t):((t=r(t,n)).return=e,t)}function g(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=sl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case u:return(n=il(t.type,t.key,t.props,null,e.mode,n)).ref=en(e,null,t),n.return=e,n;case d:return(t=ul(t,e.mode,n)).return=e,t}if(Zt(t)||M(t))return(t=cl(t,e.mode,n,null)).return=e,t;tn(e,t)}return null}function E(e,t,n,a){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:c(e,t,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===r?n.type===m?f(e,t,n.props.children,a,r):s(e,t,n,a):null;case d:return n.key===r?p(e,t,n,a):null}if(Zt(n)||M(n))return null!==r?null:f(e,t,n,a,null);tn(e,n)}return null}function h(e,t,n,a,r){if("string"==typeof a||"number"==typeof a)return c(t,e=e.get(n)||null,""+a,r);if("object"==typeof a&&null!==a){switch(a.$$typeof){case u:return e=e.get(null===a.key?n:a.key)||null,a.type===m?f(t,e,a.props.children,r,a.key):s(t,e,a,r);case d:return p(t,e=e.get(null===a.key?n:a.key)||null,a,r)}if(Zt(a)||M(a))return f(t,e=e.get(n)||null,a,r,null);tn(t,a)}return null}function b(r,o,i,c){for(var s=null,u=null,d=o,m=o=0,p=null;null!==d&&m<i.length;m++){d.index>m?(p=d,d=null):p=d.sibling;var f=E(r,d,i[m],c);if(null===f){null===d&&(d=p);break}e&&d&&null===f.alternate&&t(r,d),o=l(f,o,m),null===u?s=f:u.sibling=f,u=f,d=p}if(m===i.length)return n(r,d),s;if(null===d){for(;m<i.length;m++)null!==(d=g(r,i[m],c))&&(o=l(d,o,m),null===u?s=d:u.sibling=d,u=d);return s}for(d=a(r,d);m<i.length;m++)null!==(p=h(d,r,m,i[m],c))&&(e&&null!==p.alternate&&d.delete(null===p.key?m:p.key),o=l(p,o,m),null===u?s=p:u.sibling=p,u=p);return e&&d.forEach((function(e){return t(r,e)})),s}function v(r,o,c,s){var u=M(c);if("function"!=typeof u)throw Error(i(150));if(null==(c=u.call(c)))throw Error(i(151));for(var d=u=null,m=o,p=o=0,f=null,b=c.next();null!==m&&!b.done;p++,b=c.next()){m.index>p?(f=m,m=null):f=m.sibling;var v=E(r,m,b.value,s);if(null===v){null===m&&(m=f);break}e&&m&&null===v.alternate&&t(r,m),o=l(v,o,p),null===d?u=v:d.sibling=v,d=v,m=f}if(b.done)return n(r,m),u;if(null===m){for(;!b.done;p++,b=c.next())null!==(b=g(r,b.value,s))&&(o=l(b,o,p),null===d?u=b:d.sibling=b,d=b);return u}for(m=a(r,m);!b.done;p++,b=c.next())null!==(b=h(m,r,p,b.value,s))&&(e&&null!==b.alternate&&m.delete(null===b.key?p:b.key),o=l(b,o,p),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(r,e)})),u}return function(e,a,l,c){var s="object"==typeof l&&null!==l&&l.type===m&&null===l.key;s&&(l=l.props.children);var p="object"==typeof l&&null!==l;if(p)switch(l.$$typeof){case u:e:{for(p=l.key,s=a;null!==s;){if(s.key===p){if(7===s.tag?l.type===m:s.elementType===l.type){n(e,s.sibling),(a=r(s,l.type===m?l.props.children:l.props)).ref=en(e,s,l),a.return=e,e=a;break e}n(e,s);break}t(e,s),s=s.sibling}l.type===m?((a=cl(l.props.children,e.mode,c,l.key)).return=e,e=a):((c=il(l.type,l.key,l.props,null,e.mode,c)).ref=en(e,a,l),c.return=e,e=c)}return o(e);case d:e:{for(s=l.key;null!==a;){if(a.key===s){if(4===a.tag&&a.stateNode.containerInfo===l.containerInfo&&a.stateNode.implementation===l.implementation){n(e,a.sibling),(a=r(a,l.children||[])).return=e,e=a;break e}n(e,a);break}t(e,a),a=a.sibling}(a=ul(l,e.mode,c)).return=e,e=a}return o(e)}if("string"==typeof l||"number"==typeof l)return l=""+l,null!==a&&6===a.tag?(n(e,a.sibling),(a=r(a,l)).return=e,e=a):(n(e,a),(a=sl(l,e.mode,c)).return=e,e=a),o(e);if(Zt(l))return b(e,a,l,c);if(M(l))return v(e,a,l,c);if(p&&tn(e,l),void 0===l&&!s)switch(e.tag){case 1:case 0:throw e=e.type,Error(i(152,e.displayName||e.name||"Component"))}return n(e,a)}}var an=nn(!0),rn=nn(!1),ln={},on={current:ln},cn={current:ln},sn={current:ln};function un(e){if(e===ln)throw Error(i(174));return e}function dn(e,t){Ae(sn,t),Ae(cn,e),Ae(on,ln),t=O(t),Oe(on),Ae(on,t)}function mn(e){Oe(on),Oe(cn),Oe(sn)}function pn(e){var t=un(sn.current),n=un(on.current);n!==(t=A(n,e.type,t))&&(Ae(cn,e),Ae(on,t))}function fn(e){cn.current===e&&(Oe(on),Oe(cn))}var gn={current:0};function En(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||be(n)||ve(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function hn(e,t){return{responder:e,props:t}}var bn=c.ReactCurrentDispatcher,vn=c.ReactCurrentBatchConfig,Fn=0,yn=null,Sn=null,Cn=null,Mn=null,wn=null,kn=null,Tn=0,xn=null,In=0,Pn=!1,On=null,An=0;function Nn(){throw Error(i(321))}function Rn(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function Ln(e,t,n,a,r,l){if(Fn=l,yn=t,Cn=null!==e?e.memoizedState:null,bn.current=null===Cn?ea:ta,t=n(a,r),Pn){do{Pn=!1,An+=1,Cn=null!==e?e.memoizedState:null,kn=Mn,xn=wn=Sn=null,bn.current=ta,t=n(a,r)}while(Pn);On=null,An=0}if(bn.current=Zn,(e=yn).memoizedState=Mn,e.expirationTime=Tn,e.updateQueue=xn,e.effectTag|=In,e=null!==Sn&&null!==Sn.next,Fn=0,kn=wn=Mn=Cn=Sn=yn=null,Tn=0,xn=null,In=0,e)throw Error(i(300));return t}function _n(){bn.current=Zn,Fn=0,kn=wn=Mn=Cn=Sn=yn=null,Tn=0,xn=null,In=0,Pn=!1,On=null,An=0}function Dn(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===wn?Mn=wn=e:wn=wn.next=e,wn}function Bn(){if(null!==kn)kn=(wn=kn).next,Cn=null!==(Sn=Cn)?Sn.next:null;else{if(null===Cn)throw Error(i(310));var e={memoizedState:(Sn=Cn).memoizedState,baseState:Sn.baseState,queue:Sn.queue,baseUpdate:Sn.baseUpdate,next:null};wn=null===wn?Mn=e:wn.next=e,Cn=Sn.next}return wn}function Wn(e,t){return"function"==typeof t?t(e):t}function Un(e){var t=Bn(),n=t.queue;if(null===n)throw Error(i(311));if(n.lastRenderedReducer=e,0<An){var a=n.dispatch;if(null!==On){var r=On.get(n);if(void 0!==r){On.delete(n);var l=t.memoizedState;do{l=e(l,r.action),r=r.next}while(null!==r);return vt(l,t.memoizedState)||(ma=!0),t.memoizedState=l,t.baseUpdate===n.last&&(t.baseState=l),n.lastRenderedState=l,[l,a]}}return[t.memoizedState,a]}a=n.last;var o=t.baseUpdate;if(l=t.baseState,null!==o?(null!==a&&(a.next=null),a=o.next):a=null!==a?a.next:null,null!==a){var c=r=null,s=a,u=!1;do{var d=s.expirationTime;d<Fn?(u||(u=!0,c=o,r=l),d>Tn&&Ur(Tn=d)):(Wr(d,s.suspenseConfig),l=s.eagerReducer===e?s.eagerState:e(l,s.action)),o=s,s=s.next}while(null!==s&&s!==a);u||(c=o,r=l),vt(l,t.memoizedState)||(ma=!0),t.memoizedState=l,t.baseUpdate=c,t.baseState=r,n.lastRenderedState=l}return[t.memoizedState,n.dispatch]}function zn(e){var t=Dn();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:e}).dispatch=Jn.bind(null,yn,e),[t.memoizedState,e]}function jn(e){return Un(Wn)}function Hn(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===xn?(xn={lastEffect:null}).lastEffect=e.next=e:null===(t=xn.lastEffect)?xn.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,xn.lastEffect=e),e}function Vn(e,t,n,a){var r=Dn();In|=e,r.memoizedState=Hn(t,n,void 0,void 0===a?null:a)}function Gn(e,t,n,a){var r=Bn();a=void 0===a?null:a;var l=void 0;if(null!==Sn){var o=Sn.memoizedState;if(l=o.destroy,null!==a&&Rn(a,o.deps))return void Hn(0,n,l,a)}In|=e,r.memoizedState=Hn(t,n,l,a)}function $n(e,t){return Vn(516,192,e,t)}function Kn(e,t){return Gn(516,192,e,t)}function Xn(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yn(){}function qn(e,t){return Dn().memoizedState=[e,void 0===t?null:t],e}function Qn(e,t){var n=Bn();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&Rn(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Jn(e,t,n){if(!(25>An))throw Error(i(301));var a=e.alternate;if(e===yn||null!==a&&a===yn)if(Pn=!0,e={expirationTime:Fn,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===On&&(On=new Map),void 0===(n=On.get(t)))On.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var r=Tr(),l=Gt.suspense;l={expirationTime:r=xr(r,e,l),suspenseConfig:l,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.last;if(null===o)l.next=l;else{var c=o.next;null!==c&&(l.next=c),o.next=l}if(t.last=l,0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(l.eagerReducer=a,l.eagerState=u,vt(u,s))return}catch(e){}Ir(e,r)}}var Zn={readContext:At,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useResponder:Nn,useDeferredValue:Nn,useTransition:Nn},ea={readContext:At,useCallback:qn,useContext:At,useEffect:$n,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Vn(4,36,Xn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vn(4,36,e,t)},useMemo:function(e,t){var n=Dn();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Dn();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e=(e=a.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Jn.bind(null,yn,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},Dn().memoizedState=e},useState:zn,useDebugValue:Yn,useResponder:hn,useDeferredValue:function(e,t){var n=zn(e),a=n[0],r=n[1];return $n((function(){o.unstable_next((function(){var n=vn.suspense;vn.suspense=void 0===t?null:t;try{r(e)}finally{vn.suspense=n}}))}),[e,t]),a},useTransition:function(e){var t=zn(!1),n=t[0],a=t[1];return[qn((function(t){a(!0),o.unstable_next((function(){var n=vn.suspense;vn.suspense=void 0===e?null:e;try{a(!1),t()}finally{vn.suspense=n}}))}),[e,n]),n]}},ta={readContext:At,useCallback:Qn,useContext:At,useEffect:Kn,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Gn(4,36,Xn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gn(4,36,e,t)},useMemo:function(e,t){var n=Bn();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&Rn(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:Un,useRef:function(){return Bn().memoizedState},useState:jn,useDebugValue:Yn,useResponder:hn,useDeferredValue:function(e,t){var n=jn(),a=n[0],r=n[1];return Kn((function(){o.unstable_next((function(){var n=vn.suspense;vn.suspense=void 0===t?null:t;try{r(e)}finally{vn.suspense=n}}))}),[e,t]),a},useTransition:function(e){var t=jn(),n=t[0],a=t[1];return[Qn((function(t){a(!0),o.unstable_next((function(){var n=vn.suspense;vn.suspense=void 0===e?null:e;try{a(!1),t()}finally{vn.suspense=n}}))}),[e,n]),n]}},na=null,aa=null,ra=!1;function la(e,t){var n=rl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function oa(e,t){switch(e.tag){case 5:return null!==(t=Ee(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=he(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function ia(e){if(ra){var t=aa;if(t){var n=t;if(!oa(e,t)){if(!(t=Fe(n))||!oa(e,t))return e.effectTag=-1025&e.effectTag|2,ra=!1,void(na=e);la(na,n)}na=e,aa=ye(t)}else e.effectTag=-1025&e.effectTag|2,ra=!1,na=e}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function sa(e){if(!X||e!==na)return!1;if(!ra)return ca(e),ra=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!W(t,e.memoizedProps))for(t=aa;t;)la(e,t),t=Fe(t);if(ca(e),13===e.tag){if(!X)throw Error(i(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));aa=Me(e)}else aa=na?Fe(e.stateNode):null;return!0}function ua(){X&&(aa=na=null,ra=!1)}var da=c.ReactCurrentOwner,ma=!1;function pa(e,t,n,a){t.child=null===e?rn(t,null,n,a):an(t,e.child,n,a)}function fa(e,t,n,a,r){n=n.render;var l=t.ref;return Ot(t,r),a=Ln(e,t,n,a,l,r),null===e||ma?(t.effectTag|=1,pa(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Oa(e,t,r))}function ga(e,t,n,a,r,l){if(null===e){var o=n.type;return"function"!=typeof o||ll(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=il(n.type,null,a,null,t.mode,l)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ea(e,t,o,a,r,l))}return o=e.child,r<l&&(r=o.memoizedProps,(n=null!==(n=n.compare)?n:yt)(r,a)&&e.ref===t.ref)?Oa(e,t,l):(t.effectTag|=1,(e=ol(o,a)).ref=t.ref,e.return=t,t.child=e)}function Ea(e,t,n,a,r,l){return null!==e&&yt(e.memoizedProps,a)&&e.ref===t.ref&&(ma=!1,r<l)?Oa(e,t,l):ba(e,t,n,a,l)}function ha(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ba(e,t,n,a,r){var l=Be(n)?_e:Re.current;return l=De(t,l),Ot(t,r),n=Ln(e,t,n,a,l,r),null===e||ma?(t.effectTag|=1,pa(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Oa(e,t,r))}function va(e,t,n,a,r){if(Be(n)){var l=!0;He(t)}else l=!1;if(Ot(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),qt(t,n,a),Jt(t,n,a,r),a=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,s=n.contextType;s="object"==typeof s&&null!==s?At(s):De(t,s=Be(n)?_e:Re.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(i!==a||c!==s)&&Qt(t,o,a,s),Nt=!1;var m=t.memoizedState;c=o.state=m;var p=t.updateQueue;null!==p&&(jt(t,p,a,o,r),c=t.memoizedState),i!==a||m!==c||Le.current||Nt?("function"==typeof u&&(Kt(t,n,u,a),c=t.memoizedState),(i=Nt||Yt(t,n,i,a,m,c,s))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=a,t.memoizedState=c),o.props=a,o.state=c,o.context=s,a=i):("function"==typeof o.componentDidMount&&(t.effectTag|=4),a=!1)}else o=t.stateNode,i=t.memoizedProps,o.props=t.type===t.elementType?i:St(t.type,i),c=o.context,s="object"==typeof(s=n.contextType)&&null!==s?At(s):De(t,s=Be(n)?_e:Re.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(i!==a||c!==s)&&Qt(t,o,a,s),Nt=!1,c=t.memoizedState,m=o.state=c,null!==(p=t.updateQueue)&&(jt(t,p,a,o,r),m=t.memoizedState),i!==a||c!==m||Le.current||Nt?("function"==typeof u&&(Kt(t,n,u,a),m=t.memoizedState),(u=Nt||Yt(t,n,i,a,c,m,s))?(d||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(a,m,s),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(a,m,s)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=a,t.memoizedState=m),o.props=a,o.state=m,o.context=s,a=u):("function"!=typeof o.componentDidUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),a=!1);return Fa(e,t,n,a,l,r)}function Fa(e,t,n,a,r,l){ha(e,t);var o=0!=(64&t.effectTag);if(!a&&!o)return r&&Ve(t,n,!1),Oa(e,t,l);a=t.stateNode,da.current=t;var i=o&&"function"!=typeof n.getDerivedStateFromError?null:a.render();return t.effectTag|=1,null!==e&&o?(t.child=an(t,e.child,null,l),t.child=an(t,null,i,l)):pa(e,t,i,l),t.memoizedState=a.state,r&&Ve(t,n,!0),t.child}function ya(e){var t=e.stateNode;t.pendingContext?ze(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ze(0,t.context,!1),dn(e,t.containerInfo)}var Sa,Ca,Ma,wa,ka={dehydrated:null,retryTime:0};function Ta(e,t,n){var a,r=t.mode,l=t.pendingProps,o=gn.current,i=!1;if((a=0!=(64&t.effectTag))||(a=0!=(2&o)&&(null===e||null!==e.memoizedState)),a?(i=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(o|=1),Ae(gn,1&o),null===e){if(void 0!==l.fallback&&ia(t),i){if(i=l.fallback,(l=cl(null,r,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,l.child=e;null!==e;)e.return=l,e=e.sibling;return(n=cl(i,r,n,null)).return=t,l.sibling=n,t.memoizedState=ka,t.child=l,n}return r=l.children,t.memoizedState=null,t.child=rn(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,i){if(l=l.fallback,(n=ol(e,e.pendingProps)).return=t,0==(2&t.mode)&&(i=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=i;null!==i;)i.return=n,i=i.sibling;return(r=ol(r,l,r.expirationTime)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=ka,t.child=n,r}return n=an(t,e.child,l.children,n),t.memoizedState=null,t.child=n}if(e=e.child,i){if(i=l.fallback,(l=cl(null,r,0,null)).return=t,l.child=e,null!==e&&(e.return=l),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,l.child=e;null!==e;)e.return=l,e=e.sibling;return(n=cl(i,r,n,null)).return=t,l.sibling=n,n.effectTag|=2,l.childExpirationTime=0,t.memoizedState=ka,t.child=l,n}return t.memoizedState=null,t.child=an(t,e,l.children,n)}function xa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),Pt(e.return,t)}function Ia(e,t,n,a,r,l){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:a,tail:n,tailExpiration:0,tailMode:r,lastEffect:l}:(o.isBackwards=t,o.rendering=null,o.last=a,o.tail=n,o.tailExpiration=0,o.tailMode=r,o.lastEffect=l)}function Pa(e,t,n){var a=t.pendingProps,r=a.revealOrder,l=a.tail;if(pa(e,t,a.children,n),0!=(2&(a=gn.current)))a=1&a|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&xa(e,n);else if(19===e.tag)xa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ae(gn,a),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===En(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ia(t,!1,r,n,l,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===En(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ia(t,!0,n,null,l,t.lastEffect);break;case"together":Ia(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Oa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var a=t.expirationTime;if(0!==a&&Ur(a),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=ol(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ol(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Aa(e){e.effectTag|=4}if($)Sa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)_(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ca=function(){},Ma=function(e,t,n,a,r){if((e=e.memoizedProps)!==a){var l=t.stateNode,o=un(on.current);n=B(l,n,e,a,r,o),(t.updateQueue=n)&&Aa(t)}},wa=function(e,t,n,a){n!==a&&Aa(t)};else if(K){Sa=function(e,t,n,a){for(var r=t.child;null!==r;){if(5===r.tag){var l=r.stateNode;n&&a&&(l=fe(l,r.type,r.memoizedProps,r)),_(e,l)}else if(6===r.tag)l=r.stateNode,n&&a&&(l=ge(l,r.memoizedProps,r)),_(e,l);else if(4!==r.tag){if(13===r.tag&&0!=(4&r.effectTag)&&(l=null!==r.memoizedState)){var o=r.child;if(null!==o&&(null!==o.child&&(o.child.return=o,Sa(e,o,!0,l)),null!==(l=o.sibling))){l.return=r,r=l;continue}}if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};var Na=function(e,t,n,a){for(var r=t.child;null!==r;){if(5===r.tag){var l=r.stateNode;n&&a&&(l=fe(l,r.type,r.memoizedProps,r)),de(e,l)}else if(6===r.tag)l=r.stateNode,n&&a&&(l=ge(l,r.memoizedProps,r)),de(e,l);else if(4!==r.tag){if(13===r.tag&&0!=(4&r.effectTag)&&(l=null!==r.memoizedState)){var o=r.child;if(null!==o&&(null!==o.child&&(o.child.return=o,Na(e,o,!0,l)),null!==(l=o.sibling))){l.return=r,r=l;continue}}if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ca=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,a=ue(n);Na(a,e,!1,!1),t.pendingChildren=a,Aa(e),me(n,a)}},Ma=function(e,t,n,a,r){var l=e.stateNode,o=e.memoizedProps;if((e=null===t.firstEffect)&&o===a)t.stateNode=l;else{var i=t.stateNode,c=un(on.current),s=null;o!==a&&(s=B(i,n,o,a,r,c)),e&&null===s?t.stateNode=l:(l=se(l,s,n,o,a,t,e,i),D(l,n,a,r,c)&&Aa(t),t.stateNode=l,e?Aa(t):Sa(l,t,!1,!1))}},wa=function(e,t,n,a){n!==a&&(e=un(sn.current),n=un(on.current),t.stateNode=z(a,e,n,t),Aa(t))}}else Ca=function(){},Ma=function(){},wa=function(){};function Ra(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function La(e){switch(e.tag){case 1:Be(e.type)&&We();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(mn(),Ue(),0!=(64&(t=e.effectTag)))throw Error(i(285));return e.effectTag=-4097&t|64,e;case 5:return fn(e),null;case 13:return Oe(gn),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return Oe(gn),null;case 4:return mn(),null;case 10:return It(e),null;default:return null}}function _a(e,t){return{value:e,source:t,stack:xe(t)}}var Da="function"==typeof WeakSet?WeakSet:Set;function Ba(e,t){var n=t.source,a=t.stack;null===a&&null!==n&&(a=xe(n)),null!==n&&w(n.type),t=t.value,null!==e&&1===e.tag&&w(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function Wa(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Jr(e,t)}else t.current=null}function Ua(e,t){switch(t.tag){case 0:case 11:case 15:za(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,a=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:St(t.type,n),a),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}function za(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var a=n=n.next;do{if(0!=(a.tag&e)){var r=a.destroy;a.destroy=void 0,void 0!==r&&r()}0!=(a.tag&t)&&(r=a.create,a.destroy=r()),a=a.next}while(a!==n)}}function ja(e,t,n){switch("function"==typeof nl&&nl(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var a=e.next;mt(97<n?97:n,(function(){var e=a;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(e){Jr(r,e)}}e=e.next}while(e!==a)}))}break;case 1:Wa(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Jr(e,t)}}(t,n);break;case 5:Wa(t);break;case 4:$?Ka(e,t,n):K&&function(e){if(K){e=e.stateNode.containerInfo;var t=ue(e);pe(e,t)}}(t)}}function Ha(e,t,n){for(var a=t;;)if(ja(e,a,n),null===a.child||$&&4===a.tag){if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}else a.child.return=a,a=a.child}function Va(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&Va(t)}function Ga(e){return 5===e.tag||3===e.tag||4===e.tag}function $a(e){if($){e:{for(var t=e.return;null!==t;){if(Ga(t)){var n=t;break e}t=t.return}throw Error(i(160))}switch(t=n.stateNode,n.tag){case 5:var a=!1;break;case 3:case 4:t=t.containerInfo,a=!0;break;default:throw Error(i(161))}16&n.effectTag&&(re(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ga(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var r=e;;){var l=5===r.tag||6===r.tag;if(l)l=l?r.stateNode:r.stateNode.instance,n?a?te(t,l,n):ee(t,l,n):a?q(t,l):Y(t,l);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}}function Ka(e,t,n){for(var a,r,l=t,o=!1;;){if(!o){o=l.return;e:for(;;){if(null===o)throw Error(i(160));switch(a=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:a=a.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===l.tag||6===l.tag)Ha(e,l,n),r?ae(a,l.stateNode):ne(a,l.stateNode);else if(4===l.tag){if(null!==l.child){a=l.stateNode.containerInfo,r=!0,l.child.return=l,l=l.child;continue}}else if(ja(e,l,n),null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break;for(;null===l.sibling;){if(null===l.return||l.return===t)return;4===(l=l.return).tag&&(o=!1)}l.sibling.return=l.return,l=l.sibling}}function Xa(e,t){if($)switch(t.tag){case 0:case 11:case 14:case 15:za(4,8,t);break;case 1:case 12:case 17:case 20:case 21:break;case 5:var n=t.stateNode;if(null!=n){var a=t.memoizedProps;e=null!==e?e.memoizedProps:a;var r=t.type,l=t.updateQueue;t.updateQueue=null,null!==l&&Z(n,l,r,e,a,t)}break;case 6:if(null===t.stateNode)throw Error(i(162));n=t.memoizedProps,Q(t.stateNode,null!==e?e.memoizedProps:n,n);break;case 3:X&&(t=t.stateNode).hydrate&&(t.hydrate=!1,we(t.containerInfo));break;case 13:Ya(t),qa(t);break;case 19:qa(t);break;default:throw Error(i(163))}else{switch(t.tag){case 0:case 11:case 14:case 15:return void za(4,8,t);case 12:return;case 13:return Ya(t),void qa(t);case 19:return void qa(t);case 3:X&&(n=t.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo))}e:if(K)switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,pe(t.containerInfo,t.pendingChildren);break e;default:throw Error(i(163))}}}function Ya(e){var t=e;if(null===e.memoizedState)var n=!1;else n=!0,t=e.child,gr=st();if($&&null!==t)e:if(e=t,$)for(t=e;;){if(5===t.tag){var a=t.stateNode;n?le(a):ie(t.stateNode,t.memoizedProps)}else if(6===t.tag)a=t.stateNode,n?oe(a):ce(a,t.memoizedProps);else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(a=t.child.sibling).return=t,t=a;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}}function qa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Da),t.forEach((function(t){var a=el.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}var Qa="function"==typeof WeakMap?WeakMap:Map;function Ja(e,t,n){(n=_t(n,null)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){hr||(hr=!0,br=a),Ba(e,t)},n}function Za(e,t,n){(n=_t(n,null)).tag=3;var a=e.type.getDerivedStateFromError;if("function"==typeof a){var r=t.value;n.payload=function(){return Ba(e,t),a(r)}}var l=e.stateNode;return null!==l&&"function"==typeof l.componentDidCatch&&(n.callback=function(){"function"!=typeof a&&(null===vr?vr=new Set([this]):vr.add(this),Ba(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var er,tr=Math.ceil,nr=c.ReactCurrentDispatcher,ar=c.ReactCurrentOwner,rr=0,lr=null,or=null,ir=0,cr=0,sr=null,ur=1073741823,dr=1073741823,mr=null,pr=0,fr=!1,gr=0,Er=null,hr=!1,br=null,vr=null,Fr=!1,yr=null,Sr=90,Cr=null,Mr=0,wr=null,kr=0;function Tr(){return 0!=(48&rr)?1073741821-(st()/10|0):0!==kr?kr:kr=1073741821-(st()/10|0)}function xr(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var a=ut();if(0==(4&t))return 99===a?1073741823:1073741822;if(0!=(16&rr))return ir;if(null!==n)e=bt(e,0|n.timeoutMs||5e3,250);else switch(a){case 99:e=1073741823;break;case 98:e=bt(e,150,100);break;case 97:case 96:e=bt(e,5e3,250);break;case 95:e=2;break;default:throw Error(i(326))}return null!==lr&&e===ir&&--e,e}function Ir(e,t){if(50<Mr)throw Mr=0,wr=null,Error(i(185));if(null!==(e=Pr(e,t))){var n=ut();1073741823===t?0!=(8&rr)&&0==(48&rr)?Rr(e):(Ar(e),0===rr&&gt()):Ar(e),0==(4&rr)||98!==n&&99!==n||(null===Cr?Cr=new Map([[e,t]]):(void 0===(n=Cr.get(e))||n>t)&&Cr.set(e,t))}}function Pr(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var a=e.return,r=null;if(null===a&&3===e.tag)r=e.stateNode;else for(;null!==a;){if(n=a.alternate,a.childExpirationTime<t&&(a.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===a.return&&3===a.tag){r=a.stateNode;break}a=a.return}return null!==r&&(lr===r&&(Ur(t),4===cr&&pl(r,ir)),fl(r,t)),r}function Or(e){var t=e.lastExpiredTime;return 0!==t?t:ml(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function Ar(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=ft(Rr.bind(null,e));else{var t=Or(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var a=Tr();if(a=1073741823===t?99:1===t||2===t?95:0>=(a=10*(1073741821-t)-10*(1073741821-a))?99:250>=a?98:5250>=a?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=a)return;n!==at&&Ke(n)}e.callbackExpirationTime=t,e.callbackPriority=a,t=1073741823===t?ft(Rr.bind(null,e)):pt(a,Nr.bind(null,e),{timeout:10*(1073741821-t)-st()}),e.callbackNode=t}}}function Nr(e,t){if(kr=0,t)return gl(e,t=Tr()),Ar(e),null;var n=Or(e);if(0!==n){if(t=e.callbackNode,0!=(48&rr))throw Error(i(327));if(Yr(),e===lr&&n===ir||_r(e,n),null!==or){var a=rr;rr|=16;for(var r=Br();;)try{jr();break}catch(t){Dr(e,t)}if(Tt(),rr=a,nr.current=r,1===cr)throw t=sr,_r(e,n),pl(e,n),Ar(e),t;if(null===or)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,a=cr,lr=null,a){case 0:case 1:throw Error(i(345));case 2:gl(e,2<n?2:n);break;case 3:if(pl(e,n),n===(a=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Gr(r)),1073741823===ur&&10<(r=gr+500-st())){if(fr){var l=e.lastPingedTime;if(0===l||l>=n){e.lastPingedTime=n,_r(e,n);break}}if(0!==(l=Or(e))&&l!==n)break;if(0!==a&&a!==n){e.lastPingedTime=a;break}e.timeoutHandle=j($r.bind(null,e),r);break}$r(e);break;case 4:if(pl(e,n),n===(a=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Gr(r)),fr&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,_r(e,n);break}if(0!==(r=Or(e))&&r!==n)break;if(0!==a&&a!==n){e.lastPingedTime=a;break}if(1073741823!==dr?a=10*(1073741821-dr)-st():1073741823===ur?a=0:(a=10*(1073741821-ur)-5e3,0>(a=(r=st())-a)&&(a=0),(n=10*(1073741821-n)-r)<(a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*tr(a/1960))-a)&&(a=n)),10<a){e.timeoutHandle=j($r.bind(null,e),a);break}$r(e);break;case 5:if(1073741823!==ur&&null!==mr){l=ur;var o=mr;if(0>=(a=0|o.busyMinDurationMs)?a=0:(r=0|o.busyDelayMs,a=(l=st()-(10*(1073741821-l)-(0|o.timeoutMs||5e3)))<=r?0:r+a-l),10<a){pl(e,n),e.timeoutHandle=j($r.bind(null,e),a);break}}$r(e);break;default:throw Error(i(329))}if(Ar(e),e.callbackNode===t)return Nr.bind(null,e)}}return null}function Rr(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)$r(e);else{if(0!=(48&rr))throw Error(i(327));if(Yr(),e===lr&&t===ir||_r(e,t),null!==or){var n=rr;rr|=16;for(var a=Br();;)try{zr();break}catch(t){Dr(e,t)}if(Tt(),rr=n,nr.current=a,1===cr)throw n=sr,_r(e,t),pl(e,t),Ar(e),n;if(null!==or)throw Error(i(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,lr=null,$r(e),Ar(e)}}return null}function Lr(e,t){if(0!=(48&rr))throw Error(i(187));var n=rr;rr|=1;try{return mt(99,e.bind(null,t))}finally{rr=n,gt()}}function _r(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(n!==V&&(e.timeoutHandle=V,H(n)),null!==or)for(n=or.return;null!==n;){var a=n;switch(a.tag){case 1:null!=a.type.childContextTypes&&We();break;case 3:mn(),Ue();break;case 5:fn(a);break;case 4:mn();break;case 13:case 19:Oe(gn);break;case 10:It(a)}n=n.return}lr=e,or=ol(e.current,null),ir=t,cr=0,sr=null,dr=ur=1073741823,mr=null,pr=0,fr=!1}function Dr(e,t){for(;;){try{if(Tt(),_n(),null===or||null===or.return)return cr=1,sr=t,null;e:{var n=e,a=or.return,r=or,l=t;if(t=ir,r.effectTag|=2048,r.firstEffect=r.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var o=l,i=0!=(1&gn.current),c=a;do{var s;if(s=13===c.tag){var u=c.memoizedState;if(null!==u)s=null!==u.dehydrated;else{var d=c.memoizedProps;s=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!i)}}if(s){var m=c.updateQueue;if(null===m){var p=new Set;p.add(o),c.updateQueue=p}else m.add(o);if(0==(2&c.mode)){if(c.effectTag|=64,r.effectTag&=-2981,1===r.tag)if(null===r.alternate)r.tag=17;else{var f=_t(1073741823,null);f.tag=2,Bt(r,f)}r.expirationTime=1073741823;break e}l=void 0,r=t;var g=n.pingCache;if(null===g?(g=n.pingCache=new Qa,l=new Set,g.set(o,l)):void 0===(l=g.get(o))&&(l=new Set,g.set(o,l)),!l.has(r)){l.add(r);var E=Zr.bind(null,n,o,r);o.then(E,E)}c.effectTag|=4096,c.expirationTime=t;break e}c=c.return}while(null!==c);l=Error((w(r.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+xe(r))}5!==cr&&(cr=2),l=_a(l,r),c=a;do{switch(c.tag){case 3:o=l,c.effectTag|=4096,c.expirationTime=t,Wt(c,Ja(c,o,t));break e;case 1:o=l;var h=c.type,b=c.stateNode;if(0==(64&c.effectTag)&&("function"==typeof h.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===vr||!vr.has(b)))){c.effectTag|=4096,c.expirationTime=t,Wt(c,Za(c,o,t));break e}}c=c.return}while(null!==c)}or=Vr(or)}catch(e){t=e;continue}break}}function Br(){var e=nr.current;return nr.current=Zn,null===e?Zn:e}function Wr(e,t){e<ur&&2<e&&(ur=e),null!==t&&e<dr&&2<e&&(dr=e,mr=t)}function Ur(e){e>pr&&(pr=e)}function zr(){for(;null!==or;)or=Hr(or)}function jr(){for(;null!==or&&!Xe();)or=Hr(or)}function Hr(e){var t=er(e.alternate,e,ir);return e.memoizedProps=e.pendingProps,null===t&&(t=Vr(e)),ar.current=null,t}function Vr(e){or=e;do{var t=or.alternate;if(e=or.return,0==(2048&or.effectTag)){e:{var n=t,a=ir,r=(t=or).pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 20:case 21:break;case 1:case 17:Be(t.type)&&We();break;case 3:mn(),Ue(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===n||null===n.child)&&sa(t)&&Aa(t),Ca(t);break;case 5:fn(t);var l=un(sn.current);if(a=t.type,null!==n&&null!=t.stateNode)Ma(n,t,a,r,l),n.ref!==t.ref&&(t.effectTag|=128);else if(r){if(n=un(on.current),sa(t)){if(r=t,!X)throw Error(i(175));n=Se(r.stateNode,r.type,r.memoizedProps,l,n,r),r.updateQueue=n,(n=null!==n)&&Aa(t)}else{var o=L(a,r,l,n,t);Sa(o,t,!1,!1),t.stateNode=o,D(o,a,r,l,n)&&Aa(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(i(166));break;case 6:if(n&&null!=t.stateNode)wa(n,t,n.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=un(sn.current),l=un(on.current),sa(t)){if(n=t,!X)throw Error(i(176));(n=Ce(n.stateNode,n.memoizedProps,n))&&Aa(t)}else t.stateNode=z(r,n,l,t)}break;case 13:if(Oe(gn),r=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=a;break e}r=null!==r,l=!1,null===n?void 0!==t.memoizedProps.fallback&&sa(t):(l=null!==(a=n.memoizedState),r||null===a||null!==(a=n.child.sibling)&&(null!==(o=t.firstEffect)?(t.firstEffect=a,a.nextEffect=o):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),r&&!l&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&gn.current)?0===cr&&(cr=3):(0!==cr&&3!==cr||(cr=4),0!==pr&&null!==lr&&(pl(lr,ir),fl(lr,pr)))),K&&r&&(t.effectTag|=4),$&&(r||l)&&(t.effectTag|=4);break;case 4:mn(),Ca(t);break;case 10:It(t);break;case 19:if(Oe(gn),null===(r=t.memoizedState))break;if(l=0!=(64&t.effectTag),null===(o=r.rendering)){if(l)Ra(r,!1);else if(0!==cr||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(o=En(n))){for(t.effectTag|=64,Ra(r,!1),null!==(n=o.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,n=a,r=t.child;null!==r;)a=n,(l=r).effectTag&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,null===(o=l.alternate)?(l.childExpirationTime=0,l.expirationTime=a,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null):(l.childExpirationTime=o.childExpirationTime,l.expirationTime=o.expirationTime,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,a=o.dependencies,l.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;Ae(gn,1&gn.current|2),t=t.child;break e}n=n.sibling}}else{if(!l)if(null!==(n=En(o))){if(t.effectTag|=64,l=!0,null!==(n=n.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ra(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate){null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null);break}}else st()>r.tailExpiration&&1<a&&(t.effectTag|=64,l=!0,Ra(r,!1),t.expirationTime=t.childExpirationTime=a-1);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=r.last)?n.sibling=o:t.child=o,r.last=o)}if(null!==r.tail){0===r.tailExpiration&&(r.tailExpiration=st()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,n.sibling=null,r=gn.current,Ae(gn,r=l?1&r|2:1&r),t=n;break e}break;default:throw Error(i(156,t.tag))}t=null}if(n=or,1===ir||1!==n.childExpirationTime){for(r=0,l=n.child;null!==l;)(a=l.expirationTime)>r&&(r=a),(o=l.childExpirationTime)>r&&(r=o),l=l.sibling;n.childExpirationTime=r}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=or.firstEffect),null!==or.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=or.firstEffect),e.lastEffect=or.lastEffect),1<or.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=or:e.firstEffect=or,e.lastEffect=or))}else{if(null!==(t=La(or)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=or.sibling))return t;or=e}while(null!==or);return 0===cr&&(cr=5),null}function Gr(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function $r(e){var t=ut();return mt(99,Kr.bind(null,e,t)),null}function Kr(e,t){do{Yr()}while(null!==yr);if(0!=(48&rr))throw Error(i(327));var n=e.finishedWork,a=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=Gr(n);if(e.firstPendingTime=r,a<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:a<=e.firstSuspendedTime&&(e.firstSuspendedTime=a-1),a<=e.lastPingedTime&&(e.lastPingedTime=0),a<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===lr&&(or=lr=null,ir=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var l=rr;rr|=32,ar.current=null,N(e.containerInfo),Er=r;do{try{Xr()}catch(e){if(null===Er)throw Error(i(330));Jr(Er,e),Er=Er.nextEffect}}while(null!==Er);Er=r;do{try{for(var o=e,c=t;null!==Er;){var s=Er.effectTag;if(16&s&&$&&re(Er.stateNode),128&s){var u=Er.alternate;if(null!==u){var d=u.ref;null!==d&&("function"==typeof d?d(null):d.current=null)}}switch(1038&s){case 2:$a(Er),Er.effectTag&=-3;break;case 6:$a(Er),Er.effectTag&=-3,Xa(Er.alternate,Er);break;case 1024:Er.effectTag&=-1025;break;case 1028:Er.effectTag&=-1025,Xa(Er.alternate,Er);break;case 4:Xa(Er.alternate,Er);break;case 8:var m=o,p=Er,f=c;$?Ka(m,p,f):Ha(m,p,f),Va(p)}Er=Er.nextEffect}}catch(e){if(null===Er)throw Error(i(330));Jr(Er,e),Er=Er.nextEffect}}while(null!==Er);R(e.containerInfo),e.current=n,Er=r;do{try{for(s=a;null!==Er;){var g=Er.effectTag;if(36&g){var E=Er.alternate;switch(d=s,(u=Er).tag){case 0:case 11:case 15:za(16,32,u);break;case 1:var h=u.stateNode;if(4&u.effectTag)if(null===E)h.componentDidMount();else{var b=u.elementType===u.type?E.memoizedProps:St(u.type,E.memoizedProps);h.componentDidUpdate(b,E.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=u.updateQueue;null!==v&&Ht(0,v,h);break;case 3:var F=u.updateQueue;if(null!==F){if(o=null,null!==u.child)switch(u.child.tag){case 5:o=P(u.child.stateNode);break;case 1:o=u.child.stateNode}Ht(0,F,o)}break;case 5:var y=u.stateNode;null===E&&4&u.effectTag&&J(y,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 20:case 21:break;case 13:if(X&&null===u.memoizedState){var S=u.alternate;if(null!==S){var C=S.memoizedState;if(null!==C){var M=C.dehydrated;null!==M&&ke(M)}}}break;default:throw Error(i(163))}}if(128&g){u=void 0;var w=Er.ref;if(null!==w){var k=Er.stateNode;u=5===Er.tag?P(k):k,"function"==typeof w?w(u):w.current=u}}Er=Er.nextEffect}}catch(e){if(null===Er)throw Error(i(330));Jr(Er,e),Er=Er.nextEffect}}while(null!==Er);Er=null,rt(),rr=l}else e.current=n;if(Fr)Fr=!1,yr=e,Sr=t;else for(Er=r;null!==Er;)t=Er.nextEffect,Er.nextEffect=null,Er=t;if(0===(t=e.firstPendingTime)&&(vr=null),1073741823===t?e===wr?Mr++:(Mr=0,wr=e):Mr=0,"function"==typeof tl&&tl(n.stateNode,a),Ar(e),hr)throw hr=!1,e=br,br=null,e;return 0!=(8&rr)||gt(),null}function Xr(){for(;null!==Er;){var e=Er.effectTag;0!=(256&e)&&Ua(Er.alternate,Er),0==(512&e)||Fr||(Fr=!0,pt(97,(function(){return Yr(),null}))),Er=Er.nextEffect}}function Yr(){if(90!==Sr){var e=97<Sr?97:Sr;return Sr=90,mt(e,qr)}}function qr(){if(null===yr)return!1;var e=yr;if(yr=null,0!=(48&rr))throw Error(i(331));var t=rr;for(rr|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:za(128,0,n),za(0,64,n)}}catch(t){if(null===e)throw Error(i(330));Jr(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return rr=t,gt(),!0}function Qr(e,t,n){Bt(e,t=Ja(e,t=_a(n,t),1073741823)),null!==(e=Pr(e,1073741823))&&Ar(e)}function Jr(e,t){if(3===e.tag)Qr(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Qr(n,e,t);break}if(1===n.tag){var a=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===vr||!vr.has(a))){Bt(n,e=Za(n,e=_a(t,e),1073741823)),null!==(n=Pr(n,1073741823))&&Ar(n);break}}n=n.return}}function Zr(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),lr===e&&ir===n?4===cr||3===cr&&1073741823===ur&&st()-gr<500?_r(e,ir):fr=!0:ml(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),Ar(e)))}function el(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(t=xr(t=Tr(),e,null)),null!==(e=Pr(e,t))&&Ar(e)}er=function(e,t,n){var a=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||Le.current)ma=!0;else{if(a<n){switch(ma=!1,t.tag){case 3:ya(t),ua();break;case 5:if(pn(t),4&t.mode&&1!==n&&U(t.type,r))return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Be(t.type)&&He(t);break;case 4:dn(t,t.stateNode.containerInfo);break;case 10:xt(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(a=t.child.childExpirationTime)&&a>=n?Ta(e,t,n):(Ae(gn,1&gn.current),null!==(t=Oa(e,t,n))?t.sibling:null);Ae(gn,1&gn.current);break;case 19:if(a=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(a)return Pa(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),Ae(gn,gn.current),!a)return null}return Oa(e,t,n)}ma=!1}}else ma=!1;switch(t.expirationTime=0,t.tag){case 2:if(a=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=De(t,Re.current),Ot(t,n),r=Ln(null,t,a,e,r,n),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,_n(),Be(a)){var l=!0;He(t)}else l=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var o=a.getDerivedStateFromProps;"function"==typeof o&&Kt(t,a,o,e),r.updater=Xt,t.stateNode=r,r._reactInternalFiber=t,Jt(t,a,e,n),t=Fa(null,t,a,!0,l,n)}else t.tag=0,pa(null,t,r,n),t=t.child;return t;case 16:if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,l=t.tag=function(e){if("function"==typeof e)return ll(e)?1:0;if(null!=e){if((e=e.$$typeof)===b)return 11;if(e===y)return 14}return 2}(r),e=St(r,e),l){case 0:t=ba(null,t,r,e,n);break;case 1:t=va(null,t,r,e,n);break;case 11:t=fa(null,t,r,e,n);break;case 14:t=ga(null,t,r,St(r.type,e),a,n);break;default:throw Error(i(306,r,""))}return t;case 0:return a=t.type,r=t.pendingProps,ba(e,t,a,r=t.elementType===a?r:St(a,r),n);case 1:return a=t.type,r=t.pendingProps,va(e,t,a,r=t.elementType===a?r:St(a,r),n);case 3:if(ya(t),null===(a=t.updateQueue))throw Error(i(282));if(r=null!==(r=t.memoizedState)?r.element:null,jt(t,a,t.pendingProps,null,n),(a=t.memoizedState.element)===r)ua(),t=Oa(e,t,n);else{if((r=t.stateNode.hydrate)&&(X?(aa=ye(t.stateNode.containerInfo),na=t,r=ra=!0):r=!1),r)for(n=rn(t,null,a,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else pa(e,t,a,n),ua();t=t.child}return t;case 5:return pn(t),null===e&&ia(t),a=t.type,r=t.pendingProps,l=null!==e?e.memoizedProps:null,o=r.children,W(a,r)?o=null:null!==l&&W(a,l)&&(t.effectTag|=16),ha(e,t),4&t.mode&&1!==n&&U(a,r)?(t.expirationTime=t.childExpirationTime=1,t=null):(pa(e,t,o,n),t=t.child),t;case 6:return null===e&&ia(t),null;case 13:return Ta(e,t,n);case 4:return dn(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=an(t,null,a,n):pa(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,fa(e,t,a,r=t.elementType===a?r:St(a,r),n);case 7:return pa(e,t,t.pendingProps,n),t.child;case 8:case 12:return pa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,o=t.memoizedProps,xt(t,l=r.value),null!==o){var c=o.value;if(0==(l=vt(c,l)?0:0|("function"==typeof a._calculateChangedBits?a._calculateChangedBits(c,l):1073741823))){if(o.children===r.children&&!Le.current){t=Oa(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var s=c.dependencies;if(null!==s){o=c.child;for(var u=s.firstContext;null!==u;){if(u.context===a&&0!=(u.observedBits&l)){1===c.tag&&((u=_t(n,null)).tag=2,Bt(c,u)),c.expirationTime<n&&(c.expirationTime=n),null!==(u=c.alternate)&&u.expirationTime<n&&(u.expirationTime=n),Pt(c.return,n),s.expirationTime<n&&(s.expirationTime=n);break}u=u.next}}else o=10===c.tag&&c.type===t.type?null:c.child;if(null!==o)o.return=c;else for(o=c;null!==o;){if(o===t){o=null;break}if(null!==(c=o.sibling)){c.return=o.return,o=c;break}o=o.return}c=o}}pa(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=(l=t.pendingProps).children,Ot(t,n),a=a(r=At(r,l.unstable_observedBits)),t.effectTag|=1,pa(e,t,a,n),t.child;case 14:return l=St(r=t.type,t.pendingProps),ga(e,t,r,l=St(r.type,l),a,n);case 15:return Ea(e,t,t.type,t.pendingProps,a,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:St(a,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Be(a)?(e=!0,He(t)):e=!1,Ot(t,n),qt(t,a,r),Jt(t,a,r,n),Fa(null,t,a,!0,e,n);case 19:return Pa(e,t,n)}throw Error(i(156,t.tag))};var tl=null,nl=null;function al(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function rl(e,t,n,a){return new al(e,t,n,a)}function ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ol(e,t){var n=e.alternate;return null===n?((n=rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function il(e,t,n,a,r,l){var o=2;if(a=e,"function"==typeof e)ll(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case m:return cl(n.children,r,l,t);case h:o=8,r|=7;break;case p:o=8,r|=1;break;case f:return(e=rl(12,n,t,8|r)).elementType=f,e.type=f,e.expirationTime=l,e;case v:return(e=rl(13,n,t,r)).type=v,e.elementType=v,e.expirationTime=l,e;case F:return(e=rl(19,n,t,r)).elementType=F,e.expirationTime=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case g:o=10;break e;case E:o=9;break e;case b:o=11;break e;case y:o=14;break e;case S:o=16,a=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=rl(o,n,t,r)).elementType=e,t.type=a,t.expirationTime=l,t}function cl(e,t,n,a){return(e=rl(7,e,a,t)).expirationTime=n,e}function sl(e,t,n){return(e=rl(6,e,null,t)).expirationTime=n,e}function ul(e,t,n){return(t=rl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=V,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ml(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function pl(e,t){var n=e.firstSuspendedTime,a=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(a>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function fl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function gl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function El(e){var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return null===(e=I(t))?null:e.stateNode}function hl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function bl(e,t){hl(e,t),(e=e.alternate)&&hl(e,t)}var vl={createContainer:function(e,t,n){return e=new dl(e,t,n),t=rl(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e},updateContainer:function(e,t,n,a){var r=t.current,l=Tr(),o=Gt.suspense;l=xr(l,r,o);e:if(n){t:{if(k(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(i(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(Be(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(i(171))}if(1===n.tag){var s=n.type;if(Be(s)){n=je(n,s,c);break e}}n=c}else n=Ne;return null===t.context?t.context=n:t.pendingContext=n,(t=_t(l,o)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),Bt(r,t),Ir(r,l),l},batchedEventUpdates:function(e,t){var n=rr;rr|=2;try{return e(t)}finally{0===(rr=n)&&gt()}},batchedUpdates:function(e,t){var n=rr;rr|=1;try{return e(t)}finally{0===(rr=n)&&gt()}},unbatchedUpdates:function(e,t){var n=rr;rr&=-2,rr|=8;try{return e(t)}finally{0===(rr=n)&&gt()}},deferredUpdates:function(e){return mt(97,e)},syncUpdates:function(e,t,n,a){return mt(99,e.bind(null,t,n,a))},discreteUpdates:function(e,t,n,a){var r=rr;rr|=4;try{return mt(98,e.bind(null,t,n,a))}finally{0===(rr=r)&&gt()}},flushDiscreteUpdates:function(){0==(49&rr)&&(function(){if(null!==Cr){var e=Cr;Cr=null,e.forEach((function(e,t){gl(t,e),Ar(t)})),gt()}}(),Yr())},flushControlled:function(e){var t=rr;rr|=1;try{mt(99,e)}finally{0===(rr=t)&&gt()}},flushSync:Lr,flushPassiveEffects:Yr,IsThisRendererActing:{current:!1},getPublicRootInstance:function(e){return(e=e.current).child?5===e.child.tag?P(e.child.stateNode):e.child.stateNode:null},attemptSynchronousHydration:function(e){switch(e.tag){case 3:var t=e.stateNode;t.hydrate&&function(e,t){gl(e,t),Ar(e),0==(48&rr)&&gt()}(t,t.firstPendingTime);break;case 13:Lr((function(){return Ir(e,1073741823)})),t=bt(Tr(),150,100),bl(e,t)}},attemptUserBlockingHydration:function(e){if(13===e.tag){var t=bt(Tr(),150,100);Ir(e,t),bl(e,t)}},attemptContinuousHydration:function(e){if(13===e.tag){Tr();var t=ht++;Ir(e,t),bl(e,t)}},attemptHydrationAtCurrentPriority:function(e){if(13===e.tag){var t=Tr();Ir(e,t=xr(t,e,null)),bl(e,t)}},findHostInstance:El,findHostInstanceWithWarning:function(e){return El(e)},findHostInstanceWithNoPortals:function(e){return null===(e=function(e){if(!(e=x(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},shouldSuspend:function(){return!1},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);tl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},nl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}return!0}(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=I(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}};e.exports=vl.default||vl;var Fl=e.exports;return e.exports=t,Fl}},76525:(e,t,n)=>{"use strict";e.exports=n(67287)},52546:(e,t)=>{"use strict";var n,a,r,l,o;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var i=null,c=null,s=function(){if(null!==i)try{var e=t.unstable_now();i(!0,e),i=null}catch(e){throw setTimeout(s,0),e}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==i?setTimeout(n,0,e):(i=e,setTimeout(s,0))},a=function(e,t){c=setTimeout(e,t)},r=function(){clearTimeout(c)},l=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,m=window.Date,p=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var E=m.now();t.unstable_now=function(){return m.now()-E}}var h=!1,b=null,v=-1,F=5,y=0;l=function(){return t.unstable_now()>=y},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):F=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,C=S.port2;S.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();y=e+F;try{b(!0,e)?C.postMessage(null):(h=!1,b=null)}catch(e){throw C.postMessage(null),e}}else h=!1},n=function(e){b=e,h||(h=!0,C.postMessage(null))},a=function(e,n){v=p((function(){e(t.unstable_now())}),n)},r=function(){f(v),v=-1}}function M(e,t){var n=e.length;e.push(t);e:for(;;){var a=Math.floor((n-1)/2),r=e[a];if(!(void 0!==r&&0<T(r,t)))break e;e[a]=t,e[n]=r,n=a}}function w(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length;a<r;){var l=2*(a+1)-1,o=e[l],i=l+1,c=e[i];if(void 0!==o&&0>T(o,n))void 0!==c&&0>T(c,o)?(e[a]=c,e[i]=n,a=i):(e[a]=o,e[l]=n,a=l);else{if(!(void 0!==c&&0>T(c,n)))break e;e[a]=c,e[i]=n,a=i}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var x=[],I=[],P=1,O=null,A=3,N=!1,R=!1,L=!1;function _(e){for(var t=w(I);null!==t;){if(null===t.callback)k(I);else{if(!(t.startTime<=e))break;k(I),t.sortIndex=t.expirationTime,M(x,t)}t=w(I)}}function D(e){if(L=!1,_(e),!R)if(null!==w(x))R=!0,n(B);else{var t=w(I);null!==t&&a(D,t.startTime-e)}}function B(e,n){R=!1,L&&(L=!1,r()),N=!0;var o=A;try{for(_(n),O=w(x);null!==O&&(!(O.expirationTime>n)||e&&!l());){var i=O.callback;if(null!==i){O.callback=null,A=O.priorityLevel;var c=i(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof c?O.callback=c:O===w(x)&&k(x),_(n)}else k(x);O=w(x)}if(null!==O)var s=!0;else{var u=w(I);null!==u&&a(D,u.startTime-n),s=!1}return s}finally{O=null,A=o,N=!1}}function W(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=o;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_scheduleCallback=function(e,l,o){var i=t.unstable_now();if("object"==typeof o&&null!==o){var c=o.delay;c="number"==typeof c&&0<c?i+c:i,o="number"==typeof o.timeout?o.timeout:W(e)}else o=W(e),c=i;return e={id:P++,callback:l,priorityLevel:e,startTime:c,expirationTime:o=c+o,sortIndex:-1},c>i?(e.sortIndex=c,M(I,e),null===w(x)&&e===w(I)&&(L?r():L=!0,a(D,c-i))):(e.sortIndex=o,M(x,e),R||N||(R=!0,n(B))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_shouldYield=function(){var e=t.unstable_now();_(e);var n=w(x);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<O.expirationTime||l()},t.unstable_requestPaint=U,t.unstable_continueExecution=function(){R||N||(R=!0,n(B))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return w(x)},t.unstable_Profiling=null},60373:(e,t,n)=>{"use strict";e.exports=n(52546)},72408:(e,t,n)=>{"use strict";var a=n(27418),r="function"==typeof Symbol&&Symbol.for,l=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,m=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,E="function"==typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function F(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||b}function y(){}function S(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||b}F.prototype.isReactComponent={},F.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},F.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=F.prototype;var C=S.prototype=new y;C.constructor=S,a(C,F.prototype),C.isPureReactComponent=!0;var M={current:null},w=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var a,r={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,a)&&!k.hasOwnProperty(a)&&(r[a]=t[a]);var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){for(var s=Array(c),u=0;u<c;u++)s[u]=arguments[u+2];r.children=s}if(e&&e.defaultProps)for(a in c=e.defaultProps)void 0===r[a]&&(r[a]=c[a]);return{$$typeof:l,type:e,key:o,ref:i,props:r,_owner:M.current}}function x(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var I=/\/+/g,P=[];function O(e,t,n,a){if(P.length){var r=P.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=a,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:a,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function N(e,t,n,a){var r=typeof e;"undefined"!==r&&"boolean"!==r||(e=null);var i=!1;if(null===e)i=!0;else switch(r){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case l:case o:i=!0}}if(i)return n(a,e,""===t?"."+L(e,0):t),1;if(i=0,t=""===t?".":t+":",Array.isArray(e))for(var c=0;c<e.length;c++){var s=t+L(r=e[c],c);i+=N(r,s,n,a)}else if("function"==typeof(s=null===e||"object"!=typeof e?null:"function"==typeof(s=E&&e[E]||e["@@iterator"])?s:null))for(e=s.call(e),c=0;!(r=e.next()).done;)i+=N(r=r.value,s=t+L(r,c++),n,a);else if("object"===r)throw n=""+e,Error(h(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return i}function R(e,t,n){return null==e?0:N(e,"",t,n)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function _(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var a=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,a,n,(function(e){return e})):null!=e&&(x(e)&&(e=function(e,t){return{$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n)),a.push(e))}function B(e,t,n,a,r){var l="";null!=n&&(l=(""+n).replace(I,"$&/")+"/"),R(e,D,t=O(t,l,a,r)),A(t)}var W={current:null};function U(){var e=W.current;if(null===e)throw Error(h(321));return e}var z={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},assign:a};t.Children={map:function(e,t,n){if(null==e)return e;var a=[];return B(e,a,null,t,n),a},forEach:function(e,t,n){if(null==e)return e;R(e,_,t=O(null,null,t,n)),A(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!x(e))throw Error(h(143));return e}},t.Component=F,t.Fragment=i,t.Profiler=s,t.PureComponent=S,t.StrictMode=c,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null==e)throw Error(h(267,e));var r=a({},e.props),o=e.key,i=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,c=M.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)w.call(t,u)&&!k.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){s=Array(u);for(var d=0;d<u;d++)s[d]=arguments[d+2];r.children=s}return{$$typeof:l,type:e.type,key:o,ref:i,props:r,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:m,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.13.1"},67294:(e,t,n)=>{"use strict";e.exports=n(72408)},23972:(e,t,n)=>{"use strict";var a=n(6730);e.exports={isRtlLang:a.isRtlLang,getLangDir:a.getLangDir}},6730:e=>{"use strict";var t,n=t={_regexEscape:/([\.\*\+\^\$\[\]\\\(\)\|\{\}\,\-\:\?])/g,_regexParseLocale:/^([a-zA-Z]*)([_\-a-zA-Z]*)$/,_escapeRegExpPattern:function(e){return"string"!=typeof e?e:e.replace(t._regexEscape,"\\$1")},_toLowerCase:function(e,t){return"string"!=typeof e?t&&e:e.toLowerCase()},_toUpperCase:function(e,t){return"string"!=typeof e?t&&e:e.toUpperCase()},_trim:function(e,n,a){var r,l=[],o=function(e){l.push("^"+e+"+|"+e+"+$")};if("boolean"==typeof n&&(a=n,n=null),"string"!=typeof e)return a&&e;if(Array.isArray(n)&&n.map((function(e){var n=t._escapeRegExpPattern(e);o(n)})),"string"==typeof n){var i=t._escapeRegExpPattern(n);o(i)}n||o("\\s");var c="("+l.join("|")+")";for(r=new RegExp(c,"g");e.match(r);)e=e.replace(r,"");return e},_parseLocale:function(e){var n,a=t._regexParseLocale.exec(e);if(e&&a)return a[2]=t._trim(a[2],["-","_"]),{lang:t._toLowerCase(a[1]),countryCode:n=t._toUpperCase(a[2])||n}},isRtlLang:function(e){var n=t._parseLocale(e);if(n)return t._BIDI_RTL_LANGS.indexOf(n.lang)>=0},getLangDir:function(e){return t.isRtlLang(e)?"rtl":"ltr"}};Object.defineProperty(t,"_BIDI_RTL_LANGS",{value:["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"],writable:!1,enumerable:!0,configurable:!1}),e.exports=n},35140:()=>{},95799:()=>{},51637:()=>{},12821:()=>{},81442:(e,t,n)=>{"use strict";e.exports=n.p+"assets/animation-074ed.gif"},60197:(e,t,n)=>{"use strict";e.exports=n.p+"assets/modal_hide-2341f.ogg"},99373:(e,t,n)=>{"use strict";e.exports=n.p+"assets/release-7c974.ogg"},43464:(e,t,n)=>{"use strict";e.exports=n.p+"assets/snes_pop-7a6d3.ogg"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var l=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.loaded=!0,l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/hbui/",window.HTMLIFrameElement=window.HTMLIFrameElement||function(){},(()=>{"use strict";var e=n(67294),t=n(52910);const a=(0,e.createContext)((0,t.createStaticFacet)({length:1,action:"PUSH",list:[{pathname:"",search:"",hash:"",state:""}]})),r=(0,e.createContext)({push:()=>{},replace:()=>{},goBack:()=>{},go:()=>{}}),l=(0,e.createContext)((0,t.createStaticFacet)(!1)),o=(0,e.createContext)((0,t.createStaticFacet)(!1)),i=(0,e.createContext)((0,t.createStaticFacet)({}));(0,e.createContext)((0,t.createStaticFacet)(!0));var c={};try{!function(e,t){if(new e("q=%2B").get("q")!==t||new e({q:t}).get("q")!==t||new e([["q",t]]).get("q")!==t||"q=%0A"!==new e("q=\n").toString()||"q=+%26"!==new e({q:" &"}).toString()||"q=%25zx"!==new e({q:"%zx"}).toString())throw e;c.URLSearchParams=e}(URLSearchParams,"+")}catch(e){!function(e,t,n){var a=e.create,r=e.defineProperty,l=/[!'\(\)~]|%20|%00/g,o=/%(?![0-9a-fA-F]{2})/g,i=/\+/g,s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},u={append:function(e,t){f(this._ungap,e,t)},delete:function(e){delete this._ungap[e]},get:function(e){return this.has(e)?this._ungap[e][0]:null},getAll:function(e){return this.has(e)?this._ungap[e].slice(0):[]},has:function(e){return e in this._ungap},set:function(e,n){this._ungap[e]=[t(n)]},forEach:function(e,n){var a=this;for(var r in a._ungap)a._ungap[r].forEach(l,r);function l(l){e.call(n,l,t(r),a)}},toJSON:function(){return{}},toString:function(){var e=[];for(var t in this._ungap)for(var n=E(t),a=0,r=this._ungap[t];a<r.length;a++)e.push(n+"="+E(r[a]));return e.join("&")}};for(var d in u)r(m.prototype,d,{configurable:!0,writable:!0,value:u[d]});function m(e){var t=a(null);switch(r(this,"_ungap",{value:t}),!0){case!e:break;case"string"==typeof e:"?"===e.charAt(0)&&(e=e.slice(1));for(var l=e.split("&"),o=0,i=l.length;o<i;o++){var c=(s=l[o]).indexOf("=");-1<c?f(t,g(s.slice(0,c)),g(s.slice(c+1))):s.length&&f(t,g(s),"")}break;case n(e):for(o=0,i=e.length;o<i;o++){var s;f(t,(s=e[o])[0],s[1])}break;case"forEach"in e:e.forEach(p,t);break;default:for(var u in e)f(t,u,e[u])}}function p(e,t){f(this,t,e)}function f(e,t,a){var r=n(a)?a.join(","):a;t in e?e[t].push(r):e[t]=[r]}function g(e){return decodeURIComponent(e.replace(o,"%25").replace(i," "))}function E(e){return encodeURIComponent(e).replace(l,h)}function h(e){return s[e]}c.URLSearchParams=m}(Object,String,Array.isArray)}!function(e){var t=!1;try{t=!!Symbol.iterator}catch(e){}function n(e,n){var a=[];return e.forEach(n,a),t?a[Symbol.iterator]():{next:function(){var e=a.shift();return{done:void 0===e,value:e}}}}"forEach"in e||(e.forEach=function(e,t){var n=this,a=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(r){r.length&&!(r in a)&&(a[r]=n.getAll(r)).forEach((function(a){e.call(t,a,r,n)}))}))}),"keys"in e||(e.keys=function(){return n(this,(function(e,t){this.push(t)}))}),"values"in e||(e.values=function(){return n(this,(function(e,t){this.push(e)}))}),"entries"in e||(e.entries=function(){return n(this,(function(e,t){this.push([t,e])}))}),t&&!(Symbol.iterator in e)&&(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,n,a=this.entries(),r=a.next(),l=r.done,o=[],i=Object.create(null);!l;)t=(n=r.value)[0],o.push(t),t in i||(i[t]=[]),i[t].push(n[1]),l=(r=a.next()).done;for(o.sort(),e=0;e<o.length;e++)this.delete(o[e]);for(e=0;e<o.length;e++)t=o[e],this.append(t,i[t].shift())}),function(t){var n=t.defineProperty,a=t.getOwnPropertyDescriptor,r=function(t){var n=t.append;t.append=e.append,URLSearchParams.call(t,t._usp.search.slice(1)),t.append=n},l=function(e,t){if(!(e instanceof t))throw new TypeError("'searchParams' accessed on an object that does not implement interface "+t.name)},o=function(o){var i,c,s=o.prototype,u=a(s,"searchParams"),d=a(s,"href"),m=a(s,"search");!u&&m&&m.set&&(c=function(t){function a(n,a){e.append.call(this,n,a),n=this.toString(),t.set.call(this._usp,n?"?"+n:"")}function r(n){e.delete.call(this,n),n=this.toString(),t.set.call(this._usp,n?"?"+n:"")}function l(n,a){e.set.call(this,n,a),n=this.toString(),t.set.call(this._usp,n?"?"+n:"")}return function(e,t){return e.append=a,e.delete=r,e.set=l,n(e,"_usp",{configurable:!0,writable:!0,value:t})}}(m),i=function(e,t){return n(e,"_searchParams",{configurable:!0,writable:!0,value:c(t,e)}),t},t.defineProperties(s,{href:{get:function(){return d.get.call(this)},set:function(e){var t=this._searchParams;d.set.call(this,e),t&&r(t)}},search:{get:function(){return m.get.call(this)},set:function(e){var t=this._searchParams;m.set.call(this,e),t&&r(t)}},searchParams:{get:function(){return l(this,o),this._searchParams||i(this,new URLSearchParams(this.search.slice(1)))},set:function(e){l(this,o),i(this,e)}}}))};try{o(HTMLAnchorElement),/^function|object$/.test(typeof URL)&&URL.prototype&&o(URL)}catch(e){}}(Object)}(c.URLSearchParams.prototype);const s=c.URLSearchParams,u=()=>(0,e.useContext)(r),d=()=>(0,e.useContext)(l),m=()=>(0,t.useFacetMemo)(((e,n)=>n?e:t.NO_VALUE),[],[(0,e.useContext)(i),d()]),p=()=>(0,t.useFacetMemo)((({list:e},n)=>n?e[e.length-1].pathname:t.NO_VALUE),[],[(0,e.useContext)(a),d()]),f=()=>{const n=(0,t.useFacetMap)((({list:e})=>e[e.length-1].search),[],[(0,e.useContext)(a)]);return(0,t.useFacetMemo)(((e,n)=>n?new s(e):t.NO_VALUE),[],[n,d()])};function g(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var a=e[n];if("*"!==a&&"+"!==a&&"?"!==a)if("\\"!==a)if("{"!==a)if("}"!==a)if(":"!==a)if("("!==a)t.push({type:"CHAR",index:n,value:e[n++]});else{var r=1,l="";if("?"===e[i=n+1])throw new TypeError('Pattern cannot start with "?" at '+i);for(;i<e.length;)if("\\"!==e[i]){if(")"===e[i]){if(0==--r){i++;break}}else if("("===e[i]&&(r++,"?"!==e[i+1]))throw new TypeError("Capturing groups are not allowed at "+i);l+=e[i++]}else l+=e[i++]+e[i++];if(r)throw new TypeError("Unbalanced pattern at "+n);if(!l)throw new TypeError("Missing pattern at "+n);t.push({type:"PATTERN",index:n,value:l}),n=i}else{for(var o="",i=n+1;i<e.length;){var c=e.charCodeAt(i);if(!(c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||95===c))break;o+=e[i++]}if(!o)throw new TypeError("Missing parameter name at "+n);t.push({type:"NAME",index:n,value:o}),n=i}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),a=t.prefixes,r=void 0===a?"./":a,l="[^"+h(t.delimiter||"/#?")+"]+?",o=[],i=0,c=0,s="",u=function(e){if(c<n.length&&n[c].type===e)return n[c++].value},d=function(e){var t=u(e);if(void 0!==t)return t;var a=n[c],r=a.type,l=a.index;throw new TypeError("Unexpected "+r+" at "+l+", expected "+e)},m=function(){for(var e,t="";e=u("CHAR")||u("ESCAPED_CHAR");)t+=e;return t};c<n.length;){var p=u("CHAR"),f=u("NAME"),g=u("PATTERN");if(f||g){var E=p||"";-1===r.indexOf(E)&&(s+=E,E=""),s&&(o.push(s),s=""),o.push({name:f||i++,prefix:E,suffix:"",pattern:g||l,modifier:u("MODIFIER")||""})}else{var b=p||u("ESCAPED_CHAR");if(b)s+=b;else if(s&&(o.push(s),s=""),u("OPEN")){E=m();var v=u("NAME")||"",F=u("PATTERN")||"",y=m();d("CLOSE"),o.push({name:v||(F?i++:""),pattern:v&&!F?l:F,prefix:E,suffix:y,modifier:u("MODIFIER")||""})}else d("END")}}return o}function E(e,t){var n=[];return function(e,t,n){void 0===n&&(n={});var a=n.decode,r=void 0===a?function(e){return e}:a;return function(n){var a=e.exec(n);if(!a)return!1;for(var l=a[0],o=a.index,i=Object.create(null),c=function(e){if(void 0===a[e])return"continue";var n=t[e-1];"*"===n.modifier||"+"===n.modifier?i[n.name]=a[e].split(n.prefix+n.suffix).map((function(e){return r(e,n)})):i[n.name]=r(a[e],n)},s=1;s<a.length;s++)c(s);return{path:l,index:o,params:i}}}(v(e,n,t),n,t)}function h(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function b(e){return e&&e.sensitive?"":"i"}function v(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var a=0;a<n.length;a++)t.push({name:a,prefix:"",suffix:"",modifier:"",pattern:""});return e}(e,t):Array.isArray(e)?function(e,t,n){var a=e.map((function(e){return v(e,t,n).source}));return new RegExp("(?:"+a.join("|")+")",b(n))}(e,t,n):function(e,t,n){return function(e,t,n){void 0===n&&(n={});for(var a=n.strict,r=void 0!==a&&a,l=n.start,o=void 0===l||l,i=n.end,c=void 0===i||i,s=n.encode,u=void 0===s?function(e){return e}:s,d="["+h(n.endsWith||"")+"]|$",m="["+h(n.delimiter||"/#?")+"]",p=o?"^":"",f=0,g=e;f<g.length;f++){var E=g[f];if("string"==typeof E)p+=h(u(E));else{var v=h(u(E.prefix)),F=h(u(E.suffix));if(E.pattern)if(t&&t.push(E),v||F)if("+"===E.modifier||"*"===E.modifier){var y="*"===E.modifier?"?":"";p+="(?:"+v+"((?:"+E.pattern+")(?:"+F+v+"(?:"+E.pattern+"))*)"+F+")"+y}else p+="(?:"+v+"("+E.pattern+")"+F+")"+E.modifier;else p+="("+E.pattern+")"+E.modifier;else p+="(?:"+v+F+")"+E.modifier}}if(c)r||(p+=m+"?"),p+=n.endsWith?"(?="+d+")":"$";else{var S=e[e.length-1],C="string"==typeof S?m.indexOf(S[S.length-1])>-1:void 0===S;r||(p+="(?:"+m+"(?="+d+"))?"),C||(p+="(?="+m+"|"+d+")")}return new RegExp(p,b(n))}(g(e,n),t,n)}(e,t,n)}function F(e,t){return e+(0===t.toString().length?"":`?${t.toString()}`)}const y=(0,t.createStaticFacet)(!1),S=({to:n,match:r=y,keepQuery:l=!1})=>{const o=(0,t.useFacetWrap)(r),i=u(),c=(0,e.useMemo)((()=>{return function(e,t){void 0===t&&(t={});var n=b(t),a=t.encode,r=void 0===a?function(e){return e}:a,l=t.validate,o=void 0===l||l,i=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:"+e.pattern+")$",n)}));return function(t){for(var n="",a=0;a<e.length;a++){var l=e[a];if("string"!=typeof l){var c=t?t[l.name]:void 0,s="?"===l.modifier||"*"===l.modifier,u="*"===l.modifier||"+"===l.modifier;if(Array.isArray(c)){if(!u)throw new TypeError('Expected "'+l.name+'" to not repeat, but got an array');if(0===c.length){if(s)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<c.length;d++){var m=r(c[d],l);if(o&&!i[a].test(m))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but got "'+m+'"');n+=l.prefix+m+l.suffix}}else if("string"!=typeof c&&"number"!=typeof c){if(!s){var p=u?"an array":"a string";throw new TypeError('Expected "'+l.name+'" to be '+p)}}else{if(m=r(String(c),l),o&&!i[a].test(m))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but got "'+m+'"');n+=l.prefix+m+l.suffix}}else n+=l}return n}}(g(n,e),e);var e}),[n]),d=(0,t.useFacetMap)((e=>0!=e),[],[o]),m=(0,t.useFacetCallback)(((e,t)=>n=>{if(!n||0==e)return;const a=c(e.params);if(l){const e=t.list[t.list.length-1].search,n=new s(e);i.replace(F(a,n))}else i.replace(a)}),[i,c,l],[o,(0,e.useContext)(a)]);return(0,t.useFacetEffect)((e=>{m(e)}),[m],[d]),null},C=e=>{const t=Boolean(e.props)?e.props:{};return Boolean(t.route)&&Boolean(t.component)},M=e=>{const t=Boolean(e.props)?e.props:{};return Boolean(t.from)};function w({children:n,onNotFound:r}){const l=(0,e.useContext)(a),o=(0,t.useFacetMap)((e=>e.list[e.list.length-1].pathname),[],[l]),i=(0,t.useFacetMap)((({action:e})=>e),[],[l]),c=T(),s=(0,t.useFacetMemo)((t=>{let a=!1;return e.Children.forEach(n,((n,r)=>{if(0==a&&(0,e.isValidElement)(n)){if(C(n)){const e=c(n.props.route)(t);if(0!=e)return void(a={match:e,index:r})}if(M(n)){const e=c(n.props.from)(t);if(0!=e)return void(a={match:e,index:r})}}})),a}),[n,c],[o]),u=(0,t.useFacetMap)((e=>!1!==e),[],[s]);return(0,t.useFacetEffect)((e=>{e||null==r||r()}),[r],[u]),e.createElement(e.Fragment,null,e.Children.map(n,((n,a)=>(0,e.isValidElement)(n)?C(n)||M(n)?e.createElement(k,{index:a,switchMatchResult:s,child:n,action:i}):e.createElement(t.Mount,{when:u},n):null)))}const k=({switchMatchResult:n,index:a,action:r,child:l})=>{const o=(0,t.useFacetMemo)((e=>!1!==e&&e.index===a&&e.match),[a],[n]);return e.cloneElement(l,{match:o,action:r})},T=()=>{const t=(0,e.useRef)(new Map);return(0,e.useCallback)((e=>{const n=t.current.get(e);if(n)return n;const a=E(e);return t.current.set(e,a),a}),[])};n(73595);const x=({value:n,isInBackground:a,children:r})=>{const i=(0,t.useFacetWrap)(n),c=(0,t.useFacetWrap)(null!=a&&a),s=(0,t.useFacetMap)((e=>!e),[],[i]);return e.createElement(I,{disabled:s},e.createElement(l.Provider,{value:i},null!=a?e.createElement(o.Provider,{value:c},r):r))},I=({children:n,disabled:a})=>{const l=(0,e.useContext)(r),o=(0,t.useFacetCallback)((e=>()=>{e||l.goBack()}),[l],[a]),i=(0,t.useFacetCallback)((e=>t=>{e||l.push(t)}),[l],[a]),c=(0,t.useFacetCallback)((e=>t=>{e||l.replace(t)}),[l],[a]),s=(0,t.useFacetCallback)((e=>t=>{e||l.go(t)}),[l],[a]),u=(0,e.useMemo)((()=>({goBack:o,push:i,replace:c,go:s})),[o,i,c,s]);return e.createElement(r.Provider,{value:u},n)};var P=n(76290),O=n.n(P);const A=(0,e.createContext)([]),{Provider:N,Consumer:R}=A,L=A;let _,D,B,W;!function(e){e[e.Unknown=-1]="Unknown",e[e.Initial=0]="Initial",e[e.FocusInput=1]="FocusInput",e[e.PointerInput=2]="PointerInput",e[e.FocusTreeMutation=3]="FocusTreeMutation",e[e.URL=4]="URL",e[e.DebugTool=5]="DebugTool",e[e.ImperativeSetFocus=6]="ImperativeSetFocus",e[e.LandmarkController=7]="LandmarkController"}(_||(_={})),function(e){e[e.FIRST_CHILD=0]="FIRST_CHILD",e[e.MEMORY=1]="MEMORY",e[e.ALIAS=2]="ALIAS"}(D||(D={})),function(e){e[e.Unknown=-1]="Unknown",e[e.Mutation=1]="Mutation",e[e.UserInput=2]="UserInput"}(B||(B={})),function(e){e.A="A",e.B="B",e.X="X",e.Y="Y",e.START="START",e.SELECT="SELECT",e.XBOX="XBOX",e.RIGHT_TRIGGER="RT",e.LEFT_TRIGGER="LT",e.LEFT_BUMPER="LB",e.RIGHT_BUMPER="RB",e.L3="L3",e.R3="R3",e.LEFT="LEFT",e.RIGHT="RIGHT",e.UP="UP",e.DOWN="DOWN",e.NEXT="NEXT",e.PREV="PREV",e.LEFT_ANALOG_LEFT="L_LEFT",e.LEFT_ANALOG_RIGHT="L_RIGHT",e.LEFT_ANALOG_UP="L_UP",e.LEFT_ANALOG_DOWN="L_DOWN",e.RIGHT_ANALOG_LEFT="R_LEFT",e.RIGHT_ANALOG_RIGHT="R_RIGHT",e.RIGHT_ANALOG_UP="R_UP",e.RIGHT_ANALOG_DOWN="R_DOWN",e[e.LEFT_HORIZONTAL_AXIS=0]="LEFT_HORIZONTAL_AXIS",e[e.LEFT_VERTICAL_AXIS=1]="LEFT_VERTICAL_AXIS",e[e.RIGHT_HORIZONTAL_AXIS=2]="RIGHT_HORIZONTAL_AXIS",e[e.RIGHT_VERTICAL_AXIS=3]="RIGHT_VERTICAL_AXIS",e.PSEUDO_BUTTON_1="PSEUDO_BUTTON_1",e.PSEUDO_BUTTON_2="PSEUDO_BUTTON_2",e.PSEUDO_BUTTON_3="PSEUDO_BUTTON_3",e.PSEUDO_BUTTON_4="PSEUDO_BUTTON_4",e.PSEUDO_BUTTON_5="PSEUDO_BUTTON_5",e.PSEUDO_BUTTON_6="PSEUDO_BUTTON_6",e.PSEUDO_BUTTON_7="PSEUDO_BUTTON_7",e.PSEUDO_BUTTON_8="PSEUDO_BUTTON_8",e.PSEUDO_BUTTON_9="PSEUDO_BUTTON_9",e.PSEUDO_BUTTON_10="PSEUDO_BUTTON_10"}(W||(W={}));const U="data-landmark-id",z="data-focusable-id",j="data-focusable-debug-id";let H,V,G;!function(e){e[e.ITEM=0]="ITEM",e[e.FOCUS_GROUP=1]="FOCUS_GROUP",e[e.LANDMARK=2]="LANDMARK",e[e.ROOT=3]="ROOT"}(H||(H={})),function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(V||(V={})),function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(G||(G={}));const $=[W.A,W.B,W.LEFT,W.DOWN,W.RIGHT,W.UP];let K;!function(e){e[e.UP=0]="UP",e[e.RIGHT=1]="RIGHT",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT"}(K||(K={}));const X={[W.LEFT_ANALOG_UP]:K.UP,[W.UP]:K.UP,[W.LEFT_ANALOG_DOWN]:K.DOWN,[W.DOWN]:K.DOWN,[W.LEFT_ANALOG_LEFT]:K.LEFT,[W.LEFT]:K.LEFT,[W.LEFT_ANALOG_RIGHT]:K.RIGHT,[W.RIGHT]:K.RIGHT},Y={3:W.B};let q,Q;!function(e){e[e.NEXT=-1]="NEXT",e[e.PREVIOUS=1]="PREVIOUS"}(q||(q={})),function(e){e[e.DefaultDelegation=0]="DefaultDelegation",e[e.FirstFoundDelegation=1]="FirstFoundDelegation",e[e.AliasDelegation=2]="AliasDelegation",e[e.MemoryDelegation=3]="MemoryDelegation",e[e.FocusableAliasMutation=4]="FocusableAliasMutation"}(Q||(Q={}));const J=e=>e.type===H.ITEM||e.type===H.LANDMARK&&!0!==e.focusControlDisabled||e.type===H.ROOT,Z=e=>J(e)&&!e.disabled&&!e.hidden&&null!=e.ref,ee=e=>!e.disabled&&!e.hidden&&null!=e.ref,te=e=>!e.disabled&&!e.hidden,ne=e=>J(e)?ee(e):te(e),ae=e=>null!=e&&e.type===H.ROOT,re=e=>null!=e&&e.type===H.LANDMARK&&!0!==e.focusControlDisabled&&"getDelegatedFocus"in e,le=e=>null!=e&&e.type===H.LANDMARK&&!0===e.isGrid,oe=e=>null!=e&&e.type===H.LANDMARK&&!0===e.isGrid&&null!=e.ref,ie=e=>re(e)&&"shouldBindFocus"in e&&!0===e.shouldBindFocus,ce=(W.LEFT_ANALOG_LEFT,W.LEFT_ANALOG_RIGHT,W.LEFT_ANALOG_UP,W.LEFT_ANALOG_DOWN,W.RIGHT_ANALOG_LEFT,W.RIGHT_ANALOG_RIGHT,W.RIGHT_ANALOG_UP,W.RIGHT_ANALOG_DOWN,W.A,W.B,W.X,W.Y,W.START,W.SELECT,W.XBOX,W.RIGHT_TRIGGER,W.LEFT_TRIGGER,W.LEFT_BUMPER,W.RIGHT_BUMPER,W.L3,W.R3,W.LEFT,W.RIGHT,W.UP,W.DOWN,W.PSEUDO_BUTTON_1,W.PSEUDO_BUTTON_2,W.PSEUDO_BUTTON_3,W.PSEUDO_BUTTON_4,W.PSEUDO_BUTTON_5,W.PSEUDO_BUTTON_6,W.PSEUDO_BUTTON_7,W.PSEUDO_BUTTON_8,W.PSEUDO_BUTTON_9,W.PSEUDO_BUTTON_10,W.A,W.B,W.X,W.Y,W.START,W.SELECT,W.LEFT,W.RIGHT,W.UP,W.DOWN,W.L3,W.R3,W.LEFT_ANALOG_LEFT,W.RIGHT_ANALOG_LEFT,W.LEFT_BUMPER,W.RIGHT_BUMPER,W.LEFT_TRIGGER,W.RIGHT_TRIGGER,[W.A,W.B,W.X,W.Y,W.START,W.SELECT,W.LEFT_BUMPER,W.RIGHT_BUMPER,W.LEFT_TRIGGER,W.RIGHT_TRIGGER,W.R3,W.L3]),se=[W.A,W.B,W.X,W.Y,W.LEFT_BUMPER,W.RIGHT_BUMPER,W.LEFT_TRIGGER,W.RIGHT_TRIGGER,W.SELECT,W.START,W.L3,W.R3,W.UP,W.DOWN,W.LEFT,W.RIGHT,W.XBOX],ue=[W.LEFT,W.RIGHT,W.UP,W.DOWN];let de,me;var pe;ce.map((e=>se.indexOf(e))),ue.map((e=>se.indexOf(e))),(pe=de||(de={}))[pe.BACKSPACE=8]="BACKSPACE",pe[pe.TAB=9]="TAB",pe[pe.ENTER=13]="ENTER",pe[pe.SHIFT=16]="SHIFT",pe[pe.CTRL=17]="CTRL",pe[pe.ALT=18]="ALT",pe[pe.CAPS_LOCK=20]="CAPS_LOCK",pe[pe.ESCAPE=27]="ESCAPE",pe[pe.SPACE=32]="SPACE",pe[pe.PG_UP=33]="PG_UP",pe[pe.PG_DOWN=34]="PG_DOWN",pe[pe.END=35]="END",pe[pe.HOME=36]="HOME",pe[pe.LEFT=37]="LEFT",pe[pe.UP=38]="UP",pe[pe.RIGHT=39]="RIGHT",pe[pe.DOWN=40]="DOWN",pe[pe.INSERT=45]="INSERT",pe[pe.DELETE=46]="DELETE",pe[pe.KEY_0=48]="KEY_0",pe[pe.KEY_1=49]="KEY_1",pe[pe.KEY_2=50]="KEY_2",pe[pe.KEY_3=51]="KEY_3",pe[pe.KEY_4=52]="KEY_4",pe[pe.KEY_5=53]="KEY_5",pe[pe.KEY_6=54]="KEY_6",pe[pe.KEY_7=55]="KEY_7",pe[pe.KEY_8=56]="KEY_8",pe[pe.KEY_9=57]="KEY_9",pe[pe.SEMICOLON=59]="SEMICOLON",pe[pe.EQUALS=61]="EQUALS",pe[pe.KEY_A=65]="KEY_A",pe[pe.KEY_B=66]="KEY_B",pe[pe.KEY_C=67]="KEY_C",pe[pe.KEY_D=68]="KEY_D",pe[pe.KEY_E=69]="KEY_E",pe[pe.KEY_F=70]="KEY_F",pe[pe.KEY_G=71]="KEY_G",pe[pe.KEY_H=72]="KEY_H",pe[pe.KEY_I=73]="KEY_I",pe[pe.KEY_J=74]="KEY_J",pe[pe.KEY_K=75]="KEY_K",pe[pe.KEY_L=76]="KEY_L",pe[pe.KEY_M=77]="KEY_M",pe[pe.KEY_N=78]="KEY_N",pe[pe.KEY_O=79]="KEY_O",pe[pe.KEY_P=80]="KEY_P",pe[pe.KEY_Q=81]="KEY_Q",pe[pe.KEY_R=82]="KEY_R",pe[pe.KEY_S=83]="KEY_S",pe[pe.KEY_T=84]="KEY_T",pe[pe.KEY_U=85]="KEY_U",pe[pe.KEY_V=86]="KEY_V",pe[pe.KEY_W=87]="KEY_W",pe[pe.KEY_X=88]="KEY_X",pe[pe.KEY_Y=89]="KEY_Y",pe[pe.KEY_Z=90]="KEY_Z",pe[pe.NUMPAD_0=96]="NUMPAD_0",pe[pe.NUMPAD_1=97]="NUMPAD_1",pe[pe.NUMPAD_2=98]="NUMPAD_2",pe[pe.NUMPAD_3=99]="NUMPAD_3",pe[pe.NUMPAD_4=100]="NUMPAD_4",pe[pe.NUMPAD_5=101]="NUMPAD_5",pe[pe.NUMPAD_6=102]="NUMPAD_6",pe[pe.NUMPAD_7=103]="NUMPAD_7",pe[pe.NUMPAD_8=104]="NUMPAD_8",pe[pe.NUMPAD_9=105]="NUMPAD_9",pe[pe.MINUS=109]="MINUS",pe[pe.F1=112]="F1",pe[pe.F2=113]="F2",pe[pe.F3=114]="F3",pe[pe.F4=115]="F4",pe[pe.F5=116]="F5",pe[pe.F6=117]="F6",pe[pe.F7=118]="F7",pe[pe.F8=119]="F8",pe[pe.F9=120]="F9",pe[pe.F10=121]="F10",pe[pe.F11=122]="F11",pe[pe.F12=123]="F12",pe[pe.COMMA=188]="COMMA",pe[pe.PERIOD=190]="PERIOD",pe[pe.SLASH=191]="SLASH",pe[pe.GRAVE=192]="GRAVE",pe[pe.MOUSE_MOVEMENT=195]="MOUSE_MOVEMENT",pe[pe.MOUSE_BUTTON_LEFT=196]="MOUSE_BUTTON_LEFT",pe[pe.MOUSE_BUTTON_MIDDLE=197]="MOUSE_BUTTON_MIDDLE",pe[pe.MOUSE_BUTTON_RIGHT=198]="MOUSE_BUTTON_RIGHT",pe[pe.MOUSE_WHEEL=199]="MOUSE_WHEEL",pe[pe.PSEUDO_KEY_1=201]="PSEUDO_KEY_1",pe[pe.PSEUDO_KEY_2=202]="PSEUDO_KEY_2",pe[pe.PSEUDO_KEY_3=203]="PSEUDO_KEY_3",pe[pe.PSEUDO_KEY_4=204]="PSEUDO_KEY_4",pe[pe.PSEUDO_KEY_5=205]="PSEUDO_KEY_5",pe[pe.PSEUDO_KEY_6=206]="PSEUDO_KEY_6",pe[pe.PSEUDO_KEY_7=207]="PSEUDO_KEY_7",pe[pe.PSEUDO_KEY_8=208]="PSEUDO_KEY_8",pe[pe.PSEUDO_KEY_9=209]="PSEUDO_KEY_9",pe[pe.PSEUDO_KEY_10=210]="PSEUDO_KEY_10",pe[pe.BRACKET_OPEN=219]="BRACKET_OPEN",pe[pe.BACKSLASH=220]="BACKSLASH",pe[pe.BRACKET_CLOSE=221]="BRACKET_CLOSE",pe[pe.APOSTROPHE=222]="APOSTROPHE",function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward"}(me||(me={}));const fe={[W.UP]:[de.UP],[W.DOWN]:[de.DOWN],[W.LEFT]:[de.LEFT],[W.RIGHT]:[de.RIGHT],[W.X]:[de.KEY_X],[W.Y]:[de.KEY_Y],[W.A]:[de.ENTER,de.SPACE],[W.B]:[de.ESCAPE,de.BACKSPACE],[W.LEFT_TRIGGER]:[de.KEY_Q],[W.RIGHT_TRIGGER]:[de.KEY_Z],[W.LEFT_BUMPER]:[de.BRACKET_OPEN],[W.RIGHT_BUMPER]:[de.BRACKET_CLOSE],[W.LEFT_ANALOG_LEFT]:[de.KEY_9],[W.RIGHT_ANALOG_LEFT]:[de.KEY_0],[W.START]:[de.F10],[W.SELECT]:[de.F11],[W.XBOX]:[de.F1],[W.L3]:[de.F2],[W.R3]:[de.F3],[W.PSEUDO_BUTTON_1]:[de.PSEUDO_KEY_1],[W.PSEUDO_BUTTON_2]:[de.PSEUDO_KEY_2],[W.PSEUDO_BUTTON_3]:[de.PSEUDO_KEY_3],[W.PSEUDO_BUTTON_4]:[de.PSEUDO_KEY_4],[W.PSEUDO_BUTTON_5]:[de.PSEUDO_KEY_5],[W.PSEUDO_BUTTON_6]:[de.PSEUDO_KEY_6],[W.PSEUDO_BUTTON_7]:[de.PSEUDO_KEY_7],[W.PSEUDO_BUTTON_8]:[de.PSEUDO_KEY_8],[W.PSEUDO_BUTTON_9]:[de.PSEUDO_KEY_9],[W.PSEUDO_BUTTON_10]:[de.PSEUDO_KEY_10]},ge=(0,t.createStaticFacet)(fe),Ee=(0,e.createContext)([ge,()=>{}]),he=()=>(0,e.useContext)(Ee),be=(0,e.createContext)((()=>()=>{})),ve=()=>(0,e.useContext)(be),Fe=(0,e.createContext)((0,t.createStaticFacet)(_.Initial)),ye=()=>(0,e.useContext)(Fe),Se=(0,e.createContext)((0,t.createStaticFacet)({swapABButtons:!1,swapXYButtons:!1})),Ce=()=>(0,e.useContext)(Se),Me=Se.Provider,we=(Se.Consumer,()=>{}),ke=(0,e.createContext)({current:{generateId:()=>(we(),-1),press:()=>{},isFocused:()=>(we(),!1),isFocusable:()=>(we(),!1),putNode:we,putShortcut:we,removeNode:we,removeShortcut:we,getElement:()=>{we()},isAncestorOf:()=>(we(),!1),getDynasty:()=>{we()},getEnabledBindingLandmarkDescendant:()=>{we()},containerHasEnabledItems:()=>(we(),!1),getClosestGrid:()=>(we(),null),updateGridNodeDimensions:()=>{we()}}}),{Provider:Te,Consumer:xe}=ke,Ie=Te,Pe=(0,e.createContext)({addAnalogListener:()=>()=>{},addDigitalListener:()=>()=>{},clickAtPoint:()=>{},focusAtPoint:()=>{}}),{Provider:Oe,Consumer:Ae}=Pe,Ne=Oe,Re=(0,t.createFacetContext)({}),Le=()=>(0,e.useContext)(Re),_e=({value:t,children:n})=>e.createElement(Re.Provider,{value:t},n),De=(0,e.createContext)(void 0),Be=()=>(0,e.useContext)(De),We=({value:t,children:n})=>e.createElement(De.Provider,{value:t},n);let Ue,ze,je,He,Ve,Ge,$e;!function(e){e[e.TV_SCREEN_TYPE=0]="TV_SCREEN_TYPE",e[e.DESKTOP_SCREEN_TYPE=1]="DESKTOP_SCREEN_TYPE",e[e.HANDHELD_SCREEN_TYPE=2]="HANDHELD_SCREEN_TYPE",e[e.VR_SCREEN_TYPE=3]="VR_SCREEN_TYPE"}(Ue||(Ue={})),function(e){e[e.PHONE=0]="PHONE",e[e.TABLET=1]="TABLET"}(ze||(ze={})),function(e){e[e.GAMEPAD=0]="GAMEPAD",e[e.TOUCH=1]="TOUCH",e[e.MOUSE=2]="MOUSE",e[e.MOTION=3]="MOTION",e[e.KEYBOARD=4]="KEYBOARD"}(je||(je={})),function(e){e[e.ARVR_None=0]="ARVR_None",e[e.ARVR_Rift=1]="ARVR_Rift",e[e.ARVR_Holographic=2]="ARVR_Holographic",e[e.ARVR_WindowsMR=3]="ARVR_WindowsMR",e[e.ARVR_PSVR=4]="ARVR_PSVR",e[e.ARVR_GearVR=5]="ARVR_GearVR",e[e.ARVR_DesktopXR=6]="ARVR_DesktopXR"}(He||(He={})),function(e){e[e.IOS=0]="IOS",e[e.GOOGLE=1]="GOOGLE",e[e.AMAZON_HANDHELD=2]="AMAZON_HANDHELD",e[e.UWP=3]="UWP",e[e.XBOX=4]="XBOX",e[e.NX_HANDHELD=5]="NX_HANDHELD",e[e.PS4=6]="PS4",e[e.WIN32=7]="WIN32",e[e.MACOS=8]="MACOS",e[e.NX_TV=9]="NX_TV",e[e.PS5=10]="PS5"}(Ve||(Ve={})),function(e){e[e.SCALE_100_PERCENT=4]="SCALE_100_PERCENT",e[e.SCALE_125_PERCENT=5]="SCALE_125_PERCENT",e[e.SCALE_150_PERCENT=6]="SCALE_150_PERCENT",e[e.SCALE_175_PERCENT=7]="SCALE_175_PERCENT",e[e.SCALE_200_PERCENT=8]="SCALE_200_PERCENT"}(Ge||(Ge={})),function(e){e[e.XBOX=0]="XBOX",e[e.PS=1]="PS",e[e.STEAM=2]="STEAM",e[e.SWITCH=3]="SWITCH",e[e.QUEST=4]="QUEST"}($e||($e={}));const Ke=(0,e.createContext)({isPointerInputMouse:(0,t.createStaticFacet)(!1),isPointerInputTouch:(0,t.createStaticFacet)(!1),isPointerInputAvailable:(0,t.createStaticFacet)(!1),isFocusInputGamepad:(0,t.createStaticFacet)(!1),isFocusInputKeyboard:(0,t.createStaticFacet)(!1),isFocusInputAvailable:(0,t.createStaticFacet)(!1),isLastInputMouse:(0,t.createStaticFacet)(!1),isLastInputTouch:(0,t.createStaticFacet)(!1),isLastInputGamepad:(0,t.createStaticFacet)(!1),isLastInputKeyboard:(0,t.createStaticFacet)(!1),isLastInputPointer:(0,t.createStaticFacet)(!1),isLastInputFocus:(0,t.createStaticFacet)(!1),isGamepadSupported:(0,t.createStaticFacet)(!1),isKeyboardSupported:(0,t.createStaticFacet)(!1),isMouseSupported:(0,t.createStaticFacet)(!1),isTouchSupported:(0,t.createStaticFacet)(!1),isPointerSupported:(0,t.createStaticFacet)(!1),isFocusSupported:(0,t.createStaticFacet)(!1)}),Xe=(0,e.createContext)((0,t.createStaticFacet)(Ve.XBOX)),Ye=(0,e.createContext)((0,t.createStaticFacet)(He.ARVR_None)),qe=(0,e.createContext)((0,t.createStaticFacet)(Ue.TV_SCREEN_TYPE)),Qe=(0,e.createContext)((0,t.createStaticFacet)($e.XBOX)),Je=()=>(0,e.useContext)(Ke).isPointerInputMouse,Ze=()=>(0,e.useContext)(Ke).isPointerInputTouch,et=()=>(0,e.useContext)(Ke).isFocusInputGamepad,tt=()=>(0,e.useContext)(Ke).isFocusInputKeyboard,nt=()=>(0,e.useContext)(Ke).isFocusInputAvailable,at=()=>(0,e.useContext)(Ke).isLastInputPointer,rt=()=>(0,e.useContext)(Ke).isLastInputFocus;var lt=n(59270),ot=n.n(lt);function it(e,t){const n=e.elements.get(t);if(null!=n&&J(n))return null==n?void 0:n.alias}function ct(e,t){var n;const a=null!==(n=e.children.get(t.id))&&void 0!==n?n:[];for(const t of a){const n=e.elements.get(t);if(n)switch(n.type){case H.LANDMARK:if(!ne(n))continue;if(ct(e,n))return!0;break;case H.FOCUS_GROUP:if(n.disabled||n.hidden)continue;if(ct(e,n))return!0;break;case H.ITEM:if(ee(n))return!0;case H.ROOT:}}return!1}function st(e,t){return"string"==typeof t?e.aliases.get(t):null!=t&&e.elements.has(t)?t:void 0}function ut(e,t){const n=st(e,t);if(null!=n)return e.elements.get(n)}function dt(e,t){const n=e.parents.get(t);return null==n?[]:[n,...dt(e,n)]}function mt(e,t,n){const a=e.parents.get(n);return a===t||null!=a&&mt(e,t,a)}function pt(e,t){const n=e.parents.get(t);if(null==n)return null;const a=e.elements.get(n);return null==a?null:re(a)||ae(a)?a:pt(e,n)}function ft(e,t){const n=e.parents.get(t);if(null==n)return null;const a=e.elements.get(n);return null==a||re(a)&&!le(a)?null:le(a)?a:ft(e,n)}function gt(e,t){for(const n of t){const t=e.elements.get(n);if(t){if(re(t)&&wt(e,n))return!0;if(t.type===H.ITEM&&wt(e,n))return!0}}return!1}const Et=e=>{const t=(n,a)=>{const r=n.parents.get(a);if(null==r)return null;const l=n.elements.get(r);return null==l?null:e(l)?r:t(n,r)};return t},ht=(e,t,n)=>{const a=dt(e,n);return null!=Et((e=>re(e)&&!ot()(e.id,a)))(e,t)},bt=Et((e=>e.disabled||e.hidden)),vt=(e,t)=>null!=bt(e,t),Ft=Et(ie),yt=Et((e=>e.type===H.LANDMARK&&null!=e.scrollAxis)),St=(e,t,n)=>{const a=e.parents.get(t);return null!=a&&(a===n||St(e,a,n))},Ct=(e,t)=>{const n=Mt(e,t);if(null!=n&&n.length>0){const t=ut(e,n[0]);return null!=t&&ie(t)?t:void 0}},Mt=(e,t)=>{const n=e.bindingLandmarkDescendants.get(t);if(null==n)return;const a=[];for(const t of n)wt(e,t)&&a.push(t);return a};function wt(e,t){const n=ut(e,t);if(null==n)return!1;if(n.type===H.ROOT)return!0;if(!ne(n))return!1;const a=dt(e,n.id);for(const t of a){const n=ut(e,t);if(null==n)return!1;if(n.type===H.ROOT)return!0;if(!ne(n))return!1}return!0}const kt=(e,n,a)=>{const r=st(e,n);if(null==r)return;const l=e.elements.get(r);if(null!=l){if(l.type===H.ROOT||re(l)&&wt(e,r)){const e=l.getDelegatedFocus({delegationOrigin:a});return e!=t.NO_VALUE?e:void 0}return kt(e,e.parents.get(r),a)}};function Tt(e,t,n){const a=e.elements.get(t);if(!a)return;if(wt(e,t)){var r;const a=null===(r=e.shortcuts.get(t))||void 0===r?void 0:r.get(n);if(null!=a)return a}if(ie(a))return;const l=e.parents.get(t);return null!=l?Tt(e,l,n):void 0}function xt(e,t,n){var a;return null===(a=Tt(e,t,n))||void 0===a?void 0:a.callback}function It(e,t){const n=[],a=dt(e,t);for(const t of a){const a=ut(e,t);if(null==a)return n;a.type!==H.LANDMARK&&a.type!==H.ROOT||!ee(a)||n.push(a)}return n}const Pt=(e,t)=>n=>{var a;const r=null!==(a=n.getAttribute(z))&&void 0!==a?a:n.getAttribute(U);if(null==r)return!1;const l=parseInt(r,10);return t===l||mt(e,t,l)},Ot=(e,n)=>()=>{var a;const r=Ct(e,n);if(null!=r){const e=r.getDelegatedFocus({delegationOrigin:B.Mutation});if(null!=e&&e!==t.NO_VALUE)return e}const l={id:n,reason:Q.DefaultDelegation},o=e.dynasty.get(n),i=Array.from(null!==(a=window.document.body.querySelectorAll("[data-focusable-id], [data-landmark-id]"))&&void 0!==a?a:[]);if(0===i.length)return l;for(let n=0;n<i.length;n++){const a=i[n].getAttribute(U),r=i[n].getAttribute(z);if(null!=a){const n=parseInt(a,10);if(null==o||!o.has(n))continue;const r=ut(e,n);if(!re(r))continue;if(!wt(e,n))continue;const l=Pt(e,n),c=i.filter(l),s=r.getDelegatedFocus({cachedDescendantElements:c,delegationOrigin:B.Mutation});if(s!=t.NO_VALUE&&null!=s)return s}else if(null!=r){const t=parseInt(r,10);if(null!=o&&o.has(t)&&wt(e,t))return{id:t,reason:Q.FirstFoundDelegation}}}return l},At={[K.UP]:q.PREVIOUS,[K.DOWN]:q.NEXT,[K.LEFT]:q.PREVIOUS,[K.RIGHT]:q.NEXT},Nt={[K.UP]:K.DOWN,[K.DOWN]:K.UP,[K.LEFT]:K.RIGHT,[K.RIGHT]:K.LEFT},Rt={[K.UP]:V.VERTICAL,[K.DOWN]:V.VERTICAL,[K.LEFT]:V.HORIZONTAL,[K.RIGHT]:V.HORIZONTAL},Lt={[V.VERTICAL]:V.HORIZONTAL,[V.HORIZONTAL]:V.VERTICAL},_t=(e,t)=>{switch(t){case K.DOWN:return e.top+e.height;case K.UP:return e.top;case K.RIGHT:return e.left+e.width;case K.LEFT:return e.left}},Dt=e=>[e.left+e.width/2,e.top+e.height/2],Bt=(e,t,n)=>{switch(n){case V.HORIZONTAL:{const n=e.top+e.height,a=t.top+t.height,r=Math.max(t.top-e.top,0)+Math.max(n-a,0);return Math.max(e.height-r,0)/e.height}case V.VERTICAL:{const n=e.left+e.width,a=t.left+t.width,r=Math.max(t.left-e.left,0)+Math.max(n-a,0);return Math.max(e.width-r,0)/e.width}}};function Wt(e,t){var n;const a=e.elements.get(t);if(null!=a&&"ref"in a)return null==a||null===(n=a.ref)||void 0===n?void 0:n.getBoundingClientRect()}function Ut(e,t,n){for(const l of e.elements){var a,r;const o=l[1];if(o.type!==H.ITEM||!Z(o)||null==(null===(a=e.shortcuts.get(o.id))||void 0===a||null===(r=a.get(W.A))||void 0===r?void 0:r.callback))continue;const i=o.ref.getBoundingClientRect();if(t>=i.left&&t<=i.left+i.width&&n>=i.top&&n<=i.top+i.height)return o}}const zt=e=>{let t=null,n=[1/0,1/0];for(const[r,l]of e.elements){var a;if(!J(l))continue;const o=null===(a=l.ref)||void 0===a?void 0:a.getBoundingClientRect();if(null==o)continue;if(l.type!==H.ITEM)continue;if(vt(e,l.id))continue;const i=Dt(o),c=i[0]<n[0],s=i[0]===n[0]&&i[1]<n[1];(c||s)&&(t=r,n=i)}return t},jt=e=>{const t=e.getAttribute(z);if(null!=t)return parseInt(t)};function Ht(e){const t={topLeftColumn:0,topLeftRow:0,columns:0,rows:0};if(0===e.length)return t;if(null==e)return t;const n=e.sort(((e,t)=>e[0]===t[0]?e[1]-t[1]:e[0]-t[0])),[a,r]=n[0],[l,o]=n[n.length-1];return t.topLeftColumn=r,t.topLeftRow=a,t.columns=o-r+1,t.rows=l-a+1,t}class Vt{constructor(e=0,t=0){this._rows=e,this._columns=t,this._grid=new Array,this._itemIndices=new Map}_toIndex([e,t]){return e*this._columns+t}get columns(){return this._columns}_setColumns(e){if(!(e<=this._columns)){for(let e=this._grid.length-1;e>=0;e--)(e+1)%this._columns==0&&this._grid.splice(e,0,this._grid[e]);this._columns=e}}_setRows(e){if(e<=this._rows)return;const t=new Array(this._columns).fill(null).map(((e,t)=>{var n;return null!==(n=this._grid[this._grid.length-this._columns+t])&&void 0!==n?n:null}));this._grid.push(...t),this._rows=e}get rows(){return this._rows}get grid(){return this._grid}get itemIndices(){return this._itemIndices}getItemGridRect(e){const t=this._itemIndices.get(e);return null==t?{columns:0,rows:0,topLeftColumn:0,topLeftRow:0}:Ht(t)}getItemCenterCoords(e){const t=this._itemIndices.get(e);if(null==t)return;const n=t.sort(((e,t)=>e[0]===t[0]?e[1]-t[1]:e[0]-t[0]));return n[Math.floor((n.length-1)/2)]}get isPopulated(){var e;return null!==(e=(this._rows>0||this._columns>0)&&this._grid.length>0&&null!=this._itemIndices&&this._itemIndices.size>0)&&void 0!==e&&e}get length(){return this._grid.length}getCoords(e){return this._itemIndices.get(e)}setItem(e,t){this.removeItem(t);const n=e.map((e=>this.getItem(e))).filter((t=>{if(null==t)return!1;const n=this._itemIndices.get(t);return null==n?void 0:n.every((t=>{return n=t,e.some((e=>e[0]===n[0]&&e[1]===n[0]));var n}))})),a=n.length>0;e.forEach((([e,n])=>{const r=this._toIndex([e,n]);this._setColumns(Math.max(this._columns,n+1)),this._setRows(Math.max(this._rows,e+1)),a?function(e,t,n){if(n<0||n>e.length)throw new Error("Index out of bounds");e.length+=1;for(let t=e.length-1;t>n;t--)e[t]=e[t-1];e[n]=t}(this._grid,t,r):this._grid[r]=t}))}getItem(e){if(Array.isArray(e)){const t=this._toIndex(e);return this._grid[t]}if("string"==typeof e){const t=this._itemIndices.get(e);if(t&&t.length>0){const[e,n]=t[0];return this.getItem([e,n])}}return null}removeItem(e){if(Array.isArray(e)){const t=this._toIndex(e),n=this._grid[t];null!=n&&this._itemIndices.delete(n),this._grid[t]=null}else{if("number"!=typeof e)throw new Error("Invalid arguments provided for removeItem");{const t=this._itemIndices.get(e);t&&(t.forEach((([e,t])=>{const n=this._toIndex([e,t]);this._grid[n]=null})),this._itemIndices.delete(e))}}}printGrid(e){}}const Gt={0:"topLeftRow",1:"topLeftColumn"};function $t(e,t){const n=e.grid.rows,a=e.grid.columns,r=t.grid.getCoords(e.nodeId);if(null==r)return[0,0];const l=Ht(r),[o,i]=[l.rows/n,l.columns/a];return[o,i]}function Kt(e,n,a,r,l=0){if(null==n)return;const o=ft(e,n);if(null!=o&&null!=o.ref){const i=e.grids.get(o.id);if(null==a&&(a=null==i?void 0:i.grid.getItemCenterCoords(n)),null==i)return;const c=Xt(e,i,n,a,r,l);if(null!=c)return c;{const n=ft(e,o.id);if(null==n)return;const c=e.grids.get(n.id);if(null==c)return;const s=a,u=function(e,t,n){const a=t.grid.getItemGridRect(e.nodeId),[r,l]=$t(e,t),[o,i]=null!=n?n:[0,0];return[Math.floor(o*r)+a.topLeftRow,Math.floor(i*l)+a.topLeftColumn]}(i,c,s),d=Kt(e,o.id,u,r,l);if(null==d)return;const[m,p]=d,f=e.elements.get(m);if(le(f)){const t=e.grids.get(f.id);if(null!=t){const e=function(e,t,n,a,r,l){const o=[0,0],i=l.grid.getItemGridRect(r.nodeId),c=l.grid.getItemGridRect(a.nodeId);let s;switch(t){case K.DOWN:s=1;break;case K.UP:s=1,o[0]=r.grid.rows-1;break;case K.RIGHT:s=0;break;case K.LEFT:s=0,o[1]=r.grid.columns-1}if(null!=n){const e=n[s],t=$t(a,l),u=$t(r,l),d=t[s],m=u[s],p=i[Gt[s]]-c[Gt[s]],f=d/m;o[s]=Math.floor(e*d/m+p+f/2)}const u=r.grid.getItem(o);if(null!=u)return[u,o]}(0,r,s,i,t,c);if(null!=e)return e}}if(re(f)){const n=f.getDelegatedFocus({delegationOrigin:B.UserInput});if(n!==t.NO_VALUE&&null!=n){const t=st(e,n.id);if(null!=t)return[t,void 0]}}return[m,p]}}}function Xt(e,t,n,a,r,l){const o=function(e,t,n,a,r){const l=null!=n&&function(e,t,n){const a=e.grid.getCoords(n);return null!=a&&a.some((e=>e[0]===t[0]&&e[1]===t[1]))}(e,n,t)?n:null,o=null!=l?l:e.grid.getItemCenterCoords(t);if(null==o)return;const[i,c]=o,s=1+r;switch(a){case K.DOWN:{const t=[i+s,c];if(t[0]>e.grid.rows-1)return;return t}case K.UP:{const e=[i-s,c];if(e[0]<0)return;return e}case K.RIGHT:{const t=[i,c+s];if(t[1]>e.grid.columns-1)return;return t}case K.LEFT:{const e=[i,c-s];if(e[1]<0)return;return e}}}(t,n,a,r,l);if(null!=o){const c=t.grid.getItem(o);if(null!=c){const s=ut(e,c);return null!=s&&(Z(s)||le(i=s)&&te(i))&&s.id!==n?[c,o]:Xt(e,t,n,a,r,l+1)}return Xt(e,t,n,a,r,l+1)}var i}function Yt(e){return Math.log(e/(1-e))}const qt=(e,t,n,a)=>{if(null==t)return 1;const r=e.elements.get(t);return null==r||r.type!==H.LANDMARK?1:St(e,n,t)&&r.scrollAxis==a?1e-6:1},Qt=Math.PI/12*5;function Jt(e,t,n=!1){if(null==t)return;const a=document.body.querySelectorAll("[data-focusable-id]"),r=document.body.querySelector(`[data-focusable-id='${t}']`),l=Ft(e,t);if(null==r){const t=jt(a[0]);if(null==t)return;if(vt(e,t))return;if(null!=l&&!St(e,t,l))return;return t}const o=((e,t)=>{for(let n=0;n<t.length;n++)if(e===t[n])return n;return null})(r,a);if(null==o)return jt(a[0]);let i=n?o-1:o+1;const c=()=>{n?i--:i++};for(;o!==i;){i<0&&(i=a.length-1),i>a.length-1&&(i=0);const t=jt(a[i]);if(null!=t){const n=e.elements.get(t);if(null==n||vt(e,t)){c();continue}if(n.type!==H.ITEM||!0===n.disabled||!0===n.hidden){c();continue}if(null!=l&&!St(e,t,l)){c();continue}return t}c()}}const Zt=(e,n,a,r)=>{var l,o;if(null==n)return[null!==(o=zt(e))&&void 0!==o?o:1,void 0];const i=e.elements.get(n);var c;if(null==i||!J(i))return[null!==(c=zt(e))&&void 0!==c?c:1,void 0];const s=null==i||null===(l=i.ref)||void 0===l?void 0:l.getBoundingClientRect();var u;if(null==s)return[null!==(u=zt(e))&&void 0!==u?u:n,void 0];const d=Kt(e,n,a,r);if(null!=d)return d;const m=Dt(s);let p=n,f=1/0;const g=Rt[r],E=r===K.LEFT||r===K.RIGHT?G.HORIZONTAL:G.VERTICAL,h=Lt[g],b=Ft(e,n),v=yt(e,n);(null==e.lastDirectionChange||!((e,t)=>{switch(e){case K.DOWN:case K.UP:return t===K.UP||t===K.DOWN;case K.RIGHT:case K.LEFT:return t===K.LEFT||t===K.RIGHT}})(e.lastDirectionChange[0],r)&&null!=n)&&(e.lastDirectionChange=[r,n]);for(const[t,a]of e.elements){var F,y;if(t===n)continue;if(!Z(a))continue;if(a.type===H.LANDMARK&&!re(a))continue;if(a.type===H.LANDMARK&&mt(e,t,n))continue;if(null!=b&&!St(e,t,b))continue;if(vt(e,t))continue;if(ht(e,t,n))continue;if(a.type===H.LANDMARK&&re(a)&&!ct(e,a))continue;const l=null===(F=a.ref)||void 0===F?void 0:F.getBoundingClientRect();if(null==l)continue;const o=null!==(y=Wt(e,e.lastDirectionChange[1]))&&void 0!==y?y:Wt(e,n);if(null==o)continue;const i=Dt(o),c=Dt(l),u=(m[g]-c[g])*At[r],d=(_t(s,r)-_t(l,Nt[r]))*At[r],S=(_t(s,r)-_t(l,r))*At[r],C=d<0&&u>0?0:d;if(C<0)continue;const M=i[h]-c[h],w=m[h]-c[h],k=Math.max(C,1),T=Math.abs(u),x=Math.abs(M/(0===C?1:C)),I=Math.atan(x),P=Bt(s,l,g),O=1-P,A=Math.min(Yt(O/2+.5),1e4),N=Bt(s,l,h),R=Math.min(Yt(N/2+.5),7500),L=Qt*N**3,_=x*O,D=(I+L)*O,B=Math.abs(w/T),W=Math.abs(w/(0===S?1:S)),U=Math.atan(B)+L,z=Math.atan(W),j=(S<0||z>=Qt)&&0===P;if(D>=Qt&&(U>=Qt||j))continue;const V=(k+_+A+R)*qt(e,v,t,E);f>V&&(f=V,p=t)}const S=e.elements.get(p);if(re(S)){const n=S.getDelegatedFocus({delegationOrigin:B.UserInput});if(n!==t.NO_VALUE&&null!=n){const t=st(e,n.id);if(null!=t)return[t,void 0]}}return[p,void 0]},en=(e,n)=>{if(!ie(n))return;e.bindingLandmarkStack.push(n.id);const a=n.getDelegatedFocus({delegationOrigin:B.Mutation});return a===t.NO_VALUE?void 0:a};function tn(e,t,n,a){const r=ne(t)&&wt(e,a);return{isFocusableEnabled:r,isFocusableBecomingEnabled:null!=n&&r&&!ne(n),isFocusableBeingAddedEnabled:null==n&&r}}function nn(e,t,n,a){const r=function(e,t,n,a){return null==n&&null!=a&&(re(a)||ae(a))?a:pt(e,null==n&&null!=(null==a?void 0:a.id)?a.id:t.id)}(e,t,n,a),l=null!=r?e.dynasty.get(r.id):void 0;return{closestDelegatingAncestor:r,maybeDynasty:l,closestDelegatingAncestorDynastyHasNoEnabledItems:null==l||!gt(e,l),closestDelegatingLandmark:re(r)?r:void 0}}const an=e=>{const n=e.getDelegatedFocus({delegationOrigin:B.Mutation});if(null!=n&&n!==t.NO_VALUE)return n};function rn(e,n,a,r,l,o,i,c,s){const{isFocusableEnabled:u,isFocusableBecomingEnabled:d,isFocusableBeingAddedEnabled:m}=tn(e,n,a,null==r?void 0:r.id),p=null==o||!gt(e,o);return{delegateFocusOnBindingLandmarkCase:function(){const l=ne(n)&&wt(e,null==r?void 0:r.id),o=null==a&&l,c=ne(n)&&wt(e,null==r?void 0:r.id),u=null!=a&&!Z(n)&&Z(a),d=function(e,n,a,r,l){if(!l)return null;const{newStack:o,discardedStack:i}=function(e,t){const n=[],a=new Set;return e.bindingLandmarkStack.forEach((r=>{mt(e,t,r)||t===r?a.add(r):n.push(r)})),{newStack:n,discardedStack:a}}(e,n.id);if(e.bindingLandmarkStack=o,r){const r=function(e,n,a){if(null!=n)for(const r of a)if(mt(e,r,n)&&e.bindingLandmarkStack.length>0){const n=ut(e,e.bindingLandmarkStack[e.bindingLandmarkStack.length-1]);if(null!=n&&ie(n)){const e=n.getDelegatedFocus({delegationOrigin:B.Mutation});if(null!=e&&e!==t.NO_VALUE)return e}}}(e,a,i);if(r)return r;if(function(e,t,n){if(null==t)return!1;const a=t===n;return mt(e,n,t)||a}(e,a,n.id))return kt(e,n.id,B.Mutation)}}(e,n,i,s,u);if(null!=d)return d;const m=function(e,t,n,a,r){return n&&(a||r)?function(e,t){return en(e,t)||function(e,t){const n=Mt(e,t.id);if(null!=n&&n.length>0){const t=ut(e,n[0]);if(null!=t&&J(t))return en(e,t)}return null}(e,t)||null}(e,t):null}(e,n,s,c,o);return m||void 0},delegateFocusOnLandmarkIdentityChanged:function(){const r=s&&null!=i&&null!=a&&re(n)&&re(a),l=i===n.id;if(r){const r=c.origin===_.FocusTreeMutation,o=a.delegateFocusByAlias!==n.delegateFocusByAlias,s=n.landmarkKey!==a.landmarkKey;if((o&&r||s)&&(l||mt(e,n.id,i))){const e=n.getDelegatedFocus({delegationOrigin:B.Mutation});if(null!=e&&e!==t.NO_VALUE)return e}}},delegateFocusIfFocusableAliasChanged:function(){const r=re(l)?l:void 0;if((null==a||J(a))&&s&&u&&c.origin===_.FocusTreeMutation&&null!=i&&J(n)&&(null==a||a.alias!==n.alias||d||m)&&null!=r&&(null!=r.delegateFocusByAlias||null!=r.delegationMemoryStack)&&(r.id===i||mt(e,r.id,i))){const e=r.getDelegatedFocus({delegationOrigin:B.Mutation});if(null!=e&&e!==t.NO_VALUE)return e}},delegateFocusOnDelegatingAncestorHasNoEnabledChildren:function(){if(s&&(d||m)&&p&&null!=l&&null!=i&&l.id===i)return an(l)}}}function ln(e){var t,n;const a=e.id.toString(),r=e.type===H.LANDMARK;var l;null===(t=e.ref)||void 0===t||t.removeAttribute(r?z:U),null===(n=e.ref)||void 0===n||n.setAttribute(r?U:z,a),null!=window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__&&(null===(l=e.ref)||void 0===l||l.setAttribute(j,a))}function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const un=(e,t,n)=>cn(cn({},e),{},{height:e.height,width:e.width,x:e.x-t.x+n.scrollLeft,y:e.y-t.y+n.scrollTop,left:e.left-t.left+n.scrollLeft,top:e.top-t.top+n.scrollTop,right:e.right-t.left+n.scrollLeft,bottom:e.bottom-t.top+n.scrollTop});function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pn(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fn(e,t){var n;const a=new Set([...t.keys()].map((e=>e)));return{nodeId:e.id,grid:new Vt,itemElementsDimensions:t,dynasty:a,gridElementDomRef:null!==(n=e.ref)&&void 0!==n?n:void 0,resolution:{width:0,height:0},gridElementDimensions:void 0}}function gn(e,t,n){var a,r;const{resolution:l,gridElementDimensions:o}=function(e,t){var n,a,r,l;const o=e.ref.getBoundingClientRect(),i={width:0,height:0,gapHorizontal:0,gapVertical:0,offsetHorizontal:0,offsetVertical:0};if(i.width=null!=e.gridColumns?Math.ceil(o.width)/e.gridColumns:i.width,i.width=null!==(n=e.gridCellWidth)&&void 0!==n?n:i.width,i.height=null!=e.gridRows?Math.ceil(o.height)/e.gridRows:i.height,i.height=null!==(a=e.gridCellHeight)&&void 0!==a?a:i.height,i.offsetHorizontal=null!==(r=e.gridOffsetHorizontal)&&void 0!==r?r:0,i.offsetVertical=null!==(l=e.gridOffsetVertical)&&void 0!==l?l:0,e.gridCellSizeAuto&&null!=t&&t.size>0){var c,s;const e=[...t.values()],n=0===i.width||e.some((e=>e.width<i.width)),a=0===i.height||e.some((e=>e.height<i.height));(n||a)&&(i.width=n?Math.min(...e.map((e=>e.width))):i.width,i.height=a?Math.min(...e.map((e=>e.height))):i.height);const r={horizontal:0,vertical:0};if(0===i.offsetHorizontal||0===i.offsetVertical){const t=function(e){const t=e.sort(((e,t)=>e.x-t.x))[0],n=e.sort(((e,t)=>e.y-t.y))[0];return{offsetX:t.x,offsetY:n.y}}(e);i.offsetHorizontal=t.offsetX,i.offsetVertical=t.offsetY}i.gapHorizontal=null!==(c=r.horizontal)&&void 0!==c?c:0,i.gapVertical=null!==(s=r.vertical)&&void 0!==s?s:0}return{resolution:i,gridElementDimensions:o}}(t,n);e.resolution=l,e.gridElementDimensions=o;const i=null!==(a=e.resolution.gapVertical)&&void 0!==a?a:0,c=null!==(r=e.resolution.gapHorizontal)&&void 0!==r?r:0,s=e.resolution.height+i,u=e.resolution.width+c,d=0!==s?Math.floor(o.height/s):0,m=0!==s?Math.floor(o.width/u):0;return e.grid=new Vt(d,m),mn(mn({},e),{},{resolution:l,gridElementDimensions:o,gridElementDomRef:t.ref})}function En(e,t){if(null!=t)return[...t].reduce(((t,n)=>{const a=e.elements.get(n);return null!=a&&"ref"in a&&null!=a.ref?(t.set(n,a.ref.getBoundingClientRect()),t):t}),new Map);console.warn("Grid has no dynasty")}function hn(e,t,n=!1){const a=e.grids.get(t.id);if(oe(t)||null==a||e.grids.delete(t.id),oe(t)){if(null!=a&&a.grid.isPopulated&&!n)return;const r=En(e,null==a?void 0:a.dynasty);if(null==r)return;bn(e,t,r)}}const bn=function(e,t,n={}){const a=new Map,{leading:r=!1,trailing:l=!0}=n;return function(n,o,i){const c=o.id,s=Date.now();let u=a.get(c);null==u&&(u={timeoutId:null,lastArgs:null,invokedLeading:!1,lastCallTime:null},a.set(c,u));const d=u;d.lastArgs=[n,o,i],(null==d.lastCallTime||s-d.lastCallTime>=t)&&r&&!d.invokedLeading&&(d.invokedLeading=!0,e(...d.lastArgs)),null!=d.timeoutId&&clearTimeout(d.timeoutId),l?d.timeoutId=setTimeout((()=>{(t=>{const n=a.get(t);null!=n&&n.lastArgs&&(e(...n.lastArgs),n.invokedLeading=!1,n.lastCallTime=Date.now()),null!=n&&a.set(t,mn(mn({},n),{},{timeoutId:null}))})(c)}),t):r||(d.lastCallTime=s),a.set(c,d)}}((function(e,t,n){const a=function(e,t,n){var a;const r=fn(t,n);r.itemElementsDimensions=null!==(a=En(e,r.dynasty))&&void 0!==a?a:r.itemElementsDimensions;let l=gn(r,t,r.itemElementsDimensions);return l=function(e,t){return e.resolution.width<=0||e.resolution.height<=0?(console.warn("Tried to add items to grid with zero resolution"),e):(new Set([...t.keys()].map((e=>e))).forEach((n=>{const a=t.get(n);if(null==a)return;e.dynasty.has(n)||e.dynasty.add(n);const{startRow:r,startCol:l,endRow:o,endCol:i}=((e,t)=>{var n,a,r,l;if(0===e.resolution.height||0===e.resolution.width)return{startRow:0,startCol:0,endRow:0,endCol:0};const o=null!==(n=e.resolution.gapVertical)&&void 0!==n?n:0,i=null!==(a=e.resolution.gapHorizontal)&&void 0!==a?a:0,c=null!==(r=e.resolution.offsetVertical)&&void 0!==r?r:0,s=null!==(l=e.resolution.offsetHorizontal)&&void 0!==l?l:0,u=Math.floor(t.left-s),d=Math.floor(t.top-c),m=Math.floor(e.resolution.height+o),p=Math.floor(e.resolution.width+i),f=Math.floor(d/m),g=Math.floor(u/p),E=Math.floor((d+Math.floor(t.height)-.1)/m),h=Math.floor((u+Math.floor(t.width)-.1)/p);return{startRow:f<0?0:f,startCol:g<0?0:g,endRow:E<0?0:E,endCol:h<0?0:h}})(e,a),c=[];for(let e=r;e<=o;e++)for(let t=l;t<=i;t++)c.push([e,t]);e.grid.setItem(c,n),e.grid.itemIndices.set(n,c)})),e)}(l,l.itemElementsDimensions),l}(e,t,n);a.grid.printGrid(t.id),e.grids.set(t.id,a)}),100,{trailing:!0,leading:!1});function vn(e,t,n,a,r){if(null==(null==t?void 0:t.ref))return;if(!le(n))return;const l=[t.id,null!=a?a:t.ref.getBoundingClientRect()];let o=e.grids.get(null==n?void 0:n.id);if(null==o&&(o=fn(n,new Map([l])),e.grids.set(null==n?void 0:n.id,o)),o.dynasty.has(t.id)||(o.dynasty.add(t.id),o.itemElementsDimensions.set(l[0],l[1]),e.grids.set(null==n?void 0:n.id,o)),!oe(n))return;let i=(c=o).resolution.width>0&&c.resolution.height>0&&null!=c.gridElementDimensions&&null!=c.gridElementDomRef?o:null;var c;null==i&&(i=gn(o,n,o.itemElementsDimensions),e.grids.set(null==n?void 0:n.id,i));const s=l[1],u=i.grid.itemIndices.has(t.id),d=i.itemElementsDimensions.get(t.id),m=null!=d&&((e,t,n,a)=>{const r=un(e,n,a),l=un(t,n,a);return["top","left","width","height"].every((e=>Math.floor(r[e])===Math.floor(l[e])))})(s,d,i.gridElementDimensions,i.gridElementDomRef);var p,f;return null!=d&&m||(i.itemElementsDimensions.set(l[0],l[1]),e.grids.set(null==n?void 0:n.id,i)),(n.gridCellSizeAuto||r)&&(s.width<i.resolution.width||s.height<i.resolution.height||0===i.resolution.width||0===i.resolution.height||r)?(i.itemElementsDimensions=null!==(p=En(e,i.dynasty))&&void 0!==p?p:new Map,void bn(e,n,i.itemElementsDimensions)):u&&m?void 0:(i.itemElementsDimensions=null!==(f=En(e,i.dynasty))&&void 0!==f?f:new Map,void bn(e,n,i.itemElementsDimensions))}function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){Sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sn(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cn(e,t,n,a,r,l,o,i){const c=function(e,t,n){let a;if("alias"in t&&null!=t.alias){const n=e.aliases.get(t.alias);if(null!=n&&n!==t.id){const t=e.elements.get(n);null!=t&&e.elements.set(n,yn(yn({},t),{},{alias:void 0}))}}null==n&&"alias"in t&&null!=t.alias&&e.aliases.set(t.alias,t.id);const r="alias"in t?t.alias:void 0;if(n!==r){null!=n&&e.aliases.delete(n);const l=null!=r;l&&e.aliases.set(r,t.id),a=l?r:t.id}return a}(t,n,it(t,n.id));if(t.elements.set(n.id,n),null!=r){var s;const e=null!==(s=t.children.get(r))&&void 0!==s?s:new Set;e.add(n.id),t.children.set(r,e),t.parents.set(n.id,r),function(e,t,n){if(ie(e))for(let r=t;null!=r;r=n.parents.get(r)){var a;const t=n.elements.get(r);if(null==t)break;const l=null!==(a=n.bindingLandmarkDescendants.get(t.id))&&void 0!==a?a:new Set;if(l.add(e.id),n.bindingLandmarkDescendants.set(t.id,l),ie(t))break}}(n,r,t)}return function(e,t,n,a,r){if(null!=e&&J(t)){const l=null!=n?n:new Set;l.add(t.id),a.dynasty.set(e.id,l),e.type===H.LANDMARK&&e.onDynastyUpdated(r)}}(l,n,o,t,i),function(e,t,n,a){null==t?e&&re(n)&&Mn(n,a):(e&&re(t)&&!re(n)&&a.dynasty.delete(n.id),e&&!re(t)&&re(n)&&Mn(n,a))}(a,e,n,t),c}function Mn(e,t){const n=t.children.get(e.id);if(null!=n){var a;const r=null!==(a=t.dynasty.get(e.id))&&void 0!==a?a:new Set,l=e=>{if(null!=e)for(const n of e){r.has(n)||r.add(n);const e=t.elements.get(n);if(!re(e)){const e=t.children.get(n);l(e)}}};l(n),t.dynasty.set(e.id,r)}}function wn(e){e.lastDirectionChange=void 0}const kn=function(){const e=new Map;return(t,n,a)=>(n.forEach((n=>{var r,l,o,i;const c=n;if(c.type===H.ROOT)return;if(null==c.scrollAxis||!0===t.disableScrollIntoView)return;if(null==t.ref)return;if(null==c.ref)return;const s=e.get(c.id);s&&(s(),e.delete(c.id));const{scrollIntoView:u,stopScrolling:d}=function({disabledTransition:e=!1,speedFactor:t=1,align:n="center",scrollOffset:a=0,axis:r="y"}={}){let l,o,i,c,s;const u=300/t,d=()=>{if(!o)return;const t=Date.now()-s,n=t/u,a=t>u||e;o["x"===r?"scrollLeft":"scrollTop"]=Math.round(i+function(e){return--e*e*e+1}(a?1:n)*c),a||window.requestAnimationFrame(d)};return{scrollIntoView(e,t){o=e,l=t;const u=o.getBoundingClientRect(),m=u["x"===r?"width":"height"],p=l.getBoundingClientRect(),f="center"===n?m/2:0;c=("x"===r?p.left:p.top)-("x"===r?u.left:u.top)+("center"===n?p["x"===r?"width":"height"]/2:0)-f+a,i=o["x"===r?"scrollLeft":"scrollTop"],s=Date.now(),Math.abs(c)<5||window.requestAnimationFrame(d)},scrollTo(e,t){o=e,i=o["x"===r?"scrollLeft":"scrollTop"],c=t-i,s=Date.now(),window.requestAnimationFrame(d)},stopScrolling(){o=null,l=null}}}({disabledTransition:a,speedFactor:null!==(r=null!==(l=t.scrollSpeedFactor)&&void 0!==l?l:c.scrollIntoViewSpeedFactor)&&void 0!==r?r:1,align:(t.scrollAlign?t.scrollAlign:c.scrollIntoViewAlign)||"center",scrollOffset:(null!==(o=c.scrollIntoViewOffset)&&void 0!==o?o:0)+(null!==(i=t.scrollOffset)&&void 0!==i?i:0),axis:c.scrollAxis===G.HORIZONTAL?"x":"y"});u(c.ref,t.ref),e.set(c.id,d)})),()=>{for(const t of e.values())t();e.clear()})}();function Tn(e,t){if(null==t)return{};const n=st(e,t),a={};if(null==n)return a;const r=[n,...dt(e,n)];for(let n=0;n<r.length;n++){const l=r[n],o=e.shortcuts.get(l),i=e.elements.get(l);if(!i){console.error(`Missing element for id ${l} while constructing Input Legends after ${t} was focused`);break}if(null!=o){for(const[e,t]of o)e in a||(a[e]=t.inputLegend);if(ie(i))break}}return a}const xn=(0,e.createContext)([(0,t.createStaticFacet)(!0),()=>{}]),In=({isNavigationDisabledFacet:t,setIsNavigationDisabled:n,children:a})=>{const r=(0,e.useMemo)((()=>[t,n]),[t,n]);return e.createElement(xn.Provider,{value:r},a)},Pn=(0,e.createContext)((0,t.createStaticFacet)(1)).Provider;var On=n(93096),An=n.n(On);function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach((function(t){Ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ln(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _n=[1];function Dn({children:n,driver:a,initialFocusTree:r,initialFocusedId:l,notifyFocusRequest:o,onFocusedIdChange:i,onFocusTreeChange:c,onFocusedIdChangeFail:s,navigateToDirection:u=Zt,swapABButtons:d=(0,t.createStaticFacet)(!1),swapXYButtons:m=(0,t.createStaticFacet)(!1),disabledTransition:p=(0,t.createStaticFacet)(!1),keyboardGamepadMap:f}){const g=(0,e.useRef)(2),[E,h]=(0,t.useFacetState)(!1),b={id:null!=l?l:1,gridCell:void 0,origin:_.Initial},[v,F]=(0,t.useFacetState)(b),y=(0,e.useRef)(b),S=(0,e.useCallback)(((e,t,n)=>{const a={id:e,gridCell:t,origin:n};y.current=a,F(a)}),[y,F]),C=(0,t.useFacetMap)((e=>e.origin),[],[v]),M=(0,e.useMemo)((()=>null==r?(()=>{const e={elements:new Map,candidates:new Set,children:new Map,parents:new Map,aliases:new Map,shortcuts:new Map,history:[],bindingLandmarkStack:[],dynasty:new Map,grids:new Map,bindingLandmarkDescendants:new Map},t={type:H.ROOT,id:1,alias:void 0,disabled:!1,hidden:!1,ref:null,scrollAxis:null,onDown:void 0,onUp:void 0,onRight:void 0,onLeft:void 0,onBlur:void 0,onFocus:void 0,disableScrollIntoView:void 0,getDelegatedFocus:Ot(e,1)};return e.elements.set(1,t),e})():r),[r]),[w,k]=(0,t.useFacetState)(M),[T,x]=(0,t.useFacetState)(Tn(M,l)),I=(0,t.useFacetRef)(T),[P,A]=(0,t.useFacetState)(f),N=(0,t.useFacetMap)((e=>Object.entries(e).reduce(((e,[t,n])=>{const a=n.reduce(((e,n)=>Rn(Rn({},e),{},{[n]:t})),{});return Rn(Rn({},e),a)}),{})),[],[P]),R=(0,e.useRef)(void 0);(0,t.useFacetEffect)((e=>{R.current=e}),[],[N]);const D=rt(),U=(0,e.useCallback)((e=>{const n=Tn(M,e);I.current!==t.NO_VALUE&&function(e,t){for(const n in e)if(!(n in t)||e[n]!==t[n])return!1;for(const n in t)if(!(n in e)||e[n]!==t[n])return!1;return!0}(n,I.current)||(x(n),I.current=n)}),[M,I,x]),z=(0,t.useFacetCallback)(((e,t)=>(n,a,r)=>{if(null!=n&&y.current.id!==n){const l=st(M,y.current.id);S(n,a,r),null==i||i(n),((e,t,n)=>{const a=st(e,t);if(null==a)return;let r;for(let l=e.parents.get(a);null!=l;l=e.parents.get(l)){const a=e.elements.get(l);if(re(a)){if(null==r)a.onFocusableOfDynastyFocused(t,n);else{const t=e.elements.get(r),l=null!=t&&J(t)?null==t?void 0:t.alias:void 0;a.onFocusableOfDynastyFocused(null!=l?l:r,n)}r=l}}})(M,n,r),((e,t,n)=>{const a=st(e,n),r=null!=t?e.elements.get(t):void 0;var l;null!=r&&J(r)&&r.id!==a&&(null===(l=r.onBlur)||void 0===l||l.call(r));const o=null!=a?e.elements.get(a):void 0;var i;null!=o&&J(o)&&(null===(i=o.onFocus)||void 0===i||i.call(o))})(M,l,n),U(n),e&&(ne.current=((e,t,n)=>{if(null==t)return;const a=st(e,t);if(null==a)return;const r=e.elements.get(a);if(!r||r.type==H.ROOT||!J(r))return;const l=It(e,a);return kn(r,l,n)})(M,n,t))}}),[S,i,M,y,U],[D,p]),j=(0,t.useFacetCallback)((e=>(t,n,a)=>{var r;if(wn(M),a){const t=ut(M,e.id);if(null!=t&&J(t)&&wt(M,e.id))return()=>{}}const l="number"==typeof t&&null!==(r=it(M,t))&&void 0!==r?r:t;return z(l,void 0,n),()=>{wn(M);const t=ut(M,e.id);null!=t&&J(t)&&wt(M,e.id)&&z(e.id,void 0,e.origin)}}),[z,M],[v]),V=(0,e.useCallback)(((e,t,n=_.ImperativeSetFocus)=>{const a=ut(M,e);return null!=a&&!J(a)||!wt(M,e)?()=>{}:j(e,n,t)}),[j,M,y]),$=(0,e.useMemo)((()=>{const e=e=>{null==c||c(e)};return{generateId:()=>g.current++,press(e,t){const n=st(M,y.current.id);if(null!=n){const t=((e,t,n)=>{const a="string"==typeof t?e.aliases.get(t):t;if(null==a)return!1;const r=xt(e,a,n);return null!=r&&(r(),!0)})(M,n,e);if(t)return}if(e in X){const r=X[e];if(null!=r){var a;if(null!=n){const e=((e,t,n)=>{const a="string"==typeof t?e.aliases.get(t):t;if(null==a)return!1;const r=e.elements.get(a);if(null==r||!J(r))return!1;switch(n){case K.LEFT:if(r.onLeft&&r.onLeft())return!0;break;case K.RIGHT:if(r.onRight&&r.onRight())return!0;break;case K.UP:if(r.onUp&&r.onUp())return!0;break;case K.DOWN:if(r.onDown&&r.onDown())return!0}return!1})(M,n,r);if(e)return}const[e,l]=u(M,n,y.current.gridCell,r);e===n&&null!=s&&1!==e&&s();const o=null!==(a=it(M,e))&&void 0!==a?a:e;z(o,l,t)}}else switch(e){case W.A:return void((e,t)=>{if(null==t)return;const n=e.elements.get(t);var a,r;null!=n&&n.type===H.ITEM&&(null===(a=e.shortcuts.get(t))||void 0===a||null===(r=a.get(W.A))||void 0===r||r.callback())})(M,n);case W.B:return;case W.NEXT:{const e=Jt(M,n,!1);return void(null!=e&&z(e,void 0,_.FocusInput))}case W.PREV:{const e=Jt(M,n,!0);return void(null!=e&&z(e,void 0,_.FocusInput))}}},putNode(t,n){const a=y.current,r=!(null!=a.id&&1!=a.id&&(a.origin===_.URL||a.origin===_.Initial))||null!=a.id,l=function(e,t,n,a,r){return J(t)?function(e,t,n,a,r){const l=ut(e,t.id),o=st(e,a.id),i=ut(e,n),{closestDelegatingAncestor:c,maybeDynasty:s}=nn(e,t,l,i),{delegateFocusOnLandmarkIdentityChanged:u,delegateFocusOnBindingLandmarkCase:d,delegateFocusIfFocusableAliasChanged:m,delegateFocusOnDelegatingAncestorHasNoEnabledChildren:p}=rn(e,t,l,i,c,s,o,a,r);let f;switch(t.type){case H.LANDMARK:{f=Cn(l,e,t,!0,n,c,s,a),ln(t),le(t)&&requestAnimationFrame((()=>{hn(e,t)}));const r=ft(e,t.id);le(r)&&requestAnimationFrame((()=>{vn(e,t,r)}));const o=u();if(null!=o)return o;const i=d();if(null!=i)return i;break}case H.ITEM:{ln(t),f=Cn(l,e,t,!1,n,c,s,a);const r=ft(e,t.id);le(r)&&requestAnimationFrame((()=>{vn(e,t,r)}));break}}const g=m();if(g)return g;const E=p();if(E)return E;const h=function(e,t,n,a){const r=n===t.id;if(e&&r&&null!=a)return{id:a,reason:Q.FocusableAliasMutation}}(r,t,o,f);return null!=h?h:void 0}(e,t,n,a,r):function(e,t,n,a,r){const l=st(e,a.id),o=ut(e,t.id),i=ut(e,n),{closestDelegatingAncestor:c,maybeDynasty:s}=nn(e,t,o,i),{delegateFocusOnDelegatingAncestorHasNoEnabledChildren:u}=function(e,t,n,a,r,l,o,i,c){const{isFocusableBecomingEnabled:s,isFocusableBeingAddedEnabled:u}=tn(e,t,n,null==a?void 0:a.id),d=null==l||!gt(e,l);return{delegateFocusOnDelegatingAncestorHasNoEnabledChildren:function(){if(c&&(s||u)&&d&&null!=r&&null!=o&&r.id===o)return an(r)}}}(e,t,o,i,c,s,l,0,r),d=null!=o&&(p=t,!1===(m=o).disabled&&!0===p.disabled||!1===m.hidden&&!0===p.hidden);var m,p;const f=null!=l&&mt(e,t.id,l);if(Cn(o,e,t,!1,n,c,s,a),le(t)){requestAnimationFrame((()=>{hn(e,t)}));const n=ft(e,t.id);n&&requestAnimationFrame((()=>{vn(e,t,n)}))}return u()||(r&&d&&f&&null!=c?an(c):void 0)}(e,t,n,a,r)}(M,t,n,y.current,r);null!=l&&z(l.id,void 0,_.FocusTreeMutation),e(M)},updateGridNodeDimensions(t,n){const a=M.elements.get(t);if(null==a||a.type!==H.ITEM&&a.type!==H.LANDMARK)return;const r=ft(M,t);le(r)&&(requestAnimationFrame((()=>{vn(M,a,r,n)})),e(M))},putShortcut(t,n,a){!function(e,t,n,a){var r;const{shortcuts:l}=e;l.get(t)||l.set(t,new Map),null===(r=l.get(t))||void 0===r||r.set(n,a)}(M,t,n,a),U(y.current.id),e(M)},removeNode(n){const a=function(e,n,a){const r=e.elements.get(n);if(!r)return;const l=e.parents.get(n),o=ft(e,n),i=function(e,t,n,a){const r=n.id,l=st(e,r),o=null!=l&&mt(e,t.id,l),i=l===t.id;return()=>{if(null!=a&&(o||i)){const t=kt(e,a,B.Mutation);if(null!=t)return t}}}(e,r,a,l);if(J(r)&&null!=r.alias&&e.aliases.delete(r.alias),null!=l){const t=e.children.get(l);null!=t&&t.delete(n),e.parents.delete(n),function(e,t,n){if(oe(n)){const a=e.grids.get(n.id);if(null==a)return;a.grid.removeItem(t.id),a.dynasty.delete(t.id),a.grid.itemIndices.delete(t.id),a.itemElementsDimensions.delete(t.id),e.grids.set(n.id,a),a.grid.printGrid(n.id)}}(e,r,o),oe(r)&&e.grids.delete(n),function(e,t){const n=pt(e,t.id);if(null!=n){const a=e.dynasty.get(n.id);null!=a&&a.delete(t.id)}null!=n&&n.type!==H.ROOT&&null!=n.delegationMemoryStack&&n.delegationMemoryStack.forEach((e=>{const n=e.indexOf(t.id);e.splice(n,1)}))}(e,r),r.type===H.LANDMARK&&function(e,t){if(e.bindingLandmarkDescendants.delete(t.id),ie(t))for(const[n,a]of e.bindingLandmarkDescendants)a.delete(t.id)}(e,r)}if(e.parents.delete(n),e.elements.delete(n),e.shortcuts.delete(n),ie(r)){const n=e.bindingLandmarkStack.indexOf(r.id);if(-1!==n){const a=n===e.bindingLandmarkStack.length-1;if(e.bindingLandmarkStack.splice(n),a&&e.bindingLandmarkStack.length>0){const n=e.bindingLandmarkStack.filter((t=>wt(e,t))),a=function(e){if(null!=e&&ie(e)){const n=e.getDelegatedFocus({delegationOrigin:B.Mutation});if(null!=n&&n!==t.NO_VALUE)return n}}(ut(e,n[e.bindingLandmarkStack.length-1]));if(null!=a)return a}}}const c=i();return null!=c?c:void 0}(M,n,y.current);null!=a&&z(a.id,void 0,_.FocusTreeMutation),e(M)},removeShortcut(t,n){!function(e,t,n){const a=e.shortcuts.get(t);a&&(a.delete(n),0===a.size&&e.shortcuts.delete(t))}(M,t,n),U(y.current.id),e(M)},isFocused:(e,t)=>e===y.current.id||null!=t&&t===y.current.id,isFocusable:e=>{const t=ut(M,e);return null!=t&&J(t)&&wt(M,e)},containerHasEnabledItems:e=>{const t=ut(M,e);return!(null==t||!(e=>e.type===H.LANDMARK||e.type===H.FOCUS_GROUP)(t))&&ct(M,t)},getElement:e=>ut(M,st(M,e)),isAncestorOf:(e,t)=>mt(M,e,t),getDynasty:e=>M.dynasty.get(e),getEnabledBindingLandmarkDescendant:e=>Ct(M,e),getClosestGrid:e=>ft(M,e)}}),[y,M,z,u,s,c,k,U]),Y=(0,e.useRef)($),q=(0,t.useFacetMap)((e=>e.id),[],[v]);(0,e.useCallback)((e=>z(e,void 0,_.DebugTool)),[z]);const Z=(0,e.useRef)([]),ee=(0,e.useRef)([]),te=(0,e.useCallback)((e=>{const t=y.current,n=st(M,t.id);if(null==n)return;const a=xt(M,n,e);null==a||a()}),[M]),ne=(0,e.useRef)(void 0),ae=(0,e.useCallback)(((e,t=_.Unknown)=>{ee.current.forEach((t=>t(e))),$.press(e,t)}),[$]),ce=(0,e.useCallback)(An()((e=>{$.press(e,_.FocusInput)}),125),[$]),se=(0,e.useCallback)((e=>{Z.current.forEach((t=>t(e)));const t=((e,t,n,a)=>{if(null==t)return!1;const r=n[W.RIGHT_VERTICAL_AXIS],l=n[W.RIGHT_HORIZONTAL_AXIS];if(0===r&&0===l)return!1;const o=st(e,t);if(null==o)return!1;const i=It(e,o).filter((e=>null!=e.scrollAxis));if(0===i.length)return!1;const c=i[0],s=c.scrollAxis===G.HORIZONTAL?l:r,u=c.scrollAxis===G.HORIZONTAL?"scrollLeft":"scrollTop";if(null==c.ref)return!1;if(!c.shouldScrollWithAnalog){if(c.scrollAxis===G.HORIZONTAL)return s>=0?"right":"left";if(c.scrollAxis===G.VERTICAL)return s>=0?"down":"up"}return c.ref[u]+=20*s,"scroll"})(M,y.current.id,e);!1!==t?("scroll"===t&&ne.current&&ne.current(),"down"===t?ce(W.LEFT_ANALOG_DOWN):"up"===t?ce(W.LEFT_ANALOG_UP):"left"===t?ce(W.LEFT_ANALOG_LEFT):"right"===t&&ce(W.LEFT_ANALOG_RIGHT)):ce.cancel()}),[M,Z,y,ce]);(0,t.useFacetLayoutEffect)(((e,t,n)=>e?void 0:a(ae,se,t,n,R)),[a,se,ae,d,m,R],[E,d,m]);const ue=(0,e.useMemo)((()=>{const e={addAnalogListener:e=>(Z.current=[...Z.current,e],()=>{Z.current=O()([e],Z.current)}),addDigitalListener:e=>(ee.current=[...ee.current,e],()=>{ee.current=O()([e],ee.current)}),clickAtPoint:(e,t)=>{((e,t,n)=>{const a=Ut(e,t,n);if(null!=a&&a.type===H.ITEM){var r;const t=e.shortcuts.get(a.id);null==t||null===(r=t.get(W.A))||void 0===r||r.callback()}})(M,e,t)},focusAtPoint:(e,t)=>{var n;const a=Ut(M,e,t),r=null!==(n=null==a?void 0:a.alias)&&void 0!==n?n:null==a?void 0:a.id;null!=r&&j(r,_.PointerInput)}};return e}),[j,M]),de=(0,t.useFacetMap)(((e,t)=>({swapABButtons:e,swapXYButtons:t})),[],[d,m]),me=(0,e.useMemo)((()=>[P,A]),[P,A]);return(0,e.useLayoutEffect)((()=>null==o?()=>{}:o((e=>j(e,_.URL)))),[j,o]),e.createElement(In,{isNavigationDisabledFacet:E,setIsNavigationDisabled:h},e.createElement(L.Provider,{value:_n},e.createElement(Ee.Provider,{value:me},e.createElement(be.Provider,{value:V},e.createElement(Fe.Provider,{value:C},e.createElement(Me,{value:de},e.createElement(Ie,{value:Y},e.createElement(Ne,{value:ue},e.createElement(_e,{value:T},e.createElement(We,{value:te},e.createElement(Pn,{value:q},n)))))))))))}const Bn=(0,t.sharedFacet)("core.input"),Wn=(0,t.sharedFacet)("core.animation");let Un;!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(Un||(Un={}));const zn=(0,t.sharedFacet)("core.splitScreen"),jn=window.engine;function Hn(e,t){const n=t;return jn.on(e,n),()=>jn.off(e,n)}const Vn=(e,t,n,a,r)=>{const l=Gn(e,t),o=t=>{var n;if(document.activeElement!==document.body||null==r)return;const a=null===(n=r.current)||void 0===n?void 0:n[t.keyCode];return null!=a?(t.preventDefault(),void e(a,_.FocusInput)):t.keyCode===de.TAB?(t.preventDefault(),void e(t.shiftKey?W.PREV:W.NEXT,_.FocusInput)):void 0},i=t=>{const n=Y[t.button];null!=n&&e(n,_.PointerInput)};return document.addEventListener("keydown",o),document.addEventListener("mousedown",i),()=>{document.removeEventListener("keydown",o),l(),document.removeEventListener("mousedown",i)}},Gn=(e,t)=>{const n=Hn("engine:gamepad:onPress",(t=>{e(se[t],_.FocusInput)})),a=Hn("engine:gamepad:onJoystickMovement",((e,n,a,r)=>{t([e,n,a,r])}));return()=>{n(),a()}};function $n({notifyFocusRequest:n,onFocusedIdChange:a,onFocusedIdChangeFail:r,children:l,keyboardGamepadMap:o}){const i=(0,t.useSharedFacet)(Wn),c=(0,t.useSharedFacet)(zn),s=(0,t.useFacetMap)((e=>e.swapABButtons),[],[(0,t.useSharedFacet)(Bn)]),u=(0,t.useFacetMap)((e=>e.swapXYButtons),[],[(0,t.useSharedFacet)(Bn)]),d=(0,t.useFacetMap)(((e,t)=>!e.screenAnimationEnabled||t.numActivePlayers>1),[],[i,c]);return e.createElement(Dn,{notifyFocusRequest:n,onFocusedIdChange:a,onFocusedIdChangeFail:r,swapABButtons:s,swapXYButtons:u,disabledTransition:d,keyboardGamepadMap:o,driver:Vn},l)}const Kn=(0,e.createContext)((()=>()=>{})),{Provider:Xn,Consumer:Yn}=Kn,qn=()=>(0,e.useContext)(Kn),Qn="react-sound-effect.NoSound";function Jn(){const t=qn();return(0,e.useCallback)(((e,n=0,a=1,r=1)=>{e!==Qn&&e&&t(e,n,a,r)}),[t])}const Zn=(0,e.createContext)(!0),ea=Zn.Provider,ta=()=>(0,e.useContext)(Zn),na=["neutral","neutral20","neutral50","neutral60","neutral80","neutral100","primary","primaryTint","secondary","tertiary","success","successTint","destructive","destructiveTint","informative","informativeTint","notice","noticeTint","PDPCore","PDPPlus","dataViz01","dataViz02","dataViz03","dataViz04","dataViz05","dataViz06","dataViz07","dataVizLine","paper","neutralAlpha60"],aa="regular",ra=["dimmest","dimmer","stronger","strongest","reversed"],la=[aa,...ra],oa=["text","icon","border","caret"],ia=["specular","bevel"],ca=[...oa,"background","shadow","outline","overlay","dropShadow",...ia,"highlight"],sa="default",ua="hovered",da="pressed",ma="disabled",pa="selected",fa="focused",ga=[pa,fa,ua,da,ma],Ea=["default",...ga],ha="base",ba="hover",va="press",Fa="disable",ya="select",Sa="focus",Ca="interactive",Ma=[ba,va,Fa,ya,Sa,ha],wa=[...Ma,Ca],ka={[sa]:ha,[ua]:ba,[da]:va,[fa]:Sa,[pa]:ya,[ma]:Fa},Ta={[ha]:sa,[ba]:ua,[va]:da,[Sa]:fa,[ya]:pa,[Fa]:ma},xa={button:["text"],pressable:["main","border","text"],panel:["main"],inputLegend:["sideContainer","inputHint"]},Ia=Object.keys(xa),Pa=["reject","click","press","focus","hover","hoverExit","contract","expand","toggle","lift"],Oa=e=>oa.includes(e),Aa=e=>ia.includes(e),Na=(e,t="regular")=>void 0!==e&&t in e,Ra=e=>{if(null==e||"object"!=typeof e)return!1;const t=Object.keys(e);return t.length>0&&t.every((e=>Ea.includes(e)))},La="semantic-tokens-collection-id-";function _a(e){if(e!==Ca)return Ta[e]}function Da(e){return ka[e]}const Ba=(e,t,n)=>{switch(t){case"background":case"icon":case"shadow":case"highlight":case"overlay":case"dropShadow":return`${e} { background-color: ${n}; }`;case"border":case"outline":return`${e} { border-color: ${n}; }`;case"text":return`${e} { color: ${n}; }`;case"specular":case"bevel":const{top:t,bottom:a}=n;return e.includes("reversed")?`${e} { border-top-color: ${a}; border-left-color: ${a}; border-bottom-color: ${t};  border-right-color: ${t} }`:`${e} { border-top-color: ${t}; border-left-color: ${t}; border-bottom-color: ${a};  border-right-color: ${a} }`;case"caret":return`${e} { caret-color: ${n}; }`}},Wa=e=>e.map((({path:e,value:t})=>{if((e=>5===e.length&&Ia.includes(e[1]))(e)){if((e=>null!=e&&"object"==typeof e)(t))return((e,t)=>{const n=e.slice(0,-1).join("-"),a=e.slice(0,-1).concat("interactive").join("-"),r=e[e.length-1],l=_a(r);let o,i=("base"===r?`.${n},.${a}`:`.${n}.${l},.${l} .${n},.${a}.${l},.${l} .${a}`)+" {";for(o in t){const e=o.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`));switch(o){case"borderImageSource":case"backgroundImage":i+=`${e}: url(${t[o]});\n`,i+="image-rendering: pixelated;\n","borderImageSource"===o&&(i+="border-width: 0;\n");break;case"color":i+=`color: ${t[o]};\n`,i+="text-shadow: none;\n";break;default:i+=`${e}: ${t[o]};\n`}}return i+="}",i})(e,t)}else if((e=>na.includes(e[1]))(e)){if(!(e=>"object"==typeof e&&"top"in e&&"bottom"in e)(t)&&"string"!=typeof t)throw new Error(`Expected ${JSON.stringify(e)}'s value "${t}" to be of type "string" or "LightingEffectType"`);return((e,t)=>{const{element:n,selector:a}=(e=>{const t=e[2],n=Oa(t),a=Aa(t),r=e[e.length-1],l=_a(r),o=n?e.splice(3,1)[0]:void 0,i=e.join("-"),c=e.slice(0,-1).join("-"),s=e.slice(0,-1).concat("interactive").join("-");if(a)return{element:t,selector:["base"===r?`.${c},.${s}`:`.${i}.${l},.${l} .${i},.${s}.${l},.${l} .${s}`,"base"===r?`.${c}.reversed,.${s}.reversed`:`.${i}.reversed.${l},.${l} .${i}.reversed,.${s}.reversed.${l},.${l} .${s}.reversed`]};const u=null==o||"regular"===o?"":`.${o}`;return{element:t,selector:"base"===r?`.${c}${u},.${s}${u}`:`.${i}${u}.${l},.${l} .${i}${u},.${s}${u}.${l},.${l} .${s}${u}`}})(e);return Array.isArray(a)?a.map((e=>Ba(e,n,t))).join(""):Ba(a,n,t)})(e,t)}throw new Error(`Unknown path ${JSON.stringify(e)} and value "${JSON.stringify(t)}"`)})).join(""),Ua=(0,e.createContext)("neutral"),za=()=>(0,e.useContext)(Ua),ja=({children:t,role:n})=>"inherit"===n?e.createElement(e.Fragment,null,t):e.createElement(Ua.Provider,{value:n},t),Ha=(()=>{const e={};for(const t of ga)e[t]=t;return e})(),Va=(()=>{const e={};for(const t of ra)e[t]=t;return e})(),Ga={},$a=(e,t)=>{const n=((e,t)=>{const n={};for(const i of na){var a;n[i]={};const c=null==t||null===(a=t.sound)||void 0===a?void 0:a[i];for(const t of Pa){var r,l,o;n[i][t]=null!==(r=null==e||null===(l=e.sound)||void 0===l||null===(o=l[i])||void 0===o?void 0:o[t])&&void 0!==r?r:null==c?void 0:c[t]}}return n})(e,t),{color:a,rawColor:r}=((e,t)=>{const n={color:{},rawColor:{}},a=null==e?null:e.id;for(const F of na){n.color[F]={},n.rawColor[F]={};for(const y of ca){var r,l;const S=null==e||null===(r=e.color)||void 0===r||null===(l=r[F])||void 0===l?void 0:l[y];if(null!=S||null==t){if(n.rawColor[F][y]={},Oa(y))for(const t of la){var o,i,c;n.rawColor[F][y][t]={};const a=null==e||null===(o=e.color)||void 0===o||null===(i=o[F])||void 0===i||null===(c=i[y])||void 0===c?void 0:c[t];for(const e of Ea)n.rawColor[F][y][t][e]=null==a?void 0:a[e]}else if(Aa(y))for(const t of Ea){var s,u,d,m,p,f,g,E;n.rawColor[F][y][t]={},n.rawColor[F][y][t].top=null==e||null===(s=e.color)||void 0===s||null===(u=s[F])||void 0===u||null===(d=u[y])||void 0===d||null===(m=d[t])||void 0===m?void 0:m.top,n.rawColor[F][y][t].bottom=null==e||null===(p=e.color)||void 0===p||null===(f=p[F])||void 0===f||null===(g=f[y])||void 0===g||null===(E=g[t])||void 0===E?void 0:E.bottom}else for(const t of Ea){var h,b,v;n.rawColor[F][y][t]=null==e||null===(h=e.color)||void 0===h||null===(b=h[F])||void 0===b||null===(v=b[y])||void 0===v?void 0:v[t]}n.color[F][y]={};for(const e of wa)n.color[F][y][e]="base"===e?null!=S?`${a}-${F}-${y}`:void 0:null!=S?`${a}-${F}-${y}-${e}`:void 0}else n.color[F][y]=t.color[F][y],n.rawColor[F][y]=t.rawColor[F][y]}}return n})(e,t),l=(e=>{const t={},n=null==e?null:e.id;for(const c of Ia){t[c]={};for(const s of na){t[c][s]={};for(const u of xa[c]){var a,r;t[c][s][u]={};const d=null==e||null===(a=e.component)||void 0===a||null===(r=a[c])||void 0===r?void 0:r[s],m=(i=u,null!=(o=d)&&Object.prototype.hasOwnProperty.call(o,i));t[c][s][u]={},m&&Ra(null==d?void 0:d[u])?t[c][s][u].interactive=`${n}-${c}-${s}-${u}-interactive`:t[c][s][u].interactive=void 0;for(const e of Ma){var l;const a=_a(e);null!=a&&(m&&null!=(null==d||null===(l=d[u])||void 0===l?void 0:l[a])?t[c][s][u][e]="base"===e?`${n}-${c}-${s}-${u}`:`${n}-${c}-${s}-${u}-${e}`:t[c][s][u][e]=void 0)}}}}var o,i;return t})(e);return{color:a,component:l,variant:Va,modifier:Ha,rawColor:r,sound:n}},Ka=$a(null);function Xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(n),!0).forEach((function(t){qa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qa(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Qa=(0,e.createContext)({registerCollection:()=>{}}),Ja={id:void 0,tokens:Ka},Za=(0,e.createContext)(Ja),er=()=>{const t=(0,e.useContext)(Za);return null==t.id&&console.error("Trying to use tokens context outside of provider."),t.tokens},tr=Array.from(document.querySelectorAll(`head style[id^="${La}"]`)).reduce(((e,t)=>Ya(Ya({},e),{},{[t.id.replace(La,"")]:t})),{}),nr=({children:t})=>{const n=(0,e.useRef)(tr),a=(0,e.useRef)({}),r=(0,e.useMemo)((()=>({registerCollection:e=>{if(null!=n.current[e.id])return;const t=(r=e.id,`${La}${r}`);var r;const l=document.querySelector(`head style[id="${t}"]`);null!=l&&document.head.removeChild(l);const o=document.createElement("style");o.id=t,o.innerHTML=(e=>{const t=(e=>{const t=[],n=(e,a)=>{if(null!=e&&"object"==typeof e)if(Ra(e))Ea.forEach((n=>{null!=e[n]&&t.push({path:[...a,Da(n)],value:e[n]})}));else for(const t in e)n(e[t],[...a,t])};return n(e.color,[e.id]),n(e.component,[e.id]),t})(e);return Wa(t)})(e),document.head.appendChild(o),n.current[e.id]=o,a.current[e.id]=e}})),[]);return e.createElement(Qa.Provider,{value:r},t)},ar=({collection:t,children:n})=>{const a=(0,e.useContext)(Qa),r=null==a?void 0:a.registerCollection,l=(0,e.useContext)(Za);(0,e.useEffect)((()=>{null!=t&&null!=r&&r(t)}),[t,r]);const o=(0,e.useMemo)((()=>{const e=((e,t)=>{if(null==e)return Ka;const n=e.id;return null==Ga[n]&&(Ga[n]=$a(e,t)),Ga[n]})(t,l.tokens);return{id:null==t?void 0:t.id,tokens:e}}),[t,l]);return null==t?e.createElement(e.Fragment,null,n):e.createElement(Za.Provider,{value:o},n)},rr=e=>{const t={id:e.id,color:{},component:e.component,sound:{}};for(const f of na){var n,a;if(t.sound[f]=(null===(n=e.sound)||void 0===n?void 0:n[f])||(null===(a=e.sound)||void 0===a?void 0:a.neutral)||{},e.color[f]){t.color[f]={};for(const n of ca){var r;const a=e.color[f],g=null===(r=e.color)||void 0===r?void 0:r.neutral,E=null==a?void 0:a[n];if(Oa(n)){for(const e of la)if(Na(E,e)||null==E&&e===aa){var l,o,i,c,s,u;t.color[f][n]=null!==(l=t.color[f][n])&&void 0!==l?l:{};const a=null==E?void 0:E[e],r=null==E?void 0:E.regular,d=(null==g||null===(o=g[n])||void 0===o?void 0:o[e])||(null==g||null===(i=g[n])||void 0===i?void 0:i.regular);t.color[f][n][e]=null!==(c=null!=a?a:r)&&void 0!==c?c:d;const m=null!==(s=null!==(u=null==a?void 0:a.disabled)&&void 0!==u?u:null==r?void 0:r.disabled)&&void 0!==s?s:null==d?void 0:d.disabled;null!=m&&(t.color[f][n][e].disabled=m)}}else if(a){const e=null!=E?E:null==g?void 0:g[n];if(Ra(e)){var d,m,p;t.color[f][n]=null!==(d=t.color[f][n])&&void 0!==d?d:{},t.color[f][n]=e;const a=null!==(m=null==e?void 0:e.disabled)&&void 0!==m?m:null==g||null===(p=g[n])||void 0===p?void 0:p.disabled;null!=a&&(t.color[f][n].disabled=a)}}}}}return t};function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach((function(t){ir(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ir(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const cr=e=>{const t=Ea.reduce(((t,n)=>or(or({},t),{},{[n]:e})),{});return ca.reduce(((e,n)=>Oa(n)?or(or({},e),{},{[n]:la.reduce(((e,n)=>or(or({},e),{},{[n]:t})),{})}):or(or({},e),{},{[n]:t})),{})},sr=(e,t)=>Pa.reduce(((n,a)=>or(or({},n),{},{[a]:`${e}.${t}.${a}`})),{}),ur=e=>na.reduce(((t,n)=>{const a=Array.isArray(xa[e])?xa[e]:[];return or(or({},t),{},{[n]:a.reduce(((e,t)=>or(or({},e),{},{[t]:{}})),{})})}),{}),dr=({defineComponentsCollection:e})=>{const t="mockTokens",n=e?Ia.reduce(((e,t)=>or(or({},e),{},{[t]:ur(t)})),{}):void 0;return rr({id:t,color:na.reduce(((e,t)=>or(or({},e),{},{[t]:cr("mock")})),{}),sound:na.reduce(((e,n)=>or(or({},e),{},{[n]:sr(t,n)})),{}),component:n})};function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fr(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gr(e){const t=er(),n=za(),a="inherit"===e?n:e;return null==a?pr(pr({},t.color),{},{inherit:t.color[n]}):t.color[a]}function Er(e){const t=er(),n=za(),a="inherit"===e?n:e;return null==a?pr(pr({},t.rawColor),{},{inherit:t.rawColor[n]}):t.rawColor[a]}function hr(e){const t=er(),n=za(),a="inherit"===e?n:e;return null==a?pr(pr({},t.sound),{},{inherit:t.sound[n]}):t.sound[a]}function br(e,t){const n=er(),a=za(),r="inherit"===t?a:t;return null==r?pr(pr({},n.component[e]),{},{inherit:n.component[e][a]}):n.component[e][r]}function vr(){return er().variant}function Fr(){return er().modifier}dr({defineComponentsCollection:!1}),dr({defineComponentsCollection:!0}),rr({id:"example",sound:{neutral:{reject:"note.bass",press:"random.click",contract:"random.click",expand:"random.click",toggle:"random.click",lift:"random.click",click:"random.click"},primary:{press:"tokens.vanilla.release"}},color:{neutral:{background:{default:"red",hovered:"red",pressed:"red",disabled:"red"},text:{dimmer:{default:"red",disabled:"red"},dimmest:{default:"red"},regular:{default:"red",disabled:"red"}},shadow:{default:"red",disabled:"red"},dropShadow:{default:"red"},icon:{regular:{default:"red",disabled:"red"},dimmer:{default:"red"},dimmest:{default:"red"}},border:{regular:{default:"red",disabled:"red"}},caret:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}},bevel:{default:{top:"red",bottom:"red"}},outline:{default:"red"},highlight:{default:"transparent",hovered:"red"},overlay:{default:"red"}},neutral20:{background:{default:"red",hovered:"red",pressed:"red"},shadow:{default:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red"}},outline:{default:"red"},specular:{default:{top:"red",bottom:"red"}}},neutral50:{background:{default:"red",hovered:"red",pressed:"red"},border:{regular:{default:"red",disabled:"red"}},overlay:{default:"red"}},neutral60:{background:{default:"red",hovered:"red",pressed:"red"},border:{dimmest:{default:"red"}},text:{regular:{default:"red"}}},neutral80:{background:{default:"red",hovered:"red",selected:"red",pressed:"red"},shadow:{default:"red"},text:{regular:{default:"red"},dimmer:{default:"red"},dimmest:{default:"red"}},caret:{regular:{default:"red"}},bevel:{default:{top:"red",bottom:"red"},hovered:{top:"red",bottom:"red"},pressed:{top:"red",bottom:"red"},selected:{top:"red",bottom:"red"}}},neutral100:{background:{default:"red"},text:{regular:{default:"red"},dimmer:{default:"red"},dimmest:{default:"red"}}},primary:{background:{default:"red",hovered:"red",pressed:"red"},shadow:{default:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red",disabled:"red"}},border:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}}},primaryTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},secondary:{background:{default:"red",hovered:"red",pressed:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red"}},shadow:{default:"red"},border:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}}},success:{background:{default:"red"},text:{regular:{default:"red"}}},successTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},informative:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},informativeTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},destructive:{background:{default:"red",hovered:"red",pressed:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red"}},shadow:{default:"red"},specular:{default:{top:"red",bottom:"red"}}},destructiveTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},notice:{background:{default:"red"}},noticeTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},paper:{background:{default:"red"},text:{regular:{default:"red",disabled:"red"}},icon:{regular:{default:"red",disabled:"red"}},border:{regular:{default:"red",disabled:"red"}},caret:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}},bevel:{default:{top:"red",bottom:"red"}},outline:{default:"red"},highlight:{default:"transparent",hovered:"red"}}},component:{panel:{neutral:{main:{default:{borderImageSlice:"27 27 27 26 fill",borderImageWidth:"4rem",borderImageSource:"panel"},hovered:{borderImageSlice:"27 27 27 26 fill",borderImageWidth:"4rem",borderImageSource:"panel"}}}},pressable:{primary:{main:{default:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryDefault"},hovered:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryHovered"},pressed:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryPressed"},disabled:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryDisabled"},focused:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryFocused"}}}}}});const yr=({state:t,api:n,children:l})=>e.createElement(r.Provider,{value:n},e.createElement(a.Provider,{value:t},l)),Sr=(0,t.sharedFacet)("core.router"),Cr=(e,...t)=>jn.trigger(e,...t);function Mr({children:n,keyboardGamepadMap:a}){const r=(0,t.useSharedFacet)(Sr),l=(0,e.useRef)(""),o=(0,e.useRef)(""),i=(0,e.useRef)(!1);(0,t.useFacetEffect)((e=>{if(!i.current){const t=e.history.action;if("POP"===t)l.current=o.current,o.current="";else if("PUSH"===t){const t=e.history.list.length,n=e.history.list[t-1];n&&(o.current=n.pathname,l.current="")}}i.current=!1}),[],[r]);const c=(0,t.useFacetMap)((e=>{const t=e.history.list;return{length:e.history.length,action:e.history.action,list:0===t.length?[{pathname:"/__INVALID_ROUTE__",hash:"",search:"",state:""}]:t}}),[],[r]),u=(0,t.useFacetRef)((0,t.useFacetMap)((e=>{const t=e.history.list,n=t[t.length-1];return null==n?"":n.pathname}),[],[r]),""),d=(0,t.useFacetCallback)((({history:e})=>()=>{u.current!=l.current?(l.current=u.current,o.current="",i.current=!0,e.goBack()):console.warn("JAVASCRIPT:Attempting to go back from the same location multiple times consecutively.")}),[l,u],[r]),m=(0,t.useFacetCallback)((({history:e})=>t=>{const n=(e=>{const t=e.indexOf("?"),n=e.indexOf("#");let a=-1;return-1!==t?a=t:-1!==n&&(a=n),-1!==a?e.substring(0,a):e})(t);n!=o.current?(o.current=n,l.current="",i.current=!0,e.push(t)):console.warn("JAVASCRIPT:Attempting to push the same route multiple times consecutively.")}),[],[r]),p=(0,t.useFacetCallback)((({history:e})=>t=>{e.replace(t)}),[],[r]),f=(0,t.useFacetCallback)((({history:e})=>t=>{u.current!=l.current?(l.current=u.current,o.current="",e.go(t)):console.warn("Attempting to go back from the same location multiple times consecutively.")}),[l,u],[r]),g=(0,e.useMemo)((()=>({goBack:d,push:m,replace:p,go:f})),[d,m,p,f]),E=(0,e.useCallback)((()=>{Cr("core:telemetry:eventfulNavigation")}),[]),h=Jn(),b=ta(),v=hr("neutral"),F=null==v?void 0:v.reject,y=(0,e.useCallback)((()=>{b&&null!=F&&(h(F,0,.5,.75),Cr("core:telemetry:uneventfulNavigation"))}),[b,h,F]),S=(0,e.useCallback)((e=>c.observe((({list:t})=>{const n=t[t.length-1];if(null==n)return;const a=function(e,t=!1){const n=new s(t?e.hash:e.search),a=n.get("alias");if("string"==typeof a&&0!==a.length)return a;const r=n.get("nodeId");return null!=r?parseInt(r,10):void 0}(n);null!=a&&e(a)}))),[c]);return e.createElement($n,{notifyFocusRequest:S,onFocusedIdChangeFail:y,onFocusedIdChange:E,keyboardGamepadMap:a},e.createElement(yr,{state:c,api:g},n))}const wr=(0,t.createStaticFacet)("PUSH"),kr=(0,t.createStaticFacet)(!1),Tr=({route:n,component:a,transitionComponent:r,alwaysMounted:l,disabledCached:o,match:c=kr,action:s=wr})=>{const u=(0,t.useFacetWrap)(c),d=(0,t.useFacetMap)((e=>0!=e),[],[u]),m=a,p=r;return e.createElement(xr,{route:n},e.createElement(i.Provider,{value:(0,t.useFacetMap)((e=>0!=e?e.params:t.NO_VALUE),[],[u])},e.createElement(x,{value:d},e.createElement(p,{visible:d,alwaysMounted:l,unmountOnExit:(0,t.useFacetMap)((e=>!!o||"POP"===e),[o],[s]),contentComponent:m,inverse:(0,t.useFacetMap)((e=>"POP"===e),[],[s])}))))},xr=({route:n,children:r})=>{const l=(0,e.useContext)(a),i=(0,e.useMemo)((()=>E(n)),[n]),c=(0,t.useFacetMemo)((({list:e})=>null!=e.find((({pathname:t},n)=>n!=e.length-1&&i(t)))),[i],[l]);return e.createElement(o.Provider,{value:c},r)},Ir={base:"qp8dp",exited:"Al8HR"};var Pr=n(94184),Or=n.n(Pr);function Ar({children:t,active:n}){return e.createElement(x,{value:n},t)}const Nr=()=>d(),Rr=(0,e.createContext)({block:()=>{},unblock:()=>{},contentfulPaint:()=>{},meaningfulPaint:()=>{}});function Lr(){return(0,e.useContext)(Rr)}let _r=0;function Dr({type:n,renderingCompleted:a}){const r=Lr(),l=Nr(),o=(0,e.useMemo)((()=>_r++),[]);return(0,t.useFacetEffect)(((e,t)=>{if(!e)return r.unblock(o,n);t?r.unblock(o,n):r.block(o,n)}),[o,r,n],[l,(0,t.useFacetWrap)(a)]),null}function Br(e){if(!e.map((e=>e.get())).reduce(((e,n)=>e&&n!==t.NO_VALUE),!0))return t.NO_VALUE}const Wr=({children:n,disabled:a,hidden:r})=>{const l=(0,e.useContext)(ke),o=(0,e.useMemo)((()=>l.current.generateId()),[l]),i=(0,t.useFacetWrap)(a),c=(0,t.useFacetWrap)(r),s=(0,e.useContext)(L),u=s[s.length-1],d=(0,e.useRef)();(0,e.useMemo)((()=>{var e;if(Br([i,c])===t.NO_VALUE&&!l.current.getElement(o)){const e={id:o,type:H.FOCUS_GROUP,disabled:!0,hidden:!0};l.current.putNode(e,u)}null===(e=d.current)||void 0===e||e.call(d),d.current=(0,t.multiObserve)(((e,t)=>{const n={id:o,type:H.FOCUS_GROUP,disabled:!0===e,hidden:!0===t};l.current.putNode(n,u)}),[i,c])}),[o,l,u,i,c]),(0,e.useEffect)((()=>()=>{var e;null===(e=d.current)||void 0===e||e.call(d)}),[]),(0,e.useEffect)((()=>()=>l.current.removeNode(o)),[l,o]);const m=[...s,o],p=(0,e.useMemo)((()=>({children:t})=>e.createElement(L.Provider,{value:m},t)),m);return e.createElement(p,null,n)},Ur=(0,t.createStaticFacet)(!1);function zr({visible:n,unmountOnExit:a=Ur,alwaysMounted:r,contentComponent:l}){const o=(0,t.useFacetWrap)(n),i=(0,t.useFacetMap)((e=>!e),[],[o]),c=(0,e.useMemo)((()=>e.memo(l)),[l]),s=(0,e.useRef)(!1),u=(0,t.useFacetCallback)((e=>t=>{const n=r||(e?t:s.current||t);return s.current=n,n}),[r],[(0,t.useFacetWrap)(a)]),d=(0,t.useFacetMap)((e=>u(e)),[u],[o]);return e.createElement(t.Mount,{when:d},e.createElement(x,{value:o},e.createElement(Wr,{disabled:i},e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>Or()(Ir.base,{[Ir.entered]:e,[Ir.exited]:!e})),[],[o])},e.createElement(Dr,{type:"contentful",renderingCompleted:o}),e.createElement(c,null)))))}function jr(){return jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jr.apply(this,arguments)}const Hr=()=>u(),Vr=()=>{const e=(0,t.useFacetUnwrap)(m());return e===t.NO_VALUE?{}:e},Gr=t=>{var n;return e.createElement(Tr,jr({},t,{transitionComponent:null!==(n=t.transitionComponent)&&void 0!==n?n:zr}))},$r={[Ve.IOS]:Ue.HANDHELD_SCREEN_TYPE,[Ve.GOOGLE]:Ue.HANDHELD_SCREEN_TYPE,[Ve.AMAZON_HANDHELD]:Ue.HANDHELD_SCREEN_TYPE,[Ve.UWP]:Ue.DESKTOP_SCREEN_TYPE,[Ve.XBOX]:Ue.TV_SCREEN_TYPE,[Ve.NX_HANDHELD]:Ue.HANDHELD_SCREEN_TYPE,[Ve.PS4]:Ue.TV_SCREEN_TYPE,[Ve.WIN32]:Ue.DESKTOP_SCREEN_TYPE,[Ve.MACOS]:Ue.DESKTOP_SCREEN_TYPE,[Ve.NX_TV]:Ue.TV_SCREEN_TYPE,[Ve.PS5]:Ue.TV_SCREEN_TYPE},Kr={[Ve.IOS]:$e.XBOX,[Ve.GOOGLE]:$e.XBOX,[Ve.AMAZON_HANDHELD]:$e.XBOX,[Ve.UWP]:$e.XBOX,[Ve.XBOX]:$e.XBOX,[Ve.NX_HANDHELD]:$e.SWITCH,[Ve.PS4]:$e.PS,[Ve.WIN32]:$e.XBOX,[Ve.MACOS]:$e.XBOX,[Ve.NX_TV]:$e.SWITCH,[Ve.PS5]:$e.PS},Xr=e=>e===je.GAMEPAD||e===je.KEYBOARD,Yr=e=>e===je.MOUSE||e===je.TOUCH;function qr({lastInputMethodUsed:n,supportedInputMethods:a,platform:r,arvrPlatform:l,children:o}){const i=((n,a,r)=>{const l=((n,a)=>{const[r,l]=(0,t.useFacetState)(null),o=(0,e.useRef)(!1);return(0,t.useFacetEffect)(((e,t,n)=>{o.current||null!=t?Yr(e)&&t!=e&&l(e):(o.current=!0,l(((e,t)=>{if(Yr(e))return e;switch(t){case Ve.WIN32:case Ve.MACOS:return je.MOUSE;case Ve.NX_HANDHELD:case Ve.IOS:case Ve.GOOGLE:case Ve.AMAZON_HANDHELD:return je.TOUCH;default:return null}})(e,n)))}),[l],[n,r,a]),r})(n,r),o=((n,a)=>{const[r,l]=(0,t.useFacetState)(null),o=(0,e.useRef)(!1);return(0,t.useFacetEffect)(((e,t,n)=>{o.current||null!=t?Xr(e)&&t!=e&&l(e):(o.current=!0,l(((e,t)=>{if(Xr(e))return e;switch(t){case Ve.WIN32:case Ve.MACOS:case Ve.UWP:return je.KEYBOARD;case Ve.XBOX:case Ve.NX_HANDHELD:case Ve.PS4:case Ve.NX_TV:case Ve.PS5:return je.GAMEPAD;default:return null}})(e,n)))}),[l],[n,r,a]),r})(n,r);return{isPointerInputMouse:(0,t.useFacetMemo)((e=>e===je.MOUSE),[],[l]),isPointerInputTouch:(0,t.useFacetMemo)((e=>e===je.TOUCH),[],[l]),isPointerInputAvailable:(0,t.useFacetMemo)((e=>null!=e),[],[l]),isFocusInputGamepad:(0,t.useFacetMemo)((e=>e===je.GAMEPAD),[],[o]),isFocusInputKeyboard:(0,t.useFacetMemo)((e=>e===je.KEYBOARD),[],[o]),isFocusInputAvailable:(0,t.useFacetMemo)((e=>null!=e),[],[o]),isLastInputMouse:(0,t.useFacetMemo)((e=>e===je.MOUSE),[],[n]),isLastInputTouch:(0,t.useFacetMemo)((e=>e===je.TOUCH),[],[n]),isLastInputGamepad:(0,t.useFacetMemo)((e=>e===je.GAMEPAD),[],[n]),isLastInputKeyboard:(0,t.useFacetMemo)((e=>e===je.KEYBOARD),[],[n]),isLastInputPointer:(0,t.useFacetMemo)((e=>e===je.MOUSE||e===je.TOUCH),[],[n]),isLastInputFocus:(0,t.useFacetMemo)((e=>e===je.KEYBOARD||e===je.GAMEPAD),[],[n]),isGamepadSupported:(0,t.useFacetMemo)((e=>e.includes(je.GAMEPAD)),[],[a]),isKeyboardSupported:(0,t.useFacetMemo)((e=>e.includes(je.KEYBOARD)),[],[a]),isMouseSupported:(0,t.useFacetMemo)((e=>e.includes(je.MOUSE)),[],[a]),isTouchSupported:(0,t.useFacetMemo)((e=>e.includes(je.TOUCH)),[],[a]),isPointerSupported:(0,t.useFacetMemo)((e=>{for(let t=0;t<e.length;t++)if(Yr(e[t]))return!0;return!1}),[],[a]),isFocusSupported:(0,t.useFacetMemo)((e=>{for(let t=0;t<e.length;t++)if(Xr(e[t]))return!0;return!1}),[],[a])}})(n,a,r),c=(0,t.useFacetMemo)((e=>function(e){return $r[e]}(e)),[],[r]),s=(0,t.useFacetMemo)((e=>function(e){return Kr[e]}(e)),[],[r]);return function(e){(0,t.useFacetEffect)((e=>{e===je.MOUSE?document.body.style.cursor="auto":document.body.style.cursor="none"}),[],[e])}(n),e.createElement(Ke.Provider,{value:i},e.createElement(Xe.Provider,{value:r},e.createElement(Ye.Provider,{value:l},e.createElement(qe.Provider,{value:c},e.createElement(Qe.Provider,{value:s},o)))))}const Qr=(e,n,a,r,l=!1)=>(0,t.useFacetMap)(((t,n)=>l||r.current===e&&t===je.KEYBOARD&&n.includes(e)),[e,r,l],[n,a]),Jr=(n,a,r)=>{const{supportedInputMethods:l,setKeyboardIsSupported:o}=(n=>{const[a,r]=(0,t.useFacetState)([]),l=(0,e.useRef)(!1),o=(0,t.useFacetCallback)((e=>()=>{if(!l.current){l.current=!0;const t=Array.from(e);t.push(je.KEYBOARD),r(t)}}),[r],[a]);return(0,t.useFacetEffect)(((e,t)=>{if((l.current?e.length-1:e.length)!==t.length||!t.every((t=>e.includes(t)))){const e=Array.from(t);l.current&&e.push(je.KEYBOARD),r(e)}}),[r],[a,n]),{supportedInputMethods:a,setKeyboardIsSupported:o}})(a),[i,c,s]=(n=>{const a=(0,t.useFacetState)(null),[r,l]=a,o=(0,e.useRef)(null),i=(0,e.useCallback)((e=>{l((n=>n===e?n:(n!==t.NO_VALUE&&(o.current=n),e)))}),[l]);return(0,t.useFacetEffect)((e=>{null!=e&&i(e)}),[i],[n]),[r,i,o]})(n),u=Qr(je.MOUSE,i,l,s,null==r?void 0:r.trackAllUserInput),d=Qr(je.TOUCH,i,l,s,null==r?void 0:r.trackAllUserInput),m=Qr(je.GAMEPAD,i,l,s,null==r?void 0:r.trackAllUserInput),p=(0,t.useFacetMap)((e=>e!==je.KEYBOARD),[],[i]);var f,g;return function(n,a,r){const l=(n=>{const a=(0,e.useRef)(-1);return(0,t.useFacetEffect)((e=>{if(!e)return;const t=e=>{a.current=e.timeStamp};return window.addEventListener("touchend",t),()=>{window.removeEventListener("touchend",t)}}),[],[n]),a})((0,t.useFacetMap)((e=>e.includes(je.MOUSE)&&e.includes(je.TOUCH)),[],[r])),o=(0,e.useRef)(null);(0,t.useFacetEffect)((e=>{if(!e)return void(o.current=null);const t=e=>l.current===e.timeStamp,n=e=>{const n=[e.clientX,e.clientY];if(!o.current)return void(o.current=n);const r=Math.abs(n[0]-o.current[0]),l=Math.abs(n[1]-o.current[1]);if(Math.sqrt(Math.pow(r,2)+Math.pow(l,2))>10){if(o.current=null,t(e))return;a()}},r=e=>{3!==e.button&&(t(e)||a())},i=()=>{a()};return window.addEventListener("mousemove",n),window.addEventListener("mousedown",r),window.addEventListener("wheel",i),()=>{window.removeEventListener("mousemove",n),window.removeEventListener("mousedown",r),window.removeEventListener("wheel",i)}}),[a,l],[n])}(u,(()=>{c(je.MOUSE)}),a),f=d,g=()=>{c(je.TOUCH)},(0,t.useFacetEffect)((e=>{if(e)return window.addEventListener("touchstart",g),window.addEventListener("touchend",g),()=>{window.removeEventListener("touchstart",g),window.removeEventListener("touchend",g)}}),[g],[f]),((e,n)=>{(0,t.useFacetEffect)((e=>{if(e)return window.addEventListener("keyup",n),()=>{window.removeEventListener("keyup",n)}}),[n],[e])})(p,(()=>{o(),c(je.KEYBOARD)})),function(e,n){(0,t.useFacetEffect)((e=>{if(e)return(e=>{const t=Hn("engine:gamepad:onPress",(()=>{e()})),n=Hn("engine:gamepad:onJoystickMovement",(()=>{e()}));return()=>{t(),n()}})(n)}),[n],[e])}(m,(()=>{c(je.GAMEPAD)})),{lastInputMethodUsed:i,supportedInputMethods:l}};let Zr;!function(e){e[e.NONE=0]="NONE",e[e.EXTERNAL=1]="EXTERNAL",e[e.APPDATA=2]="APPDATA"}(Zr||(Zr={}));const el=(0,t.sharedFacet)("core.deviceInformation");function tl(n){let{children:a}=n,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["children"]);const l=(0,t.useSharedFacet)(el),o=(0,t.useSharedFacet)(Bn),i=(0,t.useFacetMap)((e=>e.currentInputType),[],[o]),c=(0,t.useFacetMap)((e=>e.inputMethods),[],[l]),s=(0,t.useFacetMap)((e=>e.platform),[],[l]),u=(0,t.useFacetMap)((e=>e.arvrPlatform),[],[l]),{lastInputMethodUsed:d,supportedInputMethods:m}=Jr(i,c,r);return e.createElement(qr,{platform:s,arvrPlatform:u,lastInputMethodUsed:d,supportedInputMethods:m},a)}function nl({children:t,errorComponent:n,dismissTimeout:a}){const[r,l]=(0,e.useState)(null),o=(0,e.useCallback)((e=>{l(e),jn.trigger("core:exception")}),[]),i=(0,e.useCallback)((()=>{l(null)}),[]);return null==n?e.createElement(e.Fragment,null,"children"):e.createElement(al,{onError:o},r?e.createElement(rl,{dismissTimeout:null!=a?a:4e4,errorMessage:void 0,errorComponent:n,onDismiss:i}):t)}(0,t.sharedSelector)((e=>e.platform===Ve.PS4||e.platform===Ve.PS5),[el]);class al extends e.Component{static getDerivedStateFromError(){}componentDidCatch(e){this.props.onError(e)}render(){return this.props.children}}function rl({errorComponent:n,errorMessage:a,onDismiss:r,dismissTimeout:l}){const o=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(Sr)),i=(0,e.useCallback)((()=>{null!=o&&o!==t.NO_VALUE&&o.history.goBack(),requestAnimationFrame(r)}),[o,r]);return(0,e.useEffect)((()=>{if(null!=l&&l!==Number.POSITIVE_INFINITY){const e=setTimeout(i,l);return()=>clearTimeout(e)}}),[o,i,l]),e.createElement(n,{errorMessage:a,onDismiss:i})}const ll=(0,e.createContext)([]),ol=ll.Provider;ol.displayName="FeatureFlagsProvider";const il=(0,t.sharedFacet)("core.featureFlags");function cl({children:n}){const a=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(il)),r=a===t.NO_VALUE?[]:a.flags;return e.createElement(ol,{value:r},n)}var sl=n(23972),ul=n.n(sl);const dl=(0,e.createContext)({translationPrefix:"hbui",translate:e=>e,formatDate:e=>`${e}`,locale:"en-US",isRtl:!1});function ml({translationPrefix:t,translate:n,formatDate:a,children:r,locale:l}){const o=(0,e.useMemo)((()=>"rtl"===ul().getLangDir(l)),[l]),i=(0,e.useMemo)((()=>({translationPrefix:t,translate:n,formatDate:a,locale:l,isRtl:o})),[t,n,a,l,o]);return e.createElement(dl.Provider,{value:i},r)}const pl=(0,t.sharedFacet)("core.locale"),fl=(0,t.sharedSelector)((e=>({set locale(t){null!=e&&(e.locale=t)},get locale(){return e.locale},translate:null!=e.translate?e.translate.bind(e):gl,translateWithParameters:null!=e.translateWithParameters?e.translateWithParameters.bind(e):El,formatDate:null!=e.formatDate?e.formatDate.bind(e):hl})),[pl]),gl=e=>jn.translate(e),El=e=>(console.error("Update Bedrock to get support for translations with parameters."),jn.translate(e)),hl=e=>(console.error("Update Bedrock to get support for formatDate."),`${e}`);function bl({children:n}){const a=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(fl)),r=(0,e.useCallback)(((e,n)=>a===t.NO_VALUE?e:null!=n?a.translateWithParameters(e,n):a.translate(e)),[a]);return a!==t.NO_VALUE?e.createElement(ml,{translationPrefix:"hbui",locale:a.locale,translate:r,formatDate:a.formatDate},n):null}var vl=n(88572);const Fl=({data:e,children:t})=>{const n=(0,vl.useFacetUnwrap)(e);return n===vl.NO_VALUE?null:t(n)},yl=(0,e.createContext)({previousAncestryRef:{current:[]},narrationTree:{},generateId:()=>"0",readById:()=>{},readText:()=>{},clear:()=>{}}),Sl=yl.Provider,Cl=(0,e.createContext)((()=>{console.warn("resetNarrationContext not provided")})),Ml=()=>(0,e.useContext)(Cl),wl=({children:n,disabled:a=!1,narrationTree:r,driver:l,isIdle:o=!0,shouldUseQueueSystem:i,shouldInterrupt:c})=>{const s=(0,e.useRef)(0),u=(0,t.useFacetWrap)(a),d=(0,t.useFacetRef)(u),[m,p]=(0,t.useFacetState)([]),f=(0,t.useFacetWrap)(o),g=(0,t.useFacetWrap)(null!=i&&i),E=(0,t.useFacetWrap)(null!=c&&c),h=(0,e.useRef)({root:{text:"",parentNarrationId:""}}),b=(0,e.useRef)([]),v=(0,e.useRef)([]),F=r||h.current;(0,t.useFacetEffect)(((e,t)=>{if(t.length>0&&(e||!e&&t[0].itemShouldInterrupt)){const[e,...n]=t;e.run(),p(n)}}),[p,d,l],[f,m]);const y=(0,e.useCallback)((()=>""+s.current++),[]),S=(0,t.useFacetCallback)((e=>()=>{e||l.clear()}),[l],[u]),C=(0,t.useFacetCallback)(((e,n,a)=>(r,o={outOfGame:!0,inGame:!0},i=!0,c=!1,s=!1)=>{if(a)return;const u={run:()=>{l.read(r,o,i,c,s)},itemShouldInterrupt:n};if(e){if(n)return void p([u]);p((e=>e!==t.NO_VALUE?[...e,u]:[u]))}else u.run()}),[l,p],[g,E,u]),M=(0,t.useFacetCallback)(((e,n,a)=>(r,o={outOfGame:!0,inGame:!0},i=!0,c=!1,s=!1)=>{if(e)return;const u={run:()=>{const e=F[r];if(null==e)return;const n=b.current,a=((e,t)=>{const n=[];let a=t;for(;null!=a;){const t=e[a];if(null==t)break;n.push(a),a=null==t?void 0:t.parentNarrationId}return n.reverse()})(F,r);b.current=a;const u=((e,n)=>n.map((n=>{const a=e[n];if(null==a)return"";if(null!=a.text)return a.text.trim();const{getText:r}=a;if(null==r)return"";const l=r();return(l===t.NO_VALUE?"":l).trim()})).filter(Boolean))(F,a),d=((e,t,n,a)=>{if(0===t.length)return e;if(e.length<=t.length&&e.every(((e,n)=>e===t[n]))){if(n.length<=a.length&&n.every(((e,t)=>e===a[t])))return[e[e.length-1]];let t=0;for(;t<n.length&&t<a.length&&n[t]===a[t];)t++;return e.slice(t)}let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;return e.length<t.length&&r>=t.length-1?[e[e.length-1]]:e.slice(r)})(u,v.current,a,n).join(" . ");v.current=u;const{getSuffix:m}=e,p=null!=m?m():"",f=p===t.NO_VALUE?"":p,g=""!==f?d+" . "+f:d;l.read(g,o,i,c,s)},itemShouldInterrupt:a};if(n){if(a)return void p([u]);p((e=>e!==t.NO_VALUE?[...e,u]:[u]))}else u.run()}),[l,F,p],[u,g,E]),w=(0,e.useCallback)((()=>{b.current=[]}),[]);return(0,t.useFacetEffect)((e=>{!0===e&&S()}),[S],[u]),e.createElement(Cl.Provider,{value:w},e.createElement(Sl,{value:(0,e.useMemo)((()=>({previousAncestryRef:b,narrationTree:F,generateId:y,readById:M,readText:C,clear:S})),[F,S,y,M,C])},e.createElement(Fl,{data:u},(t=>e.createElement(ea,{value:!t},n)))))};let kl;!function(e){e[e.NONE=0]="NONE",e[e.UI_FRONT_END=1]="UI_FRONT_END",e[e.UI_IN_GAME=2]="UI_IN_GAME",e[e.ALL_UI=e.UI_FRONT_END|e.UI_IN_GAME]="ALL_UI",e[e.IN_GAME_CHAT=4]="IN_GAME_CHAT",e[e.IN_GAME_ITEMS=8]="IN_GAME_ITEMS",e[e.IN_GAME_NAME=16]="IN_GAME_NAME",e[e.ALL=e.UI_FRONT_END|e.UI_IN_GAME|e.IN_GAME_CHAT|e.IN_GAME_ITEMS|e.IN_GAME_NAME]="ALL"}(kl||(kl={}));const Tl=(0,t.sharedFacet)("core.screenReader"),xl=e=>(t,n,a,r,l,o)=>{e.read(t,n,{__Type:"core.screenReaderOptions",canBeInterrupted:a,isRequired:r,shouldPlayInBackground:l,shouldPlayWhenPlatformTTSEnabled:o})};function Il({children:n,shouldUseQueueSystem:a,narrationTree:r}){const l=(0,t.useSharedFacet)(Tl),o=(0,t.useFacetMap)((e=>e.isUITextToSpeechEnabled),[],[l]),i=(0,t.useFacetMap)((e=>e.isIdle),[],[l]),c=(0,t.useFacetCallback)(xl,[],[l]),s=(0,t.useFacetCallback)((e=>()=>e.clear()),[],[l]),u=ye(),d=(0,t.useFacetMap)((e=>e===_.FocusInput||e===_.PointerInput||e===_.URL),[],[u]),m=(0,t.useFacetCallback)((e=>(t,n,a,r,l)=>{Boolean(e)&&c(t,function(e){let t=0;return e.outOfGame&&(t+=kl.UI_FRONT_END),e.inGame&&(t+=kl.UI_IN_GAME),e.inGameChat&&(t+=kl.IN_GAME_CHAT),e.inGameItem&&(t+=kl.IN_GAME_ITEMS),e.inGameName&&(t+=kl.IN_GAME_NAME),t}(n),a,r,l,!0)}),[c],[o]),p=(0,e.useMemo)((()=>({read:m,clear:()=>s()})),[m,s]),f=(0,t.useFacetMap)((e=>!e),[],[o]);return e.createElement(wl,{driver:p,disabled:f,isIdle:i,shouldUseQueueSystem:!0===a,shouldInterrupt:d,narrationTree:r},e.createElement(Pl,null),n)}function Pl(){return(()=>{const e=Ml(),n=(0,t.useFacetMap)((e=>e.history.list),[],[(0,t.useSharedFacet)(Sr)],(0,t.createUniformArrayEqualityCheck)(t.shallowObjectEqualityCheck));(0,t.useFacetEffect)((()=>{e()}),[e],[n])})(),null}function Ol({children:t,driver:n}){return e.createElement(Xn,{value:n.play},t)}const Al=(0,t.sharedFacet)("core.sound");function Nl({children:n}){const a=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(Al)),r=(0,e.useMemo)((()=>({play(e,n,r=1,l=1){let o,i;const c=()=>{null!=a&&a!==t.NO_VALUE?o=a.play(e,r,l):console.log("Bedrock Sound driver not yet initialized while playing",e)};return n>0?i=setTimeout(c,n):c(),()=>{null!=i&&clearTimeout(i),null!=a&&a!==t.NO_VALUE?a.isPlaying(o)&&a.fadeOut(o,0):console.log("Bedrock Sound driver not yet initialized while stopping",e)}}})),[a]);return e.createElement(Ol,{driver:r},n)}const Rl=(0,e.createContext)({top:0,bottom:0,left:0,right:0}),Ll=()=>(0,e.useContext)(Rl);let _l;!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(_l||(_l={}));const Dl=(0,e.createContext)({numActivePlayers:1,direction:_l.HORIZONTAL,position:0});function Bl({children:t,numActivePlayers:n,direction:a=_l.HORIZONTAL,position:r}){const l=(0,e.useMemo)((()=>({numActivePlayers:n,direction:a,position:r})),[n,a,r]);return e.createElement(Dl.Provider,{value:l},t)}function Wl(e,t,n){return Math.min(Math.max(e,t),n)}var Ul;function zl(e,t,n){switch(e){case 2:return 0===t||1===t&&n===Ul.VERTICAL;case 3:case 4:return 0===t||1===t;default:return!0}}function jl(e,t,n){switch(e){case 2:return 1===t||0===t&&n===Ul.VERTICAL;case 3:return 2===t;case 4:return 2===t||3===t;default:return!0}}function Hl(e,t,n){switch(e){case 2:return 0===t||1===t&&n===Ul.HORIZONTAL;case 3:case 4:return 0===t||2===t;default:return!0}}function Vl(e,t,n){switch(e){case 2:return 1===t||0===t&&n===Ul.HORIZONTAL;case 3:return 1===t;case 4:return 1===t||3===t;default:return!0}}function Gl({children:t,safeAreaX:n,safeAreaY:a,screenPositionX:r,screenPositionY:l}){const o=function(t,n,a,r){const l=(0,e.useContext)(Dl),o=(0,e.useCallback)((()=>function(e,t,n,a){const r=Wl(e,.9,1),l=Wl(t,.9,1),o=Wl(n,-.1,.1),i=Wl(a,-.1,.1),c=window.innerWidth,s=window.innerHeight;return{top:Math.round((1-l+i)/2*s),bottom:Math.round((1-l-i)/2*s),left:Math.round((1-r+o)/2*c),right:Math.round((1-r-o)/2*c)}}(t,n,a,r)),[t,n,a,r]),i=(0,e.useCallback)((()=>function({top:e,bottom:t,left:n,right:a},{numActivePlayers:r,direction:l,position:o}){return{top:zl(r,o,l)?e:0,bottom:jl(r,o,l)?t:0,left:Hl(r,o,l)?n:0,right:Vl(r,o,l)?a:0}}(o(),l)),[o,l]),[c,s]=(0,e.useState)(i);return(0,e.useEffect)((()=>{s(i);const e=()=>s(i);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[i]),c}(n,a,r,l);return e.createElement(Rl.Provider,{value:o},t)}!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(Ul||(Ul={}));const $l=(0,t.sharedFacet)("core.safeZone");function Kl({children:n}){const a=(0,t.useFacetUnwrap)((0,t.useSharedFacet)($l));return null!=a&&a!==t.NO_VALUE?e.createElement(Gl,{safeAreaX:a.safeAreaX,safeAreaY:a.safeAreaY,screenPositionX:a.screenPositionX,screenPositionY:a.screenPositionY},n):null}function Xl({children:n}){const a=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(zn));return null!=a&&a!==t.NO_VALUE?e.createElement(Bl,{numActivePlayers:a.numActivePlayers,direction:a.splitScreenDirection,position:a.splitScreenPosition},n):null}const Yl=(0,e.createContext)((0,t.createFacet)({initialValue:!0})),ql=Yl.Provider,Ql=()=>(0,e.useContext)(Yl),Jl=(0,e.createContext)({theme:"vanilla",onSetTheme:()=>{}}).Provider,Zl=(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[]),eo=(Zl({},{},{},{},{},{}),Zl({},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}),(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[])),to=(eo({},{},{},{},{},{}),eo({},{},{},{},{}),eo({}),(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[])),no=(to({}),to({}),(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[])),ao=(no({}),no({}),"#a0e081"),ro="#6cc349",lo="#3c8527",oo="#1d4d13",io="#ffffff",co="#000000",so="#d0d1d4",uo="#b1b2b5",mo="#8c8d90",po="#58585a",fo="#48494a",go="#313233",Eo="#242425",ho="#1e1e1f",bo="#ad1d1d",vo="#ffe866",Fo="rgba(0, 0, 0, 0.1)",yo="rgba(0, 0, 0, 0.3)",So="rgba(0, 0, 0, 0.4)",Co="rgba(0, 0, 0, 0.8)",Mo="rgba(255, 255, 255, 0.1)",wo="rgba(255, 255, 255, 0.2)",ko="rgba(255, 255, 255, 0.4)",To="rgba(255, 255, 255, 0.6)",xo="#FB95E2",Io="#AC90F3",Po="#4A1CAC";function Oo({children:t}){return e.createElement(Jl,{value:{theme:"vanilla",onSetTheme:()=>{}}},t)}let Ao=0;const No="Noto Sans",Ro="Noto Sans JP",Lo="Noto Sans TC",_o="Noto Sans SC",Do="Noto Sans KR",Bo="Noto Sans AR",Wo=["Noto Sans Mongolian","Noto Sans Syriac","Noto Sans TamilSupplement"];let Uo;function zo({guiScale:n,onGuiScaleApplied:a,accessibleGuiScale:r=!1,children:l}){const[o,i]=(0,t.useFacetState)(10),c=(0,t.useFacetWrap)(r);return(0,t.useFacetEffect)((e=>{i(2.5*e)}),[i],[n]),(0,t.useFacetEffect)(((e,t)=>{const n=document.getElementsByTagName("html")[0],r=document.body;n.style.fontSize=`${t}px`,r.style.setProperty("--baseFontSize",`${t}px`);const l=Math.max(Math.round(e/4*2),1);r.style.setProperty("--base2Scale",`${l}px`),r.style.setProperty("--base2ScaleNeg",`-${l}px`);const o=Math.max(Math.round(e/4),1);r.style.setProperty("--base1Scale",`${o}px`),r.style.setProperty("--base1ScaleNeg",`-${o}px`),a()}),[a],[n,o]),e.createElement(Ho.Provider,{value:n},e.createElement(jo.Provider,{value:o},e.createElement(Vo.Provider,{value:c},l)))}!function(e){e[e.SCALING_25=1]="SCALING_25",e[e.SCALING_50=2]="SCALING_50",e[e.SCALING_75=3]="SCALING_75",e[e.SCALING_100=4]="SCALING_100",e[e.SCALING_125=5]="SCALING_125",e[e.SCALING_150=6]="SCALING_150",e[e.SCALING_175=7]="SCALING_175",e[e.SCALING_200=8]="SCALING_200"}(Uo||(Uo={}));const jo=(0,e.createContext)((0,t.createFacet)({initialValue:10})),Ho=(0,e.createContext)((0,t.createFacet)({initialValue:4})),Vo=(0,e.createContext)((0,t.createFacet)({initialValue:!1})),Go=n=>{const a=(0,t.useFacetUnwrap)((0,e.useContext)(jo));return n*(a===t.NO_VALUE?10:a)},$o=n=>(0,t.useFacetMap)(((e,t)=>e*t),[],[(0,t.useFacetWrap)(n),(0,e.useContext)(jo)]),Ko=(t=70,n=128)=>{const a=Go(t),r=Go(n),[l,o]=(0,e.useState)("desktop");return(0,e.useEffect)((()=>{const e=()=>o((()=>{const e=window.innerWidth;return e<a?"narrow":e<r?"tablet":"desktop"})());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[a,r]),l},Xo=(t=99.9)=>{const n=Go(t),a=(0,e.useCallback)((()=>window.innerWidth<=n),[n]),[r,l]=(0,e.useState)(a());return(0,e.useEffect)((()=>{const e=()=>l(a());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[a]),r},Yo=(n=99.9)=>{const a=$o(n),r=(0,t.useFacetCallback)((e=>()=>window.innerWidth<=e),[],[a],!1),[l,o]=(0,t.useFacetState)(r());return(0,e.useEffect)((()=>{const e=()=>o(r());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[r,o]),l},qo=e=>{const[n,a]=(0,t.useFacetState)(t.NO_VALUE);return Qo(e,a),n},Qo=(t,n)=>{(0,e.useEffect)((()=>{const e=t.current;if(null!=e)return Jo(e,n)}),[t,n])},Jo=(e,t)=>{let n=requestAnimationFrame((()=>{t(e.getBoundingClientRect())}));const a=new window.ResizeObserver((e=>{cancelAnimationFrame(n),n=requestAnimationFrame((()=>{t(e[0].contentRect)}))}));a.observe(e);const r=()=>{cancelAnimationFrame(n),n=requestAnimationFrame((()=>{t(e.getBoundingClientRect())}))};return window.addEventListener("resize",r),()=>{cancelAnimationFrame(n),a.disconnect(),window.removeEventListener("resize",r)}};function Zo({children:t,guiScale:n,onGuiScaleApplied:a=ei,screenAnimationEnabled:r,accessibleGuiScale:l,isRtl:o=!1,locale:i}){return function(t){(0,e.useEffect)((()=>{const e=document.getElementsByTagName("html")[0],n=document.querySelector('link[rel="stylesheet"]');if(null==n)return void console.error("No stylesheet link tag found, RTL is not applied");const a=n.getAttribute("href");if(null==a)return void console.error("Something wrong with style attribute, RTL is not applied");const r=a.substring(0,a.length-4).replace(".rtl","")+(t?".rtl":"")+".css";t?e.setAttribute("dir","rtl"):e.removeAttribute("dir"),n.setAttribute("href",r)}),[t])}(o),function(t){(0,e.useEffect)((()=>{const e=function(e){return e.startsWith("ja")?[Ro,Lo,_o,Do,No,...Wo]:"zh_TW"===e?[Lo,_o,Ro,Do,No,...Wo]:"zh_CN"===e?[_o,Lo,Ro,Do,No,...Wo]:e.startsWith("ko")?[Do,Lo,_o,Ro,No,...Wo]:e.startsWith("ar_")?[Bo,No,Do,Lo,_o,Ro,...Wo]:[No,_o,Lo,Ro,Do,Bo,...Wo]}(t);document.body.style.setProperty("--localeSpecificNotoSansFonts",e.join(","))}),[t])}(i),e.createElement(ql,{value:r},e.createElement(zo,{guiScale:n,onGuiScaleApplied:a,accessibleGuiScale:l},e.createElement(Oo,null,t)))}const ei=()=>{},ti=(0,t.sharedFacet)("core.customScaling");function ni(e){return Math.ceil(1.25*e)}const ai={compat:{[Ue.DESKTOP_SCREEN_TYPE]:Ge.SCALE_100_PERCENT,[Ue.TV_SCREEN_TYPE]:Ge.SCALE_100_PERCENT,[Ue.HANDHELD_SCREEN_TYPE]:{[ze.PHONE]:Ge.SCALE_100_PERCENT,[ze.TABLET]:Ge.SCALE_100_PERCENT},[Ue.VR_SCREEN_TYPE]:Ge.SCALE_100_PERCENT},legacy:{[Ue.DESKTOP_SCREEN_TYPE]:Ge.SCALE_175_PERCENT,[Ue.TV_SCREEN_TYPE]:Ge.SCALE_175_PERCENT,[Ue.HANDHELD_SCREEN_TYPE]:{[ze.PHONE]:Ge.SCALE_100_PERCENT,[ze.TABLET]:Ge.SCALE_150_PERCENT},[Ue.VR_SCREEN_TYPE]:Ge.SCALE_100_PERCENT},default:{[Ue.DESKTOP_SCREEN_TYPE]:Ge.SCALE_125_PERCENT,[Ue.TV_SCREEN_TYPE]:Ge.SCALE_175_PERCENT,[Ue.HANDHELD_SCREEN_TYPE]:{[ze.PHONE]:Ge.SCALE_100_PERCENT,[ze.TABLET]:Ge.SCALE_100_PERCENT},[Ue.VR_SCREEN_TYPE]:Ge.SCALE_100_PERCENT},fixed:{[Ue.DESKTOP_SCREEN_TYPE]:Ge.SCALE_100_PERCENT,[Ue.TV_SCREEN_TYPE]:Ge.SCALE_100_PERCENT,[Ue.HANDHELD_SCREEN_TYPE]:{[ze.PHONE]:Ge.SCALE_100_PERCENT,[ze.TABLET]:Ge.SCALE_100_PERCENT},[Ue.VR_SCREEN_TYPE]:Ge.SCALE_100_PERCENT}},ri=6.417322835;function li({children:n,scalingMode:a}){const r=(0,t.useSharedFacet)(el),l=(0,t.useSharedFacet)(ti),o=(0,t.useSharedFacet)(Wn),i=(0,t.useFacetMap)((e=>null!=e.scalingModeOverride&&e.scalingModeOverride&&e.scalingModeOverride.length>0?e.scalingModeOverride:a),[a],[l]),c=(0,t.useFacetMap)((e=>e.fixedGuiScaleModifier),[],[l]),s=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.guiAccessibilityScaling)&&void 0!==t&&t}),[],[l]),u=(0,t.useFacetMap)((()=>!0),[],[r,o,c,i,s]),d=(0,t.useFacetMap)((e=>e.screenAnimationEnabled),[],[o]);return e.createElement(t.Mount,{when:u},e.createElement(oi,{deviceInformationFacet:r,scalingMode:i,screenAnimationEnabled:d,fixedGuiScaleModifier:c,accessibleGuiScale:s},n))}function oi({scalingMode:n,children:a,deviceInformationFacet:r,screenAnimationEnabled:l,fixedGuiScaleModifier:o,accessibleGuiScale:i}){const c=function(n,a,r,l,o){const i=(0,t.useFacetMap)(((e,t,n)=>"fixed"==n?t:e.guiScaleModifier),[],[r,l,n]),c=(0,t.useFacetCallback)(((e,t,n,a,r)=>()=>function(e,t,n,a,r,l,o){if("fixed"===e)return function(e,t){const n=Ge.SCALE_100_PERCENT+e;return!0===t?ni(n):n}(n,o);const i=ai[e][t];return t===Ue.HANDHELD_SCREEN_TYPE?function(e,t,n,a,r,l,o){const i=a/ri,c=t[r/i>1e3&&l/i>700?ze.TABLET:ze.PHONE],s=Math.round(i*c)+Math.round(i*n);return!0===o?ni(s):s}(0,i,n,l,a,r,o):function(e,t,n,a,r,l){const o=a/1920,i=r/1080,c=Math.min(i,o),s=Math.round(c*t)+Math.round(c*n);return!0===l?ni(s):s}(0,i,n,a,r,o)}(e,t,a,window.innerWidth,window.innerHeight,n.pixelsPerMillimeter,r)),[],[n,a,r,i,o]),[s,u]=(0,t.useFacetState)(c());return(0,e.useEffect)((()=>{const e=()=>u(c);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[c,u]),(0,t.useFacetEffect)((()=>{u(c)}),[u,c],[r,l,o]),s}(n,(0,e.useContext)(qe),r,o,i),s=(0,e.useContext)(dl).locale,u=(0,e.useContext)(dl).isRtl,d=(0,e.useCallback)((()=>{jn.trigger("core:gui:resize-hack")}),[]);return e.createElement(Zo,{guiScale:c,accessibleGuiScale:i,onGuiScaleApplied:d,screenAnimationEnabled:l,isRtl:u,locale:s},a)}const ii=(0,e.createContext)(null),ci=ii.Provider;function si({children:t}){const n={changedCB:(0,e.useCallback)((e=>Hn("core:keyboard:changed",(t=>{e({addedChars:t.addedChars+"",removedChars:t.removedChars+"",invalidChars:t.invalidChars+"",index:t.index+0})}))),[]),submittedCB:(0,e.useCallback)((e=>Hn("core:keyboard:submitted",e)),[]),dismissedCB:(0,e.useCallback)((e=>Hn("core:keyboard:dismissed",e)),[]),tabbedCB:(0,e.useCallback)((e=>Hn("core:keyboard:tabbed",e)),[])};return e.createElement(ci,{value:n},t)}let ui;!function(e){e.FIRST_MEANINGFUL_PAINT="core:telemetry:firstMeaningfulPaint",e.FIRST_CONTENTFUL_PAINT="core:telemetry:firstContentfulPaint"}(ui||(ui={}));const di=()=>new Map;function mi({children:t,triggerEvent:n}){const a=(0,e.useMemo)(di,[]),r=(0,e.useMemo)(di,[]),l=(0,e.useRef)(!1),o=(0,e.useRef)(!1),i=(0,e.useMemo)((()=>{const e=()=>{0===a.size&&0===r.size&&l.current&&(n(ui.FIRST_MEANINGFUL_PAINT),l.current=!1)},t=()=>{0===a.size&&o.current&&(n(ui.FIRST_CONTENTFUL_PAINT),o.current=!1),e()};return{block:(e,t)=>{("contentful"===t?a:r).set(e,!0)},unblock:(n,l)=>{("contentful"===l?a:r).delete(n),"contentful"===l?t():e()},meaningfulPaint:()=>{l.current=!0,e()},contentfulPaint:()=>{o.current=!0,t()}}}),[n,a,r]);return e.createElement(Rr.Provider,{value:i},t)}function pi({children:t}){const n=(0,e.useMemo)((()=>jn.trigger.bind(jn)),[]);return e.createElement(mi,{triggerEvent:n},t)}const fi=(0,e.createContext)((()=>({}))),gi=({driver:t,children:n})=>{const a=(0,e.useRef)(new Map),r=(0,e.useCallback)((e=>{const n=a.current.get(e);if(null!=n)return n;const r=t(e);return a.current.set(e,r),r}),[t]);return e.createElement(fi.Provider,{value:r},n)},Ei=(0,t.createFacet)({initialValue:t.NO_VALUE}),hi=(0,e.createContext)((()=>Ei)),bi=({driver:t,children:n})=>{const a=(0,e.useRef)(new Map),r=(0,e.useCallback)(((e,n)=>{const r=vi(e,n),l=a.current.get(r);if(null!=l)return l;const o=t(e,n,r,(()=>{a.current.delete(r)}));return a.current.set(r,o),o}),[t]);return e.createElement(hi.Provider,{value:r},n)},vi=(e,t)=>null==t?e:Object.keys(t).sort(((e,t)=>e>t?1:0)).reduce(((e,n)=>`${e}-${t[n]}`),e),Fi=({queryDriver:t,commandsDriver:n,children:a})=>e.createElement(bi,{driver:t},e.createElement(gi,{driver:n},a)),yi=new Map,Si=new Map,Ci=new Map;function Mi(e,t,n,a){var r;const l=Ci.get(e);if(null!=l)return t(l),()=>{};const o=r=>{"activate-facet-not-found"===r&&null!=n?(Ci.set(e,n),t(n)):a?a(r):(t=>{console.warn(`Error "${t}" while using facet ${e}`)})(r)},i=n=>{Si.set(e,n),t(n)},c=null!==(r=yi.get(e))&&void 0!==r?r:0,s=Si.get(e);return jn.on(`facet:updated:${e}`,i),jn.on(`facet:error:${e}`,o),0===c?jn.trigger("facet:request",e,e,{}):null!=s&&t(s),yi.set(e,c+1),()=>{var t;const n=null!==(t=yi.get(e))&&void 0!==t?t:0;jn.off(`facet:updated:${e}`,i),jn.off(`facet:error:${e}`,o),1===n&&(jn.trigger("facet:discard",e),Si.delete(e)),n>0&&yi.set(e,n-1)}}const wi=(e,n,a,r)=>(0,t.createFacet)({initialValue:t.NO_VALUE,startSubscription:t=>(jn.on(`facet:updated:${a}`,t),jn.trigger("facet:request",e,a,null==n?{}:n),()=>{jn.off(`facet:updated:${a}`,t),jn.trigger("facet:discard",a),r()})}),ki=e=>{let t=null;if(jn.on(`facet:updated:${e}`,(e=>{t=e})),jn.trigger("facet:request",e,e,{}),null==t)throw new Error(`Unable to request commands for ${e}`);return t},Ti=(0,e.createContext)((0,t.createStaticFacet)({keyboard:{},gamepad:{}}));function xi(e,t,n){return`${e}${""!==e?".":""}${t}${n}`}function Ii(t){const{translationPrefix:n,translate:a,formatDate:r}=(0,e.useContext)(dl);return(0,e.useMemo)((()=>({f:{formatDate:r},t:(e,r)=>{const l=xi(n,t,e),o=a(l,r);return null!=o?o:l}})),[n,t,a,r])}const Pi=({children:n})=>{const{t:a}=Ii("ControllerSpecificButtonNarration"),r=(0,e.useMemo)((()=>({gamepad:{[W.A]:{[$e.XBOX]:a(".Gamepad.A.XBOX"),[$e.PS]:a(".Gamepad.A.PS"),[$e.STEAM]:a(".Gamepad.A.STEAM"),[$e.SWITCH]:a(".Gamepad.A.SWITCH"),[$e.QUEST]:a(".Gamepad.A.QUEST")},[W.B]:{[$e.XBOX]:a(".Gamepad.B.XBOX"),[$e.PS]:a(".Gamepad.B.PS"),[$e.STEAM]:a(".Gamepad.B.STEAM"),[$e.SWITCH]:a(".Gamepad.B.SWITCH"),[$e.QUEST]:a(".Gamepad.B.QUEST")},[W.X]:{[$e.XBOX]:a(".Gamepad.X.XBOX"),[$e.PS]:a(".Gamepad.X.PS"),[$e.STEAM]:a(".Gamepad.X.STEAM"),[$e.SWITCH]:a(".Gamepad.Y.SWITCH"),[$e.QUEST]:a(".Gamepad.X.QUEST")},[W.Y]:{[$e.XBOX]:a(".Gamepad.Y.XBOX"),[$e.PS]:a(".Gamepad.Y.PS"),[$e.STEAM]:a(".Gamepad.Y.STEAM"),[$e.SWITCH]:a(".Gamepad.X.SWITCH"),[$e.QUEST]:a(".Gamepad.Y.QUEST")},[W.START]:{[$e.XBOX]:a(".Gamepad.START.XBOX"),[$e.PS]:a(".Gamepad.START.PS"),[$e.STEAM]:a(".Gamepad.START.STEAM"),[$e.SWITCH]:a(".Gamepad.START.SWITCH"),[$e.QUEST]:a(".Gamepad.START.QUEST")},[W.SELECT]:{[$e.XBOX]:a(".Gamepad.SELECT.XBOX"),[$e.PS]:a(".Gamepad.SELECT.PS"),[$e.STEAM]:a(".Gamepad.SELECT.STEAM"),[$e.SWITCH]:a(".Gamepad.SELECT.SWITCH"),[$e.QUEST]:a(".Gamepad.SELECT.QUEST")},[W.XBOX]:{[$e.XBOX]:a(".Gamepad.XBOX.XBOX"),[$e.PS]:a(".Gamepad.XBOX.PS"),[$e.STEAM]:a(".Gamepad.XBOX.STEAM"),[$e.SWITCH]:a(".Gamepad.XBOX.SWITCH"),[$e.QUEST]:a(".Gamepad.XBOX.QUEST")},[W.RIGHT_TRIGGER]:{[$e.XBOX]:a(".Gamepad.RT.XBOX"),[$e.PS]:a(".Gamepad.RT.PS"),[$e.STEAM]:a(".Gamepad.RT.STEAM"),[$e.SWITCH]:a(".Gamepad.RT.SWITCH"),[$e.QUEST]:a(".Gamepad.RT.QUEST")},[W.LEFT_TRIGGER]:{[$e.XBOX]:a(".Gamepad.LT.XBOX"),[$e.PS]:a(".Gamepad.LT.PS"),[$e.STEAM]:a(".Gamepad.LT.STEAM"),[$e.SWITCH]:a(".Gamepad.LT.SWITCH"),[$e.QUEST]:a(".Gamepad.LT.QUEST")},[W.LEFT_BUMPER]:{[$e.XBOX]:a(".Gamepad.LB.XBOX"),[$e.PS]:a(".Gamepad.LB.PS"),[$e.STEAM]:a(".Gamepad.LB.STEAM"),[$e.SWITCH]:a(".Gamepad.LB.SWITCH"),[$e.QUEST]:a(".Gamepad.LB.QUEST")},[W.RIGHT_BUMPER]:{[$e.XBOX]:a(".Gamepad.RB.XBOX"),[$e.PS]:a(".Gamepad.RB.PS"),[$e.STEAM]:a(".Gamepad.RB.STEAM"),[$e.SWITCH]:a(".Gamepad.RB.SWITCH"),[$e.QUEST]:a(".Gamepad.RB.QUEST")},[W.L3]:{[$e.XBOX]:a(".Gamepad.L3.XBOX"),[$e.PS]:a(".Gamepad.L3.PS"),[$e.STEAM]:a(".Gamepad.L3.STEAM"),[$e.SWITCH]:a(".Gamepad.L3.SWITCH"),[$e.QUEST]:a(".Gamepad.L3.QUEST")},[W.R3]:{[$e.XBOX]:a(".Gamepad.R3.XBOX"),[$e.PS]:a(".Gamepad.R3.PS"),[$e.STEAM]:a(".Gamepad.R3.STEAM"),[$e.SWITCH]:a(".Gamepad.R3.SWITCH"),[$e.QUEST]:a(".Gamepad.R3.QUEST")},[W.LEFT]:{[$e.XBOX]:a(".Gamepad.LEFT.XBOX"),[$e.PS]:a(".Gamepad.LEFT.PS"),[$e.STEAM]:a(".Gamepad.LEFT.STEAM"),[$e.SWITCH]:a(".Gamepad.LEFT.SWITCH"),[$e.QUEST]:a(".Gamepad.LEFT.QUEST")},[W.RIGHT]:{[$e.XBOX]:a(".Gamepad.RIGHT.XBOX"),[$e.PS]:a(".Gamepad.RIGHT.PS"),[$e.STEAM]:a(".Gamepad.RIGHT.STEAM"),[$e.SWITCH]:a(".Gamepad.RIGHT.SWITCH"),[$e.QUEST]:a(".Gamepad.RIGHT.QUEST")},[W.UP]:{[$e.XBOX]:a(".Gamepad.UP.XBOX"),[$e.PS]:a(".Gamepad.UP.PS"),[$e.STEAM]:a(".Gamepad.UP.STEAM"),[$e.SWITCH]:a(".Gamepad.UP.SWITCH"),[$e.QUEST]:a(".Gamepad.UP.QUEST")},[W.DOWN]:{[$e.XBOX]:a(".Gamepad.DOWN.XBOX"),[$e.PS]:a(".Gamepad.DOWN.PS"),[$e.STEAM]:a(".Gamepad.DOWN.STEAM"),[$e.SWITCH]:a(".Gamepad.DOWN.SWITCH"),[$e.QUEST]:a(".Gamepad.DOWN.QUEST")},[W.NEXT]:{[$e.XBOX]:a(".Gamepad.NEXT.XBOX"),[$e.PS]:a(".Gamepad.NEXT.PS"),[$e.STEAM]:a(".Gamepad.NEXT.STEAM"),[$e.SWITCH]:a(".Gamepad.NEXT.SWITCH"),[$e.QUEST]:a(".Gamepad.NEXT.QUEST")},[W.PREV]:{[$e.XBOX]:a(".Gamepad.PREV.XBOX"),[$e.PS]:a(".Gamepad.PREV.PS"),[$e.STEAM]:a(".Gamepad.PREV.STEAM"),[$e.SWITCH]:a(".Gamepad.PREV.SWITCH"),[$e.QUEST]:a(".Gamepad.PREV.QUEST")},[W.LEFT_ANALOG_LEFT]:{[$e.XBOX]:a(".Gamepad.L_LEFT.XBOX"),[$e.PS]:a(".Gamepad.L_LEFT.PS"),[$e.STEAM]:a(".Gamepad.L_LEFT.STEAM"),[$e.SWITCH]:a(".Gamepad.L_LEFT.SWITCH"),[$e.QUEST]:a(".Gamepad.L_LEFT.QUEST")},[W.LEFT_ANALOG_RIGHT]:{[$e.XBOX]:a(".Gamepad.L_RIGHT.XBOX"),[$e.PS]:a(".Gamepad.L_RIGHT.PS"),[$e.STEAM]:a(".Gamepad.L_RIGHT.STEAM"),[$e.SWITCH]:a(".Gamepad.L_RIGHT.SWITCH"),[$e.QUEST]:a(".Gamepad.L_RIGHT.QUEST")},[W.LEFT_ANALOG_UP]:{[$e.XBOX]:a(".Gamepad.L_UP.XBOX"),[$e.PS]:a(".Gamepad.L_UP.PS"),[$e.STEAM]:a(".Gamepad.L_UP.STEAM"),[$e.SWITCH]:a(".Gamepad.L_UP.SWITCH"),[$e.QUEST]:a(".Gamepad.L_UP.QUEST")},[W.LEFT_ANALOG_DOWN]:{[$e.XBOX]:a(".Gamepad.L_DOWN.XBOX"),[$e.PS]:a(".Gamepad.L_DOWN.PS"),[$e.STEAM]:a(".Gamepad.L_DOWN.STEAM"),[$e.SWITCH]:a(".Gamepad.L_DOWN.SWITCH"),[$e.QUEST]:a(".Gamepad.L_DOWN.QUEST")},[W.RIGHT_ANALOG_LEFT]:{[$e.XBOX]:a(".Gamepad.R_LEFT.XBOX"),[$e.PS]:a(".Gamepad.R_LEFT.PS"),[$e.STEAM]:a(".Gamepad.R_LEFT.STEAM"),[$e.SWITCH]:a(".Gamepad.R_LEFT.SWITCH"),[$e.QUEST]:a(".Gamepad.R_LEFT.QUEST")},[W.RIGHT_ANALOG_RIGHT]:{[$e.XBOX]:a(".Gamepad.R_RIGHT.XBOX"),[$e.PS]:a(".Gamepad.R_RIGHT.PS"),[$e.STEAM]:a(".Gamepad.R_RIGHT.STEAM"),[$e.SWITCH]:a(".Gamepad.R_RIGHT.SWITCH"),[$e.QUEST]:a(".Gamepad.R_RIGHT.QUEST")},[W.RIGHT_ANALOG_UP]:{[$e.XBOX]:a(".Gamepad.R_UP.XBOX"),[$e.PS]:a(".Gamepad.R_UP.PS"),[$e.STEAM]:a(".Gamepad.R_UP.STEAM"),[$e.SWITCH]:a(".Gamepad.R_UP.SWITCH"),[$e.QUEST]:a(".Gamepad.R_UP.QUEST")},[W.RIGHT_ANALOG_DOWN]:{[$e.XBOX]:a(".Gamepad.R_DOWN.XBOX"),[$e.PS]:a(".Gamepad.R_DOWN.PS"),[$e.STEAM]:a(".Gamepad.R_DOWN.STEAM"),[$e.SWITCH]:a(".Gamepad.R_DOWN.SWITCH"),[$e.QUEST]:a(".Gamepad.R_DOWN.QUEST")},[W.LEFT_HORIZONTAL_AXIS]:{[$e.XBOX]:a(".Gamepad.LEFT_HORIZONTAL_AXIS.XBOX"),[$e.PS]:a(".Gamepad.LEFT_HORIZONTAL_AXIS.PS"),[$e.STEAM]:a(".Gamepad.LEFT_HORIZONTAL_AXIS.STEAM"),[$e.SWITCH]:a(".Gamepad.LEFT_HORIZONTAL_AXIS.SWITCH"),[$e.QUEST]:a(".Gamepad.LEFT_HORIZONTAL_AXIS.QUEST")},[W.LEFT_VERTICAL_AXIS]:{[$e.XBOX]:a(".Gamepad.LEFT_VERTICAL_AXIS.XBOX"),[$e.PS]:a(".Gamepad.LEFT_VERTICAL_AXIS.PS"),[$e.STEAM]:a(".Gamepad.LEFT_VERTICAL_AXIS.STEAM"),[$e.SWITCH]:a(".Gamepad.LEFT_VERTICAL_AXIS.SWITCH"),[$e.QUEST]:a(".Gamepad.LEFT_VERTICAL_AXIS.QUEST")},[W.RIGHT_HORIZONTAL_AXIS]:{[$e.XBOX]:a(".Gamepad.RIGHT_HORIZONTAL_AXIS.XBOX"),[$e.PS]:a(".Gamepad.RIGHT_HORIZONTAL_AXIS.PS"),[$e.STEAM]:a(".Gamepad.RIGHT_HORIZONTAL_AXIS.STEAM"),[$e.SWITCH]:a(".Gamepad.RIGHT_HORIZONTAL_AXIS.SWITCH"),[$e.QUEST]:a(".Gamepad.RIGHT_HORIZONTAL_AXIS.QUEST")},[W.RIGHT_VERTICAL_AXIS]:{[$e.XBOX]:a(".Gamepad.RIGHT_VERTICAL_AXIS.XBOX"),[$e.PS]:a(".Gamepad.RIGHT_VERTICAL_AXIS.PS"),[$e.STEAM]:a(".Gamepad.RIGHT_VERTICAL_AXIS.STEAM"),[$e.SWITCH]:a(".Gamepad.RIGHT_VERTICAL_AXIS.SWITCH"),[$e.QUEST]:a(".Gamepad.RIGHT_VERTICAL_AXIS.QUEST")},[W.PSEUDO_BUTTON_1]:{[$e.XBOX]:a(".Gamepad.PSEUDO_BUTTON_1.XBOX"),[$e.PS]:a(".Gamepad.PSEUDO_BUTTON_1.PS"),[$e.STEAM]:a(".Gamepad.PSEUDO_BUTTON_1.STEAM"),[$e.SWITCH]:a(".Gamepad.PSEUDO_BUTTON_1.SWITCH"),[$e.QUEST]:a(".Gamepad.PSEUDO_BUTTON_1.QUEST")},[W.PSEUDO_BUTTON_2]:{[$e.XBOX]:a(".Gamepad.PSEUDO_BUTTON_2.XBOX"),[$e.PS]:a(".Gamepad.PSEUDO_BUTTON_2.PS"),[$e.STEAM]:a(".Gamepad.PSEUDO_BUTTON_2.STEAM"),[$e.SWITCH]:a(".Gamepad.PSEUDO_BUTTON_2.SWITCH"),[$e.QUEST]:a(".Gamepad.PSEUDO_BUTTON_2.QUEST")},[W.PSEUDO_BUTTON_3]:{[$e.XBOX]:a(".Gamepad.PSEUDO_BUTTON_3.XBOX"),[$e.PS]:a(".Gamepad.PSEUDO_BUTTON_3.PS"),[$e.STEAM]:a(".Gamepad.PSEUDO_BUTTON_3.STEAM"),[$e.SWITCH]:a(".Gamepad.PSEUDO_BUTTON_3.SWITCH"),[$e.QUEST]:a(".Gamepad.PSEUDO_BUTTON_3.QUEST")},[W.PSEUDO_BUTTON_4]:{[$e.XBOX]:a(".Gamepad.PSEUDO_BUTTON_4.XBOX"),[$e.PS]:a(".Gamepad.PSEUDO_BUTTON_4.PS"),[$e.STEAM]:a(".Gamepad.PSEUDO_BUTTON_4.STEAM"),[$e.SWITCH]:a(".Gamepad.PSEUDO_BUTTON_4.SWITCH"),[$e.QUEST]:a(".Gamepad.PSEUDO_BUTTON_4.QUEST")},[W.PSEUDO_BUTTON_5]:{[$e.XBOX]:a(".Gamepad.PSEUDO_BUTTON_5.XBOX"),[$e.PS]:a(".Gamepad.PSEUDO_BUTTON_5.PS"),[$e.STEAM]:a(".Gamepad.PSEUDO_BUTTON_5.STEAM"),[$e.SWITCH]:a(".Gamepad.PSEUDO_BUTTON_5.SWITCH"),[$e.QUEST]:a(".Gamepad.PSEUDO_BUTTON_5.QUEST")},[W.PSEUDO_BUTTON_6]:{[$e.XBOX]:a(".Gamepad.PSEUDO_BUTTON_6.XBOX"),[$e.PS]:a(".Gamepad.PSEUDO_BUTTON_6.PS"),[$e.STEAM]:a(".Gamepad.PSEUDO_BUTTON_6.STEAM"),[$e.SWITCH]:a(".Gamepad.PSEUDO_BUTTON_6.SWITCH"),[$e.QUEST]:a(".Gamepad.PSEUDO_BUTTON_6.QUEST")},[W.PSEUDO_BUTTON_7]:{[$e.XBOX]:a(".Gamepad.PSEUDO_BUTTON_7.XBOX"),[$e.PS]:a(".Gamepad.PSEUDO_BUTTON_7.PS"),[$e.STEAM]:a(".Gamepad.PSEUDO_BUTTON_7.STEAM"),[$e.SWITCH]:a(".Gamepad.PSEUDO_BUTTON_7.SWITCH"),[$e.QUEST]:a(".Gamepad.PSEUDO_BUTTON_7.QUEST")},[W.PSEUDO_BUTTON_8]:{[$e.XBOX]:a(".Gamepad.PSEUDO_BUTTON_8.XBOX"),[$e.PS]:a(".Gamepad.PSEUDO_BUTTON_8.PS"),[$e.STEAM]:a(".Gamepad.PSEUDO_BUTTON_8.STEAM"),[$e.SWITCH]:a(".Gamepad.PSEUDO_BUTTON_8.SWITCH"),[$e.QUEST]:a(".Gamepad.PSEUDO_BUTTON_8.QUEST")},[W.PSEUDO_BUTTON_9]:{[$e.XBOX]:a(".Gamepad.PSEUDO_BUTTON_9.XBOX"),[$e.PS]:a(".Gamepad.PSEUDO_BUTTON_9.PS"),[$e.STEAM]:a(".Gamepad.PSEUDO_BUTTON_9.STEAM"),[$e.SWITCH]:a(".Gamepad.PSEUDO_BUTTON_9.SWITCH"),[$e.QUEST]:a(".Gamepad.PSEUDO_BUTTON_9.QUEST")},[W.PSEUDO_BUTTON_10]:{[$e.XBOX]:a(".Gamepad.PSEUDO_BUTTON_10.XBOX"),[$e.PS]:a(".Gamepad.PSEUDO_BUTTON_10.PS"),[$e.STEAM]:a(".Gamepad.PSEUDO_BUTTON_10.STEAM"),[$e.SWITCH]:a(".Gamepad.PSEUDO_BUTTON_10.SWITCH"),[$e.QUEST]:a(".Gamepad.PSEUDO_BUTTON_10.QUEST")}},keyboard:{[de.BACKSPACE]:a(".Keyboard.BACKSPACE"),[de.TAB]:a(".Keyboard.TAB"),[de.ENTER]:a(".Keyboard.ENTER"),[de.SHIFT]:a(".Keyboard.SHIFT"),[de.CTRL]:a(".Keyboard.CTRL"),[de.ALT]:a(".Keyboard.ALT"),[de.ESCAPE]:a(".Keyboard.ESCAPE"),[de.SPACE]:a(".Keyboard.SPACE"),[de.LEFT]:a(".Keyboard.LEFT"),[de.UP]:a(".Keyboard.UP"),[de.RIGHT]:a(".Keyboard.RIGHT"),[de.DOWN]:a(".Keyboard.DOWN"),[de.INSERT]:a(".Keyboard.INSERT"),[de.DELETE]:a(".Keyboard.DELETE"),[de.KEY_0]:a(".Keyboard.KEY_0"),[de.KEY_1]:a(".Keyboard.KEY_1"),[de.KEY_2]:a(".Keyboard.KEY_2"),[de.KEY_3]:a(".Keyboard.KEY_3"),[de.KEY_4]:a(".Keyboard.KEY_4"),[de.KEY_5]:a(".Keyboard.KEY_5"),[de.KEY_6]:a(".Keyboard.KEY_6"),[de.KEY_7]:a(".Keyboard.KEY_7"),[de.KEY_8]:a(".Keyboard.KEY_8"),[de.KEY_9]:a(".Keyboard.KEY_9"),[de.KEY_A]:a(".Keyboard.KEY_A"),[de.KEY_B]:a(".Keyboard.KEY_B"),[de.KEY_C]:a(".Keyboard.KEY_C"),[de.KEY_D]:a(".Keyboard.KEY_D"),[de.KEY_E]:a(".Keyboard.KEY_E"),[de.KEY_F]:a(".Keyboard.KEY_F"),[de.KEY_G]:a(".Keyboard.KEY_G"),[de.KEY_H]:a(".Keyboard.KEY_H"),[de.KEY_I]:a(".Keyboard.KEY_I"),[de.KEY_J]:a(".Keyboard.KEY_J"),[de.KEY_K]:a(".Keyboard.KEY_K"),[de.KEY_L]:a(".Keyboard.KEY_L"),[de.KEY_M]:a(".Keyboard.KEY_M"),[de.KEY_N]:a(".Keyboard.KEY_N"),[de.KEY_O]:a(".Keyboard.KEY_O"),[de.KEY_P]:a(".Keyboard.KEY_P"),[de.KEY_Q]:a(".Keyboard.KEY_Q"),[de.KEY_R]:a(".Keyboard.KEY_R"),[de.KEY_S]:a(".Keyboard.KEY_S"),[de.KEY_T]:a(".Keyboard.KEY_T"),[de.KEY_U]:a(".Keyboard.KEY_U"),[de.KEY_V]:a(".Keyboard.KEY_V"),[de.KEY_W]:a(".Keyboard.KEY_W"),[de.KEY_X]:a(".Keyboard.KEY_X"),[de.KEY_Y]:a(".Keyboard.KEY_Y"),[de.KEY_Z]:a(".Keyboard.KEY_Z"),[de.F1]:a(".Keyboard.F1"),[de.F2]:a(".Keyboard.F2"),[de.F3]:a(".Keyboard.F3"),[de.F4]:a(".Keyboard.F4"),[de.F5]:a(".Keyboard.F5"),[de.F6]:a(".Keyboard.F6"),[de.F7]:a(".Keyboard.F7"),[de.F8]:a(".Keyboard.F8"),[de.F9]:a(".Keyboard.F9"),[de.F10]:a(".Keyboard.F10"),[de.F11]:a(".Keyboard.F11"),[de.F12]:a(".Keyboard.F12"),[de.MOUSE_MOVEMENT]:a(".Keyboard.MOUSE_MOVEMENT"),[de.MOUSE_BUTTON_LEFT]:a(".Keyboard.MOUSE_BUTTON_LEFT"),[de.MOUSE_BUTTON_MIDDLE]:a(".Keyboard.MOUSE_BUTTON_MIDDLE"),[de.MOUSE_BUTTON_RIGHT]:a(".Keyboard.MOUSE_BUTTON_RIGHT"),[de.MOUSE_WHEEL]:a(".Keyboard.MOUSE_WHEEL"),[de.BRACKET_OPEN]:a(".Keyboard.BRACKET_OPEN"),[de.BRACKET_CLOSE]:a(".Keyboard.BRACKET_CLOSE"),[de.PSEUDO_KEY_1]:a(".Keyboard.PSEUDO_KEY_1"),[de.PSEUDO_KEY_2]:a(".Keyboard.PSEUDO_KEY_2"),[de.PSEUDO_KEY_3]:a(".Keyboard.PSEUDO_KEY_3"),[de.PSEUDO_KEY_4]:a(".Keyboard.PSEUDO_KEY_4")}})),[a]),l=(0,t.useFacetWrap)(r);return e.createElement(Ti.Provider,{value:l},n)},Oi=(0,e.createContext)({showModal:()=>{},hideModal:()=>{},updateModal:()=>{}}),Ai={component:null,payload:null};function Ni({children:n,ModalContainerWrapper:a}){const r=(0,e.useRef)([]),[l,o]=(0,t.useFacetState)(Ai),i=(0,e.useCallback)((()=>{if(r.current.length<=0)o(Ai);else{const e=r.current[r.current.length-1];o({component:e.component,payload:e.payload})}}),[o]),c=(0,e.useMemo)((()=>({showModal:(e,t)=>{r.current.push({component:e,payload:t}),i()},updateModal:(e,t,n)=>{if(r.current.length<=0)return;const a=r.current.findIndex((({component:n,payload:a})=>n===e&&a===t));-1!==a&&(r.current[a]={component:e,payload:n},i())},hideModal:(e,t)=>{if(!(r.current.length<=0)){if(null!=e){const n=r.current.findIndex((({component:n,payload:a})=>n===e&&a===t));if(-1===n)return;r.current.splice(n,1)}else r.current.splice(r.current.length-1,1);i()}}})),[i]),s=null!=a?a:e.Fragment;return e.createElement(Oi.Provider,{value:c},n,e.createElement(s,null,e.createElement(Ri,{modalAndPayload:l})))}function Ri({modalAndPayload:n}){const a=(0,t.useFacetUnwrap)(n);if(a===t.NO_VALUE)return null;const{component:r,payload:l}=a;return null==r?null:e.createElement(r,null!=l?l:{})}const Li=()=>(0,e.useContext)(Oi).hideModal,_i=n=>({useShowModal:()=>{const t=(0,e.useContext)(Oi);return(0,e.useCallback)(((...e)=>{t.showModal(n,e[0])}),[t])},useModal:(n=!1)=>{const[a,r]=(0,t.useFacetState)(n);return(0,e.useMemo)((()=>({isVisible:a,show:()=>r(!0),hide:()=>r(!1)})),[a,r])},Component:(...t)=>{const a=(0,e.useContext)(Oi),r=(0,e.useRef)(t[0]);let l=!1;if("object"==typeof r.current)if("object"!=typeof t[0])l=!0;else for(const e in r.current)if(t[0][e]!=r.current[e]){l=!0;break}return(0,e.useEffect)((()=>{l&&a.updateModal(n,r.current,t[0])}),[a,l,t]),(0,e.useEffect)((()=>{const e=r.current;return a.showModal(n,e),()=>{a.hideModal(n,e)}}),[a]),null}});function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Di.apply(this,arguments)}function Bi(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const Wi=({interactive:t=!0,role:n="inherit",className:a,withoutBorders:r,inset:l,hasTexture:o=!1})=>{const{outline:i}=gr(n),c=o?void 0:t?i.interactive:i.base;return e.createElement("div",{className:Or()("rJwNH",c,a,{VtrKN:r,VOb2S:l,eZvsl:o})})},Ui=n=>{let{disabled:a}=n,r=Bi(n,["disabled"]);const l=(0,t.useFacetUnwrap)(a);return l!==t.NO_VALUE&&l?null:e.createElement(Wi,r)},zi=t=>{let{className:n}=t,a=Bi(t,["className"]);const r=Or()(n,"oD_sn");return null!=a.disabled?e.createElement(Ui,Di({className:r},a)):e.createElement(Wi,Di({className:r},a))},ji="c0Ycb";var Hi=n(91296),Vi=n.n(Hi);function Gi(n,a,r,l){const o=(0,e.useContext)(ke),i=(0,e.useMemo)((()=>o.current.generateId()),[o]);null!=l&&(l.current=i);const c=(0,t.useFacetWrap)(n),s=ve(),u=(0,e.useContext)(L),[d,m]=(0,t.useFacetState)(!1),p=(0,e.useCallback)(((e=_.Unknown)=>{s(i,!1,e)}),[s,i]);(0,t.useFacetEffect)((e=>{const t=t=>{e.onFocusChanged&&e.onFocusChanged(t),m(t)},n={type:H.ITEM,id:i,alias:e.alias,ref:r.current,disabled:e.disabled||!1,hidden:e.hidden||!1,scrollSpeedFactor:e.scrollIntoViewSpeedFactor,scrollAlign:e.scrollIntoViewAlign,scrollOffset:e.scrollIntoViewOffset,onFocus:()=>{t(!0)},onBlur:()=>{t(!1)},onRight:e.onRight,onLeft:e.onLeft,onUp:e.onUp,onDown:e.onDown};o.current.putNode(n,u[u.length-1]),o.current.putShortcut(i,W.A,{callback:a,inputLegend:e.inputLegend}),m(o.current.isFocused(i,e.alias))}),[m,o,u,i,a,r],[c]),(0,e.useEffect)((()=>{const e=o.current;return()=>e.removeNode(i)}),[o,i]);const f=(0,e.useMemo)((()=>Vi()((()=>{null!=o.current.getClosestGrid(i)&&null!=o.current.getElement(i)&&o.current.updateGridNodeDimensions(i)}),500,{trailing:!0,leading:!1})),[o,i]);return Qo(r,f),(0,e.useLayoutEffect)((()=>{const e=r.current;if(null==e)return;const t=()=>{s(i)};return e.addEventListener("focusin",t),()=>{e.removeEventListener("focusin",t)}}),[r,i,o,s]),{isFocused:d,onFocus:p}}const $i=(0,e.createContext)(null),Ki=()=>(0,e.useContext)($i),Xi=($i.Provider,(0,e.createContext)("root")),Yi=Xi.Provider,qi=()=>{const t=(0,e.useRef)(),n=(0,e.useContext)(Xi),{readById:a,narrationTree:r}=(0,e.useContext)(yl);return{narrateCurrentContext:(0,e.useCallback)(((e,l=!0,o,i)=>{Object.keys(r).length>0&&(t.current=setTimeout((()=>{a(n,e||void 0,l,o,i)}),200))}),[a,r,n]),preventNarrateCurrentContext:(0,e.useCallback)((()=>{t.current&&clearTimeout(t.current)}),[])}},Qi=()=>{const t=(0,e.useRef)(),{readById:n}=(0,e.useContext)(yl);return{narrateById:(0,e.useCallback)(((e,a=!0,r,l,o)=>{t.current=setTimeout((()=>{n(e,r,a,l,o)}),200)}),[n]),preventNarrateById:(0,e.useCallback)((()=>{t.current&&clearTimeout(t.current)}),[])}},Ji=(0,e.createContext)(!0),Zi=Ji.Provider,ec=(n,a)=>{const r=(0,e.useContext)(Xi),l=(0,e.useContext)(yl),o=(0,e.useMemo)((()=>l.generateId()),[l]),i=(0,e.useContext)(Ji),c=(0,e.useMemo)((()=>({parentNarrationId:r})),[r]),{narrateById:s,preventNarrateById:u}=Qi(),d=(0,e.useMemo)((()=>{const e=e=>{const t=c.text;c.text=e,i&&null!=t&&t!==e&&l.previousAncestryRef.current.includes(o)&&s(o)};if((0,t.isFacet)(n))return n.observe(e);"string"==typeof n?e(n):c.getText=n}),[n,c,s,o,l,i]);return c.getSuffix=a,l.narrationTree[o]=c,(0,e.useEffect)((()=>(l.narrationTree[o]=c,()=>{delete l.narrationTree[o],null==d||d(),u()})),[d,u,c,l,o]),o},tc="pyOfV";function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},nc.apply(this,arguments)}const ac=(0,e.createContext)((function(){})),rc=150,lc=150,oc=$.map((e=>`${e}`));function ic(n){const{onHoverChanged:a,onFocusChanged:r,onPressChanged:l,onClick:o,onGamepadOrKeyboardSelect:i,onKeyDown:c,onMouseDown:s,onUp:u,onDown:d,onLeft:m,onRight:p,touchDetectionDelay:f=lc,focusRefOverride:g,nodeIdRef:E}=n,h=(0,t.useFacetWrap)(n.autofocus),b=(0,t.useFacetWrap)(n.className),v=(0,t.useFacetWrap)(n["data-testid"]),F=(0,t.useFacetWrap)(n.classNameFocused),y=(0,t.useFacetWrap)(n.classNameHovered),S=(0,t.useFacetWrap)(n.classNamePressed),C=(0,t.useFacetWrap)(n.classNameDisabled),M=(0,t.useFacetWrap)(n.delayedClick),w=(0,t.useFacetWrap)(n.disabled),k=(0,t.useFacetWrap)(n.nonFocusable),T=(0,t.useFacetWrap)(n.hidden),x=(0,t.useFacetWrap)(n.disableScrollIntoView),I=(0,t.useFacetWrap)(n.gamepadAlias),P=(0,t.useFacetWrap)(n.gamepadIndex),O=(0,t.useFacetWrap)(n.focusGridIndex),A=(0,t.useFacetWrap)(n.inputLegend),N=(0,t.useFacetWrap)("narrationText"in n?n.narrationText:""),R=(0,t.useFacetWrap)(n.pressDuration),L=(0,t.useFacetWrap)(n.soundEffectFocused),D=(0,t.useFacetWrap)(n.soundEffectHovered),B=(0,t.useFacetWrap)(n.soundEffectPressed),W=ye(),U=(0,e.useContext)(Ke).isLastInputMouse,z=(0,e.useContext)(Ke).isLastInputTouch,j=(0,e.useContext)(Ke).isLastInputGamepad,H=(0,e.useContext)(Ke).isLastInputKeyboard,V=(0,t.useFacetRef)(H),G=(0,e.useRef)(null),$=n.innerRef||G,K=(0,e.useRef)({x:0,y:0}),X=Ki(),Y=ta(),q=(()=>{const t=(0,e.useRef)([]),n=(0,e.useCallback)((()=>{t.current.forEach(clearTimeout),t.current=[]}),[t]),a=(0,e.useCallback)((e=>{n();let a=0;e.forEach((e=>{"number"==typeof e?a+=e:t.current.push(setTimeout((()=>e()),a))}))}),[n]);return(0,e.useEffect)((()=>{const e=t.current;return()=>{e.forEach((e=>clearTimeout(e)))}}),[]),a})(),Q=Jn(),J=Le(),Z=(0,t.useFacetRef)(J),ee=(0,e.useContext)(Ti),te=(0,t.useFacetRef)(ee),ne=(0,e.useContext)(Qe),ae=(0,t.useFacetRef)(ne),{narrateCurrentContext:re,preventNarrateCurrentContext:le}=qi(),{narrateById:oe,preventNarrateById:ie}=Qi(),[ce]=he(),se=(0,t.useFacetRef)(ce),ue="getNarrationText"in n?n.getNarrationText:void 0,de=(0,e.useCallback)((()=>{const e=Z.current,n=te.current,a=ae.current,r=se.current;if(e===t.NO_VALUE||n===t.NO_VALUE||a===t.NO_VALUE||r===t.NO_VALUE)return"";let l="";return cc(e,((e,t)=>{var o;if(-1!==oc.indexOf(e))return;if(null==t)return;const i=r[e],c=!0===V.current?n.keyboard[i[0]]:null===(o=n.gamepad[e])||void 0===o?void 0:o[a];null!=c&&(l+=`${c}: ${t} . `)})),l}),[Z,te,ae,se,V]),me=(0,t.useFacetMap)((e=>"string"==typeof e?e:""),[],[N]),pe=ec(null!=ue?ue:me,de),fe=(0,t.useFacetMap)((e=>!1===e),[],[N]),ge=(0,t.useFacetCallback)((e=>()=>{e?re():oe(pe)}),[re,oe,pe],[fe]),[Ee,be]=(0,t.useFacetState)(!1),[ve,Fe]=(0,t.useFacetState)(!1);(0,t.useFacetEffect)((e=>{e||be(!1)}),[be],[U]);const Se=(0,t.useFacetCallback)((e=>()=>{be(!1),Fe(!1),e||(null==a||a(!1),le(),ie())}),[ie,le,be,Fe,a],[w]),Ce=(0,t.useFacetCallback)(((e,t)=>(n,a)=>{t||n&&null!=n.button&&n.button>0||(!a&&s&&s(n),Fe(!0),null!=e&&Q(e),null==l||l(!0))}),[Q,Fe,l,s],[B,w]),Me=(0,t.useFacetCallback)((e=>(t,n)=>{e&&Ce(t,n)}),[Ce],[U]),we=(0,t.useFacetCallback)((e=>t=>{Fe(!1),e||t&&t.button>0||null==l||l(!1)}),[Fe,l],[w]),ke=(0,t.useFacetCallback)((e=>t=>{e&&we(t)}),[we],[U,w]),Te=(0,t.useFacetCallback)((e=>t=>{if(t.stopPropagation(),!(e||null==o||t.button>0))return o()}),[o],[w]),xe=(0,t.useFacetCallback)(((e,t)=>n=>{e&&!t&&(K.current.x=n.touches[0].clientX,K.current.y=n.touches[0].clientY,q([f,()=>Ce({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY})]),null==l||l(!0))}),[f,q,Ce,l],[z,w]),Ie=(0,t.useFacetCallback)(((e,t)=>n=>{e&&!t&&(Math.abs(K.current.x-n.touches[0].clientX)>3||Math.abs(K.current.y-n.touches[0].clientY)>3)&&q([we])}),[q,we],[z,w]),Pe=(0,t.useFacetCallback)(((e,t)=>()=>{e&&!t&&(q([we]),null==l||l(!1))}),[q,we,l],[z,w]),Oe=(0,t.useFacetCallback)(((e,t,n)=>a=>{n||null==o||(a.stopPropagation(),q(t?[Ce,10,null!=e?e:rc,we,o]:[Ce,10,o,null!=e?e:rc,we]))}),[Ce,we,q,o],[R,M,w]),Ae=(0,t.useFacetCallback)(((e,t,n)=>()=>{if(n||null==o)return;const a=i||o,r=()=>Ce(void 0,!0);q(t?[r,10,null!=e?e:rc,we,a]:[r,10,a,null!=e?e:rc,we])}),[Ce,we,q,i,o],[R,M,w]),Ne=(0,e.useRef)(),Re=null!=E?E:Ne,{isFocused:_e,onFocus:De}=Gi((0,t.useFacetMap)(((e,t,n,a,l,o,i,c,s)=>{var f;return{index:null!=e?e:0,focusGridIndex:null!==(f=null!=t?t:e)&&void 0!==f?f:0,alias:n,inputLegend:!1===a||""===a?void 0:a,disabled:l,hidden:o||i,autofocus:c,disableScrollIntoView:s,onFocusChanged:r,onUp:u,onDown:d,onLeft:m,onRight:p}}),[r,u,d,m,p],[P,O,I,A,w,T,k,h,x]),Ae,null!=(null==g?void 0:g.current)?g:$,Re);!function(n){const a=(0,e.useContext)(ac);(0,t.useFacetEffect)((e=>{if(e)return a()}),[a],[n])}((0,t.useFacetMap)(((e,t)=>!0!==e&&!0!==t),[],[w,T]));const Be=(0,t.useFacetCallback)(((e,t,n,r,l,o,i,c,s)=>()=>{(e||t&&Y)&&(o||s||i&&c||(c||(be(!0),null==l||i||Q(l),(e||t)&&ge(),null==a||a(!0)),i||n||r||De(_.PointerInput)))}),[Q,be,a,De,ge,Y],[U,z,H,j,D,w,_e,Ee,T]),We=(0,t.useFacetCallback)(((e,t)=>n=>!0===e?Te(n):!0===t?Oe(n):void 0),[Te,Oe],[U,z]),Ue=(0,t.useFacetMap)(((e,t)=>{if(!0===e)return t}),[],[_e,L]);(0,t.useFacetEffect)((e=>{null!=e&&Q(e)}),[Q],[Ue]),(0,t.useFacetEffect)(((e,t,n,a)=>{(t||n||a===_.FocusTreeMutation)&&(!0===e?ge():(le(),ie()))}),[ge,re,ie,le,r],[_e,j,H,W]);const ze=(0,t.useFacetMap)(((e,t,n,a,r,l,i,c,s,u,d)=>{const m=X?X.hovered:i,p=null!=o&&(X?"pressed"===X.pressState:c),f=s&&(u||d);return`C6mWt${null==e||""===e?"":` ${e}`}${m?` ${Ha.hovered}${null!=t?` ${t}`:""}`:""}${p?` ${Ha.pressed}${null!=n?` ${n}`:""}`:""}${(f||null!=X&&X.focused)&&null!=a?` ${Ha.focused}${null!=a?` ${a}`:""}`:""}${!0===l?" pyOfV"+(Ha.disabled!==tc?" "+Ha.disabled:""):""}${!0===l&&null!=r&&r!=tc?` ${r}`:""}`}),[X,o],[b,y,S,F,C,w,Ee,ve,_e,H,j]);return"span"===n.tag?e.createElement("fast-span",{ref:$,className:ze,style:n.style,"data-testid":v,onClick:We,onTouchStart:xe,onTouchMove:Ie,onTouchEnd:Pe,onMouseDown:Me,onMouseUp:ke,onMouseMove:Be,onMouseLeave:Se,onKeyDown:c},n.children):e.createElement("fast-div",{ref:$,className:ze,style:n.style,"data-testid":v,onClick:We,onTouchStart:xe,onTouchMove:Ie,onTouchEnd:Pe,onMouseDown:Me,onMouseUp:ke,onMouseMove:Be,onMouseLeave:Se,onKeyDown:c},n.children)}ic.displayName="InteractivePrimitive",ic.Maybe=n=>{let{isInteractive:a,children:r,onClick:l,inputLegend:o,innerRef:i,className:c,classNameDisabled:s,disabled:u,style:d}=n,m=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["isInteractive","children","onClick","inputLegend","innerRef","className","classNameDisabled","disabled","style"]);const p=(0,t.useFacetWrap)(u),f=(0,t.useFacetWrap)(c),g=(0,t.useFacetWrap)(s),E=(0,t.isFacet)(r)?e.createElement("fast-text",{text:r}):e.createElement(e.Fragment,null,r),h=(0,t.useFacetMap)(((e,t,n)=>Or()(e,!0===t&&Ha.disabled!==tc?Ha.disabled:null,!0===t&&n!==tc?n:null,!0===t?tc:null)),[],[f,p,g]);return!0===(0,t.useFacetUnwrap)(a)?e.createElement(ic,nc({onClick:l,inputLegend:null!=o&&o,innerRef:i,className:f,classNameDisabled:g,disabled:p},m),E):e.createElement("fast-div",{ref:i,className:h,style:d},E)};const cc=(e,t)=>{for(const n in e)t(n,e[n])},sc=({narrationText:n,inputLegend:a,disabled:r,onClick:l,children:o,focusGridIndex:i,gamepadAlias:c,role:s="inherit",soundEffectPressed:u,className:d,selected:m,testId:p})=>{const f=(0,t.useFacetWrap)(r),g=gr(s),E=hr(s),h=Fr();return e.createElement(ic,{narrationText:n,className:(0,t.useFacetMap)((e=>Or()("xWRFN",g.background.interactive,g.text.interactive,d,{[h.selected]:e})),[d,g,h],[(0,t.useFacetWrap)(null!=m&&m)]),classNameFocused:ji,classNameDisabled:"mlXLS",focusGridIndex:i,gamepadAlias:c,inputLegend:a,onClick:l,disabled:f,soundEffectPressed:null!=u?u:E.press,"data-testid":p},o,e.createElement(zi,{inset:!0,role:s}))},uc="N3xq4";function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},dc.apply(this,arguments)}function mc(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const pc=({thin:n,top:a=!0,bottom:r=!0,left:l=!0,right:o=!0,className:i,hide:c,semanticStyles:s})=>{const u=Or()("lnUPb",s,i,{BsIjW:n});return e.createElement(e.Fragment,null,e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>Or()(u,{IljPu:a,EMwFA:l,[uc]:e})),[u,a,l],[c])}),e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>Or()(u,{NobZ4:r,eaerY:o,[uc]:e})),[u,r,o],[c])}))},fc=t=>{let{children:n}=t,a=mc(t,["children"]);return e.createElement(e.Fragment,null,e.createElement(pc,a),n)},gc=n=>{let{disabled:a,children:r}=n,l=mc(n,["disabled","children"]);const o=(0,t.useFacetMap)((e=>!1===(null!=e&&e)),[],[(0,t.useFacetWrap)(null!=a&&a)]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:o},e.createElement(pc,l)),r)},Ec=(0,t.createStaticFacet)(!1),hc=t=>{let{effect:n="specular",reversed:a,role:r="inherit",interactive:l=!0,hide:o=Ec}=t,i=mc(t,["effect","reversed","role","interactive","hide"]);const{[n]:c}=gr(r),s=vr(),u=Or()(l?c.interactive:c.base,{[s.reversed]:a});return null!=i.disabled?e.createElement(gc,dc({semanticStyles:u,hide:o},i)):e.createElement(fc,dc({semanticStyles:u,hide:o},i))},bc=(0,e.createContext)(!1),vc=(bc.Provider,bc.Consumer,(0,t.createFacetContext)(void 0)),Fc=(vc.Provider,vc.Consumer,(0,e.createContext)({delegationEvent:(0,t.createStaticFacet)(void 0)})),yc=()=>{const[e,n]=(0,t.useFacetState)({date:0,event:void 0}),a=()=>n({date:Date.now(),event:void 0});return a.first=()=>n({date:Date.now(),event:D.FIRST_CHILD}),a.memory=()=>n({date:Date.now(),event:D.MEMORY}),a.alias=e=>n({date:Date.now(),event:D.ALIAS,alias:e}),{delegationEventFacet:e,delegateFocus:a}},Sc=Fc.Provider,Cc=({delegationEvent:t,children:n})=>e.createElement(Sc,{value:{delegationEvent:t}},n);function Mc(e,t){if("string"==typeof t)return t;const n=e.getElement(t);return null==n?t:"alias"in n&&null!==(a=n.alias)&&void 0!==a?a:n.id;var a}function wc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wc(Object(n),!0).forEach((function(t){Tc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tc(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xc="NO_LANDMARK_KEY",Ic=(0,t.createStaticFacet)(void 0),Pc=({children:n,disabled:a,hidden:r,focusControlDisabled:l,alias:o,scrollAxis:i,scrollOptions:c,shouldBindFocus:s,containerRef:u,delegateFocusFromMemory:d,delegateFocusByAlias:m,landmarkKey:p,isGrid:f,gridCellWidth:g,gridCellHeight:E,gridColumns:h,gridOffsetVertical:b,gridOffsetHorizontal:v,gridRows:F,gridCellSizeAuto:y})=>{const S=(0,e.useContext)(ke),C=(0,e.useMemo)((()=>S.current.generateId()),[S]),M=(0,t.useFacetWrap)(a),w=(0,t.useFacetWrap)(r),k=(0,t.useFacetMap)((e=>!0===e),[],[(0,t.useFacetWrap)(l)]),T=(0,t.useFacetWrap)(d),x=(0,t.useFacetWrap)(m),I=(0,t.useFacetWrap)(i),P=(0,t.useFacetWrap)(o),O=(0,t.useFacetWrap)(c),A=(0,t.useFacetWrap)(s),N=(0,t.useFacetWrap)(p),R=(0,t.useFacetWrap)(f),W=(0,t.useFacetWrap)(g),V=(0,t.useFacetWrap)(E),G=(0,t.useFacetWrap)(h),$=(0,t.useFacetWrap)(F),K=(0,t.useFacetWrap)(y),X=(0,t.useFacetWrap)(b),Y=(0,t.useFacetWrap)(v),q=(0,e.useContext)(bc),J=(0,e.useContext)(L),Z=(0,e.useContext)(vc),{delegationEventFacet:ee}=(()=>{const{delegationEvent:t}=(0,e.useContext)(Fc);return{delegationEventFacet:t}})(),te=J[J.length-1],ne=(0,t.useFacetMap)(((e,t)=>{if(!t)return e}),[],[ee,k]),ae=(0,t.useFacetMap)((e=>null!=e),[],[ne]),le=ve(),oe=(0,e.useCallback)((e=>t=>{var n;const a=null!==(n=t.getAttribute(z))&&void 0!==n?n:t.getAttribute(U);if(null==a)return!1;const r=parseInt(a,10);return e===r||S.current.isAncestorOf(e,r)}),[S]),ie=(0,t.useFacetCallback)((()=>({delegateFocusByAlias:e,delegateFocusFromMemory:n,cachedDescendantElements:a,delegationOrigin:r})=>{var l,o;!0===k.get()&&console.warn("Asked a FocusControlDisabled Landmark to delegate, abort mission. (find out why)");const i=S.current.getEnabledBindingLandmarkDescendant(C);if(null!=i){const e=null==a?void 0:a.filter(oe(i.id)),n=i.getDelegatedFocus({cachedDescendantElements:e,delegationOrigin:r});if(null!=n&&n!==t.NO_VALUE)return n}const c=S.current.getElement(C),s=S.current.getDynasty(C),d=re(c)?c:void 0;if(null!=d&&n){var m,p;const e=null!==(m=null==d?void 0:d.landmarkKey)&&void 0!==m?m:xc,n=null==d||null===(p=d.delegationMemoryStack)||void 0===p?void 0:p.get(e);if(null!=n){let e;for(let t=0;t<n.length;t++){const a=n[t],r=S.current.getElement(a);if(null!=r&&S.current.isFocusable(r.id)&&null!=s&&s.has(r.id)){e=r;break}}if(null!=e){const n=re(e)?e:void 0;if(null==n)return{id:Mc(S.current,e.id),reason:Q.MemoryDelegation};{const e=null==a?void 0:a.filter(oe(n.id)),l=n.getDelegatedFocus({cachedDescendantElements:e,delegationOrigin:r});if(null!=l&&l!=t.NO_VALUE)return l}}}}if(re(pe.current)&&("string"==typeof e||!0===e&&null!=pe.current.delegateFocusByAlias)){var f;const n="string"==typeof e?e:null!==(f=pe.current.delegateFocusByAlias)&&void 0!==f?f:"",l=S.current.getElement(n);if(null!=l&&null!=s&&s.has(l.id)&&S.current.isFocusable(l.id)){if(!re(l))return{id:Mc(S.current,l.id),reason:Q.AliasDelegation};{const e=null==a?void 0:a.filter(oe(l.id)),n=l.getDelegatedFocus({cachedDescendantElements:e,delegationOrigin:r});if(null!=n&&n!==t.NO_VALUE)return n}}}const g=null==pe.current||!0===pe.current.hidden||!0===pe.current.disabled?void 0:C,E=null!=g?{id:Mc(S.current,g),reason:Q.DefaultDelegation}:void 0,h=null!=a?a:Array.from(null!==(l=null===(o=u.current)||void 0===o?void 0:o.querySelectorAll("[data-focusable-id], [data-landmark-id]"))&&void 0!==l?l:[]);if(0===h.length)return E;for(let e=0;e<h.length;e++){const n=h[e].getAttribute(U),a=h[e].getAttribute(z);if(null!=n){const e=parseInt(n,10);if(null==s||!s.has(e))continue;const a=S.current.getElement(e);if(!re(a))continue;if(!S.current.isFocusable(e))continue;if(r!==B.Mutation&&!S.current.containerHasEnabledItems(e))continue;const l=oe(e),o=h.filter(l),i=a.getDelegatedFocus({cachedDescendantElements:o,delegationOrigin:r});if(i!=t.NO_VALUE&&null!=i)return i}else if(null!=a){const e=parseInt(a,10);if(null!=s&&s.has(e)&&S.current.isFocusable(e))return{id:Mc(S.current,e),reason:Q.FirstFoundDelegation}}}return E}),[u,oe,k,S,C],[]),ce=(0,t.useFacetCallback)((e=>({cachedDescendantElements:t,delegationOrigin:n})=>{var a;return ie({delegateFocusFromMemory:e,delegateFocusByAlias:re(pe.current)&&(null===(a=pe.current)||void 0===a?void 0:a.delegateFocusByAlias),cachedDescendantElements:t,delegationOrigin:n})}),[ie],[T]),se=(0,e.useCallback)((e=>{var n;if(!re(pe.current)||null==e||0===e.date)return;let a;switch(e.event){case D.FIRST_CHILD:a=ie({delegationOrigin:B.UserInput});break;case D.MEMORY:a=ie({delegateFocusFromMemory:!0,delegationOrigin:B.UserInput});break;case D.ALIAS:const t=null!==(n=e.alias)&&void 0!==n?n:pe.current.delegateFocusByAlias;a=ie({delegateFocusByAlias:t,delegationOrigin:B.UserInput});break;default:a=ce({delegationOrigin:B.UserInput})}null!=a&&a!==t.NO_VALUE&&null!=a.id&&le(Mc(S.current,a.id),!1,_.LandmarkController)}),[ie,ce,le,S]);(0,t.useFacetEffect)((e=>{se(e)}),[se],[ne]);const ue=(0,e.useCallback)(((e,t)=>{if(t===_.FocusTreeMutation)return;const n=S.current.getElement(C),a=re(n)?n:void 0;if(null!=(null==a?void 0:a.delegationMemoryStack)){var r;const t=null!==(r=null==a?void 0:a.landmarkKey)&&void 0!==r?r:xc,n=a.delegationMemoryStack.get(t)||[];if(null!=n){const r=n.indexOf(e);-1!==r&&n.splice(r,1),n.unshift(e),a.delegationMemoryStack.set(t,n)}}}),[S,C]),de=(0,t.useFacetCallback)((e=>t=>{t.origin===_.LandmarkController&&se(e)}),[se],[ne]),me=(0,e.useRef)(),pe=(0,e.useRef)(void 0),fe=(0,e.useRef)(!1);(0,e.useMemo)((()=>{var e;if(Br([M,w,k,I,P,O,A,x,T,N,R,W,V,G,$,X,Y,K])===t.NO_VALUE&&!S.current.getElement(C)){const e={scrollAxis:void 0,type:H.LANDMARK,id:C,ref:u.current,alias:void 0,scrollIntoViewAlign:void 0,scrollIntoViewOffset:void 0,scrollIntoViewSpeedFactor:void 0,shouldScrollWithAnalog:void 0,disabled:!0,hidden:!0,focusControlDisabled:!0,isGrid:!1,onFocusableOfDynastyFocused:ue,getDelegatedFocus:ce,onDynastyUpdated:de,delegateFocusByAlias:void 0,landmarkKey:void 0,delegationMemoryStack:void 0};pe.current=e,S.current.putNode(e,te)}null===(e=me.current)||void 0===e||e.call(me),me.current=(0,t.multiObserve)(((e,t,n,a,r,l,o,i,c,s,d,m,p,f,g,E,h,b)=>{const v=S.current.getElement(C),F=kc(kc({scrollAxis:a,type:H.LANDMARK,id:C,ref:u.current,alias:r,scrollIntoViewAlign:null==l?void 0:l.scrollIntoViewAlign,scrollIntoViewOffset:null==l?void 0:l.scrollIntoViewOffset,scrollIntoViewSpeedFactor:null==l?void 0:l.scrollIntoViewSpeedFactor,shouldScrollWithAnalog:null==l?void 0:l.shouldScrollWithAnalog,disabled:!0===e,hidden:!0===t,focusControlDisabled:!0===n,isGrid:!0===d,gridCellWidth:m,gridCellHeight:p,gridColumns:f,gridRows:g,gridOffsetVertical:E,gridOffsetHorizontal:h,gridCellSizeAuto:b,onFocusableOfDynastyFocused:ue,getDelegatedFocus:ce,onDynastyUpdated:de},!q&&o?{shouldBindFocus:!0}:{}),{},{delegateFocusByAlias:i,landmarkKey:s,delegationMemoryStack:!0===c?re(v)&&null!=v.delegationMemoryStack?v.delegationMemoryStack:new Map:void 0});pe.current=F,fe.current=null==u.current,S.current.putNode(F,te)}),[M,w,k,I,P,O,A,x,T,N,R,W,V,G,$,X,Y,K])}),[C,S,te,ue,u,ce,q,M,w,k,I,P,O,A,x,T,N,de,R,W,V,G,$,X,Y,K]);const ge=(0,e.useMemo)((()=>Vi()((()=>{null!=S.current.getClosestGrid(C)&&null!=S.current.getElement(C)&&S.current.updateGridNodeDimensions(C)}),500,{trailing:!0,leading:!1})),[S,C]);Qo(u,ge),(0,e.useEffect)((()=>()=>{var e;null===(e=me.current)||void 0===e||e.call(me)}),[]),(0,e.useEffect)((()=>{if(!fe.current)return;if(null==u.current||null==pe.current)return;const e=kc(kc({},pe.current),{},{ref:u.current});S.current.putNode(e,te)}),[]),(0,t.useFacetEffect)((e=>{if(null==pe.current||pe.current.hidden||pe.current.disabled||null==e)return;const n=ce({delegationOrigin:B.Mutation});null!=n&&n!==t.NO_VALUE&&null!=n.id&&le(n.id,!1)}),[ce,le],[Z]),(0,e.useEffect)((()=>{const e=S.current;return()=>e.removeNode(C)}),[S,C]);const Ee=[...J,C],he=(0,e.useMemo)((()=>({children:t})=>e.createElement(L.Provider,{value:Ee},t)),Ee);return(0,e.useEffect)((()=>{null!=window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__&&null!=u.current&&u.current.setAttribute(j,`${C}`)}),[C,u]),e.createElement(Oc,{shouldResetDelegationEvent:ae},e.createElement(he,null,n))},Oc=({shouldResetDelegationEvent:t,children:n})=>e.createElement(Fl,{data:t},(t=>null==t?e.createElement(e.Fragment,null,n):e.createElement(Cc,{delegationEvent:Ic},n))),Ac=({children:t,containerRef:n,condition:a})=>a?e.createElement(Pc,{containerRef:n},t):e.createElement(e.Fragment,null,t);function Nc(e){return e.height/e.width*100+"%"}function Rc({className:n,src:a,imageRendering:r,height:l,width:o,aspectRatio:i,cover:c,isGrayscale:s=!1}){const u=(0,t.useFacetWrap)(r),d=(0,t.useFacetWrap)(a),m=null!=i,p=(0,t.useFacetMap)(((e,t)=>Or()("hdGaD",e,{rW6em:m,AjtsC:t})),[m],[(0,t.useFacetWrap)(n),(0,t.useFacetWrap)(s)]),f=i?Nc(i):void 0;return!0===c||m?e.createElement(Lc,{paddingTop:f,src:d,className:p,imageRendering:u,height:l,width:o}):e.createElement("fast-img",{src:d,className:p,style:{height:l,width:o,imageRendering:u,paddingTop:f}})}function Lc({className:n,src:a,imageRendering:r,width:l,height:o,paddingTop:i}){const c=(0,t.useFacetMap)((e=>`url(${e})`),[],[a]);return e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>Or()("S4ZCQ",e)),[],[(0,t.useFacetWrap)(n)]),style:{width:l,height:o,paddingTop:i,backgroundImage:c,imageRendering:r}})}Rc.AspectRatio={"16:9":{width:16,height:9},"10:3":{width:10,height:3},"1:1":{width:1,height:1}},Rc.aspectRatioToPercentage=Nc;const _c=n.p+"assets/arrowBackWhite-2eb91.png",Dc=(e,n)=>{const a=(0,t.useFacetWrap)(e),r=(0,t.useFacetWrap)(n),l=(0,t.useFacetMap)(((e,n)=>null==e&&null==n?t.NO_VALUE:[e,n].filter(Boolean).join(" ")),[],[a,r]);return l};function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bc.apply(this,arguments)}const Wc=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("LqcGo",n);return e.createElement(Rc,Bc({},a,{className:r,src:_c,imageRendering:"pixelated"}))},Uc=n.p+"assets/crossWhite-0f6ce.png";function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zc.apply(this,arguments)}const jc=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("ZbA1S",n);return e.createElement(Rc,zc({},a,{className:r,src:Uc,imageRendering:"pixelated"}))},Hc="pVXF4",Vc={Back:{useLocalization:()=>Ii("TitleBar.Buttons.Back"),Component:({onClick:t,gamepadAlias:n})=>{const{t:a}=Vc.Back.useLocalization();return e.createElement(sc,{role:"neutral",inputLegend:a(".inputLegend"),narrationText:a(".narration"),onClick:t,gamepadAlias:n,className:Hc},e.createElement(Wc,null))}},Close:{useLocalization:()=>Ii("TitleBar.Buttons.Close"),Component:({onClick:n,gamepadAlias:a,narrationSuffix:r,narrationPrefix:l,testId:o})=>{const{t:i}=Vc.Close.useLocalization(),c=(0,t.useFacetMap)(((e,t)=>[e,i(".narration"),t].filter((e=>e)).join(" . ")),[i],[(0,t.useFacetWrap)(null!=l?l:""),(0,t.useFacetWrap)(null!=r?r:"")]);return e.createElement(sc,{testId:o,role:"neutral",inputLegend:i(".inputLegend"),narrationText:c,onClick:n,gamepadAlias:a,className:Hc},e.createElement(jc,null))}}},Gc=({children:t,gamepadAlias:n,role:a="inherit",left:r,right:l})=>{const o=gr(a),i=(0,e.useRef)(null);return e.createElement(Pc,{containerRef:i,alias:n},e.createElement("div",{ref:i,className:Or()("GCH8w",o.background.base,o.text.base)},e.createElement(hc,{effect:"specular"}),e.createElement("div",{className:"wn8hX"},r),t,e.createElement("div",{className:"iTcsZ"},l)),e.createElement("div",{className:Or()("d4HVC",o.shadow.base)}))};Gc.Buttons=Vc;const $c=(0,e.createContext)((0,t.createFacet)({initialValue:!1})),Kc=()=>(0,e.useContext)($c),Xc={size1:"oX26Y",size2:"Mi2a1",size3:"saEP3",size4:"C0tfI",size5:"tzTww",size6:"D1MsS",size7:"V5RDf",size8:"UZcFe"};function Yc({size:t}){return e.createElement("div",{className:Xc[`size${t}`]})}Yc.displayName="Spacing",Yc.Facet=function({size:n}){return e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>Xc[`size${e}`]),[],[n])})};const qc="unmounted",Qc="exited",Jc="entering",Zc="entered",es="exiting",ts=(0,t.createStaticFacet)(!1);function ns({visible:n=ts,alwaysMounted:a,inverse:r=ts,appear:l,unmountOnExit:o=ts,onStatusChange:i,timeout:c,children:s}){const u=(0,e.useRef)(null),d=(0,t.useFacetWrap)(n),m=(0,t.useFacetWrap)(r),p=(0,t.useFacetWrap)(!a&&o),[f,g]=(0,t.useFacetState)(t.NO_VALUE),E=(0,t.useFacetCallback)(((e,n)=>r=>{as(u),g((o=>{if(r){if(o===t.NO_VALUE)return[l?Qc:Zc,e];if(o[0]===qc)return[Qc,e]}else{if(o===t.NO_VALUE)return[a?Qc:qc,e];if(o[0]===Qc&&n)return[qc,e]}return o}));const o=setTimeout((()=>{g((a=>{if(a===t.NO_VALUE)return t.NO_VALUE;const[l]=a;return r?l===Zc?[Zc,e]:[Jc,e]:l===Qc?[n?qc:Qc,e]:l===qc?[qc,e]:[es,e]}))}),0);return()=>clearTimeout(o)}),[g,l,a],[m,p]);(0,t.useFacetEffect)((e=>{E(e)}),[E],[d]);const h=(0,t.useFacetMap)((e=>e[0]),[],[f]),b=(0,t.useFacetCallback)((e=>n=>{i&&i(n);const a=n===Jc,r=n===es,l=n===Qc;as(u),a&&(u.current=setTimeout((()=>g((e=>e===t.NO_VALUE?t.NO_VALUE:[Zc,e[1]]))),c+100)),r&&(u.current=setTimeout((()=>g((n=>n===t.NO_VALUE?t.NO_VALUE:[e?qc:Qc,n[1]]))),c+100)),l&&e&&g((e=>e===t.NO_VALUE?t.NO_VALUE:[qc,e[1]]))}),[c,g,i],[p]);return(0,t.useFacetEffect)((e=>{b(e)}),[b],[h]),(0,e.useEffect)((()=>()=>as(u)),[]),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e!==qc),[],[h])},s(f))}const as=e=>{e.current&&(clearTimeout(e.current),e.current=null)},rs="g1hpb",ls="FvsJM",os="Dp68T";function is(n,a,r,l,o,i=!1,c=0){const[s,u]=(0,t.useFacetState)(!1),[d,m]=(0,t.useFacetState)(!1),p=(0,t.useFacetWrap)(null==l||l),f=(0,e.useRef)(!0),g=et(),E=Go(4)+c,h=Go(8),b=(0,e.useMemo)((()=>Vi()((()=>u(!0)),500,{leading:!0,trailing:!1})),[u]),v=(0,e.useMemo)((()=>Vi()((()=>u(!1)),500,{leading:!1,trailing:!0})),[u]);(0,e.useEffect)((()=>{let e=null;return e=setTimeout((()=>{if(!o||!o.current||i)return;if(!0!==g.get())return m(!1);const e=window.innerHeight-o.current.getBoundingClientRect().bottom-h<E;m(e)}),250),()=>{e&&window.clearTimeout(e)}}),[m,h,E,g,o,n,i]);const F=(0,e.useRef)(null),y=(0,e.useMemo)((()=>{let e=null,t=null,l=null,o=!0;return()=>{var c,s;const u=!0===d.get(),m=n.current,p=a.current,g=r.current;if(!m||!p||!g)return;const h=i?m.scrollLeft:m.scrollTop,S=i?window.innerWidth:window.innerHeight;if(o){const e=m.getBoundingClientRect();if(0!==e.width&&0!==e.height){const t=u?E:0,n=(i?e.width:e.height)-t,a=i?m.scrollWidth:m.scrollHeight,r=a-(i?e.width:e.height),l=Math.min(1,h/r),c=i?m.getBoundingClientRect().left-e.left:g.getBoundingClientRect().top-e.top,s=n/a*n-2*c,d=40,f=16,b=12,v=Math.max(n>d+b?d:f,i?Math.min(.4*n-2*c,s):s);if(i)p.style.left=100*l+"%",p.style.widthPX=v,p.style.marginLeft=-v/2+"px",g.style.leftPX=v/2,g.style.rightPX=v/2;else{const e=l*(n-v-2*c);p.style.topPX=e,p.style.heightPX=v,g.style.bottomPX=t}o=!1}}u!==e&&(e=u,o=!0),h!==l&&(f.current?f.current=!1:(b(),v()),l=h,o=!0),S!==t&&(t=S,o=!0),F.current=null===(c=(s=window).requestAnimationFrame)||void 0===c?void 0:c.call(s,y)}}),[b,v,i,E,d,n,a,r]);return(0,t.useFacetEffect)((e=>(e&&y(),()=>{var e,t;null!=F.current&&(null===(e=(t=window).cancelAnimationFrame)||void 0===e||e.call(t,F.current)),v.cancel(),b.cancel()})),[y,v,b],[p]),s}function cs(n,a=!1,r){const[l,o]=(0,t.useFacetState)(!1),i=(0,e.useRef)(!1),c=(0,e.useRef)(0),s=(0,e.useRef)(0),u=(0,e.useRef)(0);return(0,e.useEffect)((()=>{const e=()=>{const l=n.current;if(!l)return;const{scrollWidth:d,scrollHeight:m}=l;if(0===m)return;const{width:p,height:f}=l.getBoundingClientRect();if(r)return o(a?d>Math.ceil(p):m>Math.ceil(f));o((n=>{if(n===t.NO_VALUE)return t.NO_VALUE;const r=a?d:m,l=a?p:f,o=r>Math.ceil(l),g=a?window.innerWidth:window.innerHeight;return!n&&o&&(u.current=g,requestAnimationFrame(e)),n&&!i.current&&(c.current=r,s.current=f),i.current=n,!(!n||o||r!==c.current||l!==s.current||g!==u.current)||o}))};e();const l=setInterval(e,1e3);return()=>clearInterval(l)}),[r,a,n,o]),l}function ss({scrollingContainerRef:n,horizontal:a,stopCheckingForScroll:r,floating:l,stopTrackingScrollDimensions:o,darkTheme:i,minimalTheme:c,safeZonePadding:s,backgroundRole:u="neutral60",className:d}){const{handlerRef:m,railRef:p}=ds(n,a),f=us(n,p,a),g=cs(n,a,l||o),E=(0,t.useFacetWrap)(null!=r&&r),h=(0,t.useFacetMap)(((e,t)=>e&&!t),[],[g,E]),{background:{base:b}}=gr(u);is(n,m,p,h,void 0,a,s);const v=(0,t.useFacetMap)((e=>Or()(d,{RQaBf:!a,YaopL:a,Sedu9:!e,p4kfP:l})),[a,l,d],[g]);return e.createElement("fast-div",{className:v,onClick:f},e.createElement("div",{className:Or()("NneLp",{[os]:a,[rs]:c,[ls]:i})}),e.createElement("div",{className:Or()("ZypnN",b,{[rs]:c})}),e.createElement("div",{className:"z9vg4",ref:p},e.createElement("div",{className:"TCER1",ref:m},e.createElement("div",{className:"DiMcq"},e.createElement(hc,{role:"secondary"})),e.createElement("div",{className:"lPc7v"}))),e.createElement("div",{className:Or()("JOhiN",{[os]:a,[rs]:c,[ls]:i})}))}const us=(t,n,a)=>(0,e.useCallback)((e=>{const r=t.current,l=n.current;if(!r||!l)return;const o=l.getBoundingClientRect(),i=r.getBoundingClientRect();if(a){const t=(e.clientX-o.left)/o.width;r.scrollLeft=t*(r.scrollWidth-i.width)}else{const t=(e.clientY-o.top)/o.height;r.scrollTop=t*(r.scrollHeight-i.height)}}),[t,n,a]),ds=(t,n=!1)=>{const a=(0,e.useRef)(null),r=(0,e.useRef)(null);return(0,e.useEffect)((()=>{const e=a.current,l=t.current,o=r.current;if(!e||!l||!o)return;let i=!1,c=0;const s=t=>{i=!0;const a=e.getBoundingClientRect();c=n?t.clientX-a.left:t.clientY-a.top},u=()=>{i=!1,c=0},d=t=>{if(!i)return;const a=o.getBoundingClientRect(),r=e.getBoundingClientRect(),s=l.getBoundingClientRect(),u=n?(t.clientX-c-a.left)/(a.width-r.width):(t.clientY-c-a.top)/(a.height-r.height);n?l.scrollLeft=u*(l.scrollWidth-s.width):l.scrollTop=u*(l.scrollHeight-s.height)},m=e=>{e.preventDefault(),e.stopPropagation()};return document.addEventListener("mousemove",d),document.addEventListener("mouseup",u),e.addEventListener("mousedown",s),e.addEventListener("click",m),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u),e.removeEventListener("mousedown",s),e.removeEventListener("click",m)}}),[a,t,r,n]),{handlerRef:a,railRef:r}};function ms({scrollingContainerRef:n,horizontal:a,stopCheckingForScroll:r,alwaysVisible:l,safeZonePadding:o}){const i=(0,e.useRef)(null),c=(0,e.useRef)(null),s=(0,e.useRef)(null),u=ps(n),d=(0,t.useFacetWrap)(null!=r&&r),m=cs(n,a),p=is(n,i,c,(0,t.useFacetMap)(((e,t)=>e&&!t),[],[m,d]),s,a,o),f=Or()({TvGJB:!a,_x_mp:a}),g=(0,t.useFacetMap)(((e,t,n)=>"ruYmw "+(n&&(t||e||l)?"KxkO9":"HF6tQ")),[l],[u,p,m]);return e.createElement("div",{className:f,ref:s},e.createElement("div",{className:"ZpO0p",ref:c},e.createElement("fast-div",{className:g,ref:i})))}const ps=n=>{const[a,r]=(0,t.useFacetState)(!1);return(0,e.useEffect)((()=>{var e;const t=()=>r(!0),a=()=>r(!1),l=null!==(e=null==n?void 0:n.current)&&void 0!==e?e:window;return l.addEventListener("touchstart",t),l.addEventListener("touchend",a),()=>{l.removeEventListener("touchstart",t),l.removeEventListener("touchend",a)}}),[n,r]),a};function fs({scrollingContainerRef:t,stopCheckingForScroll:n,alwaysVisible:a,horizontal:r=!1,floating:l,stopTrackingScrollDimensions:o,darkTheme:i,minimalTheme:c,backgroundRole:s,className:u}){const d=Ll();return e.createElement(Fl,{data:Je()},(m=>m?e.createElement(ss,{horizontal:r,scrollingContainerRef:t,stopCheckingForScroll:n,safeZonePadding:d.bottom,floating:l,stopTrackingScrollDimensions:o,darkTheme:i,minimalTheme:c,backgroundRole:s,className:u}):e.createElement(ms,{horizontal:r,scrollingContainerRef:t,stopCheckingForScroll:n,safeZonePadding:d.bottom,alwaysVisible:a})))}const gs="AHMiQ",Es="e8JEP",hs="Atzkz",bs=n(81442);function vs(){return e.createElement(Rc,{src:bs,className:"WGMHw",imageRendering:"pixelated"})}const Fs=({interruptible:t=!0,playInBackground:n=!1,profanityFilterContext:a={outOfGame:!0,inGame:!0},required:r=!1}={})=>{const l=(0,e.useRef)(),{readText:o}=(0,e.useContext)(yl);return{narrateText:(0,e.useCallback)((e=>{l.current=setTimeout((()=>{o(e,a,t,r,n)}),200)}),[o,a,t,r,n]),preventNarrateText:(0,e.useCallback)((()=>{l.current&&clearTimeout(l.current)}),[])}},ys=({children:n,alwaysVisibleChildren:a,loading:r,renderTracker:l,focusGridIndex:o,scrollIntoViewAlign:i="center",scrollIntoViewSpeedFactor:c,horizontal:s=!1,innerRef:u,floating:d,stopTrackingScrollDimensions:m,darkTheme:p,minimalTheme:f,padSpinnerVertically:g,spinnerBackgroundColor:E,disableScrolling:h,showSpinnerBorder:b,stopCheckingForScroll:v,emptyFocusableGamepadAlias:F,emptyFocusableNarrationText:y,defaultFocusedChildBehavior:S,gamepadAlias:C,delegateFocusByAlias:M,delegateFocusFromMemory:w,flexShrinkWrapper:k,scrollbarBackgroundRole:T,scrollbarClassName:x,focusControlDisabled:I,disabled:P,shouldScrollWithAnalog:O=!0,isGrid:A,gridCellWidth:N,gridCellHeight:R,gridColumns:L,gridRows:_,gridCellSizeAuto:D})=>{const B=(0,e.useRef)(null),W=u||B,[U,z]=(0,e.useState)(!1),j=(0,t.useFacetWrap)(r),H=cs(W,s,d||m),V=ta(),$=(0,t.useFacetWrap)(null!=h&&h),K=(0,t.useFacetMap)(((e,t)=>Or()(s?"V2oRG":"i0p1V",e||t&&null!=a?"bnB8G":null,"E7WzW",s?Es:gs)),[s,a],[$,j]),X=w||"remember"===S,Y=U&&!0===d,q=(0,t.useFacetMap)((e=>Or()("BDPxm",{[ji]:e&&Y})),[Y],[rt()]),Q=(0,e.useRef)(null),[J,Z]=(0,t.useFacetState)(0);(0,t.useFacetEffect)((e=>{let t;const n=()=>{const a=Q.current;if(null==a)return;const r=a.getBoundingClientRect(),l=s?r.width:r.height;Z(l),e&&(t=requestAnimationFrame(n))};return n(),()=>{cancelAnimationFrame(t)}}),[Z,Q,s],[j]);const ee=(0,t.useFacetMap)((e=>null==e||!e),[],[j]),te=(0,e.useRef)(null),ne=(0,t.useFacetMap)((e=>P||!0===e),[P],[j]),ae=(0,t.useFacetWrap)({scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,shouldScrollWithAnalog:O}),re=(0,e.useContext)(ac),[le,oe]=(0,t.useFacetState)(0),ie=(0,t.useFacetMap)((e=>e>0),[],[le]),ce=(0,t.useFacetMap)(((e,t)=>V&&!e||!e&&t),[V],[ie,H]);return e.createElement(ac.Provider,{value:(0,e.useCallback)((()=>(re(),oe((e=>e===t.NO_VALUE?e:e+1)),()=>{oe((e=>e===t.NO_VALUE?e:e-1))})),[re,oe])},e.createElement($c.Provider,{value:ie},e.createElement(Pc,{containerRef:te,focusControlDisabled:I},e.createElement("div",{ref:te,className:Or()(s?"Figb7":"FoJAW",{yVYuQ:k})},e.createElement(Ss,{focusGridIndex:o,hidden:ee,renderTracker:l,padSpinnerVertically:g,spinnerBackgroundColor:E,showBorder:b,spinnerOffsetPosition:J,horizontal:s}),e.createElement(t.Mount,{when:ce},e.createElement("fast-div",{className:q},e.createElement(zi,{inset:!0}))),e.createElement("fast-div",{className:K,ref:W,"data-testid":"scroll-view"},e.createElement(Pc,{disabled:ne,scrollOptions:ae,delegateFocusFromMemory:X,containerRef:W,scrollAxis:s?G.HORIZONTAL:G.VERTICAL,alias:C,delegateFocusByAlias:M,focusControlDisabled:I,isGrid:A,gridCellWidth:N,gridCellHeight:R,gridColumns:L,gridRows:_,gridCellSizeAuto:D},e.createElement("div",{ref:Q},a),e.createElement("fast-div",{className:(0,t.useFacetMap)(((e,t)=>Or()(s?"X3aZt":"HXyrL",s?Es:gs,{ZaTbu:e,[hs]:t})),[s],[j,Ql()])},e.createElement(e.Fragment,null,n,e.createElement(t.Mount,{when:ce},e.createElement(ks,{onFocusChanged:z,gamepadAlias:F,narrationText:y})))))),e.createElement(t.Mount,{when:ee},e.createElement(fs,{stopTrackingScrollDimensions:m,floating:d,horizontal:s,scrollingContainerRef:W,stopCheckingForScroll:v,alwaysVisible:U,darkTheme:p,minimalTheme:f,backgroundRole:T,className:x}))))))};function Ss({hidden:n,renderTracker:a,spinnerBackgroundColor:r,padSpinnerVertically:l,showBorder:o=!0,focusGridIndex:i,spinnerOffsetPosition:c,horizontal:s}){const u=(0,t.useFacetMap)((e=>!1===e),[],[n]),[d,m]=(0,t.useFacetState)(!1),p=(0,e.useCallback)((e=>{a&&"unmounted"===e&&m(!0)}),[m,a]);return e.createElement(e.Fragment,null,e.createElement(ns,{unmountOnExit:!0,visible:u,timeout:500,onStatusChange:p},(t=>e.createElement(Ms,{status:t,focusGridIndex:i,padSpinnerVertically:l,showBorder:o,spinnerBackgroundColor:r,spinnerOffsetPosition:c,horizontal:s}))),e.createElement(t.Mount,{when:d},e.createElement(Cs,{renderTracker:a})))}const Cs=({renderTracker:t})=>e.createElement(e.Fragment,null,t?t(!0):null),Ms=({focusGridIndex:n,padSpinnerVertically:a,showBorder:r,spinnerBackgroundColor:l,spinnerOffsetPosition:o,horizontal:i,status:c})=>{const{t:s}=Ii("ScrollView"),{narrateText:u}=Fs(),[d,m]=(0,t.useFacetState)(!1);(0,t.useFacetEffect)((e=>{let t;return e?t=setInterval(u.bind(null,s(".loadingState")),1e4):null!=t&&clearInterval(t),()=>null!=t&&clearInterval(t)}),[u,s,1e4],[d]);const p=(0,t.useFacetMap)((([e])=>"exiting"===e),[],[c]);return e.createElement(ic,{focusGridIndex:n,narrationText:[s(".narrationScrollViewComponentType"),s(".loadingState")].join(" . "),className:(0,t.useFacetMap)(((e,t)=>Or()("RpRQd",{THzjV:a,wzXR6:e,y2jxe:r,[hs]:!0===t})),[r,a],[p,Ql()]),classNameFocused:ji,onFocusChanged:m,onHoverChanged:m,style:{backgroundColor:null!=l?l:"rgba(0, 0, 0, 0.4)",topPX:i?0:o,leftPX:i?o:0},inputLegend:!1,onClick:()=>{}},e.createElement(zi,{inset:!0}),e.createElement(vs,null))},ws=()=>{},ks=({onFocusChanged:t,gamepadAlias:n,narrationText:a=!1})=>e.createElement(ac.Provider,{value:ws},e.createElement(ic,{"data-testid":"empty-focusable",className:"VS9gP",onClick:ws,onFocusChanged:t,inputLegend:!1,gamepadAlias:n,narrationText:a}));function Ts({options:n,onClick:a}){return function(n,a){const r=(0,t.useFacetWrap)(n),l=(0,e.useContext)(ke),o=(0,e.useContext)(L);o.length;const i=o[o.length-1],c=r.get();c===t.NO_VALUE||c.disabled||l.current.putShortcut(i,c.button,{callback:a,inputLegend:c.inputLegend}),(0,t.useFacetEffect)((e=>{const t=o[o.length-1];if(!e.disabled){const n=l.current;return n.putShortcut(t,e.button,{callback:a,inputLegend:e.inputLegend}),()=>{n.removeShortcut(t,e.button)}}}),[a,l,o],[r])}(n,a),null}ys.SiblingState=({callback:e})=>{const n=Kc();return(0,t.useFacetEffect)((t=>{e(t)}),[e],[n]),null},ys.useHasScrollbar=cs;const xs=Ts;function Is({children:t}){return e.createElement(e.Fragment,null,t)}const Ps=n=>{let{children:a}=n,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["children"]);const l=(0,t.useFacetWrap)("text"in r?r.text:""),o="getText"in r?r.getText:void 0,i=ec(null!=o?o:l);return e.createElement(Yi,{value:i},a)},Os="ZWBi0",As="OGKKM",Ns={center:"IaGhJ",right:"XEoek",left:"W1NXQ",verticalCenter:"JEzgR",Typography:"OIwR8",header1:"jtuPO",header2:"ZSfsQ",header3:"jxr27",header4A:"B6E4l",header4B:"Iu9d0",header5A:"u3V3F",header5B:"Z9bmJ",sectionHeader:"kjlCa",subtitle1:"PyPJl",subtitle2:"gVtt_",body:"vNlW4",paragraphs:"NQiUU",accessibleGuiScale:"Pgstg",captionTiny:"UNxMi",captionShort:"_He_E",captionLong:"yhCRL",editorCaption:"UwZQy",editorHeader:"X2EMQ",primaryButton:"l6rf0",secondaryButton:"vWcLh",destructiveButton:"P1L1T",shadow:"MIuXl",fontWeightNormal:"RcOKE",fontWeightBold:"j4N5u",fontWeightBolder:"g8JjQ",fontWeightLighter:"uN1hk",fontWeightInitial:"qKtfZ",fontWeightInherit:"EDaTS",whiteSpaceNormal:"JbbH7",whiteSpaceNoWrap:"dI4g4",whiteSpacePre:"wbZka",whiteSpacePreWrap:"_FWvz",breakWord:"idIMi",indent:"BiAtx",ellipsis:"uNITG"};let Rs;!function(e){e[e.REGULAR=0]="REGULAR",e[e.OBFUSCATED=1]="OBFUSCATED"}(Rs||(Rs={})),Rs.OBFUSCATED;const Ls={"§0":{foreground:"#000000",background:"#000000"},"§1":{foreground:"#0000AA",background:"#00002A"},"§2":{foreground:"#00AA00",background:"#002A00"},"§3":{foreground:"#00AAAA",background:"#002A2A"},"§4":{foreground:"#AA0000",background:"#2A0000"},"§5":{foreground:"#AA00AA",background:"#2A002A"},"§6":{foreground:"#FFAA00",background:"#402A00"},"§7":{foreground:"#AAAAAA",background:"#2A2A2A"},"§8":{foreground:"#555555",background:"#151515"},"§9":{foreground:"#5555FF",background:"#15153F"},"§a":{foreground:"#55FF55",background:"#153F15"},"§b":{foreground:"#55FFFF",background:"#153F3F"},"§c":{foreground:"#FF5555",background:"#3F1515"},"§d":{foreground:"#FF55FF",background:"#3F153F"},"§e":{foreground:"#FFFF55",background:"#3F3F15"},"§f":{foreground:"#FFFFFF",background:"#3F3F3F"},"§g":{foreground:"#DDD605",background:"#373501"},"§h":{foreground:"#E3D4D1",background:"#383534"},"§i":{foreground:"#CECACA",background:"#333232"},"§j":{foreground:"#443A3B",background:"#110E0E"},"§m":{foreground:"#971607",background:"#250501"},"§n":{foreground:"#B4684D",background:"#2D1A13"},"§p":{foreground:"#DEB12D",background:"#372C0B"},"§q":{foreground:"#47A036",background:"#04280D"},"§s":{foreground:"#2CBAA8",background:"#0B2E2A"},"§t":{foreground:"#21497B",background:"#08121E"},"§u":{foreground:"#9A5CC6",background:"#261731"}},_s=new RegExp("(§l)|(§o)","g");function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ds.apply(this,arguments)}let Bs;!function(e){e[e.Normal=0]="Normal",e[e.Bold=1]="Bold",e[e.Bolder=2]="Bolder",e[e.Lighter=3]="Lighter",e[e.Initial=4]="Initial",e[e.Inherit=5]="Inherit"}(Bs||(Bs={}));const Ws={[Bs.Normal]:[Ns.fontWeightNormal],[Bs.Bold]:[Ns.fontWeightBold],[Bs.Bolder]:[Ns.fontWeightBolder],[Bs.Lighter]:[Ns.fontWeightLighter],[Bs.Initial]:[Ns.fontWeightInitial],[Bs.Inherit]:[Ns.fontWeightInherit]},Us={normal:[Ns.whiteSpaceNormal],nowrap:[Ns.whiteSpaceNoWrap],pre:[Ns.whiteSpacePre],preWrap:[Ns.whiteSpacePreWrap]};function zs({children:n,role:a="inherit",interactive:r,disableable:l,variant:o,align:i,verticalAlign:c="top",type:s,shadow:u,tag:d,fontWeight:m,shouldNarrate:p,whiteSpace:f,className:g,innerRef:E,overflowWrap:h,indent:b,overflowEllipsis:v}){const F=(0,t.useFacetWrap)(i),y=(0,t.useFacetWrap)(u),S=(0,t.useFacetWrap)(s),C=(0,t.useFacetWrap)(c),M=(0,t.useFacetWrap)(m),w=(0,t.useFacetWrap)(f),k=(0,t.useFacetWrap)(g),T=(0,t.useFacetWrap)(a),x=(0,t.useFacetWrap)(o),I=(0,t.useFacetWrap)(r),P=(0,t.useFacetWrap)(l),O=(0,t.useFacetWrap)(h),A=(0,t.useFacetWrap)(b),N=(0,t.useFacetWrap)(v),R=(0,t.useFacetMap)(((e,t)=>{if(!0===e)return[Ca];const n=[ha];return t&&n.push(Fa),n}),[],[I,P]),L=(0,e.useContext)(Vo),_=gr(),D=d||("paragraphs"===s?"p":"div"),B=(0,t.useFacetMap)(((e,t,n,a,r,l,o,i,c,s,u,d,m,p)=>{const f=n?Ns[n]:void 0,g={[Ns.center]:"center"===t,[Ns.right]:"right"===t,[Ns.left]:"left"===t,[Ns.verticalCenter]:"center"===a},E=r?Ws[r]:void 0,h=l?Us[l]:void 0,b={[Ns.shadow]:e},v={[Ns.breakWord]:"break-word"===c},F={[Ns.indent]:d},y=s.map((e=>_[o].text[e])),S={[Ns.accessibleGuiScale]:m},C={[Ns.ellipsis]:p};return Or()(Ns.Typography,f,g,b,E,h,y,i,v,u,F,C,S)}),[_],[y,F,S,C,M,w,T,x,O,R,k,A,L,N]),W=!0===p?{"data-narrate":!0}:{};return(0,t.isFacet)(n)?"div"===D?e.createElement("fast-div",Ds({ref:E,className:B},W),e.createElement("fast-text",{text:n})):"p"===D?e.createElement("fast-p",Ds({ref:E,className:B},W),e.createElement("fast-text",{text:n})):e.createElement("fast-span",Ds({ref:E,className:B},W),e.createElement("fast-text",{text:n})):"div"===D?e.createElement("fast-div",Ds({ref:E,className:B},W),n):"p"===D?e.createElement("fast-p",Ds({ref:E,className:B},W),n):e.createElement("fast-span",Ds({ref:E,className:B},W),n)}const js=({items:n,item:a,index:r})=>{const l=(0,t.useFacetMap)((e=>e.length-1!==r),[r],[n]);return e.createElement(e.Fragment,null,e.createElement(Hs,{text:a}),e.createElement(t.Mount,{when:l},e.createElement(Yc,{size:2})))},Hs=({text:n})=>{const a=(0,t.useFacetMap)((e=>`• ${e}`),[],[n]);return e.createElement(zs,{type:"paragraphs",align:"left"},a)};zs.FontWeight=Bs,zs.List=({items:n})=>{const a=(0,t.useFacetWrap)(n);return e.createElement(e.Fragment,null,e.createElement(t.Map,{array:a},((t,n)=>e.createElement(js,{items:a,item:t,index:n}))))},zs.FormattingCodes=({children:n,type:a,shadow:r,align:l})=>{const o=(0,e.useRef)(null);return(0,t.useFacetEffect)((e=>{const t=o.current;if(null!=t)return t.setAttribute("cohinline",""),((e,t)=>{let n=!0,a=!1,r=!1,l=[0,null];const o=[],i=n=>{const[i,c]=l;let s=e.slice(i,n);if(a&&(s=(e=>e.replace(_s,""))(s)),0!==s.length)if(s=0!=r?((e,t,n)=>{let a="";for(let r=0;r<e.length;r++)r>=t&&r<t+2||(a+=r>=t&&r<n?".":e[r]);return a})(s,r-i,s.length):s,null!=c){const e=document.createElement("span");e.style.color=c.foreground,e.style.textShadow=`0.2rem 0.2rem 0rem ${c.background}`,e.appendChild(document.createTextNode(s)),t.appendChild(e),o.push(e)}else{const e=document.createTextNode(s);t.appendChild(e),o.push(e)}a=!1};for(let t=0;t<e.length;t++){const o=`${e[t]}${e[t+1]}`,c=Ls[o];null!=c&&(i(t),t+=1,l=[t+1,c],n=!1),"§k"===o&&(r=t,t+=1,n=!1),"§r"===o&&(i(t),t+=1,l=[t+1,null],r=!1,n=!1),"§l"!==o&&"§o"!==o||(a=!0,n=!1)}if(n){const n=document.createTextNode(e);t.appendChild(n),o.push(n)}else i(e.length);return()=>{o.forEach((e=>{t.removeChild(e)}))}})(`${e}`,t)}),[],[(0,t.useFacetWrap)(n)]),e.createElement(zs,{type:a,shadow:r,align:l,innerRef:o,tag:"p"})};const Vs=n.p+"assets/checkGrey-a9d8c.png";function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gs.apply(this,arguments)}const $s=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("TxvgM",n);return e.createElement(Rc,Gs({},a,{className:r,src:Vs,imageRendering:"pixelated"}))},Ks=n.p+"assets/checkWhite-bcfbf.png";function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xs.apply(this,arguments)}const Ys=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("L75Cq",n);return e.createElement(Rc,Xs({},a,{className:r,src:Ks,imageRendering:"pixelated"}))};function qs({value:n,disabled:a,gamepad:r,narrationText:l,onClick:o,soundEffectPressed:i,checkedRole:c="primary",uncheckedRole:s="neutral50",mountFocusBorder:u=!0}){const d=gr(c),m=gr(s),p=hr("inherit"),f=(0,t.useFacetWrap)(n),g=(0,t.useFacetWrap)(a),E=(0,t.useFacetWrap)(u),h=(0,t.useFacetCallback)((e=>()=>null==o?void 0:o(!e)),[o],[f]),b=(0,t.useFacetMap)((e=>Or()("bEWCp",e?[d.background.interactive,d.border.interactive]:[m.background.interactive,m.border.interactive])),[d,m],[f]),v=(0,t.useFacetMap)(((e,t)=>e||!t),[],[g,E]);return e.createElement(ic.Maybe,{narrationText:l,isInteractive:"function"==typeof o,gamepadIndex:r.index,classNameFocused:ji,classNameDisabled:"TSwOq",disabled:a,onClick:h,soundEffectPressed:null!=i?i:p.toggle},e.createElement("fast-div",{className:b},e.createElement(zi,{disabled:v}),e.createElement(hc,{disabled:a}),e.createElement("fast-div",{style:{display:(0,t.useFacetMap)((e=>e?"flex":"none"),[],[f])},className:"BUigP"},e.createElement("fast-div",{style:{display:(0,t.useFacetMap)((e=>e?"flex":"none"),[],[g])}},e.createElement($s,null)),e.createElement("fast-div",{style:{display:(0,t.useFacetMap)((e=>e?"none":"flex"),[],[g])}},e.createElement(Ys,null)))))}const Qs=()=>{};function Js({gamepad:n,onChange:a=Qs,value:r,title:l,description:o,disabled:i,small:c=!1,hintNarration:s,soundEffectPressed:u,wrapperRole:d="neutral"}){const m=gr(d),p=hr(d),f=(0,t.useFacetWrap)(l),g=(0,t.useFacetWrap)(null!=o?o:""),E=(0,t.useFacetWrap)(r),h=(0,t.useFacetWrap)(i),b=(0,t.useFacetCallback)((e=>()=>a(!e)),[a],[E]),{t:v}=Ii("Checkbox"),F=(0,t.useFacetMap)(((e,t,n,a)=>[v(".elementType"),t,n,v(e?".labelChecked":".labelUnChecked"),a].filter((e=>e)).join(" . ")),[v],[E,f,g,(0,t.useFacetWrap)(null!=s?s:"")]),y=(0,t.useFacetWrap)(Or()("tIO8N",m.background.base,{sSJaW:c}));return e.createElement(ja,{role:d},e.createElement(ic,{className:y,inputLegend:v(".toggle"),gamepadIndex:n.index,onClick:b,disabled:h,narrationText:F,soundEffectPressed:null!=u?u:p.toggle,classNameFocused:ji},e.createElement(hc,{role:d,effect:"bevel",left:!1,right:!1}),e.createElement(Yc,{size:2}),e.createElement("div",{className:"jw1g3"},e.createElement(qs,{value:E,narrationText:!1,disabled:h,gamepad:n}),e.createElement("div",{className:Or()("GSYTw")},e.createElement(zs,{type:"body",role:d,variant:(0,t.useFacetMap)((e=>e?"dimmer":void 0),[],[h])},f),Boolean(o)&&e.createElement("div",{className:Or()("vEsZy")},e.createElement(zs,{type:"captionShort",role:d,variant:"dimmer"},g)))),e.createElement(Yc,{size:2})))}const Zs=Ts,eu=n.p+"assets/magnifyingGlass-52f96.png";function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tu.apply(this,arguments)}const nu=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("uItO2",n);return e.createElement(Rc,tu({},a,{className:r,src:eu,imageRendering:"pixelated"}))},au="LkHYF",ru=({children:n,innerRef:a,className:r})=>(0,t.isFacet)(n)?e.createElement("fast-div",{ref:a,className:Or()(au,"",r)},e.createElement("fast-text",{text:n})):e.createElement("div",{ref:a,className:Or()(au,"",r)},n),lu=(0,e.createContext)(null),ou=(lu.Provider,{textFieldWrapper:"ioknC",textField:"qkZ8X",textFieldWrapperShadow:"HlO_u",textFieldBrowserOnly:"QR3RV",textFieldType:"P9M7R",textFieldPlaceholder:"VOEoE",textFieldTextArea:"pYMFt",disabled:"ZcpC0",placeholderAdjustedWithIcon:"kmdON",textFieldContentWrapper:"jA1Z2",textFieldIcon:"Xx1UH",textFieldClearInteractive:"iCWmI"});let iu;function cu(n){const{gamepadAlias:a,value:r,disabled:l=!1,label:o,className:i,maxLength:c,narrationText:s,onBlur:u,onFocus:d,onHover:m,onChange:p,onSelectedChange:f,placeholder:g="",rows:E=1,disableBlurOnDeselect:h,onTab:b,isNumber:v,placeholderIcon:F,showClearOptionWhenValueExists:y,onClear:S,hasShadow:C=!0,role:M="neutral80"}=n,{t:w}=Ii("BaseTextField"),[k,T]=(0,t.useFacetState)(!1),[x,I]=(0,t.useFacetState)(!1),P=(0,t.useFacetWrap)(r),O=(0,t.useFacetUnwrap)(l),{narrateText:A,preventNarrateText:N}=Fs(),R=(0,t.useFacetWrap)(Ki()),L=(0,e.useContext)(lu),_=(0,t.useFacetWrap)(i),D=(0,t.useFacetMap)((e=>e?"number":"text"),[],[(0,t.useFacetWrap)(v)]),B=gr(M),U=vr(),z=(0,e.useRef)(null),j=(0,e.useRef)(null),H=(0,e.useRef)(!1),V=(0,e.useRef)(!1);(0,t.useFacetEffect)(((e,t)=>{e&&!H.current?(H.current=!0,A(`${w(".selected")} . ${w(".hint",[`${t}`])}`)):e||(H.current=!1)}),[A,w],[k,(0,t.useFacetWrap)(null!=o?o:"")]);const G=(0,e.useContext)(ii),$=(0,e.useCallback)((e=>{if(z.current&&document.activeElement===z.current){const t=su(z.current.value,null!=e?e:L,w);N(),null!=t&&A(t),document.activeElement===z.current&&p&&p(z.current.value,null!=e?e:L)}}),[p,L,A,w,N]);(0,t.useFacetEffect)((e=>{if(null==z.current)return;const t=z.current.value!==e,n=z.current.value.length>0&&0===e.length;(t||n)&&(z.current.value=e)}),[O],[P]);const K=(0,e.useCallback)((()=>{z.current&&document.activeElement===z.current&&b&&b()}),[b]),X=(0,e.useCallback)((e=>{I(e),f&&f(e),h||e||!z.current||z.current.blur()}),[I,f,h]),Y=(0,e.useCallback)((e=>{if(z.current){if(T(!1),null!=u){const e=(e="")=>{z.current&&(z.current.value=e,null!=p&&p(e,null!=L?L:{addedChars:"",removedChars:"",invalidChars:"",index:-1}))};u(z.current.value,e)}Boolean(e)?X(!0):X(!1)}}),[u,T,X,p,L]),q=(0,e.useCallback)((()=>{z.current&&document.activeElement===z.current&&(z.current.blur(),Y(!0))}),[Y]),Q=(0,e.useCallback)((()=>{z.current&&document.activeElement===z.current&&q()}),[q]);(0,e.useEffect)((()=>{if(!G)return;const e=[G.changedCB($),G.tabbedCB(K),G.submittedCB(Q),G.dismissedCB(q)];return()=>{e.forEach((e=>e()))}}),[G,$,q,K,Q]);const J=(0,e.useCallback)((()=>{z.current&&z.current.focus()}),[]),Z=(0,t.useFacetMap)(((e,t,n)=>{const a=t&&t.focused||e;return Or()(ou.textField,ou.textFieldType,B.border.interactive,B.text.interactive,B.caret.base,n,{[ou.textFieldBrowserOnly]:!1,[ou.textFieldFocused]:a,[Ha.selected]:a,[ou.disabled]:O,[ou.textFieldTextArea]:E>1})}),[O,E,B],[k,R,_]),ee=(0,t.useFacetMap)(((e,t,n)=>Or()({[ji]:n&&n.focused||t&&!e})),[],[k,x,R]),te=(0,e.useCallback)((()=>{T(!0),d&&d(),X(!0)}),[d,T,X]),ne=(0,t.useFacetMap)((e=>({button:W.B,inputLegend:w(".deselect"),disabled:!e})),[w],[k]),ae=(0,t.useFacetMap)((e=>null!=e&&""!==e),[],[P]),re=(0,t.useFacetMap)(((e,t)=>null!=e&&""!==e||t?"none":"flex"),[],[P,k]),le=e.createElement("fast-div",{className:Or()(ou.textFieldType,ou.textFieldPlaceholder,B.text.interactive,U.dimmest,{[ou.placeholderAdjustedWithIcon]:null!=F}),style:{display:re}},null!=F?e.createElement("div",{className:ou.textFieldContentWrapper},e.createElement("div",{className:ou.textFieldIcon},(iu.MagnifyingGlass,e.createElement(nu,null))),e.createElement(ru,null,g)):e.createElement(ru,null,g)),oe=E>1?e.createElement("fast-textarea",{ref:z,rows:E,className:Z,maxLength:c,onFocus:te,onBlur:()=>{!1===V.current&&Y(!1)}}):e.createElement("fast-input",{ref:z,type:D,className:Z,maxLength:c,onFocus:te,onBlur:()=>{!1===V.current&&Y(!1)}});return e.createElement(Pc,{containerRef:j,shouldBindFocus:k},e.createElement("div",{className:ou.textFieldWrapper,ref:j},e.createElement(Zs,{options:ne,onClick:()=>{z.current&&document.activeElement===z.current&&(z.current.blur(),Y(!0))}}),O!==t.NO_VALUE&&O?e.createElement(ic,{className:Or()(ou.textFieldWrapper,B.background.interactive,{[ou.disabled]:O}),"data-testid":n["data-testid"],key:"disabled",narrationText:s,inputLegend:!1,disabled:!0,onFocusChanged:X,onClick:J,gamepadAlias:a},e.createElement("div",{className:Or()(C?B.shadow.interactive:void 0,{[ou.textFieldWrapperShadow]:C})}),le,e.createElement("fast-div",{className:Z},e.createElement(ru,null,P))):e.createElement(ic,{key:"enabled",className:Or()(ou.textFieldWrapper,B.background.base,B.background.disable),"data-testid":n["data-testid"],narrationText:s,inputLegend:w(".select"),onFocusChanged:X,classNameFocused:ee,onClick:J,gamepadAlias:a,onHoverChanged:m,onPressChanged:e=>{V.current=!!e}},e.createElement("div",{className:Or()(C?B.shadow.interactive:void 0,{[ou.textFieldWrapperShadow]:C})}),le,oe,e.createElement(zi,{role:M}),y&&e.createElement(t.Mount,{when:ae},e.createElement(ic,{className:ou.textFieldClearInteractive,narrationText:!1,inputLegend:"",onClick:()=>null!=S&&S()},e.createElement(jc,null))))))}!function(e){e[e.MagnifyingGlass=0]="MagnifyingGlass"}(iu||(iu={}));const su=(e,t,n)=>{const a=t.addedChars.split("").join(" "),r=t.removedChars.split("").join(" "),l=t.invalidChars.split("").join(" "),o=""!==l?` ${l} ${n(".invalidNarration")}`:"",i=0!==e.length?` . . ${e}`:"";return""!==a?""!==r?`${r} ${n(".replacedNarration")} ${a}${o}${i}`:`${a} ${n(".addedNarration")}${o}${i}`:""!==r?`${r} ${n(".removedNarration")}${i}`:null};function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},uu.apply(this,arguments)}function du(n){let{children:a,isTransparent:r,compact:l=!1,focusable:o=!1,narrationText:i=!1,inputLegend:c=!1,shouldDisplayFocus:s=!0,onClick:u,role:d="neutral",disabled:m,border:p=!1,"data-testid":f}=n,g=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["children","isTransparent","compact","focusable","narrationText","inputLegend","shouldDisplayFocus","onClick","role","disabled","border","data-testid"]);const E=(0,t.useFacetWrap)(o),h=(0,t.useFacetWrap)(i),b=(0,t.useFacetWrap)(m),{background:v,border:F}=gr(d),y=br("panel",d),S=null!=y.main.base,C=(0,t.useFacetWrap)(r),M=(0,t.useFacetMap)((e=>Or()("S5pbx",{sA7YJ:e,ODvy4:l,WIs7t:p,[`${F.base}`]:p},v.base,y.main.base,y.main.hover)),[l,v,y,F,p],[C]),w=(0,t.useFacetMap)((e=>Or()(e,ji)),[],[M]),k=e.createElement(ja,{role:d},!l&&!S&&e.createElement(hc,{interactive:!1,effect:"bevel",left:!1,right:!1}),!l&&e.createElement(Yc,{size:3}),a,!l&&e.createElement(Yc,{size:3})),T=(0,t.useFacetMap)(((e,t,n)=>null!=u&&!0!==n||!0===e&&null!=t),[u],[E,h,b]),x=(0,t.useFacetMap)((e=>!e),[],[(0,t.useFacetWrap)(s)]),I=(0,t.useFacetMap)((e=>0==e?"":e),[],[h]);return e.createElement(Ps,{text:I},e.createElement(ic.Maybe,uu({"data-testid":f,isInteractive:T,className:M,classNameFocused:w,narrationText:!1,inputLegend:c,onClick:null!=u?u:mu},g),k,e.createElement(zi,{className:"BVirH",interactive:!1,disabled:x,role:d})))}function mu(){}function pu({children:n,disabled:a,role:r="inherit",className:l}){const{text:o}=gr(r),i=Fr(),c=vr(),s=(0,t.useFacetWrap)(n),u=(0,t.useFacetWrap)(a),d=(0,t.useFacetWrap)(l),m=(0,t.useFacetMap)(((e,t)=>Or()("jOjEv",o.base,{[i.disabled]:e,[c.dimmer]:e},t)),[i,o,c],[u,d]);return e.createElement("fast-span",{className:m},e.createElement("fast-text",{text:s}))}const fu=({children:n,disabled:a,role:r="inherit"})=>{const{text:l}=gr(r),o=vr(),i=Fr(),c=(0,t.useFacetWrap)(n),s=(0,t.useFacetWrap)(a),u=(0,t.useFacetMap)((e=>Or()("kdCks",l.base,o.dimmer,{[i.disabled]:e})),[i,l,o],[s]);return e.createElement("fast-div",{className:u},e.createElement("fast-text",{text:c}))};function gu({disabled:n,label:a,description:r,children:l,focusGridIndex:o,transparent:i,disabledNarrationText:c}){const s=ta(),u=(0,t.useFacetMap)((e=>e&&s),[s],[n]),d=(0,t.useFacetMap)(((e,t)=>e&&t?t:""),[],[n,(0,t.useFacetWrap)(null!=c?c:"")]);return e.createElement(du,{focusable:u,focusGridIndex:o,isTransparent:i,narrationText:d},e.createElement(pu,{disabled:n},a),e.createElement(Yc,{size:1}),l,e.createElement(Yc,{size:1}),e.createElement(fu,{disabled:n},r))}const Eu={labelContainer:"dGKbF",container:"Mc7_w",focused:"f98RG",elevated:"LtoW3",elevatedAndPressed:"fYLl1",image:"f84oF",imageWithChildren:"sdLtc"},hu={box:"dPeI6",elevated:"odwOe",elevatedAndPressed:"CU0K9",boxWrapper:"Wiv9U",horizontal:"VLFgJ",raised:"UeAjd",boxBorder:"mg_1B",shine:"y2p1X",shineText:"YXCLb",bottomOffset:"r4GGC",borderMargin:"e3Bep"};function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bu.apply(this,arguments)}function vu(t){const n=(0,e.useRef)(t);n.current=t;const a=Or()(hu.box,hu.boxBorder,null!=n.current.className?n.current.className:void 0),r=Or()(ji,null!=n.current.classNameFocused?n.current.classNameFocused:void 0),l=Or()(null!=n.current.classNameHovered?n.current.classNameHovered:void 0),o=Or()(null!=n.current.classNamePressed?n.current.classNamePressed:void 0);return e.createElement(ic,bu({autofocus:n.current.autofocus,disabled:n.current.disabled,disableScrollIntoView:n.current.disableScrollIntoView,className:a,"data-testid":n.current["data-testid"],classNameFocused:r,classNameHovered:l,classNamePressed:o,classNameDisabled:n.current.classNameDisabled,delayedClick:n.current.delayedClick,gamepadAlias:n.current.gamepadAlias,gamepadIndex:n.current.gamepadIndex,focusGridIndex:n.current.focusGridIndex,inputLegend:n.current.inputLegend,innerRef:n.current.innerRef,onClick:n.current.onClick,onFocusChanged:n.current.onFocusChanged,onHoverChanged:n.current.onHoverChanged,onPressChanged:n.current.onPressChanged,soundEffectHovered:n.current.soundEffectHovered,soundEffectFocused:n.current.soundEffectFocused,soundEffectPressed:n.current.soundEffectPressed,pressDuration:n.current.pressDuration},"narrationText"in n.current?{narrationText:n.current.narrationText}:{getNarrationText:n.current.getNarrationText}),t.children)}const Fu=({borderTexture:t,variant:n,isDisabledFacet:a})=>null!=t?e.createElement(Wi,{className:t,withoutBorders:!0,hasTexture:!0,role:n}):e.createElement(zi,{role:n,disabled:a});function yu(n){var a,r,l,o,i,c,s,u;const d=(0,e.useRef)(n);d.current=n;const m=(0,e.useRef)(null),p=null!==(a=d.current.classNameElevated)&&void 0!==a?a:hu.elevated,{shadow:f,background:g,text:E,border:h}=gr(d.current.variant),b=hr(d.current.variant),v=br("pressable",d.current.variant),F=v.main.interactive,y=null!=F,S=v.border.interactive,C=Or()({[null!==(r=d.current.classNameElevatedAndPressed)&&void 0!==r?r:hu.elevatedAndPressed]:!0!==d.current.shouldNotDepressWhenPressed&&!1===y}),M=Or()(hu.boxWrapper,{[hu.horizontal]:d.current.horizontal}),w=Or()(E.interactive,F,{[p]:d.current.isElevated&&!1===y,[hu.horizontal]:d.current.horizontal,[null!==(l=f.interactive)&&void 0!==l?l:""]:!1===y,[null!==(o=h.interactive)&&void 0!==o?o:""]:null==S,[hu.borderMargin]:null!=S},d.current.containerClassName),k=Or()(hu.shine,hu.shineBackground,hu.shineText,d.current.className,y?void 0:g.interactive),T=Or()(ji,d.current.classNameFocused),x=ta(),I=(0,t.useFacetWrap)(n.disabled),P=(0,t.useFacetWrap)("narrationText"in n?n.narrationText:"function"==typeof n.getNarrationText),O=(0,t.useFacetMap)((e=>!1===e),[],[P]),A=(0,t.useFacetMap)(((e,t)=>!!e&&!t&&x),[x],[I,O]),N=d.current.focusStateOnElevatedFace?e.createElement("div",{className:hu.bottomOffset},e.createElement(Fu,{borderTexture:S,variant:d.current.variant})):e.createElement(Fu,{borderTexture:S,variant:d.current.variant});return e.createElement(vu,bu({autofocus:d.current.autofocus,disabled:d.current.disabled,disableScrollIntoView:d.current.disableScrollIntoView,className:w,classNameFocused:T,classNameHovered:d.current.classNameHovered,"data-testid":d.current["data-testid"],classNamePressed:d.current.isElevated?C:void 0,delayedClick:d.current.delayedClick,gamepadAlias:d.current.gamepadAlias,gamepadIndex:d.current.gamepadIndex,focusGridIndex:d.current.focusGridIndex,innerRef:m,inputLegend:d.current.inputLegend,onClick:d.current.onClick,onFocusChanged:d.current.onFocusChanged,onHoverChanged:d.current.onHoverChanged,soundEffectHovered:null!==(i=d.current.soundEffectHovered)&&void 0!==i?i:b.hover,soundEffectFocused:null!==(c=d.current.soundEffectFocused)&&void 0!==c?c:b.focus,soundEffectPressed:null!==(s=d.current.soundEffectPressed)&&void 0!==s?s:b.press,pressDuration:d.current.pressDuration},"narrationText"in d.current?{narrationText:d.current.narrationText}:{getNarrationText:d.current.getNarrationText}),e.createElement(t.Mount,{when:A},e.createElement(ic,bu({classNameFocused:ji,className:M,inputLegend:!1},"narrationText"in d.current?{narrationText:d.current.narrationText}:{getNarrationText:d.current.getNarrationText}),N)),N,e.createElement("div",{className:k,style:null!=d.current.height?{height:`${d.current.height}rem`}:void 0},e.createElement(hc,bu({effect:d.current.reflection,disabled:y||d.current.disabled,role:d.current.variant},null!==(u=d.current.reflectionConfig)&&void 0!==u?u:{})),e.createElement("div",{className:Or()(hu.raised,hu.shine)},n.children)))}function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Su.apply(this,arguments)}function Cu(n){let{imageSource:a,icon:r}=n,l=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["imageSource","icon"]);const o=(0,t.useFacetWrap)(a),i=(0,t.useFacetWrap)(r);return e.createElement(e.Fragment,null,e.createElement(t.With,{data:o},(t=>e.createElement(Rc,Su({imageRendering:"pixelated"},l,{src:t})))),e.createElement(t.With,{data:i},(n=>{const a=(r=n,n=>{const a=(0,t.useFacetUnwrap)(r);return a===t.NO_VALUE?null:e.createElement(a,n)});var r;return e.createElement(a,l)})))}function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mu.apply(this,arguments)}const wu=()=>{},ku=(e,t=!1)=>{switch(e){case"primary":case"secondary":return"secondaryButton";case"destructive":return"destructiveButton";default:return t?"secondaryButton":"primaryButton"}},Tu=(e="secondary")=>"hero"!==e?e:"primary",xu=n=>{const{children:a,variant:r="secondary",onClick:l=wu,narrationPrefix:o="",narrationSuffix:i="",disabled:c,soundEffectPressed:s,soundEffectHovered:u,soundEffectFocused:d,delayedClick:m,horizontal:p,isElevated:f=!0,autofocus:g,gamepadIndex:E=0,gamepadAlias:h,disableScrollIntoView:b,inputLegend:v,onFocusChanged:F}=n,{t:y}=Ii("Button"),S=(0,t.useFacetMap)(((e,t)=>`${e} . ${y(".button")} . ${t}`),[y],[(0,t.useFacetWrap)(o),(0,t.useFacetWrap)(i)]);return e.createElement(yu,{isElevated:f,delayedClick:m,narrationText:S,className:Eu.container,"data-testid":n["data-testid"],classNameHovered:Eu.hovered,classNameFocused:Eu.focused,classNamePressed:Eu.pressed,classNameElevated:Eu.elevated,classNameElevatedAndPressed:Eu.elevatedAndPressed,disabled:c,gamepadIndex:E,inputLegend:v,autofocus:g,gamepadAlias:h,disableScrollIntoView:b,onClick:l,soundEffectPressed:s,soundEffectHovered:u,soundEffectFocused:d,horizontal:p,variant:Tu(r),onFocusChanged:F},a)},Iu=t=>{var n,a;const{children:r,buttonVariant:l="secondary",typeVariant:o,Icon:i,imgSrc:c,linebreak:s=!1,disabledTextOverride:u,role:d="inherit",hasShadow:m,disabled:p}=t,f=null!=r,g=br("button",d),E=null!=(null===(n=g.text)||void 0===n?void 0:n.interactive);return e.createElement("fast-div",{className:Eu.labelContainer},e.createElement(ja,{role:d},e.createElement(Cu,{icon:i,imageSource:c,className:f?Eu.imageWithChildren:Eu.image,disabled:p})),f&&e.createElement(zs,{align:s?"center":void 0,role:d,type:ku(l,E),variant:o,className:null===(a=g.text)||void 0===a?void 0:a.interactive,shadow:m,children:s?null!=u?u:r:e.createElement(ru,null,null!=u?u:r),interactive:!0}))},Pu=n=>{let{children:a,imgSrc:r,Icon:l,linebreak:o=!1,disabledTextOverride:i,disabled:c,variant:s="secondary",narrationPrefix:u}=n,d=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["children","imgSrc","Icon","linebreak","disabledTextOverride","disabled","variant","narrationPrefix"]);const m=(0,t.useFacetWrap)(c),p=(0,t.useFacetMap)((e=>"hero"===s&&!e),[s],[m]);return e.createElement(xu,Mu({disabled:c,variant:s,narrationPrefix:null!=u?u:a},d),e.createElement(Iu,{buttonVariant:s,imgSrc:r,Icon:l,linebreak:o,disabledTextOverride:i,disabled:c,hasShadow:p,role:Tu(s)},a))};let Ou;!function(e){e[e.HORIZONTAL_SHAKE=0]="HORIZONTAL_SHAKE"}(Ou||(Ou={}));const Au={[Ou.HORIZONTAL_SHAKE]:{className:"NFMf6",duration:200}};function Nu(n=Ou.HORIZONTAL_SHAKE){const[a,r]=(0,t.useFacetState)(""),l=(0,e.useRef)(),o=(0,e.useCallback)((()=>{const e=Au[n];r(e.className),l.current=setTimeout((()=>{r("")}),e.duration)}),[n,r]);return(0,e.useEffect)((()=>()=>clearTimeout(l.current)),[]),[o,a]}let Ru;!function(e){e[e.VALID=0]="VALID",e[e.INVALID=1]="INVALID"}(Ru||(Ru={}));const Lu=(0,t.createStaticFacet)("");function _u(e,n,a,r,l,o,i=Lu){return(0,t.useFacetMap)(((t,n,a,r,l)=>""!=r?r:[t,e(".narrationComponentType"),e(".disabled"),n||null!=o&&o||e(".empty"),a,l].filter((e=>null!=e)).join(" . ")),[e,o],[n,a,r,l,i])}function Du(e,n,a,r,l,o,i=Lu){return(0,t.useFacetMap)(((t,n,a,r,l)=>""!=r?r:[t,e(".narrationComponentType"),n||null!=o&&o||e(".empty"),a,l].filter((e=>null!=e&&""!=e)).join(" . ")),[e,o],[n,a,r,l,i])}const Bu=()=>{},Wu=()=>{};function Uu({gamepadAlias:n,value:a,disabled:r=!1,maxLength:l,onChange:o=Wu,onBlur:i,placeholder:c,description:s="",narrationOverride:u="",disabledNarrationOverride:d="",label:m,rows:p=1,focusGridIndex:f,disabledNarrationSuffix:g,isNumber:E,transparent:h,onKeyDown:b,onKeyUp:v,"data-testid":F}){const{t:y}=Ii("TextField"),S=(0,t.useFacetWrap)(a),C=(0,t.useFacetWrap)(u),M=(0,t.useFacetWrap)(d),w=(0,t.useFacetWrap)(null!=g?g:""),k=(0,t.useFacetWrap)(s),T=(0,t.useFacetWrap)(m),x=(0,t.useFacetWrap)(r),I=(0,t.useFacetWrap)(h),[P,O]=Nu(Ou.HORIZONTAL_SHAKE),A=Du(y,T,S,k,C,c),N=_u(y,T,S,k,M,c,w),R=(0,e.useCallback)(((e,t)=>{null!=i&&i(e,t)===Ru.INVALID&&P()}),[i,P]);return e.createElement(gu,{disabled:x,label:T,focusGridIndex:f,description:k,transparent:I,disabledNarrationText:N},e.createElement(cu,{className:O,placeholder:c,disabled:r,label:T,gamepadAlias:n,maxLength:l,narrationText:A,value:a,onChange:o,rows:p,onBlur:R,isNumber:E,shouldBlurOnEnter:!0,shouldBlurOnEscape:!0,onKeyDown:b,onKeyUp:v,"data-testid":F}))}Uu.WithButton=function({gamepadAlias:n,value:a,disabled:r=!1,label:l,maxLength:o,onChange:i=Bu,onBlur:c,placeholder:s,description:u="",narrationOverride:d="",disabledNarrationOverride:m="",rows:p=1,focusGridIndex:f,buttonNarrationHint:g,disabledNarrationSuffix:E,isNumber:h,textDisabled:b=!1,buttonText:v,buttonInputLegend:F="",buttonDisabled:y=!1,buttonOnClick:S=Bu,soundEffectButtonPressed:C,buttonVariant:M="secondary",buttonDisabledNarrationHint:w="","data-testid":k}){const{t:T}=Ii("TextField"),{t:x}=Ii("TextFieldWithButton"),I=(0,t.useFacetWrap)(a),P=(0,t.useFacetWrap)(d),O=(0,t.useFacetWrap)(m),A=(0,t.useFacetWrap)(null!=E?E:""),N=(0,t.useFacetWrap)(l),R=(0,t.useFacetWrap)(r),L=(0,t.useFacetWrap)(u),_=(0,t.useFacetMap)((e=>`${e} . ${x(".navigationHint")}`),[x],[L]),D=(0,t.useFacetWrap)(b),B=(0,t.useFacetWrap)(y),W=(0,t.useFacetWrap)(w),U=(0,t.useFacetMap)(((e,t)=>e?t:""),[],[B,W]),[z,j]=Nu(Ou.HORIZONTAL_SHAKE),H=Du(T,N,I,_,P,s,U),V=_u(T,N,I,_,O,s,A),G=(0,e.useCallback)(((e,t)=>{null!=c&&c(e,t)===Ru.INVALID&&z()}),[c,z]);return e.createElement(gu,{disabled:R,label:N,focusGridIndex:f,description:L,disabledNarrationText:V},e.createElement("div",{className:"L6uh_"},e.createElement("div",{className:"XpDm4"},e.createElement(cu,{className:j,placeholder:s,disabled:(0,t.useFacetMap)(((e,t)=>e||t),[],[D,R]),label:N,gamepadAlias:n,maxLength:o,narrationText:H,value:a,onChange:i,onBlur:G,isNumber:h,rows:p,shouldBlurOnEnter:!0,shouldBlurOnEscape:!0,"data-testid":k})),e.createElement(Yc,{size:2}),e.createElement("div",{className:"JA_ZQ"},e.createElement(Pu,{gamepadIndex:1,inputLegend:F,disabled:(0,t.useFacetMap)(((e,t)=>e||t),[],[B,R]),onClick:S,soundEffectPressed:C,narrationSuffix:g,variant:M},v))))},Uu.ValidationResult=Ru;const zu="f6wZX";function ju({percentage:n,tall:a=!1,fillColor:r="#2e6be5",fillColorThresholds:l,fillComplement:o=!1}){const i=(0,t.useFacetWrap)(n),c=(0,t.useFacetWrap)(a);(n<0||n>1)&&console.warn("Percentage needs to be a valid number from 0 to 1");const s=(0,e.useMemo)((()=>null!=l?Object.keys(l).map((e=>e)).sort(((e,t)=>e>t?1:-1)):void 0),[l]),u=(0,t.useFacetMap)(((e,t)=>{if(null==s||null==l)return e;if(0===s.length)return console.warn("Empty thresholds object passed to ProgressBar."),e;for(let e=s.length;e>=0;e--)if(t>=s[e])return l[s[e]];return e}),[l,s],[(0,t.useFacetWrap)(r),i]),d=(0,t.useFacetMap)((e=>"string"==typeof e?e:!0===e?"#ffb366":void 0),[],[(0,t.useFacetWrap)(o)]),m=!1===(0,t.useFacetUnwrap)(o);return e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>Or()("q6zFV",{[zu]:e})),[],[c]),style:{backgroundColor:d}},e.createElement(hc,{effect:"bevel",thin:!0,reversed:m}),e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>Or()("oOBki",{[zu]:e})),[],[c]),style:{width:(0,t.useFacetMap)((e=>`${Math.max(Math.min(Math.round(100*e),100),0)}%`),[],[i]),backgroundColor:u}},e.createElement(hc,{effect:"bevel",thin:!0,right:!1})))}const Hu={InputLegend:"FGHxt",hidden:"mdtlU"},Vu="liriy",Gu="VLERn",$u="UoTWb",Ku="l5n3u",Xu="xN6WQ",Yu="eMLrL",qu={[W.A]:Or()(Vu,"OHrZ8",Gu),[W.B]:Or()(Vu,"fg2E4",Gu),[W.X]:Or()(Vu,"iQyId",Gu),[W.Y]:Or()(Vu,"pxPk9",Gu),[W.START]:Or()(Vu,"oDCN0","eVmaS"),[W.LEFT_TRIGGER]:Or()(Vu,"WyyoK",$u),[W.RIGHT_TRIGGER]:Or()(Vu,"aOFj8",$u),[W.LEFT_BUMPER]:Or()(Vu,"GS50F",Ku),[W.RIGHT_BUMPER]:Or()(Vu,"mKs6r",Ku),[W.LEFT]:Or()(Vu,"pDhLW",Xu),[W.RIGHT]:Or()(Vu,"wK3Xd",Xu),[W.UP]:Or()(Vu,"nlvNB",Xu),[W.DOWN]:Or()(Vu,"J9MtE",Xu),[W.SELECT]:Or()(Vu,"QvCIw","RjcUU"),[W.L3]:Or()(Vu,"Fqdok",Yu),[W.R3]:Or()(Vu,"yqVFC",Yu),[W.LEFT_ANALOG_LEFT]:Or()(Vu,"v0Ce5",Yu),[W.RIGHT_ANALOG_LEFT]:Or()(Vu,"i4uVO",Yu),large:"aItg1",small:"vMjA2"},Qu="YQeSi",Ju="at3wP",Zu="hjYMG",ed="bSrtd",td="pdEm6",nd="FkFaw",ad={[W.A]:Or()(Qu,"saRDS",Ju),[W.B]:Or()(Qu,"fq1Wt",Ju),[W.X]:Or()(Qu,"KeNau",Ju),[W.Y]:Or()(Qu,"e7md4",Ju),[W.START]:Or()(Qu,"kqt1L","TvAgE"),[W.LEFT_TRIGGER]:Or()(Qu,"DckFK",ed),[W.RIGHT_TRIGGER]:Or()(Qu,"RYAZU",ed),[W.LEFT_BUMPER]:Or()(Qu,"U6swu",Zu),[W.RIGHT_BUMPER]:Or()(Qu,"G58dQ",Zu),[W.LEFT]:Or()(Qu,"huNm8",td),[W.RIGHT]:Or()(Qu,"JHI_T",td),[W.UP]:Or()(Qu,"dkG8m",td),[W.DOWN]:Or()(Qu,"xESXG",td),[W.SELECT]:Or()(Qu,"Ep0S5","TbNT7"),[W.L3]:Or()(Qu,"Khy_Q",nd),[W.R3]:Or()(Qu,"W_0vF",nd),[W.LEFT_ANALOG_LEFT]:Or()(Qu,"JoHy1",nd),[W.RIGHT_ANALOG_LEFT]:Or()(Qu,"xI7dX",nd),large:"OQ6xf",small:"VqfCS"},rd="oYpoG",ld="rgQQy",od="NHxos",id="bWa3v",cd="bkeIb",sd="EtpTm",ud={[W.A]:Or()(rd,"s5WBf",ld),[W.B]:Or()(rd,"Kv7uC",ld),[W.X]:Or()(rd,"kYWOu",ld),[W.Y]:Or()(rd,"WtpwV",ld),[W.START]:Or()(rd,"lACg4","M2OrT"),[W.LEFT_TRIGGER]:Or()(rd,"wxIDB",id),[W.RIGHT_TRIGGER]:Or()(rd,"X2Vmd",id),[W.LEFT_BUMPER]:Or()(rd,"tHBmF",od),[W.RIGHT_BUMPER]:Or()(rd,"n1nsL",od),[W.LEFT]:Or()(rd,"FOhDs",cd),[W.RIGHT]:Or()(rd,"xALny",cd),[W.UP]:Or()(rd,"h2Qqa",cd),[W.DOWN]:Or()(rd,"f8TY5",cd),[W.SELECT]:Or()(rd,"f2Ygw","M_q6y"),[W.L3]:Or()(rd,"qxa8S",sd),[W.R3]:Or()(rd,"KhF5i",sd),[W.LEFT_ANALOG_LEFT]:Or()(rd,"lEWFT",sd),[W.RIGHT_ANALOG_LEFT]:Or()(rd,"GcMtB",sd),large:"YG8U4",small:"z6TF3"},dd="K_Ucb",md="MC54K",pd="Yh8am",fd="f12Q1",gd="chFOJ",Ed="ApnkV",hd={[W.A]:Or()(dd,"qRaP6",md),[W.B]:Or()(dd,"AI6pj",md),[W.X]:Or()(dd,"_MHws",md),[W.Y]:Or()(dd,"B5rVg",md),[W.START]:Or()(dd,"sp3nW","lfQSn"),[W.LEFT_TRIGGER]:Or()(dd,"Vdaoj",fd),[W.RIGHT_TRIGGER]:Or()(dd,"_O7W7",fd),[W.LEFT_BUMPER]:Or()(dd,"oQWb_",pd),[W.RIGHT_BUMPER]:Or()(dd,"u1YVo",pd),[W.LEFT]:Or()(dd,"tkRUh",gd),[W.RIGHT]:Or()(dd,"e3hRs",gd),[W.UP]:Or()(dd,"znMgA",gd),[W.DOWN]:Or()(dd,"Ghttt",gd),[W.SELECT]:Or()(dd,"jyA7I","gnCaZ"),[W.L3]:Or()(dd,"ejTg5",Ed),[W.R3]:Or()(dd,"wIh1n",Ed),[W.LEFT_ANALOG_LEFT]:Or()(dd,"uxDU0",Ed),[W.RIGHT_ANALOG_LEFT]:Or()(dd,"RBEvC",Ed),large:"h7tik",small:"P1SbE"},bd="G7Zxr",vd="PITVu",Fd="SRDuY",yd={[de.TAB]:Or()(bd,"w8Ue4",vd),[de.ENTER]:Or()(bd,"DaFVW",vd),[de.SHIFT]:Or()(bd,"PnyQi",vd),[de.ESCAPE]:Or()(bd,"Smnr0",vd),[de.SPACE]:Or()(bd,"s89WE",vd),[de.CTRL]:Or()(bd,"sWwMn",vd),[de.F2]:Or()(bd,"VoqlF",vd),[de.BRACKET_OPEN]:Or()(bd,"uSqYm"),[de.BRACKET_CLOSE]:Or()(bd,"ekxWu"),[de.UP]:Or()(bd,"b7nKj"),[de.RIGHT]:Or()(bd,"Lz1in"),[de.DOWN]:Or()(bd,"j_BNz"),[de.LEFT]:Or()(bd,"OE2P1"),[de.KEY_0]:Or()(bd,"TbhIT"),[de.KEY_1]:Or()(bd,"cuPgL"),[de.KEY_2]:Or()(bd,"e5wNF"),[de.KEY_3]:Or()(bd,"ppvtq"),[de.KEY_4]:Or()(bd,"Y81IB"),[de.KEY_5]:Or()(bd,"m3hWH"),[de.KEY_6]:Or()(bd,"_2osj"),[de.KEY_7]:Or()(bd,"GKXym"),[de.KEY_8]:Or()(bd,"czhOA"),[de.KEY_9]:Or()(bd,"qHgTt"),[de.KEY_A]:Or()(bd,"tBb_V"),[de.KEY_C]:Or()(bd,"tz71H"),[de.KEY_D]:Or()(bd,"VyL1w"),[de.KEY_E]:Or()(bd,"tpVOe"),[de.KEY_F]:Or()(bd,"q9B4F"),[de.KEY_M]:Or()(bd,"Drtqa"),[de.KEY_Q]:Or()(bd,"tafjE"),[de.KEY_R]:Or()(bd,"Zb3UU"),[de.KEY_S]:Or()(bd,"YOlJ6"),[de.KEY_T]:Or()(bd,"oMhZB"),[de.KEY_V]:Or()(bd,"iCLcl"),[de.KEY_W]:Or()(bd,"auvwE"),[de.KEY_X]:Or()(bd,"QxQ1Y"),[de.KEY_Y]:Or()(bd,"QrQyh"),[de.KEY_Z]:Or()(bd,"Hoaaj"),[de.MOUSE_MOVEMENT]:Or()(bd,"T27KG",Fd),[de.MOUSE_BUTTON_LEFT]:Or()(bd,"JqJ5A",Fd),[de.MOUSE_BUTTON_MIDDLE]:Or()(bd,"SWSY_",Fd),[de.MOUSE_BUTTON_RIGHT]:Or()(bd,"P_s1j",Fd),[de.MOUSE_WHEEL]:Or()(bd,"m3IeL",Fd),[-2]:"Gnnm7",[-3]:"roch1"},Sd=function({button:n,theme:a="light"}){const r=(0,e.useContext)(Xe),l=(0,t.useFacetWrap)(n),o=(0,t.useFacetMap)(((e,t)=>{const n=(r=t)===Ve.XBOX?qu:r===Ve.PS4?ad:r===Ve.PS5?ud:r===Ve.NX_HANDHELD||r===Ve.NX_TV?hd:qu;var r;return n[e]?Or()(n[e],{[n.large]:"large"===a,[n.small]:"small"===a}):""}),[a],[l,r]);return e.createElement("fast-div",{className:o})},Cd=({keyCode:n,theme:a="light"})=>{const r=(0,t.useFacetWrap)(n),l=(0,t.useFacetMap)((e=>null!=yd[e]?Or()(yd[e],{[yd[-2]]:"large"===a,[yd[-3]]:"small"===a}):"bWVyX"),[a],[r]),o=(0,t.useFacetMap)((e=>null==yd[e]?String.fromCharCode(e):""),[],[r]);return e.createElement("fast-div",{className:l},e.createElement("fast-text",{text:o}))};function Md(n){const a=br("inputLegend","inherit"),{label:r,hidden:l=!1,onClick:o,onHoverChanged:i}=n,c=(0,t.useFacetMap)((e=>Or()("r2rQH",a.inputHint.interactive,{Ob6kp:e})),[a],[(0,t.useFacetWrap)(l)]),s=e.createElement(e.Fragment,null,e.createElement("div",{className:"X7C6X"},"button"in n?e.createElement(Sd,{button:n.button,theme:"light"}):e.createElement(Cd,{keyCode:n.keyCode,theme:"light"})),e.createElement("div",{className:"lX5qc"}),e.createElement("fast-text",{text:r}));return o?e.createElement(ic,{gamepadIndex:0,narrationText:r,inputLegend:r,onHoverChanged:i,onClick:o,className:c,classNameHovered:"LJ0gR",classNamePressed:"MMiKH",nonFocusable:!0},s):e.createElement("fast-div",{className:c},s)}function wd({shouldDisplayKeyboard:n,isClickable:a=!1,role:r="neutral100"}){const[l]=(0,e.useContext)(xn);return e.createElement(ja,{role:r},e.createElement(kd,{isClickable:a,visible:(0,t.useFacetMap)(((e,t)=>e&&!!n&&!t),[n],[tt(),l])}),e.createElement(Td,{isClickable:a,visible:(0,t.useFacetMap)(((e,t)=>e&&!t),[],[et(),l])}))}function kd({isClickable:n,visible:a}){const r=Ce(),l=(0,t.useFacetMap)((({swapABButtons:e})=>e),[],[r]),o=(0,t.useFacetMap)((({swapXYButtons:e})=>e),[],[r]),i=Le(),c=Be(),[s]=he(),u=(0,t.useFacetUnwrap)(s),d=u===t.NO_VALUE?fe:u;return e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>e?Hu.InputLegend:Hu.hidden),[],[a])},e.createElement(wd.Wrapper,{left:e.createElement(Md,{keyCode:(0,t.useFacetMap)((e=>d[e?W.A:W.B][0]),[d],[l]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.B])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.B):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.B]),[],[i])}),right:e.createElement(e.Fragment,null,e.createElement(Md,{keyCode:d[W.LEFT][0],label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.LEFT])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.LEFT):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.LEFT]),[],[i])}),e.createElement(Md,{keyCode:d[W.RIGHT][0],label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.RIGHT])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.RIGHT):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.RIGHT]),[],[i])}),e.createElement(Md,{keyCode:d[W.UP][0],label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.UP])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.UP):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.UP]),[],[i])}),e.createElement(Md,{keyCode:d[W.DOWN][0],label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.DOWN])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.DOWN):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.DOWN]),[],[i])}),e.createElement(Md,{keyCode:(0,t.useFacetMap)((e=>d[e?W.Y:W.X][0]),[d],[o]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.X])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.X):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.X]),[],[i])}),e.createElement(Md,{keyCode:(0,t.useFacetMap)((e=>d[e?W.X:W.Y][0]),[d],[o]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.Y])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.Y):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.Y]),[],[i])}),e.createElement(Md,{keyCode:d[W.START][0],label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.START])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.START):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.START]),[],[i])}),e.createElement(Md,{keyCode:(0,t.useFacetMap)((e=>d[e?W.B:W.A][0]),[d],[l]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.A])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.A):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.A]),[],[i])}))}))}function Td({isClickable:n,visible:a}){const r=Ce(),l=(0,t.useFacetMap)((({swapABButtons:e})=>e),[],[r]),o=(0,t.useFacetMap)((({swapXYButtons:e})=>e),[],[r]),i=Le(),c=Be();return e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>e?Hu.InputLegend:Hu.hidden),[],[a])},e.createElement(wd.Wrapper,{left:e.createElement(Md,{button:(0,t.useFacetMap)((e=>e?W.A:W.B),[],[l]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.B])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.A):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.B]),[],[i])}),right:e.createElement(e.Fragment,null,e.createElement(Md,{button:W.LEFT,label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.LEFT])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.LEFT):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.LEFT]),[],[i])}),e.createElement(Md,{button:W.LEFT_TRIGGER,label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.LEFT_TRIGGER])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.LEFT_TRIGGER):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.LEFT_TRIGGER]),[],[i])}),e.createElement(Md,{button:W.RIGHT_TRIGGER,label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.RIGHT_TRIGGER])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.RIGHT_TRIGGER):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.RIGHT_TRIGGER]),[],[i])}),e.createElement(Md,{button:W.RIGHT,label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.RIGHT])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.RIGHT):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.RIGHT]),[],[i])}),e.createElement(Md,{button:W.UP,label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.UP])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.UP):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.UP]),[],[i])}),e.createElement(Md,{button:W.DOWN,label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.DOWN])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.DOWN):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.DOWN]),[],[i])}),e.createElement(Md,{button:(0,t.useFacetMap)((e=>e?W.Y:W.X),[],[o]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.X])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.X):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.X]),[],[i])}),e.createElement(Md,{button:(0,t.useFacetMap)((e=>e?W.X:W.Y),[],[o]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.Y])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.Y):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.Y]),[],[i])}),e.createElement(Md,{button:(0,t.useFacetMap)((e=>e?W.B:W.A),[],[l]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.A])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.A):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.A]),[],[i])}),e.createElement(Md,{button:W.START,label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.START])&&void 0!==t?t:""}),[],[i]),onClick:n?()=>null==c?void 0:c(W.START):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.START]),[],[i])}))}))}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xd.apply(this,arguments)}wd.displayName="InputLegend",wd.Wrapper=function({safeZone:t,left:n,right:a,role:r="inherit"}){const l=gr(r),o=br("inputLegend",r).sideContainer,i=null!=o.interactive,c=Ll(),s=t||c;return e.createElement("div",{className:Or()("_iCp3",l.text.base),style:{height:`calc(4rem + ${s.bottom}px)`}},e.createElement("div",{className:Or()("Lh0_R",i?void 0:l.background.base)}),e.createElement(hc,{role:r,effect:"specular",thin:!0,left:!1,right:!1,bottom:!1}),e.createElement("div",{className:"HvYsi",style:{height:"4rem",paddingRight:s.right+"px",paddingLeft:s.left+"px"}},null!=n?e.createElement("div",{className:Or()("gB3x9",o.interactive)},n):null,null!=a?e.createElement("div",{className:Or()("Gehqy",o.interactive)},a):null))},wd.InputHint=Md,wd.Space=function({extraSpace:n,addSafeZone:a=!0}){const r=(0,t.useFacetMap)((e=>Or()(Hu.wrapper,{[Hu.hidden]:!e})),[],[et()]),l=Ll(),o=(0,t.useFacetWrap)(a),i=(0,t.useFacetMap)((e=>e?`calc(4rem + ${l.bottom}px)`:"4rem"),[l],[o]);return e.createElement("fast-div",{className:r},e.createElement("fast-div",{style:{height:i}}),n)};const Id=e=>{e.stopPropagation()},Pd=()=>{},Od=(0,e.createContext)({isModalVisible:(0,t.createFacet)({initialValue:!1}),onMount:()=>Pd}),Ad=(0,e.createContext)({getId:()=>0,set:()=>{}}),Nd=(0,e.createContext)((0,t.createFacet)({initialValue:""})),Rd=(0,e.createContext)((0,t.createFacet)({initialValue:""}));function Ld({children:n,defaultFocusAlias:a,overlay:r=!0,onOverlayClick:l,role:o="neutral",modalTypeNarrationHint:i}){const{t:c}=Ii("Modal"),s=(0,e.useRef)(0),[u,d]=(0,t.useFacetState)([]),m=gr(o),[p,f]=(0,t.useFacetState)(""),g=(0,t.useFacetMap)((e=>e.filter((e=>e.length>0)).slice(1).join(" . ")),[],[u]);(0,t.useFacetEffect)((e=>{const t=e.filter((e=>e.length>0)),n=[t[0],c(".narrationModalComponentType"),i,...t.slice(1)].filter(Boolean).join(" . ");f(n)}),[i,f,c],[u]);const E=(0,e.useRef)(null),h=(0,t.useFacetMemo)((e=>e[0]),[],[u]);!function(t){const{onMount:n}=(0,e.useContext)(Od);(0,e.useEffect)((()=>n(t)),[n,t])}();const b=r?Ld.Overlay:e.Fragment,v=r?{onClick:l}:{};return e.createElement(ja,{role:o},e.createElement(b,v,e.createElement(Nd.Provider,{value:h},e.createElement(Rd.Provider,{value:g},e.createElement(Ad.Provider,{value:(0,e.useMemo)((()=>({getId:()=>s.current++,set:(e,n)=>d((a=>a===t.NO_VALUE?[]:(a[e]=!1===n?"":n,a)))})),[d])},e.createElement(Ps,{text:p},e.createElement("div",{ref:E,className:Or()("icsZi",m.border.base),onClick:Id},e.createElement(Pc,{containerRef:E,shouldBindFocus:!0,delegateFocusByAlias:a,delegateFocusFromMemory:!0},n))))))))}const _d=(n,a=0)=>{const r=(0,e.useContext)(Ad),[l,o]=(0,t.useFacetState)(t.NO_VALUE);(0,e.useEffect)((()=>{l.get()==t.NO_VALUE&&o(r.getId())}),[l,o,r]);const i=(0,e.useRef)();(0,t.useFacetEffect)(((e,t)=>{(null==i.current||Date.now()-i.current>a)&&(r.set(e,t),i.current=Date.now())}),[r,a],[l,(0,t.useFacetWrap)(n)])};let Dd;!function(e){e.Ordered="ordered",e.Unordered="unordered"}(Dd||(Dd={}));const Bd=({items:n,gamepadIndex:a,listType:r})=>e.createElement(Ud,{gamepadIndex:a},e.createElement(t.Map,{array:n},((t,a)=>e.createElement(Wd,{items:n,item:t,index:a,listType:r})))),Wd=({items:n,item:a,index:r,listType:l=Dd.Unordered})=>{const o=(0,t.useFacetMap)((e=>e.length-1!==r),[r],[n]);return e.createElement(e.Fragment,null,e.createElement(zd,{gamepadIndex:r,text:a,listType:l}),e.createElement(t.Mount,{when:o},e.createElement(Yc,{size:2})))},Ud=({children:n,gamepadIndex:a})=>!0===(0,t.useFacetUnwrap)(Kc())?e.createElement(Is,{options:{index:a}},n):e.createElement(e.Fragment,null,n),zd=({gamepadIndex:n,text:a,listType:r})=>{const l=r===Dd.Unordered?"•":`${n+1}.`,o=(0,t.useFacetMap)((e=>`${l} ${e}`),[l],[a]),i=Kc(),c=r===Dd.Unordered?a:o;return _d(c),e.createElement(ic.Maybe,{isInteractive:i,gamepadIndex:n,narrationText:c,className:"kxZXz"},e.createElement(zs,{type:"captionLong",align:"left",indent:!0},o))};var jd;Ld.Header=({children:n,onBack:a,onClose:r,titlebarGamepadAlias:l,closeButtonNarrationSuffix:o,hideCloseButton:i,role:c="neutral"})=>{var s,u;_d(n);const d=Gc.Buttons.Close.useLocalization().t(".inputLegend"),m=Gc.Buttons.Back.useLocalization().t(".inputLegend");i=(0,t.useFacetWrap)(null!==(s=i)&&void 0!==s&&s);const p=(0,t.useFacetMap)((e=>e?"yLSeP":""),[],[i]),f=(0,t.useFacetMap)((e=>({button:W.B,inputLegend:null!=a?m:d,disabled:!0===e||null==r})),[a,r,d,m],[i]),g=(0,t.useFacetMap)((e=>!e&&d),[d],[i]);return e.createElement(e.Fragment,null,e.createElement(xs,{options:f,onClick:null!==(u=null!=a?a:r)&&void 0!==u?u:Pd}),e.createElement(Gc,{role:c,gamepadAlias:l,left:a&&e.createElement(Gc.Buttons.Back.Component,{onClick:a}),right:r&&e.createElement("fast-div",{className:p},e.createElement(Gc.Buttons.Close.Component,{onClick:r,inputLegend:g,narrationSuffix:o,testId:"closeModalTestId"}))},e.createElement(zs,{type:"body"},e.createElement(ru,null,n))))},Ld.Text=({image:n,children:a,gamepadIndex:r,narrationText:l,center:o=!1})=>{const i=Kc(),c=(0,t.useFacetWrap)(o);_d(l);const s=(0,t.useFacetMap)((e=>Or()("qXm9P",{[Os]:e})),[],[c]),u=(0,t.useFacetMap)((e=>e?"center":"left"),[],[c]);return e.createElement(ic.Maybe,{isInteractive:i,gamepadIndex:r,narrationText:l,className:s,classNameFocused:ji},e.createElement(zi,{inset:!0}),null==n?null:e.createElement(e.Fragment,null,n,e.createElement(Yc,{size:4})),e.createElement("span",{className:"BPMWS"},e.createElement(zs,{type:"captionLong",align:u},a)))},Ld.Paragraphs=({children:t,narrationText:n,spaceBetweenParagraphs:a=5,gamepadIndex:r,center:l})=>{const o=Kc();_d(n);const i=t.filter(Boolean);return e.createElement(ic.Maybe,{isInteractive:o,gamepadIndex:r,narrationText:n,className:"MHiRD",classNameFocused:ji},e.createElement(zi,{inset:!0}),i.map(((t,n)=>e.createElement(e.Fragment,{key:n},e.createElement("div",{className:Or()("yHUQ1",{[Os]:l})},t),null!=a&&n<i.length-1&&e.createElement(Yc,{size:a})))))},Ld.List=Bd,Ld.OrderedList=({items:t,gamepadIndex:n})=>e.createElement(Bd,{items:t,gamepadIndex:n,listType:Dd.Ordered}),Ld.Content=({children:t,gamepadAlias:n,scrollable:a=!0,role:r="neutral80",scrollbarBackgroundRole:l,scrollbarClassName:o,className:i})=>{const c=(0,e.useContext)(Nd),s=(0,e.useContext)(Rd),[u,d]=(0,e.useState)(!1),m=gr(r);return e.createElement(Ps,{text:c},e.createElement("div",{className:Or()(m.background.base,m.text.base,i,{GHU0b:a})},a?e.createElement(ys,{gamepadIndex:-1,floating:!0,emptyFocusableGamepadAlias:n,emptyFocusableNarrationText:u?"":s,scrollbarBackgroundRole:l,scrollbarClassName:o,focusControlDisabled:!0},t,e.createElement(ys.SiblingState,{callback:d})):t))},Ld.Buttons=({children:t,horizontal:n=!1,role:a="inherit",header:r})=>{const l=gr(a);return e.createElement(Wr,null,r,e.createElement("div",{className:Or()("kc2Fb",l.background.base,{IVSIi:n})},e.createElement(hc,{effect:"bevel",left:!1,right:!1}),t))},Ld.Overlay=({onClick:t,children:n,role:a="inherit"})=>{const r=gr(a);return e.createElement("div",{className:Or()("VT1Tw",r.overlay.base),onClick:t},e.createElement("div",{className:"UvzEX"},n,e.createElement(wd.Space,null)))},Ld.Progress=function({percentage:n}){const{t:a}=Ii("Modal"),r=(0,t.useFacetWrap)(n),l=(0,t.useFacetMap)((e=>a(".progressPercentage",[`${Math.round(100*e)}`])),[a],[r]);return _d(l,2e3),e.createElement("div",{className:As},e.createElement(ju,{percentage:r}),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"captionLong",align:"center"},l))},Ld.InformativeProgress=function({percentage:n,label:a,narrationText:r}){const l=(0,t.useFacetWrap)(n),o=(0,t.useFacetWrap)(null!=a?a:""),i=(0,t.useFacetWrap)(null!=r?r:"");return _d(i,2e3),e.createElement("div",{className:As},e.createElement(ju,{percentage:l}),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"captionLong",align:"right"},o))},Ld.Spinner=()=>e.createElement("div",{className:"YkW5u"},e.createElement(vs,null)),Ld.Checkbox=t=>{var n;return e.createElement(Js,xd({},t,{gamepad:{index:null!==(n=t.gamepadIndex)&&void 0!==n?n:0},small:!0}))},Ld.TextField=t=>e.createElement(Uu,xd({},t,{transparent:!0})),Ld.FocusManager=function({children:n}){const[a,r]=(0,t.useFacetState)(!1),l=(0,e.useMemo)((()=>({isModalVisible:a,onMount:()=>(r(!0),()=>{r(!1)})})),[a,r]);return e.createElement(Od.Provider,{value:l},n)},Ld.useIsAnyModalVisible=function(){return(0,e.useContext)(Od).isModalVisible},function(e){e[e.Undefined=0]="Undefined",e[e.Mouse=1]="Mouse",e[e.Touch=2]="Touch",e[e.GamePad=3]="GamePad",e[e.MotionController=4]="MotionController",e[e.Count=5]="Count"}(jd||(jd={})),new Map([[jd.Mouse,je.MOUSE],[jd.Touch,je.TOUCH],[jd.GamePad,je.GAMEPAD],[jd.MotionController,je.MOTION]]);function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hd.apply(this,arguments)}(0,e.createContext)({isOpen:(0,t.createStaticFacet)(!1),placement:"top",onOpen:()=>{},onClose:()=>{},onToggle:()=>{},triggerRef:(0,e.createRef)(),contentRef:(0,e.createRef)()});const Vd=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);return e.createElement("fast-div",Hd({},a,{id:"tooltip-root",className:Or()("iVsRv",n)}))};n(78230);const Gd=()=>e.createElement(t.DeferredMount,null,e.createElement("div",{className:"__preload_ui_textures__"}));function $d({children:n,defaultRoute:a,errorComponent:r,dismissTimeout:l,scalingMode:o="default",keyboardGamepadMap:i=fe,semanticCollection:c,deviceInformationOptions:s={},shouldUseNarrationQueueSystem:u=!1,wrapperComponent:d=e.Fragment}){const m=d,p=e.Fragment,f=(0,e.useCallback)((()=>{jn.trigger("core:routing:not-found")}),[]);return e.createElement(nr,null,e.createElement(ar,{collection:c},e.createElement(t.SharedFacetDriverProvider,{value:Mi},e.createElement(Fi,{queryDriver:wi,commandsDriver:ki},e.createElement(bl,null,e.createElement(Pi,null,e.createElement(tl,s,e.createElement(Xl,null,e.createElement(Kl,null,e.createElement(cl,null,e.createElement(Nl,null,e.createElement(li,{scalingMode:o},e.createElement(nl,{errorComponent:r,dismissTimeout:l},e.createElement(si,null,e.createElement(Mr,{keyboardGamepadMap:i},e.createElement(Il,{shouldUseQueueSystem:u},e.createElement(Ld.FocusManager,null,e.createElement(pi,null,e.createElement(Ni,null,e.createElement(p,null,e.createElement(m,null,e.createElement(w,{onNotFound:f},[...e.Children.toArray(n),e.createElement(S,{from:"/",to:a,key:"default-redirect"})]))),e.createElement(Vd,null),e.createElement(Gd,null))))))))))))))))))))}let Kd;(0,t.sharedFacet)("core.social"),(0,t.facet)("core.user"),function(e){e[e.NoVR=0]="NoVR",e[e.VRFull3DWorld=1]="VRFull3DWorld",e[e.VRVirtual2DScreen=2]="VRVirtual2DScreen"}(Kd||(Kd={})),(0,t.sharedFacet)("core.vrMode");var Xd=n(51637),Yd=n.n(Xd),qd=n(95799),Qd=n.n(qd),Jd=n(12821),Zd=n.n(Jd),em=n(35140),tm=n.n(em);function nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function am(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nm(Object(n),!0).forEach((function(t){rm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rm(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const lm=am(am({},Yd()),Qd());function om(e,t){for(let n=0;n<e.length;n++)if(t(e[n],n,e))return e[n]}am(am(am({},lm),Zd()),tm());const im="vanilla.achievementsReward";let cm;!function(e){e[e.LOADING=0]="LOADING",e[e.LOADED=1]="LOADED"}(cm||(cm={}));const sm=(0,t.sharedFacet)("vanilla.achievements"),um=(0,t.sharedSelector)((e=>Mm(e.data.achievements)),[sm]),dm=((0,t.sharedSelector)((e=>e.data.achievements.filter(vm)),[sm]),(0,t.sharedSelector)((e=>e.data.achievements.filter(bm).sort(wm)),[sm])),mm=(0,t.sharedSelector)((e=>Cm(e.data.achievements)),[sm]),pm=(0,t.sharedSelector)((e=>e.status===cm.LOADED),[sm]),fm=(0,t.sharedDynamicSelector)((e=>[(t,n)=>({isLoaded:n,achievement:om(t.data.achievements,(t=>t.id===e))}),[sm,pm]])),gm=(0,t.sharedSelector)((e=>({loaded:e.status===cm.LOADED,unlocked:e.data.achievementsUnlocked,total:e.data.maxAchievements,inProgressCount:e.data.achievements.filter(Em).length,rewardsTotal:Sm(e.data.achievements),rewardsUnlocked:ym(e.data.achievements),gamerScore:e.data.currentGamerScore,maxGamerScore:e.data.maxGamerScore,hoursPlayed:e.data.hoursPlayed})),[sm],t.shallowObjectEqualityCheck);function Em(e){return e.isLocked&&e.progress>0}function hm(e){return!e.isLocked}function bm(e){return e.isLocked}function vm(e){return e.isLocked&&!e.progress}function Fm(e){return!(e.isLocked&&!e.isRewardOwned)}function ym(e){return e.filter((e=>e.hasReward&&Fm(e))).length}function Sm(e){return e.filter((e=>e.hasReward)).length}function Cm(e){return e.filter(hm).sort(km)}function Mm(e){const t=[],n=[],a=[],r=[];e.forEach((e=>{vm(e)?(a.push(e),r.push(e)):hm(e)?n.push(e):(t.push(e),r.push(e))})),t.sort(wm),r.sort(Tm);const l=a,o=Cm(n);return{inProgress:t,locked:l,completed:o,suggested:r}}function wm(e,t){return!e.hasReward&&t.hasReward?1:e.hasReward&&!t.hasReward?-1:e.progress<t.progress?1:e.progress>t.progress?-1:0}function km(e,t){return e.dateUnlocked<t.dateUnlocked?1:e.dateUnlocked>t.dateUnlocked?-1:0}function Tm(e,t){return e.suggestedOrder-t.suggestedOrder}const xm=(0,t.sharedFacet)("vanilla.buildSettings"),Im=(0,t.sharedSelector)((e=>e.isDevBuild),[xm]),Pm=(0,t.sharedSelector)((e=>e.isEduBuild),[xm]),Om=(0,t.sharedSelector)((e=>e.isPreviewBuild),[xm]),Am=(0,t.sharedFacet)("vanilla.clipboard");function Nm(e,t){return e.major-t.major!=0?e.major-t.major:e.minor-t.minor!=0?e.minor-t.minor:e.patch-t.patch!=0?e.patch-t.patch:e.revision-t.revision!=0?e.revision-t.revision:0}let Rm,Lm,_m,Dm,Bm,Wm,Um,zm;!function(e){e[e.PEACEFUL=0]="PEACEFUL",e[e.EASY=1]="EASY",e[e.NORMAL=2]="NORMAL",e[e.HARD=3]="HARD"}(Rm||(Rm={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ALWAYS_DAY=1]="ALWAYS_DAY",e[e.LOCK_TIME=2]="LOCK_TIME"}(Lm||(Lm={})),function(e){e[e.GAMEPLAY=0]="GAMEPLAY",e[e.ADD_ON_CREATORS=1]="ADD_ON_CREATORS",e[e.INTERNAL_TESTS=2]="INTERNAL_TESTS"}(_m||(_m={})),function(e){e[e.NONE=0]="NONE",e[e.CHECK_INTERNET_CONNECTION=1]="CHECK_INTERNET_CONNECTION",e[e.DISCONNECTED_THIRD_PARTY_WITH_SUBSCRIPTION=2]="DISCONNECTED_THIRD_PARTY_WITH_SUBSCRIPTION",e[e.LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY=3]="LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY",e[e.MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY=4]="MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY",e[e.MULTIPLAYER_PRIVILEGES_BLOCKED=5]="MULTIPLAYER_PRIVILEGES_BLOCKED",e[e.MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE=6]="MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE",e[e.CROSS_PLATFORM_DISABLED=7]="CROSS_PLATFORM_DISABLED",e[e.NON_MULTIPLAYER_SKIN_EQUIPPED=8]="NON_MULTIPLAYER_SKIN_EQUIPPED"}(Dm||(Dm={})),function(e){e[e.UNASSIGNED_DEV_VERSION=0]="UNASSIGNED_DEV_VERSION",e[e.MEMBER_OF_TOO_MANY_REALMS=1]="MEMBER_OF_TOO_MANY_REALMS",e[e.CANNOT_CONNECT_TO_REALM=2]="CANNOT_CONNECT_TO_REALM",e[e.CROSS_PLATFORM_RESTRICTED=3]="CROSS_PLATFORM_RESTRICTED",e[e.UNKNOWN=4]="UNKNOWN"}(Bm||(Bm={})),function(e){e[e.NOT_ENOUGH_STORAGE=0]="NOT_ENOUGH_STORAGE",e[e.MISSING_CONTENT_KEY=1]="MISSING_CONTENT_KEY"}(Wm||(Wm={})),function(e){e[e.INVITED=1]="INVITED",e[e.FRIENDS=2]="FRIENDS",e[e.FRIENDS_OF_FRIENDS=3]="FRIENDS_OF_FRIENDS"}(Um||(Um={})),function(e){e[e.VISITOR=0]="VISITOR",e[e.MEMBER=1]="MEMBER",e[e.OPERATOR=2]="OPERATOR"}(zm||(zm={}));const jm=(0,t.sharedFacet)("vanilla.createNewWorld"),Hm=((0,t.sharedSelector)((e=>e.isEditorWorld),[jm]),(0,t.sharedSelector)((e=>e.worldCreationData.scriptingCoding),[jm]),(0,t.createFacet)({initialValue:{userTriedToActivateToggle:!1,doSetToggleValue:()=>{},userHasAcceptedBetaFeatures:!1}}));let Vm;!function(e){e[e.CreatingPreviewRealm=0]="CreatingPreviewRealm",e[e.SuccessfullyCreatedPreviewRealm=1]="SuccessfullyCreatedPreviewRealm",e[e.RetrievingCreatedPreviewRealm=2]="RetrievingCreatedPreviewRealm",e[e.FailedToCreatePreviewRealm=3]="FailedToCreatePreviewRealm"}(Vm||(Vm={}));const Gm=(0,t.sharedFacet)("vanilla.createPreviewRealmFacet"),$m=(0,t.sharedFacet)("vanilla.debugSettings");let Km,Xm;!function(e){e[e.OVERWORLD=0]="OVERWORLD",e[e.NETHER=1]="NETHER"}(Km||(Km={})),function(e){e[e.NameIsEmpty=0]="NameIsEmpty",e[e.AddressIsEmpty=1]="AddressIsEmpty",e[e.InvalidIpAddress=2]="InvalidIpAddress",e[e.InvalidPortNumber=3]="InvalidPortNumber",e[e.UnknownError=4]="UnknownError",e[e.IdNotFound=5]="IdNotFound"}(Xm||(Xm={}));const Ym=(0,t.sharedFacet)("vanilla.externalServerWorldList"),qm="vanilla.friendsDrawer",Qm="vanilla.ab.newPlayScreenD",Jm="vanilla.debugDrawer",Zm="vanilla.disableAnimatedSignInScreens",ep="vanilla.enableAlternateSISUCopy",tp="vanilla.enableInboxServiceCategories",np="vanilla.screenshotsGallery",ap="vanilla.screenshotsShowcase",rp="vanilla.newTrialMode",lp=(0,t.sharedFacet)("vanilla.followersList");function op(e,t,n){let a=null==e?0:e.length;if(!a)return[];(t=null==t?0:t)<0&&(t=-t>a?0:a+t),(n=(n=null==n?a:n)>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;let r=-1;const l=new Array(a);for(;++r<a;)l[r]=e[r+t];return l}let ip,cp;!function(e){e[e.Unknown=0]="Unknown",e[e.NotPlayed=1]="NotPlayed",e[e.HasPlayed=2]="HasPlayed"}(ip||(ip={})),function(e){e[e.Unavailable=0]="Unavailable",e[e.Loading=1]="Loading",e[e.Ready=2]="Ready",e[e.Error=3]="Error"}(cp||(cp={}));const sp=(0,t.sharedFacet)("vanilla.friendsListFacet");function up(e){return op(e,0).sort(dp)}function dp(e,t){return null==e.playingOnServerId&&null!=t.playingOnServerId?1:null!=e.playingOnServerId&&null==t.playingOnServerId?-1:0}const mp=(0,t.sharedFacet)("vanilla.friendsManagerFacet"),pp=(0,t.sharedFacet)("vanilla.gamertagSearch");let fp,gp,Ep,hp;function bp(e,t){for(let n=0;n<e.length;++n)if(e[n].categoryName==t)return e[n].unreadMessages;return 0}function vp(e,t){e.forEach((e=>{var n;const a=(n=Date.now(),Mp(Math.floor(n/1e3))-Mp(e.dateReceived)<=Mp(604800));for(const n of t)if(e.inboxCategory==n.category){a?n.recent.push(e):n.history.push(e);break}}))}!function(e){e[e.NONE=0]="NONE",e[e.REALMS=1]="REALMS",e[e.GAME=2]="GAME"}(fp||(fp={})),function(e){e[e.NONE=0]="NONE",e[e.ACCEPTED=1]="ACCEPTED",e[e.REJECTED=2]="REJECTED",e[e.EXPIRED=3]="EXPIRED",e[e.JOIN=5]="JOIN"}(gp||(gp={})),function(e){e.NEWS="news",e.INVITES="invites",e.REALMS="realms",e.MARKETPLACEPASS="marketplacepass",e.FEEDBACK="feedback"}(Ep||(Ep={})),function(e){e.NONE="Unknown",e.IMAGETEXT="ImageText",e.IMAGETNAILCTA="ImageThumbnailCTA",e.HEROIMAGECTA="HeroImageCTA",e.CONTENTLISTCTA="ContentListWithCTA",e.CONTENTLISTNOCTA="ContentListNoCTA"}(hp||(hp={}));const Fp=(0,t.sharedFacet)("vanilla.inbox"),yp=(0,t.sharedSelector)((e=>function(e,t){const n=[];return Object.values(Ep).forEach((e=>{const a=bp(t,e);n.push({recent:[],history:[],unreadCount:a,category:e,name:"",imageUrl:""})})),vp(e,n),n}(e.inboxMessages,e.categoryData)),[Fp]),Sp=(0,t.sharedSelector)((e=>function(e,t){const n=[];return t.forEach((e=>{n.push({recent:[],history:[],unreadCount:e.unreadMessages,category:e.categoryName,name:e.localizedName,imageUrl:e.imageUrl})})),vp(e,n),n}(e.inboxMessages,e.categoryData)),[Fp]),Cp=(0,t.sharedSelector)((e=>e.settings),[Fp]);function Mp(e){return Math.floor(e/60/60/24)}const wp=(0,t.sharedFacet)("vanilla.inGame"),kp=(0,t.sharedFacet)("vanilla.lanWorldList");function Tp(n){const{translationPrefix:a,translate:r,formatDate:l}=(0,e.useContext)(dl),o=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(Pm));return(0,e.useMemo)((()=>({f:l,t:(e,t)=>{var l,i;let c=null;const s=xi(a,n,e);if(!0===o){const e=`${s}.edu`;c=r(e,t),c==e&&(c=null)}return c=null!==(l=c)&&void 0!==l?l:r(s,t),null!==(i=c)&&void 0!==i?i:s}})),[o,a,n,r,l])}n(47455);const xp=(0,t.sharedFacet)("vanilla.localWorldList"),Ip=(0,t.sharedFacet)("vanilla.marketplacePassWorldTemplateList"),Pp=(0,t.sharedFacet)("vanilla.marketplaceSuggestions"),Op=(0,t.sharedFacet)("vanilla.networkWorldDetails");let Ap,Np;!function(e){e[e.OK=0]="OK",e[e.InvalidServerIdError=1]="InvalidServerIdError",e[e.InvalidUserError=2]="InvalidUserError",e[e.NoInternetError=3]="NoInternetError",e[e.UserNeedsToBeSignedInError=4]="UserNeedsToBeSignedInError",e[e.BlockedByPlatformError=5]="BlockedByPlatformError",e[e.BlockedByXBLError=6]="BlockedByXBLError",e[e.BlockedByVersionError=7]="BlockedByVersionError",e[e.UserBannedError=8]="UserBannedError",e[e.ThirdPartyBadIPError=9]="ThirdPartyBadIPError",e[e.ThirdPartyNoServerOrServerLockedError=10]="ThirdPartyNoServerOrServerLockedError",e[e.UnknownError=11]="UnknownError"}(Ap||(Ap={})),function(e){e[e.Ok=0]="Ok",e[e.JoinRealmAlreadyInProgress=1]="JoinRealmAlreadyInProgress",e[e.RealmIDConversionFailed=2]="RealmIDConversionFailed",e[e.MissingPlatformMembership=3]="MissingPlatformMembership",e[e.MultiplayerPrivilegeBlocked=4]="MultiplayerPrivilegeBlocked",e[e.RealmsNotInitialized=5]="RealmsNotInitialized",e[e.MobileDataBlockedAndNoWifi=6]="MobileDataBlockedAndNoWifi",e[e.InvalidCrossPlatformMultiplayerSkin=7]="InvalidCrossPlatformMultiplayerSkin",e[e.RealmsApiNotAvailable=8]="RealmsApiNotAvailable",e[e.UnassignedDevVersion=9]="UnassignedDevVersion",e[e.MemberOfTooManyRealms=10]="MemberOfTooManyRealms",e[e.CannotConnectToRealm=11]="CannotConnectToRealm",e[e.UnknownError=12]="UnknownError"}(Np||(Np={}));const Rp=(0,t.sharedFacet)("vanilla.networkWorldJoiner"),Lp=(0,t.sharedFacet)("vanilla.notificationOptions"),_p=(0,t.sharedFacet)("vanilla.notifications"),Dp=(0,t.sharedFacet)("vanilla.offerRepository");let Bp;!function(e){e[e.TOUCH=0]="TOUCH",e[e.CROSSHAIR=1]="CROSSHAIR",e[e.CLASSIC=2]="CLASSIC"}(Bp||(Bp={}));const Wp=(0,t.sharedFacet)("vanilla.options"),Up=(0,t.sharedFacet)("vanilla.playerAchievements"),zp=(0,t.sharedSelector)((e=>e.status===cm.LOADED),[Up]),jp=((0,t.sharedDynamicSelector)((e=>[(t,n)=>({isLoaded:n,achievement:om(t.data.achievements,(t=>t.id===e))}),[Up,zp]])),(0,t.sharedSelector)((e=>Mm(e.data.achievements)),[Up])),Hp=(0,t.sharedSelector)((e=>({loaded:e.status===cm.LOADED,unlocked:e.data.achievementsUnlocked,total:e.data.maxAchievements,inProgressCount:e.data.achievements.filter(Em).length,rewardsTotal:Sm(e.data.achievements),rewardsUnlocked:ym(e.data.achievements),gamerScore:e.data.currentGamerScore,maxGamerScore:e.data.maxGamerScore,hoursPlayed:e.data.hoursPlayed})),[Up],t.shallowObjectEqualityCheck),Vp=(0,t.sharedFacet)("vanilla.playerLinkedPlatformProfile");let Gp,$p;!function(e){e[e.NONE=0]="NONE",e[e.EXTERNAL=1]="EXTERNAL",e[e.INTERNAL=2]="INTERNAL"}(Gp||(Gp={})),function(e){e[e.LOADING=0]="LOADING",e[e.IMAGE_RETRIEVAL=1]="IMAGE_RETRIEVAL",e[e.LOADED=2]="LOADED"}($p||($p={}));const Kp=(0,t.sharedFacet)("vanilla.playermessagingservice"),Xp=(0,t.sharedSelector)((e=>e.reportDismiss.bind(e)),[Kp]),Yp=(0,t.sharedSelector)((e=>e.status!=$p.LOADING),[Kp]),qp=(0,t.sharedDynamicSelector)((e=>[(t,n)=>({isLoaded:n,message:om(t.data.messages,(t=>t.id===e))}),[Kp,Yp]]));(0,t.sharedDynamicSelector)((e=>[(t,n)=>{const a=function(e,t){return e.filter((e=>e.surface==t))}(t.data.messages,e);return{isLoaded:n,messages:a}},[Kp,Yp]]));const Qp=(0,t.sharedFacet)("vanilla.playerPrivacy");let Jp,Zp,ef,tf;!function(e){e[e.Self=0]="Self",e[e.TwoWayFriend=1]="TwoWayFriend",e[e.Following=2]="Following",e[e.Follower=3]="Follower",e[e.Stranger=4]="Stranger",e[e.Unknown=5]="Unknown"}(Jp||(Jp={})),function(e){e[e.None=0]="None",e[e.UserNotFound=1]="UserNotFound",e[e.NoInternet=2]="NoInternet",e[e.NotAllowedToViewProfilesAdult=3]="NotAllowedToViewProfilesAdult",e[e.NotAllowedToViewProfilesChild=4]="NotAllowedToViewProfilesChild",e[e.NotLoggedInWithMSA=5]="NotLoggedInWithMSA",e[e.LoggedInWithMSAButPlatformProfile=6]="LoggedInWithMSAButPlatformProfile"}(Zp||(Zp={})),function(e){e[e.Loading=0]="Loading",e[e.Loaded=1]="Loaded",e[e.Error=2]="Error",e[e.Undefined=3]="Undefined"}(ef||(ef={})),function(e){e.FriendsDrawer="FriendsDrawer",e.Profile_FriendsList="Profile_FriendsList",e.Profile_FollowersList="Profile_FollowersList",e.Profile_CompareStatsCurrent="Profile_CompareStatsCurrent",e.Profile_CompareStatsLoaded="Profile_CompareStatsLoaded",e.AddFriends_Search="AddFriends_Search",e.AddFriends_RecommendedFriends="AddFriends_RecommendedFriends",e.AddFriends_RecentlyPlayedWith="AddFriends_RecentlyPlayedWith",e.AddFriends_Followers="AddFriends_Followers"}(tf||(tf={}));const nf=(0,t.sharedFacet)("vanilla.playerProfile"),af=(0,t.sharedFacet)("vanilla.playerReport"),rf=(0,t.sharedFacet)("vanilla.playerFollowingList");let lf;!function(e){e[e.ADDFRIENDS_RECOMMENDEDFRIENDS=0]="ADDFRIENDS_RECOMMENDEDFRIENDS",e[e.ADDFRIENDS_RECENTLYPLAYEDWITH=1]="ADDFRIENDS_RECENTLYPLAYEDWITH",e[e.ADDFRIENDS_FOLLOWERS=2]="ADDFRIENDS_FOLLOWERS",e[e.ADDFRIENDS_SEARCH=3]="ADDFRIENDS_SEARCH",e[e.PROFILE_MAIN=4]="PROFILE_MAIN",e[e.JSONUI=5]="JSONUI",e[e.PROFILE_FRIENDSLIST=6]="PROFILE_FRIENDSLIST",e[e.PROFILE_FOLLOWERSLIST=7]="PROFILE_FOLLOWERSLIST"}(lf||(lf={}));const of=(0,t.sharedFacet)("vanilla.playerSocialManager");let cf;!function(e){e[e.Clock=0]="Clock",e[e.Boots=1]="Boots",e[e.Pickaxe=2]="Pickaxe",e[e.Sword=3]="Sword"}(cf||(cf={}));const sf=(0,t.sharedFacet)("vanilla.playerStatistics"),uf=(0,t.sharedFacet)("vanilla.privacyAndOnlineSafetyFacet"),df=(0,t.sharedFacet)("vanilla.profanityFilter"),mf=(0,t.sharedFacet)("vanilla.realmsStories.actions"),pf=(0,t.sharedFacet)("vanilla.realmsStories.realmData");let ff,gf;!function(e){e[e.All=0]="All",e[e.Online=1]="Online"}(ff||(ff={})),function(e){e[e.MostRecent=0]="MostRecent",e[e.AlphabeticalAscending=1]="AlphabeticalAscending",e[e.AlphabeticalDescending=2]="AlphabeticalDescending",e[e.LeastRecent=3]="LeastRecent"}(gf||(gf={}));const Ef=(0,t.sharedFacet)("vanilla.realmsStories.persistentData"),hf=(0,t.sharedFacet)("vanilla.realmsSettingsFacet");let bf;!function(e){e[e.NONMEMBER=-1]="NONMEMBER",e[e.VISITOR=0]="VISITOR",e[e.MEMBER=1]="MEMBER",e[e.OPERATOR=2]="OPERATOR",e[e.OWNER=3]="OWNER"}(bf||(bf={}));const vf=(0,t.sharedFacet)("vanilla.realmsStories.players");function Ff(e,t){return(n=e.gamerTag.toLowerCase())===(a=t.gamerTag.toLowerCase())?0:n>a?1:-1;var n,a}function yf(e,t){return Ff(t,e)}function Sf(e){return e.sort(Cf)}function Cf(e,t){const n=e.isOnline?Number.MAX_VALUE:e.lastSeenTime,a=t.isOnline?Number.MAX_VALUE:t.lastSeenTime;return n===a?Ff(e,t):a-n}function Mf(e,t){return Cf(t,e)}let wf,kf,Tf,xf;!function(e){e[e.IDLE=0]="IDLE",e[e.VALIDATION=1]="VALIDATION",e[e.VALIDATION_STARTED=2]="VALIDATION_STARTED",e[e.PURCHASE=3]="PURCHASE",e[e.PURCHASE_STARTED=4]="PURCHASE_STARTED",e[e.COMPLETED=5]="COMPLETED",e[e.FAILED=6]="FAILED"}(wf||(wf={})),function(e){e[e.NOT_SPECIFIED=0]="NOT_SPECIFIED",e[e.INVALID_REALM_NAME=1]="INVALID_REALM_NAME",e[e.FAILED_CLUB_NAME_VALIDATION=2]="FAILED_CLUB_NAME_VALIDATION",e[e.OFFER_NOT_FOUND=3]="OFFER_NOT_FOUND",e[e.OFFER_NOT_AVAILABLE_INCOMPLETE_DATA=4]="OFFER_NOT_AVAILABLE_INCOMPLETE_DATA",e[e.OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED=5]="OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED"}(kf||(kf={})),function(e){e[e.Offer30Days=0]="Offer30Days",e[e.Offer180Days=1]="Offer180Days",e[e.OfferMonthly=2]="OfferMonthly"}(Tf||(Tf={})),function(e){e[e.Offer2Player=0]="Offer2Player",e[e.Offer10Player=1]="Offer10Player",e[e.Offer16Player=2]="Offer16Player"}(xf||(xf={}));const If=(0,t.sharedFacet)("vanilla.realmsPurchase");let Pf,Of,Af;!function(e){e[e.RealmsAPIUnavailable=0]="RealmsAPIUnavailable",e[e.NeedToCallFetchFirst=1]="NeedToCallFetchFirst",e[e.MemberOfTooManyRealms=2]="MemberOfTooManyRealms",e[e.UnknownError=3]="UnknownError"}(Pf||(Pf={})),function(e){e[e.RealmsAPIUnavailable=0]="RealmsAPIUnavailable",e[e.AlreadyMember=1]="AlreadyMember",e[e.RealmExpired=2]="RealmExpired",e[e.RealmClosed=3]="RealmClosed",e[e.BadInvite=4]="BadInvite",e[e.BlockedInvite=5]="BlockedInvite",e[e.InviteLinkNotFound=6]="InviteLinkNotFound",e[e.UnexpectedServerResponse=7]="UnexpectedServerResponse",e[e.AnonymousAccount=8]="AnonymousAccount"}(Of||(Of={})),function(e){e[e.RealmsAPIUnavailable=0]="RealmsAPIUnavailable",e[e.ErrorTaskInProgress=1]="ErrorTaskInProgress",e[e.UnknownError=2]="UnknownError",e[e.Success=3]="Success",e[e.Unknown=4]="Unknown"}(Af||(Af={}));const Nf=(0,t.sharedFacet)("vanilla.realmsMembership"),Rf=(0,t.sharedFacet)("vanilla.RealmsPDPFacet"),Lf=(0,t.sharedFacet)("vanilla.realmsStories.sessions");let _f,Df,Bf;var Wf;!function(e){e[e.Compatible=0]="Compatible",e[e.CompatibleShowInfo=1]="CompatibleShowInfo",e[e.Outdated=2]="Outdated",e[e.AlphaEnded=3]="AlphaEnded",e[e.UserNotAllowed=4]="UserNotAllowed",e[e.Other=5]="Other"}(_f||(_f={})),function(e){e[e.None=0]="None",e[e.Unknown=1]="Unknown",e[e.Compatibility=2]="Compatibility",e[e.ServiceError=3]="ServiceError",e[e.RateLimit=4]="RateLimit",e[e.RealmsBan=5]="RealmsBan",e[e.NetworkError=6]="NetworkError",e[e.APIUnavailable=7]="APIUnavailable",e[e.InEditorMode=8]="InEditorMode"}(Df||(Df={})),(Wf=Bf||(Bf={}))[Wf.Unknown=0]="Unknown",Wf[Wf.Loading=1]="Loading",Wf[Wf.Idle=2]="Idle",Wf[Wf.Error=3]="Error";const Uf=(0,t.sharedFacet)("vanilla.realmsListFacet"),zf=(0,t.sharedSelector)((e=>{const t=[];if(null==e.realms)return t;for(let n=0;n<e.realms.length;n++)e.realms[n].world.isInitialized&&!e.realms[n].world.expired&&e.realms[n].isOwner&&t.push(e.realms[n].world);return t}),[Uf]),jf=(0,t.sharedFacet)("vanilla.realmsListActionsFacet"),Hf=(0,t.sharedFacet)("vanilla.developerOptionsFacet"),Vf=(0,t.sharedFacet)("vanilla.realmSlots"),Gf=(0,t.sharedFacet)("vanilla.realmsStories.stories");function $f(e){e.forEach((e=>{e.hasViewed=!0}))}let Kf;!function(e){e[e.OptedIn=0]="OptedIn",e[e.OptedOut=1]="OptedOut",e[e.None=2]="None"}(Kf||(Kf={}));const Xf=(0,t.sharedFacet)("vanilla.realmsStories.settings"),Yf=(0,t.sharedFacet)("vanilla.realmsStories.comments");let qf;!function(e){e[e.ActionAlreadyInProgress=0]="ActionAlreadyInProgress",e[e.CannotSaveWorld=1]="CannotSaveWorld",e[e.InvalidWorldId=2]="InvalidWorldId",e[e.Generic=3]="Generic",e[e.TooManyRealms=4]="TooManyRealms",e[e.InvalidRealmName=5]="InvalidRealmName",e[e.InvalidResponse=6]="InvalidResponse",e[e.CrossPlatformRestricted=7]="CrossPlatformRestricted",e[e.UnknownError=8]="UnknownError"}(qf||(qf={}));const Qf=(0,t.sharedFacet)("vanilla.RealmWorldUploaderFacet"),Jf=(0,t.sharedFacet)("vanilla.recentlyPlayedWithList"),Zf=(0,t.sharedFacet)("vanilla.recommendedFriendsList");let eg;!function(e){e[e.Idle=0]="Idle",e[e.CheckingResourcePacks=1]="CheckingResourcePacks",e[e.StartDownload=2]="StartDownload",e[e.DownloadingResourcePacks=3]="DownloadingResourcePacks",e[e.ActivateDownloadedPack=4]="ActivateDownloadedPack",e[e.WaitingForPrompt=5]="WaitingForPrompt"}(eg||(eg={}));const tg=(0,t.sharedFacet)("vanilla.resourcePacks");let ng;!function(e){e[e.Default=0]="Default",e[e.List=1]="List",e[e.Grid=2]="Grid"}(ng||(ng={}));const ag=(0,t.sharedFacet)("vanilla.screenSpecificOptions"),rg=(0,t.sharedFacet)("vanilla.screenshotGallery"),lg=(0,t.sharedFacet)("vanilla.playerShowcasedGallery");let og,ig;!function(e){e.PlayScreen="/play",e.EditWorldScreen="/edit-world"}(og||(og={})),function(e){e[e.JsonUI=0]="JsonUI",e[e.OreUI=1]="OreUI"}(ig||(ig={}));const cg=(0,t.sharedFacet)("vanilla.screenTechStack"),sg=(0,t.sharedFacet)("vanilla.seedTemplates"),ug=(0,t.sharedFacet)("vanilla.share"),dg=(0,t.sharedFacet)("vanilla.simulationDistanceOptions");let mg,pg;!function(e){e[e.NotSet=0]="NotSet",e[e.NotUsedByEdu=1]="NotUsedByEdu",e[e.AccessControlData=2]="AccessControlData",e[e.CustomerContent=3]="CustomerContent",e[e.EUII=4]="EUII",e[e.SupportData=5]="SupportData",e[e.Feedback=6]="Feedback",e[e.AccountData=7]="AccountData",e[e.PublicPersonalData=8]="PublicPersonalData",e[e.EUPI=9]="EUPI",e[e.OII=10]="OII",e[e.SystemMetadata=11]="SystemMetadata",e[e.PublicNonPersonalData=12]="PublicNonPersonalData"}(mg||(mg={})),function(e){e[e.Increment=0]="Increment",e[e.Sum=1]="Sum",e[e.Min=2]="Min",e[e.Max=3]="Max",e[e.Average=4]="Average",e[e.Latest=5]="Latest"}(pg||(pg={}));const fg=(0,t.sharedFacet)("vanilla.telemetry"),gg=(0,t.sharedFacet)("vanilla.thirdPartyWorldList");let Eg,hg;!function(e){e[e.PlatformHasNoTrialOfferings=0]="PlatformHasNoTrialOfferings",e[e.UnknownGameStoreError=1]="UnknownGameStoreError"}(Eg||(Eg={})),function(e){e[e.FullGame=0]="FullGame",e[e.StarterCollection=1]="StarterCollection",e[e.MasterCollection=2]="MasterCollection"}(hg||(hg={}));const bg=(0,t.sharedFacet)("vanilla.trialMode");let vg,Fg,yg,Sg,Cg,Mg,wg,kg,Tg,xg,Ig,Pg,Og,Ag;!function(e){e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary"}(vg||(vg={})),function(e){e.MINECRAFT="minecraft",e.XBL="xbl",e.ACHIEVEMENTS="achievements",e.MULTIPLAYER="multiplayer",e.SERVER="server",e.STORE="store",e.CREATIVE="creative",e.PACKS="packs",e.SEEDS="seeds"}(Fg||(Fg={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.SURVIVAL=0]="SURVIVAL",e[e.CREATIVE=1]="CREATIVE",e[e.ADVENTURE=2]="ADVENTURE"}(yg||(yg={})),function(e){e[e.ThirdParty=0]="ThirdParty",e[e.External=1]="External",e[e.Realm=2]="Realm"}(Sg||(Sg={})),function(e){e[e.Unavailable=0]="Unavailable",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High"}(Cg||(Cg={})),function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed"}(Mg||(Mg={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.INTERNAL_ERROR=1]="INTERNAL_ERROR",e[e.FETCH_FAILED=2]="FETCH_FAILED"}(wg||(wg={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.INPUT_INVALID=1]="INPUT_INVALID",e[e.INTERNAL_ERROR=2]="INTERNAL_ERROR",e[e.UPLOAD_FAILED=3]="UPLOAD_FAILED"}(kg||(kg={})),function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.InternalError=3]="InternalError",e[e.FetchFailed=4]="FetchFailed",e[e.RateLimit=5]="RateLimit"}(Tg||(Tg={})),function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.InternalError=3]="InternalError",e[e.InputInvalid=4]="InputInvalid",e[e.Uploading=5]="Uploading",e[e.UploadFailed=6]="UploadFailed",e[e.PostingFailed=7]="PostingFailed",e[e.RateLimit=8]="RateLimit"}(xg||(xg={})),function(e){e[e.Success=0]="Success",e[e.XboxAPIError=1]="XboxAPIError"}(Ig||(Ig={})),function(e){e.Template="template",e.Regular="regular"}(Pg||(Pg={})),function(e){e[e.Visitor=0]="Visitor",e[e.Member=1]="Member",e[e.Operator=2]="Operator",e[e.Custom=3]="Custom"}(Og||(Og={})),function(e){e[e.Undefined=0]="Undefined",e[e.Requested=1]="Requested",e[e.Success=2]="Success",e[e.Failure=3]="Failure"}(Ag||(Ag={}));const Ng=(0,t.sharedFacet)("vanilla.unpairedRealmsListFacet"),Rg=(0,t.sharedSelector)((e=>{const t=[];for(let n=0;n<e.realms.length;n++)e.realms[n].world.isInitialized&&!e.realms[n].world.expired&&e.realms[n].isOwner&&t.push(e.realms[n].world);return t}),[Ng]);let Lg;var _g;(_g=Lg||(Lg={}))[_g.None=0]="None",_g[_g.Minecraft_Ban=1]="Minecraft_Ban",_g[_g.XboxLive=2]="XboxLive",_g[_g.XboxLive_Parental=4]="XboxLive_Parental",_g[_g.XboxLive_Ban=8]="XboxLive_Ban",_g[_g.Platform_PlayStation=16]="Platform_PlayStation",_g[_g.Platform_NintendoSwitch=32]="Platform_NintendoSwitch",_g[_g.GameVersion=64]="GameVersion",_g[_g.Unknown=128]="Unknown";const Dg=(0,t.sharedFacet)("vanilla.userAccount"),Bg=(0,t.sharedSelector)((e=>e.isTrialAccount),[Dg]);let Wg;!function(e){e[e.NewWorldCreationFeedbackPage=0]="NewWorldCreationFeedbackPage",e[e.PlayScreenFeedbackPage=1]="PlayScreenFeedbackPage",e[e.EditWorldScreenFeedbackPage=2]="EditWorldScreenFeedbackPage",e[e.DeathScreenFeedbackPage=3]="DeathScreenFeedbackPage",e[e.RealmsSafetyPage=4]="RealmsSafetyPage",e[e.BannedHelpPage=6]="BannedHelpPage",e[e.ParentPermissionHelpPage=5]="ParentPermissionHelpPage",e[e.NintendoSwitchTechnicalSupportPage=7]="NintendoSwitchTechnicalSupportPage",e[e.BuyMinecraftStorePage=8]="BuyMinecraftStorePage",e[e.XboxPrivacyAndOnlineSafety=9]="XboxPrivacyAndOnlineSafety",e[e.XboxAccountProfile=10]="XboxAccountProfile",e[e.JoinRealmHelpPage=11]="JoinRealmHelpPage",e[e.FriendsDrawerFeedbackPage=12]="FriendsDrawerFeedbackPage",e[e.ServersTabFeedbackPage=13]="ServersTabFeedbackPage",e[e.PlayerFeedbackMain=14]="PlayerFeedbackMain",e[e.PlayerFeedbackIdeas=15]="PlayerFeedbackIdeas",e[e.ProfileFeedbackMain=16]="ProfileFeedbackMain",e[e.StartFromTemplateFeedbackPage=17]="StartFromTemplateFeedbackPage",e[e.RealmsTabFeedbackPage=18]="RealmsTabFeedbackPage",e[e.TermsAndServicePage=19]="TermsAndServicePage",e[e.PrivacyPolicyPage=20]="PrivacyPolicyPage",e[e.PreproductionRealmsGuide=21]="PreproductionRealmsGuide",e[e.TroubleshootingMultiplayerDisabled=22]="TroubleshootingMultiplayerDisabled"}(Wg||(Wg={}));const Ug=(0,t.sharedFacet)("vanilla.webBrowserFacet");let zg;!function(e){e[e.Ok=0]="Ok",e[e.Unsupported=1]="Unsupported",e[e.WorldNotCloudStored=2]="WorldNotCloudStored",e[e.UnableToGetManifest=3]="UnableToGetManifest",e[e.UnableToSyncWorld=4]="UnableToSyncWorld"}(zg||(zg={}));const jg=(0,t.sharedFacet)("vanilla.worldCloudSyncFacet");let Hg,Vg,Gg;!function(e){e[e.IncorrectWorldId=0]="IncorrectWorldId",e[e.UnexpectedError=1]="UnexpectedError"}(Hg||(Hg={})),function(e){e[e.Legacy=0]="Legacy",e[e.Overworld=1]="Overworld",e[e.Flat=2]="Flat",e[e.Nether=3]="Nether",e[e.TheEnd=4]="TheEnd",e[e.Void=5]="Void",e[e.Undefined=6]="Undefined"}(Vg||(Vg={})),function(e){e[e.IncorrectWorldId=0]="IncorrectWorldId",e[e.UnableToCreateWorldDirectoryPath=1]="UnableToCreateWorldDirectoryPath",e[e.UnableToCreateResourcePackDirectoryPath=2]="UnableToCreateResourcePackDirectoryPath",e[e.UnableToCreateBehaviorDirectoryPath=3]="UnableToCreateBehaviorDirectoryPath",e[e.InsufficientDiskSpace=4]="InsufficientDiskSpace",e[e.UnknownError=5]="UnknownError"}(Gg||(Gg={}));const $g=(0,t.sharedFacet)("vanilla.worldEditor");let Kg,Xg,Yg,qg,Qg,Jg,Zg;!function(e){e[e.Ok=0]="Ok",e[e.IncorrectWorldId=1]="IncorrectWorldId",e[e.InsufficientDiskSpace=2]="InsufficientDiskSpace",e[e.UnknownError=3]="UnknownError"}(Kg||(Kg={})),function(e){e[e.None=0]="None",e[e.ClearPlayerData=2]="ClearPlayerData",e[e.ForceHardcoreMode=4]="ForceHardcoreMode",e[e.All=-1]="All"}(Xg||(Xg={})),function(e){e[e.Ok=0]="Ok",e[e.IncorrectWorldId=1]="IncorrectWorldId",e[e.NeedToRemoveVRHeadset=2]="NeedToRemoveVRHeadset",e[e.NoFile=3]="NoFile",e[e.ZipError=4]="ZipError",e[e.PremiumContent=5]="PremiumContent",e[e.EditionMismatch=6]="EditionMismatch",e[e.EditorMismatch=7]="EditorMismatch",e[e.ZipDepthError=8]="ZipDepthError",e[e.UnknownError=9]="UnknownError",e[e.Cancelled=10]="Cancelled"}(Yg||(Yg={})),function(e){e[e.SkipLocalUser=0]="SkipLocalUser",e[e.IncludeLocalUser=1]="IncludeLocalUser"}(qg||(qg={})),function(e){e[e.Idle=0]="Idle",e[e.Setup=1]="Setup",e[e.SelectingFileDestination=2]="SelectingFileDestination",e[e.Exporting=3]="Exporting"}(Qg||(Qg={})),function(e){e[e.FailedToOpenDatabase=0]="FailedToOpenDatabase"}(Jg||(Jg={})),function(e){e[e.Ok=0]="Ok",e[e.InvalidLevel=1]="InvalidLevel"}(Zg||(Zg={}));const eE=(0,t.sharedFacet)("vanilla.worldOperations");let tE,nE,aE,rE;!function(e){e[e.None=0]="None",e[e.World=1]="World",e[e.WorldTemplate=2]="WorldTemplate",e[e.Resource=3]="Resource",e[e.Behavior=4]="Behavior",e[e.Skin=5]="Skin",e[e.ItemCollection=6]="ItemCollection"}(tE||(tE={})),function(e){e[e.Idle=0]="Idle",e[e.Downloading=1]="Downloading",e[e.Importing=2]="Importing",e[e.Completed=3]="Completed"}(nE||(nE={})),function(e){e[e.InvalidContentType=0]="InvalidContentType",e[e.InvalidPackId=1]="InvalidPackId",e[e.InvalidWorldId=2]="InvalidWorldId",e[e.ContentTierIncompatible=3]="ContentTierIncompatible",e[e.ContentTierIncompatibleMemory=4]="ContentTierIncompatibleMemory",e[e.ContentTierIncompatibleRayTracing=5]="ContentTierIncompatibleRayTracing",e[e.PackDataWarning=6]="PackDataWarning",e[e.PackDependencyWarning=7]="PackDependencyWarning",e[e.PackSelectErrorNoStore=8]="PackSelectErrorNoStore",e[e.PackSelectErrorRequiredDependency=9]="PackSelectErrorRequiredDependency",e[e.NoPackAccess=10]="NoPackAccess",e[e.UnownedContent=11]="UnownedContent",e[e.NeedToDownloadPack=12]="NeedToDownloadPack",e[e.UnsupportedFileFormat=13]="UnsupportedFileFormat",e[e.IncompletePack=14]="IncompletePack",e[e.NoManifest=15]="NoManifest",e[e.MissingProperty=16]="MissingProperty",e[e.WrongTypeProperty=17]="WrongTypeProperty",e[e.EmptyProperty=18]="EmptyProperty",e[e.InvalidProperty=19]="InvalidProperty",e[e.MalformedPropertyUUID=20]="MalformedPropertyUUID",e[e.MalformedPropertyVERSION=21]="MalformedPropertyVERSION",e[e.DuplicateUUID=22]="DuplicateUUID",e[e.InvalidJSON=23]="InvalidJSON",e[e.MissingModules=24]="MissingModules",e[e.MultipleModules=25]="MultipleModules",e[e.UnsupportedFormatVersion=26]="UnsupportedFormatVersion",e[e.VersionTooHigh=27]="VersionTooHigh",e[e.VersionTooLow=28]="VersionTooLow",e[e.UnexpectedError=29]="UnexpectedError"}(aE||(aE={})),function(e){e[e.HasPendingOrActiveImports=0]="HasPendingOrActiveImports",e[e.HasUnownedPacks=1]="HasUnownedPacks",e[e.RealmsPlusEnded=2]="RealmsPlusEnded",e[e.MissingDlcDependencies=3]="MissingDlcDependencies",e[e.MissingDlcWorldTemplate=4]="MissingDlcWorldTemplate",e[e.NoInternet=5]="NoInternet",e[e.HasPerformanceIssues=6]="HasPerformanceIssues",e[e.NotEnoughDiskSpace=7]="NotEnoughDiskSpace",e[e.WifiRequiredYetNotAccessible=8]="WifiRequiredYetNotAccessible",e[e.MissingRequiredWorldTemplateRequestUserApproval=9]="MissingRequiredWorldTemplateRequestUserApproval",e[e.InvalidPack=10]="InvalidPack",e[e.InvalidWorld=11]="InvalidWorld",e[e.UnexpectedError=12]="UnexpectedError"}(rE||(rE={}));const lE=(0,t.sharedFacet)("vanilla.worldPackages");let oE,iE;!function(e){e[e.Ok=0]="Ok",e[e.WorldNotInLevelList=1]="WorldNotInLevelList",e[e.StartupAlreadyInProgress=2]="StartupAlreadyInProgress",e[e.GameServerStarterNotReady=3]="GameServerStarterNotReady",e[e.MissingDependencies=4]="MissingDependencies",e[e.DlcMissingContentKey=5]="DlcMissingContentKey",e[e.DlcPendingImports=6]="DlcPendingImports",e[e.HasUnownedPacks=7]="HasUnownedPacks",e[e.UnknownError=8]="UnknownError"}(oE||(oE={})),function(e){e[e.Ok=0]="Ok",e[e.IncorrectWorldId=1]="IncorrectWorldId",e[e.InsufficientDiskSpace=2]="InsufficientDiskSpace",e[e.UnknownError=3]="UnknownError"}(iE||(iE={}));const cE=(0,t.sharedFacet)("vanilla.worldStartup");let sE;(0,t.sharedFacet)("vanilla.worldTemplateList"),function(e){e[e.Success=0]="Success",e[e.FailureUnknown=1]="FailureUnknown",e[e.FailureNoFile=2]="FailureNoFile",e[e.FailureZipError=3]="FailureZipError",e[e.FailurePremiumContent=4]="FailurePremiumContent",e[e.FailureEditionMismatch=5]="FailureEditionMismatch",e[e.FailureEditorMismatch=6]="FailureEditorMismatch",e[e.UnsupportedPlatform=7]="UnsupportedPlatform",e[e.AlreadyInProgress=8]="AlreadyInProgress",e[e.InterruptedByUser=9]="InterruptedByUser"}(sE||(sE={}));const uE=(0,t.sharedFacet)("vanilla.worldTransfer"),dE=(0,t.sharedFacet)("vanilla.featuredWorldTemplateList"),mE=(0,t.sharedFacet)("vanilla.ownedWorldTemplateList");let pE,fE,gE;!function(e){e[e.Initialising=0]="Initialising",e[e.Downloading=1]="Downloading",e[e.Importing=2]="Importing",e[e.Success=3]="Success",e[e.Fail=4]="Fail"}(pE||(pE={})),function(e){e[e.UnknownFileType=0]="UnknownFileType",e[e.Duplicate=1]="Duplicate",e[e.MalformedZip=2]="MalformedZip",e[e.Default=3]="Default",e[e.Incompatible=4]="Incompatible",e[e.Cancelled=5]="Cancelled"}(fE||(fE={})),function(e){e[e.AlreadyDownloaded=0]="AlreadyDownloaded",e[e.DownloadAlreadyInProgress=1]="DownloadAlreadyInProgress",e[e.DownloadFailed=2]="DownloadFailed",e[e.ItemNotOwned=3]="ItemNotOwned",e[e.CancelledByUser=4]="CancelledByUser",e[e.InsufficientStorage=5]="InsufficientStorage"}(gE||(gE={}));const EE=(0,t.sharedFacet)("vanilla.worldTemplateOperations"),hE=({text:e,interruptible:n=!0})=>{const a=ec(e),{narrateById:r}=Qi();return(0,t.useFacetEffect)((()=>{r(a,n)}),[r,a,n],[(0,t.useFacetWrap)(e)]),null};function bE(t){return-1!=(0,e.useContext)(ll).indexOf(t)}function vE({onClick:t,innerRef:n,children:a,role:r="neutral50"}){const l=gr(r),o=Or()("mneRL",l.overlay.base);return null!=a?e.createElement("div",{onClick:t,className:o,ref:n},a):e.createElement("div",{onClick:t,className:o,ref:n})}function FE({left:t,center:n,right:a,safeZone:r,innerRef:l,role:o="neutral20",showDropShadow:i=!0}){const c=gr(o);return e.createElement(ja,{role:o},e.createElement("div",{className:Or()("KfhFh",c.background.base)},e.createElement("div",{style:{paddingTop:r&&r.top+"px",paddingRight:r&&r.right+"px",paddingLeft:r&&r.left+"px"}},e.createElement("div",{ref:l,className:"xCDda"},e.createElement("div",{className:"C0sd8"},t),e.createElement("div",{className:"S9tQ7"},n),e.createElement("div",{className:"m2lNR"},a)),e.createElement(hc,{top:!1,right:!1,left:!1,role:o})),e.createElement("div",{className:Or()("V4fHo",c.shadow.base)}),i&&e.createElement("div",{className:Or()("twp35")},e.createElement(hc,{effect:"bevel",role:o,top:!1,right:!1,left:!1}))))}const yE=n.p+"assets/arrowBack-b77b1.png",SE=n.p+"assets/arrowBackDisabled-df022.png";function CE(){return CE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},CE.apply(this,arguments)}const ME=n=>{let{className:a,disabled:r}=n,l=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["className","disabled"]);const o=(0,t.useFacetWrap)(null!=r&&r),i=Dc("eFuO6",a);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:o},e.createElement(Rc,CE({},l,{className:i,src:SE,imageRendering:"pixelated"}))),e.createElement(t.Mount,{when:o,condition:!1},e.createElement(Rc,CE({},l,{className:i,src:yE,imageRendering:"pixelated"}))))};function wE({onClick:t,disabled:n,role:a="inherit",hint:r="",light:l=!1}){const{t:o}=Ii("BackButton"),i=hr(a);return e.createElement(sc,{narrationText:[o(".narrationGoBack"),o(".narrationComponentType"),r].join(" . "),gamepadIndex:0,inputLegend:o(".back"),onClick:t,disabled:n,soundEffectPressed:i.press,role:a,testId:"navigation-bar-layout-back-button"},l?e.createElement(Wc,null):e.createElement(ME,null))}const kE=n.p+"assets/filter-93196.png",TE=n.p+"assets/hamburger-e678c.png",xE=n.p+"assets/debug-icon-1cb52.png",IE=n.p+"assets/Delete_Neutral20-71e3b.png",PE="eknQ4";function OE({children:t,collapsed:n=!1,floating:a=!1,onDismiss:r,align:l="left"}){const o=(0,e.useRef)(null),i=(0,e.useCallback)((e=>{e.stopPropagation()}),[]),c=e.createElement("div",{ref:o,onClick:i,className:Or()({[PE]:n,G1xD7:"left"===l,deJBY:"right"===l,sJUSR:"left"===l,d5YO7:"right"===l})},e.createElement(ys,null,t));return a?e.createElement(e.Fragment,null,e.createElement("div",{className:Or()({b8Law:"right"===l,efBI4:"left"===l,[PE]:n})},c),!n&&e.createElement(vE,{onClick:r})):c}const AE=n.p+"assets/navbar-friends-icon-1-47df6.png",NE=n.p+"assets/navbar-friends-icon-2-09dfc.png",RE=n.p+"assets/navbar-friends-icon-3-bbd38.png",LE=Math.floor(10*Math.random()),_E=1===LE?RE:2===LE?NE:AE;function DE({children:n,collapsedLeftSidebar:a=!0,collapsedRightSidebar:r=!0,onToggleCollapsedLeftSidebar:l=BE,onToggleCollapsedRightSidebar:o=BE,innerRef:i,left:c,center:s,right:u,leftSidebar:d,rightSidebar:m,onBackButton:p,backButtonHint:f,backButtonDisabled:g,footer:E,narrationText:h,navigationBarRole:b,navigationBarShowDropShadow:v=!0,delegateByAlias:F,delegateFocusFromMemory:y,gamepadAlias:S,defaultFocusedChildBehavior:C,shouldNotDelegateToContent:M=!1}){const w=(0,t.useFacetMap)((e=>null!=e?e:""),[],[(0,t.useFacetWrap)(h)]),k=Ll(),T=Xo(),x=(0,e.useRef)(null),I=(0,e.useRef)(null),P=(0,e.useRef)(null),O=(0,e.useRef)(null),A=y||"remember"===C,{t:N}=Ii("BackButton");return e.createElement(Ps,{text:w},e.createElement(Pc,{containerRef:i||P,delegateFocusFromMemory:!0,delegateFocusByAlias:M?void 0:S},p&&e.createElement(Ts,{onClick:p,options:{button:W.B,inputLegend:N(".back")}}),e.createElement("div",{ref:i||P,className:"JAtEp"},e.createElement(Pc,{containerRef:I,delegateFocusFromMemory:!0},e.createElement(FE,{innerRef:I,left:e.createElement(e.Fragment,null,p&&e.createElement(DE.BackButton,{disabled:g,hint:f,onClick:p}),c,T&&null!=d&&e.createElement(DE.MenuButton,{selected:!a,onClick:l,gamepadIndex:0})),center:s,right:e.createElement(e.Fragment,null,u,null!=m&&e.createElement(e.Fragment,null,e.createElement(DE.MenuButton,{type:"filter",selected:!r,onClick:o,gamepadIndex:1}),e.createElement(Yc,{size:3}))),safeZone:k,role:b,showDropShadow:v})),e.createElement(Pc,{containerRef:x,delegateFocusByAlias:F,delegateFocusFromMemory:A,alias:S},e.createElement("div",{ref:x,className:"jCHoJ"},e.createElement("div",{className:"LH19k",style:{left:k.left+"px",right:k.right+"px",bottom:k.bottom+"px"}},null!=d&&e.createElement(Wr,{disabled:a&&T},e.createElement(OE,{align:"left",onDismiss:l,floating:T,collapsed:T&&a},d)),e.createElement(Wr,{disabled:!a&&T&&Boolean(d)},n),null!=m&&e.createElement(Wr,{disabled:r},e.createElement(OE,{align:"right",onDismiss:o,floating:T,collapsed:r},m))))),null!=E?e.createElement(Pc,{containerRef:O},E):null)))}DE.displayName="NavigationBarLayout",DE.BackButton=function({onClick:n,disabled:a,showEmptySpaceWhenGamepad:r=!1,role:l="inherit",hint:o="",light:i=!1}){const c=(0,e.useContext)(Ke).isPointerSupported,s=et(),u=(0,t.useFacetMap)(((e,t)=>e||!t),[],[c,s]),d=(0,t.useFacetMap)((e=>r&&!e),[r],[u]),{t:m}=Ii("BackButton"),p=(0,t.useFacetMap)((e=>({button:W.B,inputLegend:m(".back"),disabled:e})),[m],[Ld.useIsAnyModalVisible()]);return e.createElement(e.Fragment,null,e.createElement(xs,{options:p,onClick:n}),e.createElement(t.Mount,{when:u},e.createElement(wE,{onClick:n,disabled:a,role:l,hint:o,light:i})),e.createElement(t.Mount,{when:d},e.createElement("div",{className:"QZTxX"})))},DE.MenuButton=function(t){const{onClick:n,selected:a,disabled:r,focusGridIndex:l,type:o="hamburger",role:i="inherit",narrationText:c}=t,{t:s}=Ii("NavigationBarLayout.MenuButton");return e.createElement(e.Fragment,null,"hamburger"===o&&e.createElement(xs,{options:{button:W.START,inputLegend:s(".inputLegend")},onClick:n}),e.createElement(sc,{disabled:r,focusGridIndex:l,inputLegend:s(".inputLegend"),narrationText:null!=c?c:s(".narration"),onClick:n,role:i,selected:a,testId:t["data-testid"]},e.createElement(Rc,{className:"w6_7m",imageRendering:"pixelated",src:"filter"===o?kE:TE})))},DE.DeleteButton=function({onClick:t,disabled:n,focusGridIndex:a,role:r="inherit",narrationText:l}){const{t:o}=Ii("NavigationBarLayout.DeleteButton");return e.createElement(sc,{disabled:n,focusGridIndex:a,inputLegend:o(".inputLegend"),narrationText:null!=l?l:o(".narration"),onClick:t,role:r},e.createElement(Rc,{className:"BnqN5",imageRendering:"pixelated",src:IE}))},DE.FriendsButton=function({onClick:n,disabled:a,focusGridIndex:r,role:l="inherit",friendsOnline:o,displayAmountOfOnlineFriends:i,testId:c}){const{t:s}=Ii("NavigationBarLayout.FriendsButton");return e.createElement(sc,{className:"r5Ne9",disabled:a,focusGridIndex:r,inputLegend:s(".inputLegend"),narrationText:s(".narration"),onClick:n,role:l,testId:c},e.createElement("div",{className:"s2NCr"},e.createElement(Rc,{className:"GNMZ6",src:_E,imageRendering:"pixelated"}),e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement(zs,{type:"body"},s(".friends"),e.createElement(t.Mount,{when:i},e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),"(",e.createElement("fast-text",{text:o}),")"))))))},DE.DebugButton=function({onClick:t,selected:n,disabled:a,focusGridIndex:r,role:l="inherit",narrationText:o}){const{t:i}=Ii("NavigationBarLayout.DebugButton");return e.createElement(e.Fragment,null,e.createElement(sc,{disabled:a,focusGridIndex:r,inputLegend:i(".inputLegend"),narrationText:null!=o?o:i(".narration"),onClick:t,role:l,selected:n},e.createElement(Rc,{className:"QQfwv",imageRendering:"pixelated",src:xE})))},DE.Divider=function(){return e.createElement("div",{className:"JP2CP"},e.createElement(hc,{effect:"bevel",right:!1,top:!1,bottom:!1,reversed:!0}),e.createElement(hc,{effect:"specular",left:!1,top:!1,bottom:!1,reversed:!0}))};const BE=()=>{},WE={grid:"ntKoM",fullScreen:"zoAa3",fullScreenRow:"kM0Ch",fullScreenColumn:"UxM7T",gridGutters:"ff9nb",gridTablet:"U7wpy",gridNarrow:"QkM5F",row:"RdcBM",rowFullHeight:"RLVUP",centerContentVertically:"hMR_2",column:"HC8D1",size0:"QfUEI",size1:"Utxph",size2:"Dg54A",size3:"MMNOr",size4:"vkrmB",size5:"Vg8dV",size6:"prur7",size7:"PbjpE",size8:"KbazU",size9:"M3EqJ",size10:"sjbd3",size11:"Pp_FL",size12:"tylz3",sizeNarrow0:"ms6DS",sizeNarrow1:"JOyPB",sizeNarrow2:"LG4ow",sizeNarrow3:"jyNdx",sizeNarrow4:"fgAuI",sizeNarrow5:"lGz_T",sizeNarrow6:"drXOL",sizeNarrow7:"VDLgd",sizeNarrow8:"A06Gv"};function UE({children:t,narrowBreakpointWidth:n,noGutters:a=!1,centerContentVertically:r,maxWidth:l=zE,nonFullScreen:o=!1}){const i=Ko(n);return e.createElement("div",{className:Or()(WE.grid,{[WE.gridNarrow]:"narrow"===i,[WE.gridTablet]:"tablet"===i,[WE.gridGutters]:"desktop"===i||!a,[WE.centerContentVertically]:r,[WE.fullScreen]:!o})},e.createElement(jE.Provider,{value:l},t))}const zE=128,jE=(0,e.createContext)(zE);UE.displayName="Grid",UE.Column=t=>{const{wideSize:n,narrowSize:a,innerRef:r,ignoreFullScreenGrid:l}=t,o=Or()(WE[`size${n}`],WE[`sizeNarrow${a}`]),i=Or()(WE.column,o,{[WE.fullScreenColumn]:!l});return e.createElement("div",{ref:r,className:i},t.children)},UE.Row=function(n){const{children:a,fullHeight:r,className:l,innerRef:o,ignoreFullScreenGrid:i}=n,c=(0,t.useFacetMap)((e=>Or()(WE.row,e,{[WE.rowFullHeight]:r,[WE.fullScreenRow]:!i})),[r,i],[(0,t.useFacetWrap)(null!=l?l:"")]),s=(0,e.useContext)(jE);return e.createElement("fast-div",{ref:o,className:c,style:{maxWidth:`${s}rem`}},a)};function HE({item:n,autofocus:a,gamepadIndex:r,numberOfSiblings:l,horizontal:o,linebreak:i}){const{t:c}=Ii("EmptyStateMessage"),s=(0,t.useFacetCallback)((e=>e.onClick),[],[n]),u=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.inputLegend)&&void 0!==t?t:c(".buttonSelectInputLegend")}),[c],[n]),d=(0,t.useFacetMap)((e=>e.text),[],[n]),m=(0,t.useFacetMap)((e=>e.imgSrc),[],[n]),p=(0,t.useFacetMap)((e=>r===e-1),[r],[l]),f=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>{var t;return null!==(t=e.variant)&&void 0!==t?t:"secondary"}),[],[n])),g=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.gamepadAlias),[],[n])),E=(0,t.useFacetUnwrap)(o),h=(0,t.useFacetUnwrap)(i),b=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.buttonTestId),[],[n]));return e.createElement(e.Fragment,null,e.createElement(Pu,{linebreak:!0===h,horizontal:!0===E,delayedClick:!0,variant:f==t.NO_VALUE?"secondary":f,onClick:s,inputLegend:u,autofocus:a,gamepadAlias:g==t.NO_VALUE?void 0:g,gamepadIndex:r,imgSrc:m,"data-testid":b==t.NO_VALUE?void 0:b},d),e.createElement(t.Mount,{when:p,condition:!1},e.createElement(Yc,{size:3})))}function VE(n){const{buttons:a,autofocus:r}=n,l=Ko(),o=(0,t.useFacetMap)((e=>e.length),[],[a]),i=(0,t.useFacetMap)((e=>e>1),[],[o]),c=(0,t.useFacetMap)((e=>e<=2||e>2&&!("narrow"===l)),[l],[o]);return function(e,n){const a=ve();(0,t.useFacetEffect)((e=>{if(!n)return;const t=e.find((e=>null==e?void 0:e.gamepadAlias));null!=(null==t?void 0:t.gamepadAlias)&&a(t.gamepadAlias)}),[n,a],[e])}(a,r),e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>1===e?"PIvFb":2===e?"JJ32W":"WDNdm"),[],[o])},e.createElement(t.Map,{array:a},((t,n)=>e.createElement(HE,{linebreak:c,horizontal:i,item:t,gamepadIndex:n,autofocus:r,numberOfSiblings:o})))))}function GE({gamepadIndex:n,title:a,text:r,imgSrc:l,imgClass:o,buttons:i,autofocus:c,borderless:s=!1,gamepadAlias:u,role:d="neutral80",hideSpacingAroundImage:m=!1}){const{t:p}=Ii("EmptyStateMessage"),f=(0,t.useFacetWrap)(l),g=gr(d),E=Or()("dST3K",g.background.base,g.border.base,{iBeh_:s}),h=(0,t.useFacetWrap)(null!=i?i:[]),b=(0,t.useFacetMap)((e=>null!=e&&e.length>0),[],[h]),v=(0,t.useFacetWrap)(null!=r?r:""),F=(0,t.useFacetWrap)(null!=a?a:""),y=(0,t.useFacetMap)(((e,t)=>`${e} . ${p(".narrationTextBlock")} . ${t}`),[p],[F,v]);return e.createElement(Ps,{text:y},e.createElement(ic.Maybe,{isInteractive:(0,t.useFacetMap)((e=>!e),[],[b]),className:E,classNameFocused:ji,gamepadIndex:n,narrationText:!1,autofocus:c,gamepadAlias:u},e.createElement(zi,{inset:!0}),e.createElement(zs,{type:"secondaryButton",role:d,align:"center"},F),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>null!=e),[],[f])},e.createElement(e.Fragment,null,!m&&e.createElement(Yc,{size:4}),e.createElement(Rc,{imageRendering:"pixelated",src:l,className:o}),!m&&e.createElement(Yc,{size:4}))),e.createElement(zs,{type:"captionShort",role:d,variant:"dimmest",align:"center"},v),e.createElement(t.Mount,{when:b},e.createElement(VE,{buttons:h,gamepadIndex:n,autofocus:c}))))}const $E=(e,t)=>Math.round(e*t),KE="gGws2",XE=n.p+"assets/locked-b7e1e.png",YE=n.p+"assets/checkIcon-bcfbf.png";function qE({children:t,variant:n,date:a}){const{f:r}=Ii("Window"),l="completed"===n?"success":"neutral60",o=gr(l);return e.createElement("div",{className:Or()("P3s5b",o.background.base)},e.createElement(hc,{effect:"specular"}),e.createElement(Rc,{imageRendering:"pixelated",className:Or()({kLdrM:"locked"===n,X2i3D:"completed"===n}),src:"locked"===n?XE:YE}),e.createElement(zs,{type:"captionShort",role:l},t),"completed"===n&&null!=a&&e.createElement("div",{className:"PoM_H"},e.createElement(zs,{type:"captionShort",role:l},r.formatDate(a))))}function QE({children:t,variant:n="locked",title:a,date:r,loading:l}){const o=gr("neutral80");return l?e.createElement("div",{className:Or()("dDMcJ",o.border.base)},e.createElement(JE,{className:o.overlay.base})):e.createElement("div",{className:Or()("xHU3n",o.background.base,o.border.base)},e.createElement(qE,{date:r,variant:n},a),t)}const JE=({className:t})=>e.createElement("div",{className:Or()("xzfzB",t)},e.createElement(vs,null)),ZE="VTr_m";function eh({children:t,role:n="neutral100"}){return e.createElement(ja,{role:n},e.createElement("div",{className:"hy23n"},t))}eh.Pair=function({label:t,value:n,icon:a}){const r=gr("inherit");return e.createElement("div",{className:Or()(ZE,r.background.base)},e.createElement(zs,{type:"captionShort",variant:"dimmer"},t),e.createElement(zs,{type:"captionShort",variant:"dimmer"},a,n))},eh.Progress=function({label:t,value:n,total:a}){const{t:r}=Ii("DescriptionList"),l=gr("inherit");return e.createElement("div",{className:Or()("ptFWK",l.background.base)},e.createElement("div",{className:Or()(ZE)},e.createElement(zs,{type:"captionShort",variant:"dimmer"},null!=t?t:r(".progressLabel")),e.createElement(zs,{type:"captionShort",variant:"dimmer"},n,"/",a)),e.createElement("div",{className:"I0mfv"},e.createElement(ju,{tall:!0,percentage:n/a}),e.createElement(Yc,{size:2})))},eh.displayName="DescriptionList";const th=n.p+"assets/gamerscore_icon-53b10.png",nh=n.p+"assets/greyframe-dd39b.png",ah=n.p+"assets/unlockedBorder-2f13b.png",rh=n.p+"assets/placeholder-30ebc.png";function lh({title:t,description:n="",image:a,gamerscore:r=0,progress:l=0,autofocus:o=!1,progressTarget:i=0,isLocked:c,dateUnlocked:s=0,loading:u,completedOnAnotherPlatform:d,gamepadIndex:m}){const{t:p}=Ii("AchievementDetails"),f=ta();return e.createElement(ic,{inputLegend:!1,className:"",classNameHovered:"",classNameFocused:ji,classNamePressed:"",disabled:!f,autofocus:f&&o,gamepadIndex:m,narrationText:!1,onClick:()=>{}},e.createElement(zi,{withoutBorders:!0,disabled:!f}),e.createElement(QE,{loading:u,title:p(c?".locked":".completed"),variant:c?"locked":"completed",date:s},e.createElement(ja,{role:"neutral"},e.createElement("div",{className:"u0nXh"},e.createElement(hc,{effect:"specular"}),e.createElement(Yc,{size:5}),e.createElement("div",{className:Or()("tpf1b",{VllWJ:c})},e.createElement(Rc,{className:Or()(KE,"ArUtM"),imageRendering:"pixelated",src:c?nh:ah}),e.createElement(Rc,{className:Or()(KE),imageRendering:"pixelated",src:null!=a?a:rh}),!c&&e.createElement("div",{className:"wfhhN"})),e.createElement(Yc,{size:2}),e.createElement("div",{className:"oPk5q"},e.createElement(zs,{type:"header5B"},t),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"paragraphs",variant:"dimmer"},n)),e.createElement(Yc,{size:5}))),e.createElement(eh,null,e.createElement(eh.Pair,{label:p(".gamerscore"),value:`${r}`,icon:e.createElement(Rc,{className:"ZwLAX",imageRendering:"pixelated",src:th})}),d&&e.createElement(eh.Pair,{label:p(".anotherPlatform"),value:p(".yes")}),l&&0!==l&&1!==l?e.createElement(eh.Progress,{value:$E(l,i),total:i}):null)))}const oh=n.p+"assets/rewardUnlockedFrame-34e1b.png",ih=n.p+"assets/rewardLockedFrame-2d590.png",ch=n.p+"assets/unlockedIconGrey-2939d.png",sh=n.p+"assets/lockedIconGrey-c2c6d.png";function uh({image:t,title:n,isOwned:a,onClickView:r,role:l="neutral80",imageRole:o="neutral100"}){const{t:i}=Ii("AchievementReward"),c=gr(l),s=gr(o),u=[i(a?".narration.rewardUnlocked":".narration.rewardLocked"),n].join(" . ");return e.createElement(ja,{role:l},e.createElement(Ps,{text:u},e.createElement("div",{className:Or()("JLHbC",c.background.base,c.border.base)},e.createElement(hc,{effect:"specular"}),e.createElement("div",{className:"B_Fir"},e.createElement("div",{className:"Hir35"},e.createElement("div",{className:"JoBNl"},e.createElement(zs,{type:"captionShort",variant:"dimmer"},e.createElement(ru,null,i(".reward"))),a?e.createElement(Rc,{src:ch,imageRendering:"pixelated",className:"DS3tl"}):e.createElement(Rc,{src:sh,imageRendering:"pixelated",className:"MWbGE"})),e.createElement(zs,{type:"body",align:"center"},n)),e.createElement("div",{className:"kKntP"},e.createElement(Rc,{src:t,imageRendering:"pixelated",className:Or()("NpbvR",s.background.base,{k52pM:!a})}),e.createElement(Rc,{src:a?oh:ih,imageRendering:"pixelated",className:a?"E1SVO":"lXhLV"})),e.createElement("div",{className:"nMvu_"},e.createElement(Pu,{delayedClick:!0,onClick:r,gamepadIndex:0,gamepadAlias:"reward-button",inputLegend:i(".viewReward"),variant:"secondary"},i(".viewReward")))))))}function dh({type:e,renderingCompleted:n}){const a=Lr(),r=Nr(),l=(0,t.useFacetWrap)(n);return(0,t.useFacetEffect)(((t,n)=>{if(!n||!t)return;const r=requestAnimationFrame((()=>{"contentful"===e?a.contentfulPaint():a.meaningfulPaint()}));return()=>{cancelAnimationFrame(r)}}),[a,e],[r,l]),null}function mh({component:n,tab:a}){const r=d(),l=(0,t.useFacetMap)((e=>e.tab===a),[a],[m()]),o=(0,t.useFacetMap)(((e,t)=>t&&e),[],[r,l]),i=(0,t.useFacetMap)((e=>!e),[],[o]),c=(0,e.useRef)(!1),s=(0,t.useFacetMemo)((e=>(c.current=c.current||e,c.current)),[],[o]);return e.createElement(t.Mount,{when:s},e.createElement(x,{value:l},e.createElement(Wr,{disabled:i},e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>Or()("Vlec9",{Bi5Vi:!e})),[],[l])},e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(n,null)))))}function ph({Component:t,route:n,wideSize:a,narrowSize:r}){const l=(0,e.useRef)(null),o=(12-a)/2,i=(8-r)/2,c=(0,e.useCallback)((()=>e.createElement(UE.Row,{innerRef:l,fullHeight:!0,className:"QHAih"},e.createElement(UE.Column,{wideSize:o,narrowSize:i}),e.createElement(UE.Column,{wideSize:a,narrowSize:r},e.createElement(t,null)),e.createElement(UE.Column,{wideSize:o,narrowSize:i}))),[t,i,r,o,a]);return e.createElement(mh,{tab:n,component:c})}const fh=({wide:e,narrow:t,width:n})=>{let a;return 8===e&&(6===t||5===t)&&n>=220&&n<=260?a=102:(console.warn("useImageBreakpoint() is being used for an unhandled scenario. You should add a case for this, or you might not need to use getImageBreakpoint() at all."),a=70),Xo(a)},gh=({wide:e,narrow:t,width:n})=>{let a;return 8===e&&(6===t||5===t)&&n>=220&&n<=260?a=102:(console.warn("useImageBreakpoint() is being used for an unhandled scenario. You should add a case for this, or you might not need to use getImageBreakpoint() at all."),a=70),Yo(a)};function Eh(e,n){const[a,r]=(0,t.useFacetState)(!1);return(0,t.useFacetEffect)((e=>{if(e)return;const t=setTimeout((()=>{r(!0)}),n);return()=>{clearTimeout(t)}}),[n,r],[e]),a}const hh=({isLocked:e,progress:t,progressTarget:n},a)=>{const r=$E(t,n),l=Math.round(100*t);return e&&t>0&&t<1?[a(".narration.progress"),a(".narration.percentage",[`${r}`,`${n}`]),`${l}%`]:[]},bh=()=>{const{t:n,f:a}=Ii("AchievementDetailsRoute"),r=Hr(),l=Vr(),o=bE(im),i=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(fm(l.id))),c=!(i===t.NO_VALUE||!i.isLoaded),s=i===t.NO_VALUE?void 0:i.achievement,u=Eh((0,t.useSharedFacet)(pm),1e4),d=Eh((0,t.useSharedFacet)(pm),1500),m=(0,t.useFacetUnwrap)(u),p=(0,t.useFacetUnwrap)(d),f=(0,e.useRef)(null),g=c&&!s;(0,e.useEffect)((()=>{g&&r.goBack()}),[g,r]);const E=Boolean(o&&s&&null!=s.rewardName&&s.rewardImage),h=null!=s?[s.isLocked?n(".narration.locked"):n(".narration.completed"),s.dateUnlocked>0?a.formatDate(s.dateUnlocked):"",s.name,s.description,...0!==s.gamerScore?[n(".narration.gamerscore"),`${s.gamerScore}`]:[],...hh(s,n)].join(" . "):"";if(i===t.NO_VALUE)return null;const b=o&&s&&s.hasReward&&s.isRewardOwned&&s.isLocked;return e.createElement(vE,null,e.createElement(Ps,{text:n(".narration.title")},p!==t.NO_VALUE&&p&&(m===t.NO_VALUE||!m)&&e.createElement(hE,{text:n(".narration.loadingMessage")}),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:c}),e.createElement(DE,{onBackButton:r.goBack,center:e.createElement(zs,{type:"header5A"},n(".title")),delegateFocusFromMemory:!0,gamepadAlias:"achievements-details-layout-content",delegateByAlias:"achievements-details-wrapper",shouldNotDelegateToContent:!E},m!==t.NO_VALUE&&m?e.createElement(UE,null,e.createElement(UE.Row,{gamepadIndex:0},e.createElement(UE.Column,{wideSize:2,narrowSize:1}),e.createElement(UE.Column,{gamepadIndex:0,wideSize:8,narrowSize:6},e.createElement(Yc,{size:2}),e.createElement(GE,{gamepadAlias:"ach-details-empty-state",gamepadIndex:0,text:n(".errorMessage")})))):e.createElement(Ps,{text:h},e.createElement(UE,null,e.createElement(Pc,{containerRef:f,delegateFocusFromMemory:!0,alias:"achievements-details-wrapper",delegateFocusByAlias:"reward-wrapper"},e.createElement(UE.Row,{innerRef:f,gamepadIndex:0},(!E||!c)&&e.createElement(UE.Column,{wideSize:2,narrowSize:1}),e.createElement(UE.Column,{gamepadIndex:0,wideSize:8,narrowSize:E&&c?5:6},e.createElement(ys,{gamepadIndex:0,focusableIfScrollable:!0},e.createElement(Yc,{size:2}),s?e.createElement(lh,{loading:!1,title:s.name,image:s.image,description:s.description,progress:s.progress,progressTarget:s.progressTarget,isLocked:s.isLocked,dateUnlocked:s.dateUnlocked,gamerscore:s.gamerScore,gamepadIndex:0,completedOnAnotherPlatform:!!b}):e.createElement(lh,{gamepadIndex:0,loading:!0}),e.createElement(Yc,{size:2}),e.createElement(wd.Space,null))),E&&s&&null!=s.rewardName&&null!=s.rewardImage&&e.createElement(UE.Column,{gamepadIndex:1,wideSize:4,narrowSize:3},e.createElement(ys,{gamepadAlias:"reward-wrapper",delegateFocusByAlias:"reward-button",gamepadIndex:0,loading:!c},e.createElement(Yc,{size:2}),e.createElement(uh,{title:s.rewardName,onClickView:()=>{r.push(`/persona?itemId=${s.rewardId}`)},isOwned:Fm(s),image:s.rewardImage}),e.createElement(Yc,{size:2}),e.createElement(wd.Space,null))))))))))},vh=n.p+"assets/all_achievements_unlocked-145c0.png",Fh=n.p+"assets/no_achievements_unlocked-343d7.png",yh=n.p+"assets/error-message-9e281.png",Sh=n.p+"assets/unavailable-on-preview-2120e.png",Ch="Asqnc",Mh="z4iyJ",wh="Fb8kl";function kh({role:n="destructiveTint",children:a,overflowCount:r=99}){const l=gr(n),o=null!=a,i=Or()(l.border.base,l.background.base,l.text.base,o?"Fp9K8":wh),c=(0,t.useFacetMap)((e=>e>r&&0!=r?`+${r}`:`${e}`),[r],[(0,t.useFacetWrap)(null!=a?a:0)]);return o?e.createElement("div",{className:i},e.createElement("div",{className:"RlfkW"},e.createElement(zs,{type:"body",role:n,align:"center"},c))):e.createElement("div",{className:i},e.createElement("div",{className:wh}))}const Th=(0,e.createContext)((()=>{}));function xh({children:n}){const[a,r]=(0,t.useFacetState)(!1);return e.createElement(Th.Provider,{value:r},n,e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>e?"hVSP2":""),[],[a])}))}const Ih=(0,e.createContext)(null),Ph=()=>(0,e.useContext)(Ih),Oh=(0,e.createContext)(null),Ah=(0,e.createContext)(null),Nh=(0,e.createContext)(null);function Rh({children:n}){const a=Je(),r=(0,e.useMemo)((()=>(0,t.createFacet)({initialValue:{}})),[]),l=(0,e.useMemo)((()=>(0,t.createFacet)({initialValue:{}})),[]),o=(0,t.useFacetMap)((e=>null!=Lh(e)),[],[r]),i=(0,e.useContext)(Th);(0,t.useFacetEffect)(i,[i],[o]);const c=(0,t.useFacetCallback)(((e,n)=>a=>{const o=Lh(e);null!=o&&"gamepad"==o.dragging&&(r.setWithCallback((e=>{const t="up"===a?-1:"down"===a?1:0,r=o.gamepadHoverIndex+t,l=function(e,t){if(null==e)return null;for(const n in e){const a=e[n];if(a.index===t)return a}}(n,o.index);for(const e in n){const t=n[e];if(t.index===r){var i;const e=null===(i=t.ref.current)||void 0===i?void 0:i.getBoundingClientRect();if(null==o.startX||null==o.startY){var c;const e=null==l||null===(c=l.ref.current)||void 0===c?void 0:c.getBoundingClientRect();var s,u;null!=e&&(o.startX=null!==(s=e.left)&&void 0!==s?s:0,o.startY=null!==(u=e.top)&&void 0!==u?u:0)}if(null==e)break;const n=r===o.index;o.gamepadHoverIndex=r,o.transform=n?"translate(0, 0)":`translate(${e.left-o.startX+o.gamepadDragXOffsetPx}px, ${e.top-o.startY+o.gamepadDragYOffsetPx}px)`;break}}return e})),l.setWithCallback((e=>{if(e!=t.NO_VALUE)for(const t in e){const n=e[t],a=o.index<n.index&&o.gamepadHoverIndex>=n.index,r=o.index>n.index&&o.gamepadHoverIndex<=n.index;n.displacement=a?-1:r?1:0,n.hovering=o.gamepadHoverIndex===n.index}return e})))}),[r,l],[r,l]),s=(0,t.useFacetCallback)(((e,n,a)=>o=>{const i=Lh(e);if(!a&&null==o.touches)return;const{clientX:c,clientY:s}=a?o:o.touches[0],u=function(e,t,n){if(null==n)return null;let a=null,r=null;for(const l in n){const o=n[l];if(null==o.centerX||null==o.centerY)continue;const i=Math.hypot(e-o.centerX,t-o.centerY);(null==r||i<r)&&(r=i,a=o)}return a}(c,s,n);null!=i&&(r.setWithCallback((e=>{if(null!=i.startX&&null!=i.startY){var t;const e="y"===i.pointerAxisLock?0:c-i.startX,n="x"===i.pointerAxisLock?0:s-i.startY;i.transform=`translate(${e}px, ${n}px)`,i.pointerHoverIndex=null!==(t=null==u?void 0:u.index)&&void 0!==t?t:i.index,i.pointerHoverIndex!==(null==i?void 0:i.index)&&(i.hasDraggedPointerBeyondStartArea=!0)}return e})),l.setWithCallback((e=>{if(null!=u&&e!=t.NO_VALUE){for(const t in e){const n=e[t],a=i.index<n.index&&u.index>=n.index,r=i.index>n.index&&u.index<=n.index;n.displacement=a?-1:r?1:0,n.hovering=!1}u.hovering=!0}return e})))}),[r,l],[r,l,a]);(0,e.useEffect)((()=>{const e=()=>{let e;window.removeEventListener("mousemove",s),window.removeEventListener("touchmove",s),r.setWithCallback((n=>{if(n!=t.NO_VALUE)for(const t in n){const a=n[t];0!=a.dragging&&(e=a.data),a.hasDraggedPointerBeyondStartArea=!1,a.dragging=!1,a.transform="",a.zIndex="",a.startX=null,a.startY=null}return n})),l.setWithCallback((n=>{if(n!=t.NO_VALUE)for(const t in n){const a=n[t];!0===a.hovering&&a.onDrop(e,a.data),a.displacement=null,a.hovering=!1}return n}))};return window.addEventListener("mouseup",e),window.addEventListener("touchend",e),()=>{window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e)}}),[s,r,l]);const u=(0,e.useContext)(Ye),d=(0,e.useMemo)((()=>({addDraggable:e=>{null!=e.id&&r.setWithCallback((n=>{var a,r;return n!=t.NO_VALUE&&(n[e.id]={id:e.id,gamepadHoverIndex:e.index,pointerHoverIndex:e.index,hasDraggedPointerBeyondStartArea:!1,ref:e.ref,data:e.data,index:e.index,dragging:!1,transform:"",zIndex:"",startX:null,startY:null,pointerAxisLock:e.pointerAxisLock,gamepadDragXOffsetPx:null!==(a=e.gamepadDragXOffsetPx)&&void 0!==a?a:0,gamepadDragYOffsetPx:null!==(r=e.gamepadDragYOffsetPx)&&void 0!==r?r:0}),n}))},removeDraggable:e=>{e&&r.setWithCallback((n=>(n!=t.NO_VALUE&&delete n[e],n)))},addDroppable:e=>{null!=e.id&&function e(n){var a;const r=null===(a=n.ref.current)||void 0===a?void 0:a.getBoundingClientRect();null==r||0===r.width&&0===r.height?requestAnimationFrame((()=>e(n))):requestAnimationFrame((()=>{l.setWithCallback((e=>(null==r||e==t.NO_VALUE||(e[n.id]={data:n.data,index:n.index,hovering:!1,centerX:r.left+r.width/2,centerY:r.top+r.height/2,left:r.left,top:r.top,displacement:null,ref:n.ref,onDrop:n.onDrop}),e)))}))}(e)},removeDroppable:e=>{l.setWithCallback((n=>(n!=t.NO_VALUE&&delete n[e],n)))},pointerDragStart:(e,n,a)=>{window.addEventListener("mousemove",s),window.addEventListener("touchmove",s),l.setWithCallback((n=>{if(n!=t.NO_VALUE){var a;null!=(null===(a=n[e])||void 0===a?void 0:a.hovering)&&(n[e].hovering=!0);for(const e in n){var r;if(null==n)break;const t=n[e],a=null===(r=t.ref.current)||void 0===r?void 0:r.getBoundingClientRect();null!=a&&(t.centerX=a.left+a.width/2,t.centerY=a.top+a.height/2,t.left=a.left,t.top=a.top,t.displacement=0)}}return n})),r.setWithCallback((r=>{if(r!=t.NO_VALUE){r[e].dragging="pointer";const t=r[e].ref.current,l=null==t?void 0:t.getBoundingClientRect();if(null==l)return r;const o=r[e].pointerAxisLock,i="y"===o?0:n-l.left,c="x"===o?0:a-l.top,s=c>l.height||i>l.width;r[e].transform=s?`translate(${i}px, ${c}px)`:"translate(0, 0)",r[e].zIndex=4,r[e].startX=s?n-i:n,r[e].startY=s?a-c:a}return r}))},focusDragStop:()=>{const e=r.get();if(e!=t.NO_VALUE){const t=Lh(e);"gamepad"===(null==t?void 0:t.dragging)&&d.focusDragToggle(t.id)}},focusDragToggle:e=>{r.setWithCallback((n=>{if(n!=t.NO_VALUE){const a=n[e];0!=a.dragging?(window.removeEventListener("mousemove",d.focusDragStop),window.removeEventListener("touchstart",d.focusDragStop),a.dragging=!1,a.zIndex="",a.transform="",a.gamepadHoverIndex=a.index,l.setWithCallback((e=>{if(e!=t.NO_VALUE)for(const t in e){const n=e[t];!0===n.hovering&&n.onDrop(a.data,n.data),n.displacement=null,n.hovering=!1}return e}))):(u.get()===He.ARVR_None&&(window.addEventListener("mousemove",d.focusDragStop),window.addEventListener("touchstart",d.focusDragStop)),a.dragging="gamepad",a.zIndex=4,l.setWithCallback((n=>{if(n!=t.NO_VALUE){var a;null!=(null===(a=n[e])||void 0===a?void 0:a.hovering)&&(n[e].hovering=!0);for(const e in n)n[e].displacement=0}return n})))}return n}))},focusDragMove:c})),[s,c,r,l,u]);return e.createElement(Ih.Provider,{value:d},e.createElement(Nh.Provider,{value:l},e.createElement(Ah.Provider,{value:r},e.createElement(Oh.Provider,{value:o},n))))}function Lh(e){for(const t in e)if(!1!==e[t].dragging)return e[t]}const _h=()=>(0,e.useContext)(Oh);function Dh({tabs:n,gamepadAliasNamespace:a,value:r,onChange:l,narrationTitle:o,enableGamepadShortcuts:i,onTabHoveredSoundEffect:c,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=Ii("TabBar"),f=(0,e.useRef)(null),g=(0,t.useFacetWrap)(null!=i&&i),E=(0,t.useFacetWrap)(n),h=(0,t.useFacetMap)((e=>e.length),[],[E]),b=(0,t.useFacetWrap)(r),v=(0,t.useFacetMap)((e=>`${p(".narrationGroup",[e])}`),[p],[(0,t.useFacetWrap)(o)]),F=hr(d),y=Jn(),S=(0,t.useFacetCallback)(((e,t)=>(n,a)=>{if(t===n)return;const r=null!=e?e:F.toggle;null!=r&&y(r),l(n,a)}),[l,F.toggle,y],[(0,t.useFacetWrap)(s),b]);return e.createElement(Ps,{text:v},e.createElement("div",{className:"uAM9I"},e.createElement(Pc,{containerRef:f,alias:"play-screen-tab-bar-wrapper",delegateFocusFromMemory:!0},e.createElement("div",{ref:f,className:"skOQQ"},e.createElement(t.Map,{array:E},((t,n)=>e.createElement(Wh,{gamepadAliasNamespace:a,key:`tab_${n}`,index:n,length:h,tab:t,selectedTab:b,onChange:S,onTabHoveredSoundEffect:c,isCondensed:u,badgeRole:m}))))),e.createElement(t.Mount,{when:g},e.createElement(Bh,{value:b,onChange:S,tabs:E}))))}const Bh=function({value:n,tabs:a,onChange:r}){var l;const o=et(),i=tt(),c=nt(),s=(0,t.useFacetWrap)(null!==(l=_h())&&void 0!==l&&l),u=(0,t.useFacetCallback)((e=>t=>e[t].value),[],[a]),d=(0,t.useFacetCallback)((e=>t=>e.findIndex((({value:e})=>e===t))),[],[a]),m=(0,t.useFacetMap)((e=>d(e)),[d],[n]),p=(0,t.useFacetCallback)((e=>()=>{const n=e-1;if(n>-1){const e=u(n);e!==t.NO_VALUE&&r(e,!0)}}),[u,r],[m]),f=(0,t.useFacetCallback)(((e,n)=>()=>{const a=n+1;if(a<e.length){const e=u(a);e!==t.NO_VALUE&&r(e,!0)}}),[u,r],[a,m]),g=Ld.useIsAnyModalVisible(),E=(0,t.useFacetMap)(((e,t)=>({button:W.LEFT_BUMPER,disabled:e||t})),[],[g,s]),h=(0,t.useFacetMap)(((e,t)=>({button:W.RIGHT_BUMPER,disabled:e||t})),[],[g,s]),b=(0,t.useFacetMap)((e=>e?Mh:"z4iyJ XlhDT"),[],[o]),v=(0,t.useFacetMap)((e=>e?Mh:"z4iyJ XlhDT"),[],[i]);return e.createElement(t.Mount,{when:c},e.createElement(e.Fragment,null,e.createElement(xs,{options:E,onClick:p}),e.createElement(xs,{options:h,onClick:f}),e.createElement("fast-div",{className:b},e.createElement("div",{className:"kNiYk"},e.createElement(Sd,{button:W.LEFT_BUMPER})),e.createElement("div",{className:"QmvqS"},e.createElement(Sd,{button:W.RIGHT_BUMPER}))),e.createElement("fast-div",{className:v},e.createElement("div",{className:"UbMe_"},e.createElement(Cd,{keyCode:de.KEY_Q})),e.createElement("div",{className:"psX5S"},e.createElement(Cd,{keyCode:de.KEY_E})))))};function Wh({gamepadAliasNamespace:n,selectedTab:a,onChange:r,index:l,length:o,tab:i,onTabHoveredSoundEffect:c,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=Ii("TabBar"),{narrateText:f}=Fs(),g=gr(d),E=Fr(),h=(0,t.useFacetMap)((e=>{var t;return null!==(t=e["data-testid"])&&void 0!==t?t:`tab-${e.value}`}),[],[i]),b=(0,t.useFacetMap)(((e,t)=>e===t.value),[],[a,i]),v=(0,t.useFacetMap)((e=>!e),[],[b]),F=(0,t.useFacetMap)(((e,t,n)=>[e.label,p(".narrationComponentType"),p(".selectedTab",[`${l+1}`,`${n}`]),p("."+(t?"selected":"notSelected")),e.hint].filter((e=>e)).join(" . ")),[l,p],[i,b,o]),y=(0,t.useFacetMap)((e=>Or()("vaqPZ",g.background.interactive,g.border.base,{zgD8j:u,[E.pressed]:e,[Ch]:e})),[u,E,g],[b]),S=(0,t.useFacetCallback)((e=>()=>{f(p(".selected")),r(e.value,!1)}),[f,r,p],[i]),C=(0,t.useFacetMap)((e=>Uh(n,e.value)),[n],[i]),M=(0,t.useFacetMap)((e=>!e&&p(".open")),[p],[b]),w=(0,t.useFacetUnwrap)((0,t.useFacetMap)(((t,n)=>t.icons&&e.createElement(e.Fragment,null,t.icons[n?"selected":"unselected"],e.createElement(Yc,{size:2}))),[],[i,b])),k=(0,t.useFacetMap)((e=>null!=e.badge),[],[i]),T=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.badge)&&void 0!==t?t:0}),[],[i]),x=(0,t.useFacetMap)((e=>Or()("vQ853",e?"SQhfM":null)),[],[k]),I=(0,t.useFacetMap)((e=>e.label),[],[i]);return e.createElement(ic,{className:y,classNameFocused:Or()("Fd_3e",ji),classNamePressed:Ch,onClick:S,gamepadAlias:C,gamepadIndex:l,inputLegend:M,soundEffectHovered:c,soundEffectPressed:s,narrationText:F,"data-testid":h},e.createElement(zi,{role:d}),e.createElement("div",{className:"d2Oi5"},e.createElement(hc,{role:d}),e.createElement("div",{className:"nYWhJ",style:{}},e.createElement("fast-div",{className:x},e.createElement(zs,{type:"body",role:d,verticalAlign:"center",disableable:b,interactive:v},w!==t.NO_VALUE&&null!=w&&w,e.createElement(ru,null,I)),e.createElement(t.Mount,{when:k},e.createElement("div",{className:"Mnd0y"},e.createElement(Yc,{size:2}),e.createElement(kh,{role:m},T)))))),e.createElement("div",{className:Or()("y6Sow",g.shadow.base)}),e.createElement(t.Mount,{when:b},e.createElement("div",{className:Or()("osEZN",g.icon.base)})))}function Uh(e,t){return`tab-bar-${e}-${t}`}Dh.getFocusAlias=Uh;var zh=n(32250),jh=n.n(zh);function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hh.apply(this,arguments)}const Vh={0:"",1:"d2TEJ",2:"Gj9RM",3:"E1oWY",4:"YWsa7",5:"dXAvF",6:"A1EfM",7:"CGJv2",8:"nKDxU"},Gh={0:"",1:"KiCac",2:"xBfaL",3:"hekEJ",4:"cz2PX",5:"tLZ7Y",6:"aosJR",7:"OzmV0",8:"ywdmp"},$h={0:0,1:.4,2:.8,3:1.2,4:1.6,5:2,6:2.4,7:3.2,8:6.4};function Kh(n){var a,r;const l=$o(n.rowSizeRem),o=$o($h[null!==(a=n.spacingSize)&&void 0!==a?a:0]),i=(0,t.useFacetMap)(((e,t)=>e+t),[],[l,o]),c=$o(null!==(r=n.headerSizeRem)&&void 0!==r?r:0);return e.createElement(qh,Hh({},n,{containerRef:(0,e.useRef)(null),firstRowRef:(0,e.useRef)(null),headerRef:(0,e.useRef)(null),headerSize:c,firstRowSize:i,containerSize:(0,t.useFacetWrap)(n.containerSizePixels),forceRowHeight:!0}))}function Xh(n){const[a,r]=(0,t.useFacetState)(0),l=(0,e.useRef)(null),o=(0,e.useCallback)((({height:e})=>r(e)),[r]);Qo(l,o);const[i,c]=(0,t.useFacetState)(0),s=(0,e.useRef)(null),u=(0,e.useCallback)((({height:e})=>c(e)),[c]);Qo(s,u);const[d,m]=(0,t.useFacetState)(0),p=(0,e.useRef)(null),f=(0,e.useCallback)((({height:e})=>m(e)),[m]);return Qo(p,f),e.createElement(qh,Hh({},n,{containerRef:l,containerSize:a,firstRowRef:s,firstRowSize:i,headerRef:p,headerSize:d}))}const Yh=(0,t.createStaticFacet)(0);function qh(n){const{loading:a,renderItem:r,data:l,columnCount:o,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,overflowCount:s,equalityCheck:u,footer:d,spacingSize:m=0,emptyMessage:p,containerSize:f,headerSize:g,firstRowSize:E,containerRef:h,headerRef:b,firstRowRef:v,header:F,__initialRowOffsetPX:y=Yh,gamepadAlias:S,padSpinnerVertically:C,renderTracker:M,delegateFocusFromMemory:w,forceRowHeight:k,isGrid:T,gridCellWidth:x,gridCellHeight:I,gridColumns:P,gridRows:O,gridCellSizeAuto:A}=n,[N,R]=(0,e.useState)(1),[L,_]=(0,t.useFacetState)(0),D=(0,t.useFacetMap)((e=>Math.ceil(e.length/o)),[o],[l]),B=(0,t.useFacetMap)((e=>e.length),[],[l]),W=(0,t.useFacetMap)((e=>e<=0),[],[B]),U=(0,t.useFacetMap)(((e,t,n)=>Math.ceil(e.length/o)*t+n),[o],[l,E,y]);return(0,t.useFacetEffect)(((e,t,n)=>{if(0===e||0===t)return;const a=Math.round(e/t)+2*s;R(n<a?n+2*s:a)}),[s],[f,E,D]),(0,t.useFacetLayoutEffect)(((e,t,n,a)=>{const r=h.current;if(null==r)return;let l,o;const i=()=>{const c=Math.max(0,Math.min(r.scrollTop,a-r.offsetHeight));c!==l&&(_(Math.round((c-t+n)/e)-s),l=c),o=requestAnimationFrame(i)};return i(),()=>{cancelAnimationFrame(o)}}),[_,s,h],[E,g,y,U]),e.createElement(Qh,{gamepadAlias:S,scrollRef:h,loading:a,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,delegateFocusFromMemory:w,padSpinnerVertically:C,renderTracker:M,isGrid:T,gridCellWidth:x,gridCellHeight:I,gridColumns:P,gridRows:O,gridCellSizeAuto:A},null!=F?e.createElement("div",{ref:b},F):null,e.createElement(Fl,{data:W},(t=>t?e.createElement(e.Fragment,null,p):e.createElement("fast-div",{className:`${Gh[m]} _QBY6`,style:{heightPX:U},"data-testid":"glv-container"},jh()((t=>e.createElement(eb,{key:t,data:l,dataLength:B,startRowIndex:L,relativeRowIndex:t,rowCount:D,columnCount:o,renderItem:r,rowHeight:E,visibleCount:N,equalityCheck:u,innerRef:0===t?v:void 0,headerSize:g,spacingSize:m,rowOffset:y,forceRowHeight:k})),N)))),d)}function Qh({children:n,delegateFocusFromMemory:a=!0,focusGridIndex:r,gamepadAlias:l,loading:o,padSpinnerVertically:i,renderTracker:c,scrollIntoViewAlign:s,scrollIntoViewSpeedFactor:u,scrollRef:d,showSpinnerBorder:m,spinnerBackgroundColor:p,isGrid:f,gridCellWidth:g,gridCellHeight:E,gridColumns:h,gridRows:b,gridCellSizeAuto:v}){const F=(0,t.useIsDeferring)(),y=(0,t.useIsPaused)(),S=(0,t.useFacetMap)(((e,t)=>t||e||y),[y],[F,(0,t.useFacetWrap)(null!=o&&o)]);return e.createElement(ys,{delegateFocusFromMemory:a,focusGridIndex:r,gamepadAlias:l,innerRef:d,loading:S,padSpinnerVertically:i,renderTracker:c,showSpinnerBorder:m,spinnerBackgroundColor:p,scrollIntoViewAlign:s,scrollIntoViewSpeedFactor:u,shouldScrollWithAnalog:!1,isGrid:f,gridCellWidth:g,gridCellHeight:E,gridColumns:h,gridRows:b,gridCellSizeAuto:v},n)}const Jh=3;function Zh(n){const a=(0,t.useFacetWrap)(n.data),{columnCount:r,overflowCount:l=Jh}=n,o=r<=0?1:r,i=l<0?0:l;return function(e){return null!=e.rowSizeRem}(n)?e.createElement(Kh,Hh({},n,{columnCount:o,overflowCount:i,data:a})):e.createElement(Xh,Hh({},n,{columnCount:o,overflowCount:i,data:a}))}function eb({data:n,dataLength:a,startRowIndex:r,relativeRowIndex:l,rowCount:o,columnCount:i,renderItem:c,rowHeight:s,visibleCount:u,equalityCheck:d,innerRef:m,spacingSize:p,rowOffset:f,forceRowHeight:g}){const E=(0,t.useFacetMemo)(((e,t)=>{const n=Math.floor((e+(u-1-l))/u)*u+l;return n<t&&n>=0?n:void 0}),[l,u],[r,o]),h=(0,t.useFacetMap)(((e,t,n)=>null==e?0:0==e?e*t:e*t+n),[],[E,s,f]),b=(0,t.useFacetMap)(((e,t,n)=>g?0===n?t+e:t:void 0),[g],[f,s,E]),v=(0,t.useFacetMap)((e=>null==e),[],[E]),F=(0,t.useFacetMap)((e=>e?"none":"flex"),[],[v]);return e.createElement(Wr,{disabled:v,hidden:v},e.createElement("fast-div",{className:Or()("wKbAE",Vh[p]),style:{topPX:h,display:F,heightPX:b},ref:m},jh()((t=>e.createElement(tb,{dataLength:a,key:t,data:n,rowIndex:E,columnIndex:t,columnCount:i,equalityCheck:d,renderItem:c,spacingSize:p})),i)))}function tb({data:n,dataLength:a,rowIndex:r,columnIndex:l,columnCount:o,renderItem:i,equalityCheck:c,spacingSize:s}){const u=(0,t.useFacetMap)((e=>null==e?t.NO_VALUE:e*o+l),[l,o],[r]),d=(0,t.useFacetMemo)(((e,n)=>null!=n[e]?n[e]:t.NO_VALUE),[],[u,n],c),m=(0,t.useFacetMap)(((e,n)=>null==e?t.NO_VALUE:null==n[e*o+l]),[l,o],[r,n]),p=(0,t.useFacetMap)((e=>null==e?t.NO_VALUE:e),[],[r]);return e.createElement(e.Fragment,null,i({item:d,index:u,rowIndex:p,columnIndex:l,isHidden:m,listLength:a}),l<o-1&&s>0?e.createElement(Yc,{size:s}):null)}const nb=({label:n="",role:a="neutral"})=>{const r=(0,t.useFacetWrap)(a),l=gr();return e.createElement("fast-div",{className:"YimiS"},e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>Or()("uydZW",l[e].background.base,l[e].border.base,l[e].text.base)),[l],[r])},e.createElement(zs,{type:"captionShort",role:a},e.createElement("fast-text",{text:n}))),e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>Or()("ZXwO7",l[e].background.base,l[e].border.base)),[l],[r])}))};function ab({data:n,renderItem:a,containerSizePixels:r,rowSizeInRem:l,gamepadAlias:o,loading:i,footer:c,padSpinnerVertically:s,delegateFocusFromMemory:u,renderTracker:d,isGrid:m,gridItemHeight:p,gridItemWidth:f}){const g=(0,t.useFacetWrap)(n),E=(0,t.useFacetMap)((e=>{const t=[];for(let n=0;n<e.length;n++){const{data:a,narrationSuffix:r,narrationTitle:l}=e[n];e[n].data.length<=0||t.push({isHeader:!0,narrationSuffix:r,narrationTitle:l,role:e[n].role,sectionIndex:n,sectionLength:a.length,numberOfSections:e.length,sectionTitle:e[n].title},...a.map(((t,o)=>({isHeader:!1,data:t,localIndex:o,narrationSuffix:r,narrationTitle:l,sectionIndex:n,sectionLength:a.length,numberOfSections:e.length,sectionTitle:e[n].title}))))}return t}),[],[g]),h=$o(-(l-lb));return e.createElement(Zi,{value:!1},e.createElement(Zh,{renderTracker:d,loading:i,gamepadAlias:o,footer:c,rowSizeRem:l,padSpinnerVertically:s,containerSizePixels:r,data:E,columnCount:1,__initialRowOffsetPX:h,renderItem:({item:t,index:n})=>e.createElement(rb,{itemData:t,index:n,renderItem:a}),delegateFocusFromMemory:u,isGrid:m,gridCellHeight:p,gridCellWidth:f}))}function rb({itemData:n,renderItem:a}){const{t:r}=Ii("SectionList"),l=(0,t.useFacetMemo)((e=>e.isHeader),[],[n]),o=(0,t.useFacetMemo)((e=>e.isHeader?"none":"flex"),[],[n]);return e.createElement(Ps,{getText:(0,t.useFacetCallback)((e=>()=>{var t,n;return[r(".groupNarration",[null!==(t=e.narrationTitle)&&void 0!==t?t:e.sectionTitle,(e.sectionIndex+1).toString(),e.numberOfSections.toString()]),null!==(n=e.narrationSuffix)&&void 0!==n?n:""].filter(Boolean).join(" . ")}),[r],[n])},e.createElement(Wr,{disabled:l,hidden:l},e.createElement(ob,{role:(0,t.useFacetMap)((e=>e.isHeader?e.role:t.NO_VALUE),[],[n]),title:(0,t.useFacetMap)((e=>e.isHeader?e.sectionTitle:t.NO_VALUE),[],[n]),show:l}),e.createElement("fast-div",{style:{display:o,flex:1}},e.createElement(e.Fragment,null,a(n)))))}const lb=4.4;function ob({title:n,show:a,role:r}){const l=(0,t.useFacetMap)((e=>e?"flex":"none"),[],[a]);return e.createElement("fast-div",{style:{display:l,flex:1,justifyContent:"flex-end",flexDirection:"column"}},e.createElement(nb,{label:n,role:r}))}const ib=n.p+"assets/progress-27e63.png",cb=n.p+"assets/gamerscore-81b0c.png",sb=n.p+"assets/clock-8ff67.png",ub=n.p+"assets/rewards-72c0a.png",db=n.p+"assets/bottle0-9fb82.png",mb=n.p+"assets/bottle1-fdac9.png",pb=n.p+"assets/bottle2-ed155.png",fb=n.p+"assets/bottle3-05ed8.png",gb=n.p+"assets/bottle4-c082d.png",Eb=n.p+"assets/bottle5-4cb31.png",hb=n.p+"assets/bottle6-25895.png",bb=n.p+"assets/bottle7-e7197.png",vb=n.p+"assets/bottle8-d6d3f.png",Fb=n.p+"assets/bottle9-b40a8.png";function yb({children:t,role:n="neutral80"}){const a=gr(n);return e.createElement(ja,{role:n},e.createElement("div",{className:Or()("i2Nr0",a.background.base,a.border.base)},t))}yb.Data=function({value:t,label:n,icon:a}){const r=gr("inherit");return e.createElement("div",{className:Or()("dIbWH",r.background.base)},a,e.createElement("div",{className:"VHEDr"},e.createElement(zs,{type:"captionShort",variant:"dimmest"},n),e.createElement(zs,{type:"captionShort"},t)))},yb.Divider=function(){const t=gr("inherit");return e.createElement("div",{className:Or()("juifw",t.shadow.base)})};const Sb=({status:n})=>e.createElement("fast-div",{className:(0,t.useFacetMap)((([e])=>Or()("NQGrD",{ejkbA:"exited"===e||"exiting"===e||"unmounted"===e})),[],[n])},e.createElement(vs,null));yb.displayName="Summary",yb.SummarySpinner=({hidden:t})=>e.createElement(ns,{visible:!t,timeout:500},(t=>e.createElement(Sb,{status:t})));const Cb="RI2Bw",Mb="bVgdK";function wb(e){return 0===e?db:2===Math.round(10*e)?pb:3===Math.round(10*e)?fb:4===Math.round(10*e)?gb:5===Math.round(10*e)?Eb:6===Math.round(10*e)?hb:7===Math.round(10*e)?bb:8===Math.round(10*e)?vb:9===Math.round(10*e)||10===Math.round(10*e)?Fb:mb}function kb({inProgress:t,achievementsUnlocked:n,achievementsTotal:a,rewardsUnlocked:r,rewardsTotal:l,gamerScore:o,gamerScoreTotal:i,hoursPlayed:c,gamepadIndex:s}){const{t:u}=Ii("AchievementsSummary"),d=null!=l&&l>0,m=null!=r&&r>0,p=`${o}/${i}`,f=0===a?0:n/a,g=a&&n&&100*f>98?Math.floor(100*f):Math.ceil(100*f),E=ta(),h=[u(".narratorTextBlock"),u(".narratorSummary"),u(".narratorIndex",["1","4"]),u(".narratorPercentage",[`${g}`]),u(".narratorCompletedAchievements",[`${n}`,`${a}`]),u(".narratorInProgress",[`${t}`]),m&&d?u(".narratorCompletedRewards",[`${r}`,`${l}`]):"",u(".narratorGamerscore",[`${o}`,`${i}`]),u(".narratorTimePlayed",[`${c}`])];return e.createElement(ic,{inputLegend:!1,className:"",autofocus:!0,classNameHovered:"",classNameFocused:ji,classNamePressed:"",disabled:!E,gamepadIndex:s,narrationText:h.join(" . "),onClick:()=>{}},e.createElement(zi,{withoutBorders:!0,disabled:!E}),e.createElement(yb,null,e.createElement("div",{className:"POu4S"},e.createElement(hc,{effect:"specular"}),e.createElement("div",{className:"zMNWB"},e.createElement(Rc,{imageRendering:"pixelated",src:wb(f),className:"KDqG6"}),e.createElement(zs,{type:"header2",shadow:!0},g),e.createElement(zs,{type:"header3",shadow:!0},e.createElement("div",{className:"oobZ8"},"%"))),e.createElement("div",{className:"JVJBe"},e.createElement(zs,{type:"captionShort"},u(".percentage",[`${n}`,`${a}`])))),e.createElement(yb.Divider,null),e.createElement(yb.Data,{icon:e.createElement("div",{className:Mb},e.createElement(Rc,{src:ib,imageRendering:"pixelated",className:Cb})),label:u(".progress"),value:t}),e.createElement(yb.Divider,null),d&&e.createElement(e.Fragment,null,e.createElement(yb.Data,{icon:e.createElement("div",{className:Mb},e.createElement(Rc,{src:ub,imageRendering:"pixelated",className:Cb})),label:u(".rewards"),value:`${null!=r?r:0}/${l}`}),e.createElement(yb.Divider,null)),e.createElement(yb.Data,{icon:e.createElement("div",{className:Mb},e.createElement(Rc,{src:cb,imageRendering:"pixelated",className:Cb})),label:u(".gamerscore"),value:p}),e.createElement(yb.Divider,null),e.createElement(yb.Data,{icon:e.createElement("div",{className:Mb},e.createElement(Rc,{src:sb,imageRendering:"pixelated",className:Cb})),label:u(".time"),value:u(".hoursPlayed",[`${c}`])})))}kb.displayName="AchievementsSummary",kb.Loading=function({loading:t}){return e.createElement(yb,null,e.createElement("div",{className:"XrAdK"},e.createElement(yb.SummarySpinner,{hidden:!t})))};const Tb=(0,e.createContext)(!1),xb=()=>(0,e.useContext)(Tb);function Ib({onClick:n,shortcut:a,inputLegend:r}){const l=(0,t.useFacetWrap)(r);return e.createElement(Zs,{options:(0,t.useFacetMap)((e=>({button:a,inputLegend:e})),[a],[l]),onClick:n})}function Pb({children:t}){return e.createElement("div",{className:"Mmtqs"},t)}const Ob="KFyBZ",Ab="zfW8v",Nb="CGp5V",Rb="Gqi8v",Lb="WdNXT";function _b({children:n,direction:a="column",align:r="end",hide:l}){return e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>Or()(Lb,{[Ob]:"row"===a,[Rb]:"column"===a,[Ab]:"start"===r,[Nb]:"center"===r,SSMjh:e})),[r,a],[(0,t.useFacetWrap)(l)])},n)}function Db({children:t,direction:n="column",align:a="end",hide:r}){return null!=r?e.createElement(_b,{children:t,direction:n,align:a,hide:r}):e.createElement("div",{className:Or()(Lb,{[Ob]:"row"===n,[Rb]:"column"===n,[Ab]:"start"===a,[Nb]:"center"===a})},t)}const Bb=n.p+"assets/pingGreen-7f77c.png";function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wb.apply(this,arguments)}const Ub=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("vIYKZ",n);return e.createElement(Rc,Wb({},a,{className:r,src:Bb,imageRendering:"pixelated"}))},zb=n.p+"assets/pingRed-9496c.png";function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jb.apply(this,arguments)}const Hb=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("pllJg",n);return e.createElement(Rc,jb({},a,{className:r,src:zb,imageRendering:"pixelated"}))},Vb=n.p+"assets/pingYellow-62e78.png";function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gb.apply(this,arguments)}const $b=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("nQe8p",n);return e.createElement(Rc,Gb({},a,{className:r,src:Vb,imageRendering:"pixelated"}))};function Kb({iconType:t,typographyType:n,role:a="inherit",text:r}){const l=(t=>{switch(t){case"green":return e.createElement(Ub,null);case"red":return e.createElement(Hb,null);case"yellow":return e.createElement($b,null)}})(t);return e.createElement("div",{className:"mUN2d"},e.createElement(zs,{type:n,role:a,variant:"dimmer"},r),l)}const Xb={listItem:"YtiPa",tall:"sPd5G",small:"FA0TJ"};function Yb({tall:n=!1,small:a=!1,children:r,isFocusable:l=!1,narrationText:o,gamepadAlias:i,focusGridIndex:c,innerRef:s,role:u="neutral80",disableDeferredMount:d=!1,testId:m}){const p=gr(u),f=(0,t.useFacetWrap)(null!=o&&o);return e.createElement(Tb.Provider,{value:n},e.createElement(ja,{role:u},e.createElement(ic.Maybe,{"data-testid":m,isInteractive:l,gamepadAlias:i,className:Or()(Xb.listItem,p.border.base,p.text.base,p.background.base,{[Xb.tall]:n,[Xb.small]:a,[Xb.inert]:l}),innerRef:s,classNameFocused:ji,focusGridIndex:c,inputLegend:!1,narrationText:f},d?e.createElement(e.Fragment,null,e.createElement(e.Fragment,null,l&&e.createElement(zi,null),r)):e.createElement(t.DeferredMount,null,e.createElement(e.Fragment,null,l&&e.createElement(zi,null),r)))))}Yb.Action=function({autofocus:n,children:a,onClick:r,inputLegend:l,narrationText:o,gamepadAlias:i,soundEffectPressed:c,onFocusChanged:s,onHoverChanged:u,gamepadIndex:d=0,role:m="neutral",disabled:p,className:f,testId:g}){const E=(0,t.useFacetMap)((e=>!0===e),[],[(0,t.useFacetWrap)(p)]),h=(0,t.useFacetWrap)(c),b=(0,t.useFacetWrap)(l),v=hr(m),F=gr(m),y=(0,t.useFacetMap)(((e,t)=>!t&&e),[],[b,E]),S=(0,t.useFacetMap)((e=>{var t;return Or()("XJnhR",{[null!==(t=F.background.interactive)&&void 0!==t?t:""]:!e},F.text.base,{_UAdw:e},f)}),[F,f],[E]),C=(0,t.useFacetMap)(((e,t)=>t?void 0:null!=e?e:v.press),[v],[h,E]),M=(0,t.useFacetCallback)((e=>()=>{e||r()}),[r],[E]);return e.createElement(ja,{role:m},e.createElement(ic,{"data-testid":g,autofocus:n,gamepadAlias:i,className:S,classNameFocused:ji,gamepadIndex:d,inputLegend:y,narrationText:o,onClick:M,onFocusChanged:s,onHoverChanged:u,soundEffectPressed:C},e.createElement(zi,null),e.createElement(hc,{effect:"bevel",hide:E}),a))},Yb.AdditionalAction=function({children:n,onClick:a,onGamepadClick:r,onUp:l,onDown:o,onLeft:i,onRight:c,onMouseDown:s,shortcut:u,inputLegend:d,narrationText:m,gamepadAlias:p,hidden:f=!1,fitContent:g=!1,extraWide:E=!1,gamepadIndex:h=0,innerRef:b,touchDetectionDelay:v,soundEffectPressed:F,role:y="neutral",isSelected:S=!1,testId:C}){const M=(0,t.useFacetWrap)(f),w=xb(),k=gr(y),T=hr(y),x=Fr();return e.createElement(t.Mount,{when:M,condition:!1},e.createElement(ja,{role:y},null!=u&&e.createElement(Ib,{onClick:a,shortcut:u,inputLegend:d}),e.createElement(ic,{className:Or()("TxpPs",k.background.interactive,{zNQoR:g,hxjUN:w,CE24O:E,[x.selected]:S}),touchDetectionDelay:v,soundEffectPressed:null!=F?F:T.press,classNameFocused:ji,gamepadIndex:h,gamepadAlias:p,inputLegend:d,onClick:a,onGamepadOrKeyboardSelect:r,onUp:l,onDown:o,onLeft:i,onRight:c,onMouseDown:s,narrationText:m,innerRef:b,"data-testid":C},e.createElement(zi,null),e.createElement(hc,{effect:"bevel"}),n)))},Yb.Main=Pb,Yb.Cell=Db,Yb.Icon=Kb;const qb="MV1Om",Qb=n.p+"assets/locked-b7e1e.png",Jb=n.p+"assets/gamerscore_icon-53b10.png",Zb=n.p+"assets/greyframe-dd39b.png",ev=n.p+"assets/unlockedFrame-f9ecc.png",tv=n.p+"assets/placeholder-30ebc.png",nv=n.p+"assets/placeholderReward-5e651.png";function av({item:t,gamepadAlias:n,onClick:a,index:r,listLength:l,disabled:o}){return e.createElement(Yb,{gamepadIndex:r},e.createElement(rv,{item:t,gamepadAlias:n,onClick:a,index:r,listLength:l,disabled:o}))}const rv=({autofocus:n,item:a,gamepadAlias:r,onClick:l,index:o,listLength:i,disabled:c})=>{const{t:s}=Ii("AchievementListItem"),u=bE(im);return e.createElement(Yb.Action,{narrationText:(0,t.useFacetMap)(((e,t,n)=>[e.name,s(".siblingNarration",[`${t+1}`,`${n}`]),0!==e.progress&&e.progress>0&&e.progress<1?s(".percentageNarration",[`${Math.round(100*e.progress)}`]):"",s(".gamerscoreNarration",[`${e.gamerScore}`]),u&&e.hasReward?e.isLocked?s(".rewardLockedNarration"):s(".rewardUnlockedNarration"):"",e.description].join(" . ")),[s,u],[a,(0,t.useFacetWrap)(o),i]),inputLegend:s(".view"),onClick:l,gamepadAlias:r,autofocus:n,disabled:c},e.createElement(Yb.Cell,{direction:"row"},e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>Or()(qb,{qFTvx:e.isLocked})),[],[a])},e.createElement(Rc,{className:"lSNBc",imageRendering:"pixelated",src:(0,t.useFacetMap)((e=>e.isLocked?Zb:ev),[],[a])}),e.createElement(Rc,{className:qb,imageRendering:"pixelated",src:(0,t.useFacetMap)((e=>{var t;return null!==(t=e.image)&&void 0!==t?t:tv}),[],[a])}))),e.createElement(Yb.Main,null,e.createElement(zs,{type:"body"},e.createElement(ru,null,(0,t.useFacetMap)((e=>e.name),[],[a]))),e.createElement(zs,{type:"captionShort",variant:"dimmer"},e.createElement(ru,null,(0,t.useFacetMap)((e=>e.description),[],[a]))),e.createElement(lv,{when:(0,t.useFacetMap)((e=>!!e.progress&&1!==e.progress),[],[a])},e.createElement(Yc,{size:1}),e.createElement(ju,{percentage:(0,t.useFacetMap)((e=>e.progress),[],[a])}))),e.createElement(Yb.Cell,{direction:"row",hide:(0,t.useFacetMap)((e=>!e.gamerScore),[],[a])},e.createElement("div",{className:"RVpjY"},e.createElement(Rc,{className:"jlC0g",src:Jb,imageRendering:"pixelated"}),e.createElement(zs,{type:"captionShort",variant:"dimmer"},(0,t.useFacetMap)((e=>e.gamerScore),[],[a]))),e.createElement(Yc,{size:2})),e.createElement(Yb.Cell,{direction:"row",hide:(0,t.useFacetMap)((e=>!(u&&!0===e.hasReward)),[u],[a])},e.createElement("div",{className:"mvmus"},e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>e.isLocked?"sBnB_":"gpB2x"),[],[a])},e.createElement(lv,{when:(0,t.useFacetMap)((e=>e.isLocked),[],[a]),className:"DKLU9"},e.createElement(Rc,{className:"dE8mc",imageRendering:"pixelated",src:Qb}),e.createElement("div",{className:"fllL7"})),e.createElement(Rc,{className:"Zv3qD",src:(0,t.useFacetMap)((e=>{var t;return null!==(t=e.rewardImage)&&void 0!==t?t:nv}),[],[a])})))))};function lv({when:n,children:a,className:r}){return e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>Or()(r,e?null:"QbY63")),[r],[n])},a)}const ov=()=>{const n=(0,e.useRef)(null),a=(0,e.useRef)(null),r=(0,e.useRef)(null),{t:l}=Ii("Achievements"),o=u(),i=Eh((0,t.useSharedFacet)(pm),1e4),c=Eh((0,t.useSharedFacet)(pm),1500),s=(0,t.useFacetMap)(((e,t,n,a)=>e?"not-available":t&&!a?"loading-failed":n&&!a?"loading-slow":"achievements"),[],[(0,t.useSharedFacet)(Om),i,c,(0,t.useSharedFacet)(pm)]),d=gh({wide:8,narrow:6,width:260}),m=(0,t.useFacetMap)((e=>e?"W_2Qp":"MjOqT"),[],[d]),p=(0,t.useFacetMap)((e=>e?"CcA3z":"Ic3F7"),[],[d]);return e.createElement(vE,{innerRef:n},e.createElement(Ps,{text:l(".narration.title")},e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>"loading-slow"===e),[],[s])},e.createElement(hE,{text:l(".narration.loadingMessage")})),e.createElement(DE,{onBackButton:o.goBack,center:e.createElement(zs,{type:"header5A"},l(".title")),delegateFocusFromMemory:!0,gamepadAlias:"achievements-layout-content",delegateByAlias:"achievments-wrapper"},e.createElement(UE,null,e.createElement(Pc,{containerRef:a,alias:"achievments-wrapper",delegateFocusFromMemory:!0,delegateFocusByAlias:"achievements-content-wrapper"},e.createElement(UE.Row,{innerRef:a,gamepadIndex:0,fullHeight:!0},e.createElement(Fl,{data:s},(t=>{switch(t){case"not-available":return e.createElement(e.Fragment,null,e.createElement(UE.Column,{wideSize:2,narrowSize:1}),e.createElement(UE.Column,{gamepadIndex:0,wideSize:8,narrowSize:6},e.createElement(Yc,{size:6}),e.createElement(GE,{imgClass:m,autofocus:!0,gamepadAlias:"ach-not-available-empty-state",imgSrc:Sh,gamepadIndex:0,title:l(".notAvailableMessageTitle"),text:l(".notAvailableMessage")}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0})));case"loading-failed":return e.createElement(e.Fragment,null,e.createElement(UE.Column,{wideSize:2,narrowSize:1}),e.createElement(UE.Column,{gamepadIndex:0,wideSize:8,narrowSize:6},e.createElement(Yc,{size:6}),e.createElement(GE,{imgClass:p,autofocus:!0,gamepadAlias:"ach-load-error-empty-state",imgSrc:yh,gamepadIndex:0,title:l(".errorMessageTitle"),text:l(".errorMessage")}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0})));default:return e.createElement(e.Fragment,null,e.createElement(UE.Column,{wideSize:3,narrowSize:3},e.createElement(Yc,{size:2}),e.createElement(pv,null)),e.createElement(UE.Column,{wideSize:9,narrowSize:5},e.createElement(Yc,{size:2}),e.createElement(iv,null),e.createElement(Pc,{alias:"achievements-content-wrapper",containerRef:r},e.createElement("div",{style:{flex:"1"},ref:r},e.createElement(mh,{tab:void 0,component:uv}),e.createElement(mh,{tab:"locked",component:dv}),e.createElement(mh,{tab:"completed",component:mv})))))}}))))))))},iv=()=>{const{t:n}=Ii("Achievements"),a=u(),r=m(),l=(0,t.useFacetMap)((e=>e.tab?e.tab:"all"),[],[r]),o=[{label:n(".all"),value:"all"},{label:n(".locked"),value:"locked"},{label:n(".completed"),value:"completed"}];return e.createElement(Dh,{gamepadAliasNamespace:"achievement-screen",gamepadIndex:0,value:l,onChange:e=>{a.replace(`/achievements/${"all"!==e?e:""}`)},tabs:o,enableGamepadShortcuts:!0,narrationTitle:n(".narration.title")})},cv=(0,e.createContext)(null),sv=()=>(0,e.useContext)(cv),uv=()=>{const{t:n}=Ii("Achievements"),a=n(".narration.tab",[n(".all"),"2","4"])+" . "+n(".narration.selected"),r=(0,e.useRef)(null),[l,o]=(0,t.useFacetState)(0),i=(0,e.useCallback)((({height:e})=>o(e)),[o]);Qo(r,i);const c=sv();return e.createElement(Ps,{text:a},e.createElement(Pc,{containerRef:r,alias:"all-tab-wrapper",delegateFocusByAlias:"all-tab-content"},e.createElement("div",{style:{flex:"1"},ref:r},e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(ab,{rowSizeInRem:7,gamepadAlias:"all-tab-content",loading:(0,t.useFacetMap)((e=>!e),[],[(0,t.useSharedFacet)(pm)]),containerSizePixels:null!=c?c:l,data:(0,t.useFacetMap)((e=>[{role:"informativeTint",title:n(".inProgress"),data:e.inProgress},{role:"secondary",title:n(".locked"),data:e.locked},{role:"successTint",title:n(".completed"),data:e.completed}]),[n],[(0,t.useSharedFacet)(um)]),footer:e.createElement(e.Fragment,null,e.createElement(wd.Space,{extraSpace:e.createElement(Yc,{size:1})}),e.createElement(Yc,{size:1})),renderItem:t=>e.createElement(fv,{item:t}),renderTracker:t=>e.createElement(dh,{type:"meaningful",renderingCompleted:t}),padSpinnerVertically:!0,delegateFocusFromMemory:!0}))))},dv=()=>{const{t:n}=Ii("Achievements"),a=n(".narration.tab",[n(".locked"),"3","4"])+" . "+n(".narration.selected"),r=(0,e.useRef)(null),[l,o]=(0,t.useFacetState)(0),i=(0,e.useCallback)((({height:e})=>o(e)),[o]);Qo(r,i);const c=sv(),s=Yo(),u=(0,t.useSharedFacet)(dm);return e.createElement(Ps,{text:a},e.createElement(Pc,{containerRef:r,alias:"locked-tab-wrapper",delegateFocusByAlias:"locked-tab-content"},e.createElement("div",{style:{flex:"1"},ref:r},e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(Zh,{rowSizeRem:7,headerSizeRem:.8,header:e.createElement(Yc,{size:2}),containerSizePixels:null!=c?c:l,columnCount:1,loading:(0,t.useFacetMap)((e=>!e),[],[(0,t.useSharedFacet)(pm)]),gamepadAlias:"locked-tab-content",emptyMessage:e.createElement(GE,{imgClass:(0,t.useFacetMap)((e=>e?"YY6At":"kCPta"),[],[s]),autofocus:!0,gamepadAlias:"ach-locked-empty-state",imgSrc:(0,t.useFacetMap)((e=>0===e.length?vh:void 0),[],[u]),gamepadIndex:0,title:n(".lockedEmptyTitle"),text:n(".lockedEmptyText")}),data:u,footer:e.createElement(e.Fragment,null,e.createElement(wd.Space,{extraSpace:e.createElement(Yc,{size:1})}),e.createElement(Yc,{size:1})),renderItem:({item:t,index:n,listLength:a})=>e.createElement(gv,{item:t,index:n,listLength:a}),renderTracker:t=>e.createElement(dh,{type:"meaningful",renderingCompleted:t}),padSpinnerVertically:!0,delegateFocusFromMemory:!0}))))},mv=()=>{const{t:n}=Ii("Achievements"),a=n(".narration.tab",[n(".completed"),"4","4"])+" . "+n(".narration.selected"),r=(0,e.useRef)(null),[l,o]=(0,t.useFacetState)(0),i=(0,e.useCallback)((({height:e})=>o(e)),[o]);Qo(r,i);const c=sv(),s=Yo(),u=(0,t.useSharedFacet)(mm);return e.createElement(Ps,{text:a},e.createElement(Pc,{containerRef:r,alias:"completed-tab-wrapper",delegateFocusByAlias:"completed-tab-content"},e.createElement("div",{style:{flex:"1"},ref:r},e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(Zh,{rowSizeRem:7,headerSizeRem:.8,header:e.createElement(Yc,{size:2}),containerSizePixels:null!=c?c:l,columnCount:1,loading:(0,t.useFacetMap)((e=>!e),[],[(0,t.useSharedFacet)(pm)]),gamepadAlias:"completed-tab-content",emptyMessage:e.createElement(GE,{imgClass:(0,t.useFacetMap)((e=>e?"SSG0M":"tK4XR"),[],[s]),autofocus:!0,gamepadAlias:"ach-completed-empty-state",imgSrc:(0,t.useFacetMap)((e=>0===e.length?Fh:void 0),[],[u]),gamepadIndex:0,title:n(".completedEmptyTitle"),text:n(".completedEmptyText")}),data:u,footer:e.createElement(e.Fragment,null,e.createElement(wd.Space,{extraSpace:e.createElement(Yc,{size:1})}),e.createElement(Yc,{size:1})),renderItem:({item:t,index:n,listLength:a})=>e.createElement(gv,{item:t,index:n,listLength:a}),renderTracker:t=>e.createElement(dh,{type:"meaningful",renderingCompleted:t}),padSpinnerVertically:!0,delegateFocusFromMemory:!0}))))},pv=()=>{const n=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(gm)),a=bE(im);return n===t.NO_VALUE?null:n.loaded?e.createElement(kb,{gamepadIndex:0,inProgress:n.inProgressCount,achievementsUnlocked:n.unlocked,achievementsTotal:n.total,rewardsTotal:a?n.rewardsTotal:0,rewardsUnlocked:a?n.rewardsUnlocked:void 0,gamerScore:n.gamerScore,gamerScoreTotal:n.maxGamerScore,hoursPlayed:n.hoursPlayed}):e.createElement(kb.Loading,{loading:!n.loaded})},fv=({item:n})=>{const a=u(),r=(0,t.useFacetMap)((e=>e.isHeader?t.NO_VALUE:e),[],[n]),l=(0,t.useFacetMap)((e=>e.data),[],[r]),o=(0,t.useFacetMap)((e=>e.localIndex),[],[r]),i=(0,t.useFacetMap)((e=>e.sectionLength),[],[r]);return e.createElement(av,{item:l,onClick:(0,t.useFacetCallback)((e=>()=>{a.push(`/achievement-detail/${e.id}`)}),[a],[l]),index:o,listLength:i})},gv=({item:n,index:a,listLength:r})=>{const l=u();return e.createElement(av,{item:n,onClick:(0,t.useFacetCallback)((e=>()=>{l.push(`/achievement-detail/${e.id}`)}),[l],[n]),index:a,listLength:r})},Ev=()=>{const n=Hr(),a=(0,t.useSharedFacet)(Wp),r=(0,t.useFacetUnwrap)(a),l=(0,e.useRef)(),{t:o}=Ii("RenderDistanceWarningRoute"),i=ta(),c=(0,t.useFacetCallback)((e=>()=>{e.renderDistance=e.defaultRenderDistance,e.showRenderDistanceWarningModal=!1,n.goBack()}),[n],[a]),s=(0,t.useFacetCallback)((e=>()=>{e.showRenderDistanceWarningModal=!1,n.goBack()}),[n],[a]);if(r==t.NO_VALUE)return null;null==l.current&&(l.current=r.renderDistance);const u=[o(".useRecommendedSettingsButton"),o(r.defaultRenderDistance>1?".chunksPluralCaption":".chunksSingularCaption",[`${r.defaultRenderDistance}`])].join(" "),d=l.current>1?".chunksPluralCaption":".chunksSingularCaption",m=[o(".useCurrentSettingsButton"),o(d,[`${l.current}`])].join(" ");return e.createElement(Ps,{text:`${o(".title")}. ${o(".body1")}. ${o(".body2")}`},e.createElement(Ld,null,e.createElement(Ld.Header,null,o(".title")),e.createElement(Ld.Content,{focusableIfScrollable:!i},e.createElement(Ld.Paragraphs,{narrationText:`${o(".body1")}. ${o(".body2")}`,spaceBetweenParagraphs:5,gamepadIndex:0},e.createElement(zs,{type:"captionLong"},o(".body1")),e.createElement(zs,{type:"captionLong"},o(".body2")))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,autofocus:!0,inputLegend:o(".confirmInputLegend"),variant:"primary",onClick:c},u),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,inputLegend:o(".confirmInputLegend"),variant:"secondary",onClick:s},m))))};function hv({role:t="inherit",reversed:n=!0}){const a=gr(t),r=vr();return e.createElement("fast-div",{className:"Fk8ro"},e.createElement("fast-div",{className:Or()("TPz7W",a.bevel.base,n?r.reversed:void 0)}))}const bv=(0,e.createContext)(!1);function vv({children:n,spacingAroundSideMenu:a,footer:r,focusGridIndex:l,loading:o,scrollViewRef:i,role:c="neutral80",gamepadAlias:s,delegateFocusByAlias:u,adaptToNarrowScreens:d=!0,hideInputLegendSpace:m=!1,fullHeight:p=!1,narrationPrefix:f="",narrationRole:g="",narrationSuffix:E=""}){const h=(0,e.useRef)(null),b=Ko(),{t:v}=Ii("SideMenu"),F=gr(c),y=(0,t.useFacetMap)(((e,t,n)=>[e,""===t?v(".narrationRoleMenu"):t,n].filter((e=>e)).join(" . ")),[v],[(0,t.useFacetWrap)(null!=f?f:""),(0,t.useFacetWrap)(null!=g?g:""),(0,t.useFacetWrap)(null!=E?E:"")]),S="narrow"===b&&d;return e.createElement(ja,{role:c},e.createElement(Ps,{text:y},e.createElement(ys,{alwaysVisibleChildren:e.createElement(e.Fragment,null,null==a&&"desktop"===b&&e.createElement(Yc,{size:2}),a),focusGridIndex:l,floating:"desktop"!==b,delegateFocusFromMemory:!0,loading:o,spinnerBackgroundColor:"#313233",innerRef:i,gamepadAlias:s,delegateFocusByAlias:u},e.createElement("div",{ref:h,className:Or()("ktO0j",F.background.base,F.border.base,{JppWl:p})},e.createElement(Yc,{size:S?2:4}),e.createElement(bv.Provider,{value:S},n),null!=r&&e.createElement(zs,{type:"captionShort",variant:"dimmer"},e.createElement("div",{className:"H9jOa"},r)),e.createElement(Yc,{size:4})),m?null:e.createElement(wd.Space,{extraSpace:e.createElement(Yc,{size:1})}),a)))}vv.ItemMain=function({children:t}){return e.createElement("div",{className:"_ooLj"},t)},vv.ItemCell=function({children:t,margin:n="end"}){return e.createElement("div",{className:Or()("Wfm8X",{HwQXE:"end"===n,OdjWP:"start"===n})},t)},vv.Divider=function({label:t,role:n="inherit"}){return e.createElement(e.Fragment,null,e.createElement(zs,{role:n,type:"captionShort",variant:"dimmer"},e.createElement("div",{className:"OlLk0"},t)),e.createElement(hv,{role:n}))};const Fv=(0,t.createFacet)({initialValue:0}),yv=(0,e.createContext)(Fv),Sv=(0,e.createContext)(0);vv.displayName="SideMenu",vv.ItemList=function({items:n,renderItem:a,initialGamepadIndex:r=0}){return e.createElement(yv.Provider,{value:(0,t.useFacetMap)((e=>e.length),[],[n])},e.createElement(t.Map,{array:n},((t,n)=>e.createElement(Sv.Provider,{value:n},a({item:t,index:n,gamepadIndex:n+r,focusGridIndex:n+r})))))},vv.ListItem=function({onSelect:n,children:a,selected:r,value:l,focusGridIndex:o,narrationText:i,narrationSuffix:c,inputLegend:s,soundEffectPressed:u,role:d="inherit",hasSubtitle:m,testId:p}){const{t:f}=Ii("SideMenu.ListItem"),{narrateText:g}=Fs(),E=(0,e.useContext)(Sv),h=(0,e.useContext)(yv),b=gr(d),v=hr(d),F=Fr(),y=(0,t.useFacetMap)((e=>f(".narrationIndex",[`${E+1}`,`${e}`])),[f,E],[h]),S=(0,t.useFacetMap)(((e,t,n,a)=>t?`${e} . ${f(".narrationRoleMenuItem")} . ${n} . ${a} . ${f(".narrationSelected")}`.replace(" .  . "," . "):`${e} . ${f(".narrationRoleMenuItem")} . ${n} . ${a} . ${f(".narrationUnselected")}`.replace(" .  . "," . ")),[f],[i,r,y,(0,t.useFacetWrap)(null!=c?c:"")]),C=(0,t.useFacetMap)(((e,t)=>t?void 0:null!=e?e:v.toggle),[v.toggle],[(0,t.useFacetWrap)(u),r]),M=(0,e.useContext)(bv);return e.createElement(ja,{role:d},e.createElement(ic,{className:(0,t.useFacetMap)((e=>{const t=!m&&b.bevel.interactive,n=e?[b.background.select,b.bevel.select]:t;return Or()(m?"YhkZz":"iWrTh",n,{qaKqk:e,[F.selected]:e,r9DpB:M})}),[b,F,M,m],[r]),classNameFocused:Or()(ji,"B2m9T"),classNameHovered:(0,t.useFacetMap)((e=>{const t=e?[b.background.select,b.bevel.select]:[b.background.interactive,b.bevel.interactive];return Or()([t,"rtKPV"])}),[b],[r]),onClick:(0,t.useFacetCallback)((e=>()=>{g(f(".narrationSelected")),n(e)}),[f,g,n],[l]),focusGridIndex:o,inputLegend:(0,t.useFacetMap)((e=>!e&&s),[s],[r]),soundEffectPressed:C,narrationText:S,"data-testid":p},e.createElement(zi,{className:"pwcli"}),e.createElement("div",{className:"SzTdK"},e.createElement(Yc,{size:2}),e.createElement("div",{className:"Pl2Kx"},a),e.createElement(Yc,{size:2}))))},vv.Item=function({children:t}){const n=(0,e.useContext)(bv);return e.createElement("div",{className:Or()("vPqz2",{a31PC:n})},t)};function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Cv.apply(this,arguments)}function Mv(t){let{children:n,className:a,variant:r="neutral",isElevated:l=!1}=t,o=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["children","className","variant","isElevated"]);return e.createElement(yu,Cv({variant:r},o,{containerClassName:Or()("oVNTE",a),className:"bYpjn",reflection:l?void 0:"bevel",isElevated:l}),e.createElement(ja,{role:r},n))}function wv(n){let{startFrame:a=0}=n,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["startFrame"]);const l=(0,t.useFacetWrap)(r.className),o=(0,t.useFacetMap)(((e="")=>`c9joz ${e}`),[],[l]),i=(0,t.useFacetWrap)(r.disabled),c=(0,t.useFacetWrap)(r.paused),s=(0,t.useFacetMap)((e=>e?"none":"flex"),[],[i]),u=(0,t.useFacetMap)((e=>e?"paused":"running"),[],[c]),d=(0,t.useFacetWrap)(a),m=r.duration||500,p=(0,t.useFacetMap)((e=>{var t,n;return m/r.frames*(t=e,0,n=r.frames,Math.min(Math.max(t,0),n))*-1+"ms"}),[m,r.frames],[d]);return e.createElement("fast-div",{className:o,style:{display:s,backgroundImage:`url(${r.src})`,animationPlayState:u,animationName:"ghQXH",animationDirection:r.animationDirection||"normal",animationTimingFunction:`steps(${r.frames})`,animationIterationCount:"number"==typeof r.repeat?r.repeat.toString():"infinite",animationDuration:`${m}ms`,animationDelay:p,imageRendering:r.imageRendering,width:`calc(${10*r.width/(r.frames+1)} * var(--base1Scale))`,height:`calc(${10*r.height} * var(--base1Scale))`,backgroundSize:`calc(${10*r.width} * var(--base1Scale)) calc(${10*r.height} * var(--base1Scale))`}})}const kv=n.p+"assets/advanced-icon-1b6c5.png",Tv=n.p+"assets/experimental-features-icon-dca93.png",xv=n.p+"assets/cheats-icon-33f13.png",Iv=n.p+"assets/debug-icon-1cb52.png",Pv=n.p+"assets/general-icon-8ce31.png",Ov=n.p+"assets/resource-packs-icon-e08f7.png",Av=n.p+"assets/multiplayer-icon-d7d04.png",Nv=n.p+"assets/behaviour-packs-icon-2f4af.png",Rv=n.p+"assets/icon-highlight-spritesheet-87ec6.png",Lv=({iconSrc:n,selected:a,border:r=!1,variant:l="small"})=>{const o=gr("neutral"),i=(0,t.useFacetMap)((e=>!e),[],[(0,t.useFacetWrap)(null!=a&&a)]),c="large"==l;return e.createElement("div",{className:c?"w3iOH":"N3UCJ"},e.createElement(Rc,{aspectRatio:Rc.AspectRatio["1:1"],src:n,className:Or()("f2nZb",{qUO41:c}),imageRendering:"pixelated"}),r&&e.createElement("div",{className:Or()(o.border.base,"Taoxo",{LVMpO:c})}),e.createElement("div",{className:"EvXg5"},e.createElement(wv,{disabled:i,src:Rv,frames:8,duration:500,width:c?36:21.6,height:c?4:2.4,repeat:1,imageRendering:"pixelated"})))};let _v;!function(e){e.CREATE="create",e.EDIT="edit"}(_v||(_v={}));const Dv=e.createContext(_v.CREATE),Bv=n.p+"assets/hardcore-heart-4e8a8.png",Wv=n.p+"assets/hardcore-heart-dead-78091.png",Uv=n.p+"assets/hardcore-heart-animation-acc5d.png";function zv({animate:n,dead:a,className:r,startFrame:l}){const o=(0,t.useFacetWrap)(a),i=(0,t.useFacetMap)((e=>Or()("NUwUL",e)),[],[(0,t.useFacetWrap)(r)]),c=(0,t.useFacetMap)(((e,t)=>!(null!=e&&e)||null!=t&&t),[],[(0,t.useFacetWrap)(n),o]),s=(0,t.useFacetMap)((e=>null!=e?e:0),[],[(0,t.useFacetWrap)(l)]),u=(0,t.useFacetMap)((e=>null!=e&&e?Wv:Bv),[],[o]);return e.createElement(e.Fragment,null,e.createElement(Rc,{src:u,className:i,imageRendering:"pixelated"}),e.createElement(wv,{key:"hardcore-heart",src:Uv,disabled:c,className:i,frames:14,duration:2240,width:30,height:2,imageRendering:"pixelated",startFrame:s}))}const jv=n.p+"assets/hardcore-smoke-animation-fdeab.png";(0,e.createContext)({});const Hv="__VISUAL_REGRESSION_TEST_ICON_STYLE_CACHE__",Vv=(t,n)=>{if("true"!==process.env.VISUAL_REGRESSION_TEST)throw new Error("useStyleTagInjection was run outside of a visual regression test, this should never happen!");(0,e.useEffect)((()=>{var e;if(null==document.getElementById(Hv)){const e=document.createElement("style");e.setAttribute("id",Hv),e.setAttribute("type","text/css"),document.body.appendChild(e)}const a=document.getElementById(Hv);!1===(null==a||null===(e=a.textContent)||void 0===e?void 0:e.includes(t))&&(null==a||a.appendChild(document.createTextNode(`.${t} {${(e=>Object.entries(e).map((([e,t])=>`${e}:${t}`)).join(";"))(n)}}`)))}),[t,n])};function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gv.apply(this,arguments)}function $v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Kv(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xv(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const Yv="undefined"!=typeof process&&"true"===process.env.VISUAL_REGRESSION_TEST,qv=(e,t,n,a)=>{let r=0;if("number"==typeof e)r=e;else if(t)r=a.default[n];else{var l,o;r=null!==(l=null===(o=a.canvas)||void 0===o?void 0:o[n])&&void 0!==l?l:a.default[n]}return Yv?r/10+"rem":`calc(${r} * var(--base1Scale))`},Qv=({displayName:n,src:a,width:r,height:l,scale:o=1,canvasWidth:i,canvasHeight:c})=>{const s=`url('${a}')`,u=(({sourceWidth:e,sourceHeight:t,sourceScale:n,canvasWidth:a=0,canvasHeight:r=0})=>{const l=1/n;return{canvas:a&&r?{maskSize:[e/a,t/r].map((e=>`${Math.floor(100*e)}%`)).join(" "),width:a*l,height:r*l}:null,default:{maskSize:"100% 100%",width:e*l,height:t*l}}})({sourceWidth:r,sourceHeight:l,sourceScale:o,canvasWidth:i,canvasHeight:c}),d=`${n}_default`,m=`${n}_canvas`;return a=>{let{role:r="inherit",variant:l,color:o,className:i,style:c,width:p,height:f,disabled:g,trimCanvas:E}=a,h=Xv(a,["role","variant","color","className","style","width","height","disabled","trimCanvas"]);Yv&&(Vv(d,{"-webkit-mask-image":s,"-webkit-mask-size":u.default.maskSize}),u.canvas&&Vv(`${n}_canvas`,{"-webkit-mask-image":s,"-webkit-mask-size":u.canvas.maskSize}));const b=gr(r),v=Fr(),F=(0,t.useFacetWrap)(i),y=(0,t.useFacetWrap)(o),S=(0,t.useFacetWrap)(p),C=(0,t.useFacetWrap)(f),M=(0,t.useFacetWrap)(g),w=(0,t.useFacetWrap)(E),k=(0,t.useFacetWrap)(l),T=(0,t.useFacetMap)((e=>Yv?e||!u.canvas?d:m:null),[],[w]),x=(0,t.useFacetMap)(((e,t,n,a,r)=>{var l,o,i,c;return Or()("sFyiW",{[null!==(l=null===(o=b.icon)||void 0===o?void 0:o.base)&&void 0!==l?l:""]:!Boolean(t),[null!==(i=null===(c=b.icon)||void 0===c?void 0:c.disable)&&void 0!==i?i:""]:n,[v.disabled]:n},a,e,r)}),[b,v],[F,y,M,k,T]),I=(0,t.useFacetMap)(((e,t)=>qv(e,t,"width",u)),[],[S,w]),P=(0,t.useFacetMap)(((e,t)=>qv(e,t,"height",u)),[],[C,w]),O=(0,t.useFacetMap)((e=>e||!u.canvas?u.default.maskSize:u.canvas.maskSize),[],[w]),A=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$v(Object(n),!0).forEach((function(t){Kv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:I,height:P,WebkitMaskImage:s,maskImage:s,WebkitMaskSize:O,maskSize:O,backgroundColor:y},c);return e.createElement("fast-div",Gv({},h,{className:x,style:A}))}},Jv=(e,...t)=>{const n=t.reduce(((e,t)=>{let{type:n}=t,a=Xv(t,["type"]);return e[n]=Qv(a),e}),{default:Qv(e)}),a=e=>{var t;let{type:a="default"}=e,r=Xv(e,["type"]);return null!==(t=n[a](r))&&void 0!==t?t:null};return a.displayName=e.displayName,a.alternates=t.reduce(((e,{type:t})=>(null!=t&&e.push(t),e)),[]),a},Zv={displayName:"IconAccessibility",src:n.p+"assets/accessibility@0.5x.icon-dad71.png",width:9,height:10,scale:.5},eF={displayName:"IconAchievementBottle",src:n.p+"assets/achievement-bottle.icon-4eb8c.png",width:32,height:32,scale:1},tF={displayName:"IconAchievements",src:n.p+"assets/achievements@0.5x.icon-5e205.png",width:12,height:12,scale:.5},nF={displayName:"IconAddBehaviourPack",src:n.p+"assets/add-behaviour-pack@0.5x.icon-996e9.png",width:11,height:12,scale:.5},aF={displayName:"IconAddImage",src:n.p+"assets/add-image@0.5x.icon-9f40d.png",width:12,height:12,scale:.5},rF={displayName:"IconAddOns",src:n.p+"assets/add-ons@0.5x.icon-8520e.png",width:12,height:12,scale:.5},lF={displayName:"IconAddOnsSmall",src:n.p+"assets/add-ons_small@0.5x.icon-2ecb1.png",width:8,height:8,scale:.5},oF={displayName:"IconAddPlayer",src:n.p+"assets/add-player@0.5x.icon-2f437.png",width:12,height:12,scale:.5},iF={displayName:"IconAddResourcePack",src:n.p+"assets/add-resource-pack@0.5x.icon-5ae96.png",width:11,height:12,scale:.5},cF={displayName:"IconAlbum",src:n.p+"assets/album@0.5x.icon-8eb06.png",width:12,height:12,scale:.5},sF={displayName:"IconApple",src:n.p+"assets/apple@0.5x.icon-f78b1.png",width:11,height:12,scale:.5},uF={displayName:"IconArrowDown",src:n.p+"assets/arrow-down@0.5x.icon-94262.png",width:9,height:12,scale:.5},dF={displayName:"IconArrowLeft",src:n.p+"assets/arrow-left@0.5x.icon-7b87c.png",width:12,height:9,scale:.5},mF={displayName:"IconArrowRight",src:n.p+"assets/arrow-right@0.5x.icon-14b53.png",width:12,height:9,scale:.5},pF={displayName:"IconArrowUp",src:n.p+"assets/arrow-up@0.5x.icon-887cf.png",width:9,height:12,scale:.5},fF={displayName:"IconBackup",src:n.p+"assets/backup@0.5x.icon-d2862.png",width:10,height:10,scale:.5},gF={displayName:"IconBell",src:n.p+"assets/bell@0.5x.icon-259b0.png",width:10,height:11,scale:.5},EF={displayName:"IconBlock",src:n.p+"assets/block@0.5x.icon-5d2f0.png",width:12,height:12,scale:.5},hF={displayName:"IconBlockSmall",src:n.p+"assets/block_small@0.5x.icon-a5647.png",width:8,height:8,scale:.5},bF={displayName:"IconBoots",src:n.p+"assets/boots@0.5x.icon-55206.png",width:11,height:10,scale:.5},vF={displayName:"IconBrush",src:n.p+"assets/brush@0.5x.icon-c1e1b.png",width:12,height:12,scale:.5},FF={displayName:"IconBrushSmall",src:n.p+"assets/brush_small@0.5x.icon-42a96.png",width:8,height:8,scale:.5},yF={displayName:"IconCheckmark",src:n.p+"assets/checkmark@0.5x.icon-6995d.png",width:8,height:6,scale:.5},SF={displayName:"IconCheckmarkSmall",src:n.p+"assets/checkmark_small@0.5x.icon-6995d.png",width:8,height:6,scale:.5},CF={displayName:"IconChevronDown",src:n.p+"assets/chevron-down@0.5x.icon-24a8c.png",width:7,height:4,scale:.5},MF={displayName:"IconChevronLeft",src:n.p+"assets/chevron-left@0.5x.icon-1db2f.png",width:4,height:7,scale:.5},wF={displayName:"IconChevronRight",src:n.p+"assets/chevron-right@0.5x.icon-207ca.png",width:4,height:7,scale:.5},kF={displayName:"IconChevronUp",src:n.p+"assets/chevron-up@0.5x.icon-9b9c9.png",width:7,height:4,scale:.5},TF={displayName:"IconClosedCaptions",src:n.p+"assets/closed-captions@0.5x.icon-515db.png",width:11,height:10,scale:.5},xF={displayName:"IconClothes",src:n.p+"assets/clothes@0.5x.icon-75344.png",width:12,height:12,scale:.5},IF={displayName:"IconClothesSmall",src:n.p+"assets/clothes_small@0.5x.icon-b6e63.png",width:8,height:8,scale:.5},PF={displayName:"IconCloud",src:n.p+"assets/cloud@0.5x.icon-80e23.png",width:10,height:10,scale:.5},OF={displayName:"IconComment",src:n.p+"assets/comment@0.5x.icon-2df01.png",width:10,height:10,scale:.5},AF={displayName:"IconCrossbow",src:n.p+"assets/crossbow@0.5x.icon-13ccf.png",width:11,height:11,scale:.5},NF={displayName:"IconCross",src:n.p+"assets/cross@0.5x.icon-2be36.png",width:7,height:7,scale:.5},RF={displayName:"IconDamage",src:n.p+"assets/damage@0.5x.icon-a1c2d.png",width:9,height:9,scale:.5},LF={displayName:"IconDefault",src:n.p+"assets/default@0.5x.icon-8ce15.png",width:6,height:6,scale:.5},_F={displayName:"IconDelete",src:n.p+"assets/delete@0.5x.icon-e2052.png",width:8,height:12,scale:.5},DF={displayName:"IconDocsPage",src:n.p+"assets/docs-page@0.5x.icon-10dc2.png",width:10,height:12,scale:.5},BF={displayName:"IconDocsSection",src:n.p+"assets/docs-section@0.5x.icon-6aed8.png",width:8,height:8,scale:.5},WF={displayName:"IconDownload",src:n.p+"assets/download@0.5x.icon-80549.png",width:9,height:10,scale:.5},UF={displayName:"IconDragAndDrop",src:n.p+"assets/drag-and-drop@0.5x.icon-c9c33.png",width:3,height:5,scale:.5},zF={displayName:"IconDuplicate",src:n.p+"assets/duplicate@0.5x.icon-ec780.png",width:11,height:11,scale:.5},jF={displayName:"IconEdit",src:n.p+"assets/edit@0.5x.icon-c116d.png",width:12,height:12,scale:.5},HF={displayName:"IconEditImage",src:n.p+"assets/edit-image@0.5x.icon-d65de.png",width:12,height:12,scale:.5},VF={displayName:"IconElytra",src:n.p+"assets/elytra@0.5x.icon-88c4d.png",width:12,height:10,scale:.5},GF={displayName:"IconEmerald",src:n.p+"assets/emerald@0.5x.icon-02510.png",width:10,height:12,scale:.5},$F={displayName:"IconEmote",src:n.p+"assets/emote@0.5x.icon-ada40.png",width:12,height:12,scale:.5},KF={displayName:"IconEmoteSmall",src:n.p+"assets/emote_small@0.5x.icon-f21ff.png",width:9,height:10,scale:.5},XF={displayName:"IconEnter",src:n.p+"assets/enter@0.5x.icon-c0739.png",width:11,height:11,scale:.5},YF={displayName:"IconExitFullscreen",src:n.p+"assets/exit-fullscreen@0.5x.icon-80d2b.png",width:10,height:10,scale:.5},qF={displayName:"IconExit",src:n.p+"assets/exit@0.5x.icon-2af38.png",width:11,height:11,scale:.5},QF={displayName:"IconExport",src:n.p+"assets/export@0.5x.icon-64be4.png",width:9,height:10,scale:.5},JF={displayName:"IconExternalLink",src:n.p+"assets/external-link@0.5x.icon-2b6ce.png",width:12,height:12,scale:.5},ZF={displayName:"IconFilter",src:n.p+"assets/filter@0.5x.icon-f7d15.png",width:12,height:12,scale:.5},ey={displayName:"IconFollowers",src:n.p+"assets/followers@0.5x.icon-4da56.png",width:12,height:12,scale:.5},ty={displayName:"IconFriends",src:n.p+"assets/friends@0.5x.icon-23e24.png",width:12,height:12,scale:.5},ny={displayName:"IconFriendsSmall",src:n.p+"assets/friends_small@0.5x.icon-cff7a.png",width:10,height:10,scale:.5},ay={displayName:"IconFullscreen",src:n.p+"assets/fullscreen@0.5x.icon-bf488.png",width:12,height:12,scale:.5},ry={displayName:"IconGamerscore",src:n.p+"assets/gamerscore@0.5x.icon-fa65b.png",width:12,height:12,scale:.5},ly={displayName:"IconGamerscoreSmall",src:n.p+"assets/gamerscore_small@0.5x.icon-8aeec.png",width:7,height:7,scale:.5},oy={displayName:"IconGrid",src:n.p+"assets/grid@0.5x.icon-8ce15.png",width:6,height:6,scale:.5},iy={displayName:"IconHanger",src:n.p+"assets/hanger@0.5x.icon-f9744.png",width:12,height:12,scale:.5},cy={displayName:"IconHangerSmall",src:n.p+"assets/hanger_small@0.5x.icon-d2f74.png",width:8,height:8,scale:.5},sy={displayName:"IconHardcoreHeart",src:n.p+"assets/hardcore-heart@0.5x.icon-22f52.png",width:9,height:9,scale:.5},uy={displayName:"IconHardcoreHeartSmall",src:n.p+"assets/hardcore-heart_small@0.5x.icon-22f52.png",width:9,height:9,scale:.5},dy={displayName:"IconHeartActive",src:n.p+"assets/heart-active@0.5x.icon-8f7e9.png",width:9,height:9,scale:.5},my={displayName:"IconHeart",src:n.p+"assets/heart@0.5x.icon-42e2e.png",width:9,height:9,scale:.5},py={displayName:"IconHourglass",src:n.p+"assets/hourglass@0.5x.icon-684a3.png",width:8,height:12,scale:.5},fy={displayName:"IconImage",src:n.p+"assets/image@0.5x.icon-9a2b8.png",width:10,height:10,scale:.5},gy={displayName:"IconInformation",src:n.p+"assets/information@0.5x.icon-93cdb.png",width:10,height:10,scale:.5},Ey={displayName:"IconInvite",src:n.p+"assets/invite@0.5x.icon-70339.png",width:12,height:12,scale:.5},hy={displayName:"IconLanHidden",src:n.p+"assets/lan-hidden@0.5x.icon-7ddac.png",width:12,height:12,scale:.5},by={displayName:"IconLan",src:n.p+"assets/lan@0.5x.icon-8c937.png",width:12,height:12,scale:.5},vy={displayName:"IconList",src:n.p+"assets/list@0.5x.icon-42da7.png",width:8,height:7,scale:.5},Fy={displayName:"IconLockLocked",src:n.p+"assets/lock-locked@0.5x.icon-ab340.png",width:8,height:8,scale:.5},yy={displayName:"IconLockLockedSmall",src:n.p+"assets/lock-locked_small@0.5x.icon-ab340.png",width:8,height:8,scale:.5},Sy={displayName:"IconLockUnlocked",src:n.p+"assets/lock-unlocked@0.5x.icon-d7d57.png",width:12,height:8,scale:.5},Cy={displayName:"IconMashupPack",src:n.p+"assets/mashup-pack@0.5x.icon-49be2.png",width:12,height:12,scale:.5},My={displayName:"IconMashupPackSmall",src:n.p+"assets/mashup-pack_small@0.5x.icon-8a0d4.png",width:8,height:8,scale:.5},wy={displayName:"IconMember",src:n.p+"assets/member@0.5x.icon-dffbd.png",width:12,height:10,scale:.5},ky={displayName:"IconMenu",src:n.p+"assets/menu@0.5x.icon-e2970.png",width:8,height:7,scale:.5},Ty={displayName:"IconMinus",src:n.p+"assets/minus@0.5x.icon-8db5e.png",width:8,height:1,scale:.5},xy={displayName:"IconMissingImage1",src:n.p+"assets/missing-image-1@0.5x.icon-ac82f.png",width:12,height:12,scale:.5},Iy={displayName:"IconMissingImage",src:n.p+"assets/missing-image@0.5x.icon-b099d.png",width:12,height:12,scale:.5},Py={displayName:"IconMute",src:n.p+"assets/mute@0.5x.icon-59187.png",width:11,height:10,scale:.5},Oy={displayName:"IconNewsFeed",src:n.p+"assets/news-feed@0.5x.icon-c8582.png",width:12,height:12,scale:.5},Ay={displayName:"IconOperator",src:n.p+"assets/operator@0.5x.icon-54020.png",width:12,height:11,scale:.5},Ny={displayName:"IconOptions",src:n.p+"assets/options@0.5x.icon-a0a39.png",width:2,height:8,scale:.5},Ry={displayName:"IconPause",src:n.p+"assets/pause@0.5x.icon-1d45c.png",width:6,height:8,scale:.5},Ly={displayName:"IconPickaxe",src:n.p+"assets/pickaxe@0.5x.icon-4a49f.png",width:12,height:12,scale:.5},_y={displayName:"IconPlayer",src:n.p+"assets/player@0.5x.icon-7c34a.png",width:12,height:12,scale:.5},Dy={displayName:"IconPlayerOnline",src:n.p+"assets/player_online@0.5x.icon-08d41.png",width:12,height:12,scale:.5},By={displayName:"IconPlay",src:n.p+"assets/play@0.5x.icon-d17d9.png",width:7,height:12,scale:.5},Wy={displayName:"IconPlus",src:n.p+"assets/plus@1x.icon-25470.png",width:24,height:24,scale:1},Uy={displayName:"IconPotionBottle",src:n.p+"assets/potion-bottle@0.5x.icon-09313.png",width:10,height:12,scale:.5},zy={displayName:"IconPrint",src:n.p+"assets/print@0.5x.icon-ec26e.png",width:12,height:10,scale:.5},jy={displayName:"IconQrCode",src:n.p+"assets/qr-code@0.5x.icon-ff09e.png",width:11,height:11,scale:.5},Hy={displayName:"IconQuestionMark",src:n.p+"assets/question-mark@0.5x.icon-eeecb.png",width:7,height:10,scale:.5},Vy={displayName:"IconQuestionMarkSmall",src:n.p+"assets/question-mark_small@0.5x.icon-46695.png",width:5,height:7,scale:.5},Gy={displayName:"IconRate",src:n.p+"assets/rate@0.5x.icon-5d1fa.png",width:10,height:9,scale:.5},$y={displayName:"IconRealmsStories",src:n.p+"assets/realms-stories@0.5x.icon-035cb.png",width:12,height:12,scale:.5},Ky={displayName:"IconRealmsStoriesUnread",src:n.p+"assets/realms-stories-unread@0.5x.icon-8ee6b.png",width:12,height:12,scale:.5},Xy={displayName:"IconRemoveBehaviourPack",src:n.p+"assets/remove-behaviour-pack@0.5x.icon-f9d3c.png",width:11,height:11,scale:.5},Yy={displayName:"IconRemovePlayer",src:n.p+"assets/remove-player@0.5x.icon-bfc0f.png",width:12,height:12,scale:.5},qy={displayName:"IconRemoveResourcePack",src:n.p+"assets/remove-resource-pack@0.5x.icon-55782.png",width:11,height:11,scale:.5},Qy={displayName:"IconReset",src:n.p+"assets/reset@0.5x.icon-5fa66.png",width:12,height:12,scale:.5},Jy={displayName:"IconRottenFlesh",src:n.p+"assets/rotten-flesh@0.5x.icon-1a4aa.png",width:11,height:10,scale:.5},Zy={displayName:"IconSave",src:n.p+"assets/save@0.5x.icon-96183.png",width:10,height:10,scale:.5},eS={displayName:"IconSearch",src:n.p+"assets/search@0.5x.icon-2c4a2.png",width:12,height:12,scale:.5},tS={displayName:"IconSettings",src:n.p+"assets/settings@0.5x.icon-a8b15.png",width:10,height:9,scale:.5},nS={displayName:"IconShareAndroid",src:n.p+"assets/share-android@0.5x.icon-33252.png",width:6,height:10,scale:.5},aS={displayName:"IconShareGeneric",src:n.p+"assets/share-generic@0.5x.icon-a522d.png",width:12,height:12,scale:.5},rS={displayName:"IconShareIos",src:n.p+"assets/share-ios@0.5x.icon-077f8.png",width:10,height:12,scale:.5},lS={displayName:"IconSleep",src:n.p+"assets/sleep@0.5x.icon-ec9f2.png",width:12,height:12,scale:.5},oS={displayName:"IconSwitchOff",src:n.p+"assets/switch-off@0.5x.icon-75a1c.png",width:6,height:6,scale:.5},iS={displayName:"IconSwitchOn",src:n.p+"assets/switch-on@0.5x.icon-55509.png",width:1,height:6,scale:.5},cS={displayName:"IconSword",src:n.p+"assets/sword@0.5x.icon-5515e.png",width:12,height:12,scale:.5},sS={displayName:"IconThumbsDown",src:n.p+"assets/thumbs-down@0.5x.icon-961ba.png",width:11,height:11,scale:.5},uS={displayName:"IconThumbsUp",src:n.p+"assets/thumbs-up@0.5x.icon-a6921.png",width:11,height:11,scale:.5},dS={displayName:"IconTime",src:n.p+"assets/time@0.5x.icon-3c593.png",width:12,height:12,scale:.5},mS={displayName:"IconTimeSmall",src:n.p+"assets/time_small@0.5x.icon-ae6c3.png",width:8,height:8,scale:.5},pS={displayName:"IconTimer",src:n.p+"assets/timer@0.5x.icon-7123b.png",width:10,height:12,scale:.5},fS={displayName:"IconVisitor",src:n.p+"assets/visitor@0.5x.icon-572a3.png",width:6,height:10,scale:.5},gS={displayName:"IconVolume",src:n.p+"assets/volume@0.5x.icon-aad7d.png",width:12,height:10,scale:.5},ES={displayName:"IconWarning",src:n.p+"assets/warning@0.5x.icon-78dc7.png",width:9,height:10,scale:.5},hS={displayName:"IconWarningSmall",src:n.p+"assets/warning_small@0.5x.icon-78dc7.png",width:9,height:10,scale:.5},bS={displayName:"IconWorld",src:n.p+"assets/world@0.5x.icon-9c803.png",width:12,height:12,scale:.5},vS={displayName:"IconWorldSmall",src:n.p+"assets/world_small@0.5x.icon-b7a84.png",width:8,height:8,scale:.5},FS={displayName:"IconXpOrb",src:n.p+"assets/xp-orb@0.5x.icon-e9036.png",width:10,height:10,scale:.5};function yS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function SS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yS(Object(n),!0).forEach((function(t){CS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CS(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const MS=12,wS=10,kS={Accessibility:Jv(SS(SS({},Zv),{},{canvasWidth:MS,canvasHeight:MS})),Achievements:Jv(SS(SS({},tF),{},{canvasWidth:MS,canvasHeight:MS})),AchievementsBottle:Jv(eF),AddBehaviourPack:Jv(SS(SS({},nF),{},{canvasWidth:MS,canvasHeight:MS})),AddImage:Jv(SS(SS({},aF),{},{canvasWidth:MS,canvasHeight:MS})),AddOns:Jv(SS(SS({},rF),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},lF),{},{canvasWidth:wS,canvasHeight:wS})),AddPlayer:Jv(SS(SS({},oF),{},{canvasWidth:MS,canvasHeight:MS})),AddResourcePack:Jv(SS(SS({},iF),{},{canvasWidth:MS,canvasHeight:MS})),Album:Jv(SS(SS({},cF),{},{canvasWidth:MS,canvasHeight:MS})),Apple:Jv(SS(SS({},sF),{},{canvasWidth:MS,canvasHeight:MS})),ArrowDown:Jv(SS(SS({},uF),{},{canvasWidth:MS,canvasHeight:MS})),ArrowLeft:Jv(SS(SS({},dF),{},{canvasWidth:MS,canvasHeight:MS})),ArrowRight:Jv(SS(SS({},mF),{},{canvasWidth:MS,canvasHeight:MS})),ArrowUp:Jv(SS(SS({},pF),{},{canvasWidth:MS,canvasHeight:MS})),Backup:Jv(SS(SS({},fF),{},{canvasWidth:MS,canvasHeight:MS})),Bell:Jv(SS(SS({},gF),{},{canvasWidth:MS,canvasHeight:MS})),Block:Jv(SS(SS({},EF),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},hF),{},{canvasWidth:wS,canvasHeight:wS})),Boots:Jv(SS(SS({},bF),{},{canvasWidth:MS,canvasHeight:MS})),Brush:Jv(SS(SS({},vF),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},FF),{},{canvasWidth:wS,canvasHeight:wS})),Checkmark:Jv(SS(SS({},yF),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},SF),{},{canvasWidth:wS,canvasHeight:wS})),ChevronDown:Jv(SS(SS({},CF),{},{canvasWidth:MS,canvasHeight:MS})),ChevronLeft:Jv(SS(SS({},MF),{},{canvasWidth:MS,canvasHeight:MS})),ChevronRight:Jv(SS(SS({},wF),{},{canvasWidth:MS,canvasHeight:MS})),ChevronUp:Jv(SS(SS({},kF),{},{canvasWidth:MS,canvasHeight:MS})),Cross:Jv(SS(SS({},NF),{},{canvasWidth:MS,canvasHeight:MS})),ClosedCaptions:Jv(SS(SS({},TF),{},{canvasWidth:MS,canvasHeight:MS})),Clothes:Jv(SS(SS({},xF),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},IF),{},{canvasWidth:wS,canvasHeight:wS})),Cloud:Jv(SS(SS({},PF),{},{canvasWidth:MS,canvasHeight:MS})),Comment:Jv(SS(SS({},OF),{},{canvasWidth:MS,canvasHeight:MS})),Crossbow:Jv(SS(SS({},AF),{},{canvasWidth:MS,canvasHeight:MS})),Damage:Jv(SS(SS({},RF),{},{canvasWidth:MS,canvasHeight:MS})),Default:Jv(SS(SS({},LF),{},{canvasWidth:MS,canvasHeight:MS})),Delete:Jv(SS(SS({},_F),{},{canvasWidth:MS,canvasHeight:MS})),DocsPage:Jv(SS(SS({},DF),{},{canvasWidth:MS,canvasHeight:MS})),DocsSection:Jv(SS(SS({},BF),{},{canvasWidth:MS,canvasHeight:MS})),Download:Jv(SS(SS({},WF),{},{canvasWidth:MS,canvasHeight:MS})),DragAndDrop:Jv(SS(SS({},UF),{},{canvasWidth:MS,canvasHeight:MS})),Duplicate:Jv(SS(SS({},zF),{},{canvasWidth:MS,canvasHeight:MS})),Edit:Jv(SS(SS({},jF),{},{canvasWidth:MS,canvasHeight:MS})),EditImage:Jv(SS(SS({},HF),{},{canvasWidth:MS,canvasHeight:MS})),Elytra:Jv(SS(SS({},VF),{},{canvasWidth:MS,canvasHeight:MS})),Emerald:Jv(SS(SS({},GF),{},{canvasWidth:MS,canvasHeight:MS})),Emote:Jv(SS(SS({},$F),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},KF),{},{canvasWidth:wS,canvasHeight:wS})),Enter:Jv(SS(SS({},XF),{},{canvasWidth:MS,canvasHeight:MS})),Exit:Jv(SS(SS({},qF),{},{canvasWidth:MS,canvasHeight:MS})),ExitFullscreen:Jv(SS(SS({},YF),{},{canvasWidth:MS,canvasHeight:MS})),Export:Jv(SS(SS({},QF),{},{canvasWidth:MS,canvasHeight:MS})),ExternalLink:Jv(SS(SS({},JF),{},{canvasWidth:MS,canvasHeight:MS})),Filter:Jv(SS(SS({},ZF),{},{canvasWidth:MS,canvasHeight:MS})),Followers:Jv(SS(SS({},ey),{},{canvasWidth:MS,canvasHeight:MS})),Friends:Jv(SS(SS({},ty),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},ny),{},{canvasWidth:wS,canvasHeight:wS})),Fullscreen:Jv(SS(SS({},ay),{},{canvasWidth:MS,canvasHeight:MS})),Gamerscore:Jv(SS(SS({},ry),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},ly),{},{canvasWidth:wS,canvasHeight:wS})),Grid:Jv(SS(SS({},oy),{},{canvasWidth:MS,canvasHeight:MS})),Hanger:Jv(SS(SS({},iy),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},cy),{},{canvasWidth:wS,canvasHeight:wS})),HardcoreHeart:Jv(SS(SS({},sy),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},uy),{},{canvasWidth:wS,canvasHeight:wS})),Heart:Jv(SS(SS({},my),{},{canvasWidth:MS,canvasHeight:MS})),HeartActive:Jv(SS(SS({},dy),{},{canvasWidth:MS,canvasHeight:MS})),Hourglass:Jv(SS(SS({},py),{},{canvasWidth:MS,canvasHeight:MS})),Image:Jv(SS(SS({},fy),{},{canvasWidth:MS,canvasHeight:MS})),Information:Jv(SS(SS({},gy),{},{canvasWidth:MS,canvasHeight:MS})),Invite:Jv(SS(SS({},Ey),{},{canvasWidth:MS,canvasHeight:MS})),Lan:Jv(SS(SS({},by),{},{canvasWidth:MS,canvasHeight:MS})),LanHidden:Jv(SS(SS({},hy),{},{canvasWidth:MS,canvasHeight:MS})),List:Jv(SS(SS({},vy),{},{canvasWidth:MS,canvasHeight:MS})),Locked:Jv(SS(SS({},Fy),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},yy),{},{canvasWidth:wS,canvasHeight:wS})),Unlocked:Jv(SS(SS({},Sy),{},{canvasWidth:MS,canvasHeight:MS})),MashupPack:Jv(SS(SS({},Cy),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},My),{},{canvasWidth:wS,canvasHeight:wS})),Member:Jv(SS(SS({},wy),{},{canvasWidth:MS,canvasHeight:MS})),Menu:Jv(SS(SS({},ky),{},{canvasWidth:MS,canvasHeight:MS})),Minus:Jv(SS(SS({},Ty),{},{canvasWidth:MS,canvasHeight:MS})),MissingImage:Jv(SS(SS({},Iy),{},{canvasWidth:MS,canvasHeight:MS})),MissingImage1:Jv(SS(SS({},xy),{},{canvasWidth:MS,canvasHeight:MS})),Mute:Jv(SS(SS({},Py),{},{canvasWidth:MS,canvasHeight:MS})),NewsFeed:Jv(SS(SS({},Oy),{},{canvasWidth:MS,canvasHeight:MS})),Operator:Jv(SS(SS({},Ay),{},{canvasWidth:MS,canvasHeight:MS})),Options:Jv(SS(SS({},Ny),{},{canvasWidth:MS,canvasHeight:MS})),Pause:Jv(SS(SS({},Ry),{},{canvasWidth:MS,canvasHeight:MS})),Pickaxe:Jv(SS(SS({},Ly),{},{canvasWidth:MS,canvasHeight:MS})),Play:Jv(SS(SS({},By),{},{canvasWidth:MS,canvasHeight:MS})),Player:Jv(SS(SS({},_y),{},{canvasWidth:MS,canvasHeight:MS})),PlayerOnline:Jv(SS(SS({},Dy),{},{canvasWidth:MS,canvasHeight:MS})),Plus:Jv(SS(SS({},Wy),{},{canvasWidth:MS,canvasHeight:MS})),PotionBottle:Jv(SS(SS({},Uy),{},{canvasWidth:MS,canvasHeight:MS})),Print:Jv(SS(SS({},zy),{},{canvasWidth:MS,canvasHeight:MS})),QrCode:Jv(SS(SS({},jy),{},{canvasWidth:MS,canvasHeight:MS})),QuestionMark:Jv(SS(SS({},Hy),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},Vy),{},{canvasWidth:wS,canvasHeight:wS})),Rate:Jv(SS(SS({},Gy),{},{canvasWidth:MS,canvasHeight:MS})),RealmsStories:Jv(SS(SS({},$y),{},{canvasWidth:MS,canvasHeight:MS})),RealmsStoriesUnread:Jv(SS(SS({},Ky),{},{canvasWidth:MS,canvasHeight:MS})),RemoveBehaviourPack:Jv(SS(SS({},Xy),{},{canvasWidth:MS,canvasHeight:MS})),RemovePlayer:Jv(SS(SS({},Yy),{},{canvasWidth:MS,canvasHeight:MS})),RemoveResourcePack:Jv(SS(SS({},qy),{},{canvasWidth:MS,canvasHeight:MS})),Reset:Jv(SS(SS({},Qy),{},{canvasWidth:MS,canvasHeight:MS})),RottenFlesh:Jv(SS(SS({},Jy),{},{canvasWidth:MS,canvasHeight:MS})),Save:Jv(SS(SS({},Zy),{},{canvasWidth:MS,canvasHeight:MS})),Search:Jv(SS(SS({},eS),{},{canvasWidth:MS,canvasHeight:MS})),Settings:Jv(SS(SS({},tS),{},{canvasWidth:MS,canvasHeight:MS})),ShareAndroid:Jv(SS(SS({},nS),{},{canvasWidth:MS,canvasHeight:MS})),ShareGeneric:Jv(SS(SS({},aS),{},{canvasWidth:MS,canvasHeight:MS})),ShareIos:Jv(SS(SS({},rS),{},{canvasWidth:MS,canvasHeight:MS})),Sleep:Jv(SS(SS({},lS),{},{canvasWidth:MS,canvasHeight:MS})),SwitchOff:Jv(SS(SS({},oS),{},{canvasWidth:MS,canvasHeight:MS})),SwitchOn:Jv(SS(SS({},iS),{},{canvasWidth:MS,canvasHeight:MS})),Sword:Jv(SS(SS({},cS),{},{canvasWidth:MS,canvasHeight:MS})),ThumbsDown:Jv(SS(SS({},sS),{},{canvasWidth:MS,canvasHeight:MS})),ThumbsUp:Jv(SS(SS({},uS),{},{canvasWidth:MS,canvasHeight:MS})),Time:Jv(SS(SS({},dS),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},mS),{},{canvasWidth:wS,canvasHeight:wS})),Timer:Jv(SS(SS({},pS),{},{canvasWidth:MS,canvasHeight:MS})),Visitor:Jv(SS(SS({},fS),{},{canvasWidth:MS,canvasHeight:MS})),Volume:Jv(SS(SS({},gS),{},{canvasWidth:MS,canvasHeight:MS})),Warning:Jv(SS(SS({},ES),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},hS),{},{canvasWidth:wS,canvasHeight:wS})),World:Jv(SS(SS({},bS),{},{canvasWidth:MS,canvasHeight:MS}),SS(SS({type:"small"},vS),{},{canvasWidth:wS,canvasHeight:wS})),XpOrb:Jv(SS(SS({},FS),{},{canvasWidth:MS,canvasHeight:MS}))},TS="main-button",xS="secondary-button";function IS({worldPreviewImage:n,showSpinner:a,worldPacks:r,isHardcoreMode:l,playerHasDied:o,sideMenuButtons:i,onEditThumbnail:c}){const s=(0,e.useContext)(Dv)===_v.CREATE,u=(0,t.useSharedFacet)(el),d=(0,e.useRef)(null),m=(0,e.useCallback)((()=>{d.current&&(d.current.scrollHeight?d.current.scrollTop=0:requestAnimationFrame(m))}),[]);(0,t.useFacetEffect)(m,[m],[n]);const p=(0,t.useFacetMap)((e=>e.isStorageLow),[],[u]),f=(0,t.useFacetUnwrap)(p),g=f!==t.NO_VALUE&&f?xS:TS;return e.createElement(e.Fragment,null,e.createElement(vv,{loading:a,scrollViewRef:d,delegateFocusByAlias:g,gamepadAlias:"cnw-side-menu"},e.createElement(vv.Item,null,e.createElement(RS,{isHardcoreMode:l,playerHasDied:o,isCreateWorld:s,worldPreviewImage:n,onEditThumbnail:c})),e.createElement(Yc,{size:2}),i,e.createElement(Yc,{size:2}),e.createElement(PS,{worldPacks:r})))}const PS=({worldPacks:n})=>{const a=(0,e.useContext)(Dv)===_v.EDIT,r=bE("vanilla.ab.newEditWorldScreenThirdVariant"),l=(0,t.useSharedFacet)(xm),o=(0,t.useFacetMap)(((e,t)=>{const n=[{label:".generalTabLabel",image:Pv,value:"general"}];return!a||r||t.isDevBuild||t.isPreviewBuild||n.push({label:".resourcePacksTabLabel",image:Ov,value:"resource-packs"},{label:".behaviorPacksTabLabel",image:Nv,value:"behavior-packs"}),n.push({label:".advancedTabLabel",image:kv,value:"advanced"},{label:".multiplayerTabLabel",image:Av,value:"multiplayer"}),n.push({label:".cheatsTabLabel",image:xv,value:"cheats"}),(!a||r||t.isDevBuild||t.isPreviewBuild)&&n.push({label:".resourcePacksTabLabel",image:Ov,value:"resource-packs"},{label:".behaviorPacksTabLabel",image:Nv,value:"behavior-packs"}),n.push({label:".experimentalFeaturesTabLabel",image:Tv,value:"experimental"}),n.push({label:".debugTabLabel",image:Iv,value:"debug"}),n}),[a,r],[(0,t.useSharedFacet)(Im),l]);return e.createElement(vv.ItemList,{items:o,renderItem:t=>e.createElement(AS,{item:t.item,worldPacks:n})})},OS=(e,t,n)=>`/${e}/${t}/${n?"available":"active"}`,AS=({item:n,worldPacks:a})=>{const{t:r}=Tp("CreateNewWorldSideMenu"),l=u(),o=(0,t.useFacetMap)((e=>e.label.includes(".debugTabLabel")?"Debug":r(e.label)),[r],[n]),i=m(),c=(0,t.useFacetMap)(((e,t)=>t.tab===e.value),[],[n,i]),s=(0,e.useContext)(Dv),d=(0,t.useFacetMap)((e=>e.activeTexturePacks),[],[a]),p=(0,t.useFacetMap)((e=>e.activeBehaviorPacks),[],[a]);return e.createElement(vv.ListItem,{narrationText:o,onSelect:(0,t.useFacetCallback)(((e,t,n,a)=>()=>{if(e.value===t.tab)return;const r=s===_v.EDIT?`edit-world/${t.id}`:"create-new-world";"resource-packs"===e.value?l.replace(OS(r,e.value,0===n.length)):"behavior-packs"===e.value?l.replace(OS(r,e.value,0===a.length)):l.replace(`/${r}/${e.value}`)}),[l,s],[n,i,d,p]),value:(0,t.useFacetMap)((e=>e.value),[],[n]),selected:c,inputLegend:r(".inputLegendSelect")},e.createElement(vv.ItemCell,null,e.createElement(Lv,{iconSrc:(0,t.useFacetMap)((e=>e.image),[],[n]),selected:c})),e.createElement(vv.ItemMain,null,e.createElement(zs,{type:"body"},o)))};function NS({onEditThumbnail:t}){const{t:n}=Tp("EditWorld");return e.createElement("div",{className:"M_Sas"},e.createElement(Mv,{inputLegend:n(".editThumbnailButton"),narrationText:n(".editThumbnailButton"),onClick:t,"data-testid":"edit-thumbnail-button"},e.createElement(kS.EditImage,null)))}function RS({isHardcoreMode:n,playerHasDied:a,worldPreviewImage:r,isCreateWorld:l,onEditThumbnail:o}){const i=bE(np),[c,s]=(0,e.useState)(!1),u=gr("neutral80"),d=Ql(),m=(0,t.useFacetMap)(((e,t,n)=>Or()(u.border.base,"eRldN",{Fs2QM:e,dgfTQ:t&&l,V2KVp:n})),[u,l],[n,d,a]);(0,t.useFacetEffect)((e=>s((t=>!(!l||!e)||t))),[l],[n]);const p=(0,t.useFacetMap)((e=>e?"hardcore-smoke-on":"hardcore-smoke-off"),[],[n]),f=(0,t.useFacetMap)((e=>!l&&i&&o&&!e),[l,o,i],[(0,t.useSharedFacet)(Bg)]);return e.createElement(e.Fragment,null,e.createElement(Rc,{src:r,aspectRatio:Rc.AspectRatio["16:9"],className:m}),e.createElement(t.Mount,{when:f},e.createElement(NS,{onEditThumbnail:o})),e.createElement(t.Mount,{when:n},e.createElement(zv,{animate:!0,dead:a,className:"KdiH7"})),c&&e.createElement(Fl,{data:p},(t=>e.createElement(wv,{key:t,src:jv,className:"onv8P",frames:10,duration:1e3,repeat:1,width:24.2,height:3.9,imageRendering:"pixelated"}))))}function LS(){return(0,t.useFacetCallback)((e=>({button:t,screen:n,details:a={}})=>e.fireEventButtonPressed(function({button:e,screen:t}){return`${t}Screen_${e}Button_OreUI`}({button:t,screen:n}),a)),[],[(0,t.useSharedFacet)(fg)])}IS.SideMenuList=PS,IS.AdvancedIcon=kv,IS.ExperimentalFeaturesIcon=Tv,IS.CheatsIcon=xv,IS.DebugIcon=Iv,IS.GeneralIcon=Pv,IS.ResourcePacksIcon=Ov,IS.MultiplayerIcon=Av,IS.BehaviourPacksIcon=Nv,IS.SideMenuItem=AS;const _S=e=>{let t="";const n=e.length;for(let a=0;a<n;a++){const n=e[a];null!=n.before&&(t+=" . "+n.before),null!=n.text&&(t+=" . "+n.text),null!=n.as&&(t+=" . "+n.as),null!=n.after&&(t+=" . "+n.after)}return t.slice(3)},DS=e=>{const t=e.querySelectorAll("[data-narrate]"),n=t.length,a=[];for(let e=0;e<n;e++){const n=t[e],r=n.getAttribute("data-narrate"),l=n.getAttribute("data-narrate-as"),o=n.getAttribute("data-narrate-after"),i=n.getAttribute("data-narrate-before"),c={};if(null!=r&&""!==r)c.text=r;else{const e=n.textContent;null!=e&&(c.text=e)}null!=o&&""!==o&&(c.after=o),null!=l&&""!==l&&(c.as=l),null!=i&&""!==i&&(c.before=i),a.push(c)}return a},BS=(0,e.createContext)({});function WS({children:n,gamepadIndex:a,disabled:r,onClick:l,withUnderlinePolyfill:o,soundEffectPressed:i,inputLegend:c,focusRefOverride:s,narrationText:u,narrationSuffix:d,__testAlias:m,role:p="inherit","data-testid":f}){const{t:g}=Ii("Link"),E=gr(p),h=Er(p),b=hr(p),v=(0,t.useFacetMap)(((e,t,n)=>{const a=[null!=e?e:n,g(".narrationComponentType")];return null!=t&&a.push(t),a.join(" . ")}),[g],[(0,t.useFacetWrap)(u),(0,t.useFacetWrap)(d),(0,t.useFacetWrap)(n)]),F=h.text.regular.default,y=(0,e.useMemo)((()=>({textDecorationColor:F})),[F]);return e.createElement(ic,{tag:"span",className:Or()("iTfr1",E.highlight.hover,E.text.base,{UEzHB:!1,zaq0M:o,_d1Tg:o&&!1}),gamepadAlias:m,classNameFocused:Or()(ji,"vLdsX"),gamepadIndex:a,focusRefOverride:s,inputLegend:null!=c?c:g(".open"),narrationText:v,onClick:l,disabled:r,soundEffectPressed:null!=i?i:b.click,style:y,"data-testid":f},e.createElement(zi,{role:p,disabled:r,withoutBorders:!0}),(0,t.isFacet)(n)?e.createElement("fast-text",{text:n}):n,o&&e.createElement("div",{className:Or()("BeCTv"),style:{borderBottomColor:F}}))}const US=({children:t,onClick:n,soundEffectPressed:a,gamepadIndex:r,__testAlias:l,narrationSuffix:o,"data-testId":i})=>{const c=hr("inherit"),{linkNarrationSuffix:s}=(0,e.useContext)(BS),u=[o,s].filter(Boolean).join(" . ")||void 0;return e.createElement(zs,{type:"body",role:"inherit"},e.createElement(WS,{soundEffectPressed:null!=a?a:c.click,withUnderlinePolyfill:!0,onClick:n,gamepadIndex:null!=r?r:0,__testAlias:l,narrationSuffix:u,"data-testid":i},t))},zS=n.p+"assets/cross-c49fd.png";function jS(){return jS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jS.apply(this,arguments)}const HS=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("oxTd5",n);return e.createElement(Rc,jS({},a,{className:r,src:zS,imageRendering:"pixelated"}))};function VS(t){const{role:n="inherit",onClick:a}=t,{t:r}=Ii("TitleBar.Buttons.Close");return e.createElement(sc,{role:n,onClick:a,className:"Rms1Z",inputLegend:r(".inputLegend"),narrationText:r(".narration"),testId:t["data-testid"]},"noticeTint"===n?e.createElement(HS,null):e.createElement(jc,null))}VS.displayName="BannerCloseButton";const GS=(n,a)=>!(0,t.isFacet)(n)&&e.Children.toArray(n).some((n=>{return!(0,t.isFacet)(n)&&(!!a(n)||(r=n,!(!(0,e.isValidElement)(r)||!Boolean(r.props.children))&&GS(n.props.children,a)));var r})),$S=t=>(0,e.isValidElement)(t)&&t.type===US;function KS(n){const{children:a,role:r,gamepadIndex:l,__testAlias:o,onClose:i}=n,c=(0,e.useRef)(null),s=(0,e.useRef)(null),u=ta(),d=gr(r),{t:m}=Ii("Banner"),p=(0,e.useMemo)((()=>!!i||(e=>GS(e,$S))(a)),[i,a]),f=(0,t.useFacetWrap)(u&&!p),g=p?"3.2rem":"2.8rem",E=((e,n)=>{const[a,r]=(0,t.useFacetState)("default");return Qo(e,(({height:e})=>{r(e>n?"spacious":"default")})),a})(s,Go(parseFloat(g))),h=(0,t.useFacetMap)((e=>Or()("geCU1",d.background.base,d.text.base,{Use2w:"spacious"===e})),[d],[E]),b=Or()("QTWPi",{p4K3_:!!i}),v=()=>{let e="";return c.current&&(e=_S(DS(c.current))),p?e:`${e} . ${m(".narrationComponentTypeTextBox")}`},F=(0,e.useMemo)((()=>i?{linkNarrationSuffix:m(".closeButtonNarrationHint",[m(".narrationComponentTypeTextBox")])}:{}),[i,m]);return e.createElement(ja,{role:r},e.createElement(Pc,{containerRef:c},e.createElement(BS.Provider,{value:F},e.createElement("fast-div",{ref:c,className:h},e.createElement(XS,{when:f,gamepadIndex:null!=l?l:0,__testAlias:o,getNarrationText:v}),e.createElement(Ps,{getText:v},e.createElement("fast-div",{ref:s,className:b,style:{minHeight:g}},a),i&&e.createElement(VS,{role:r,onClick:i,"data-testid":n["close-button-test-id"]}))))))}KS.displayName="Banner",KS.Text=function({children:t}){return e.createElement(zs,{type:"body",role:"inherit",shouldNarrate:!0},t)},KS.Link=US;const XS=({when:n,gamepadIndex:a,getNarrationText:r,__testAlias:l})=>{const o=hr("inherit");return e.createElement(t.Mount,{when:n},e.createElement(ic,{className:"IXYkO",classNameFocused:ji,gamepadIndex:null!=a?a:0,gamepadAlias:l,inputLegend:!1,soundEffectPressed:o.click,getNarrationText:r},e.createElement(zi,{inset:!0})))};function YS({title:n,roleNarrationOverride:a,description:r,buttons:l,stackedButtons:o=!1,border:i=!1}){const c=(0,t.useFacetMap)(((e,t,n)=>[e,t,n].filter((e=>e)).join(" . ")),[],[(0,t.useFacetWrap)(n),(0,t.useFacetWrap)(null!=a?a:""),(0,t.useFacetWrap)(null!=r?r:"")]);return e.createElement(du,{border:i,narrationText:c},null!=n&&e.createElement(pu,null,n),null!=r&&e.createElement(fu,null,r),null!=l&&e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement("div",{className:o?"YPysf":"KIftG"},l)))}YS.ButtonSpacing=function(){return e.createElement(Yc,{size:2})};function qS({title:t,description:n,role:a="neutral"}){const r=gr(a);return e.createElement("div",{className:Or()(r.background.base)},e.createElement(Yc,{size:6}),e.createElement(zs,{type:"sectionHeader",role:a},e.createElement(Yc,{size:6}),e.createElement("fast-text",{text:t})),null!=n&&e.createElement("div",{className:"Ddo87"},e.createElement(zs,{type:"captionShort",variant:"dimmer",role:a},e.createElement("fast-text",{text:n}))),e.createElement(Yc,{size:1}))}const QS={BaseSwitch:"BwIu0",toggle:"UDTIi",imageOn:"t3n2v",disabled:"jKxMu",imageOff:"gH7Oo",toggleContainerBorder:"WdJDx",toggleBase:"CYzyY",toggleBaseItem:"Vp3RH",toggleTop:"Kjcp3",toggleTopInner:"ThIXq",toggleTopTop:"fKWNS",toggleIcon:"YE1XG",toggleTopBottomBevel:"dmAJO",toggleTopOn:"u7VD_",toggleTopOff:"xDElg",toggleTopOnAnimated:"VQrjU",toggleTopOffAnimated:"jbAPS","switch-toggle-top-animation-on":"hlihB","switch-toggle-top-animation-off":"z84D_",offText:"Odxay",onText:"FXZX_",toggleLabel:"U_dOL"},JS=n.p+"assets/onImage-b40d0.png";function ZS(){return ZS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ZS.apply(this,arguments)}const eC=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("HCyoe",n);return e.createElement(Rc,ZS({},a,{className:r,src:JS,imageRendering:"pixelated"}))},tC=n.p+"assets/offImage-cc909.png";function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},nC.apply(this,arguments)}const aC=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("rHSix",n);return e.createElement(Rc,nC({},a,{className:r,src:tC,imageRendering:"pixelated"}))},rC=(e,t)=>Or()(QS.toggleTop,{[t?QS.toggleTopOnAnimated:QS.toggleTopOn]:e,[t?QS.toggleTopOffAnimated:QS.toggleTopOff]:!e});function lC({onChange:n,gamepad:a,value:r,disabled:l=!1,onFocusChanged:o,showOnOffText:i=!1,shouldAnimateRef:c,soundEffectHovered:s,soundEffectFocused:u,soundEffectPressed:d,offNarrationText:m,onNarrationText:p,disabledNarrationSuffix:f,onRole:g="primary",offRole:E="neutral50",thumbRole:h="secondary",imgSrc:b}){var v;const{t:F}=Ii("BaseSwitch"),y=gr("inherit"),S=gr(h),C=gr(g),M=gr(E),w=hr("inherit"),{narrateText:k}=Fs(),T=(0,e.useRef)(!1),x=null!=c?c:T,I=(0,e.useRef)(null),P=(0,t.useFacetWrap)(r),O=(0,t.useFacetMap)((()=>!0),[],[P]);(0,t.useFacetEffect)((e=>{var t;I.current&&(I.current.className=rC(e,null!==(t=x.current)&&void 0!==t&&t))}),[x],[P]);const A=(0,t.useFacetCallback)(((e,t,n)=>()=>{I.current&&(I.current.className=rC(e,!1),k(e?[F(".on"),null!=n?n:""].join(" . "):[F(".off"),null!=t?t:""].join(" . "))),x.current=!1}),[k,F,x],[P,(0,t.useFacetWrap)(m),(0,t.useFacetWrap)(p)]),N=(0,t.useFacetCallback)((e=>()=>{x.current=!0,null==n||n(!e)}),[n,x],[P]),R=(0,e.useCallback)((e=>{if(!I.current&&e){const n=(0,t.isFacet)(r)?r.get():r;e.className=rC(n,x.current)}I.current&&I.current.removeEventListener("animationend",A),e&&e.addEventListener("animationend",A),I.current=e}),[A,r,x]),L=(0,t.useFacetMap)(((e,t)=>[F(".elementType"),!0===t?F(".narrationDisabled"):"",F(e?".on":".off"),t&&null!=f?f:""].join(" . ")),[F,f],[P,(0,t.useFacetWrap)(l)]);return e.createElement(t.Mount,{when:O},e.createElement(ic.Maybe,{isInteractive:null!=n,className:QS.BaseSwitch,narrationText:L,inputLegend:F(".toggle"),gamepadIndex:null!==(v=null==a?void 0:a.index)&&void 0!==v?v:0,soundEffectHovered:null!=s?s:w.hover,soundEffectFocused:null!=u?u:w.focus,soundEffectPressed:null!=d?d:w.toggle,classNameHovered:QS.hovered,classNameFocused:Or()(QS.focused,ji),classNamePressed:QS.pressed,classNameDisabled:QS.disabled,disabled:l,onFocusChanged:o,onClick:N},e.createElement("fast-div",{className:QS.offText,style:{opacity:(0,t.useFacetMap)((e=>e?.6:1),[],[P]),display:i?"flex":"none"}},e.createElement("span",{className:Or()(QS.toggleLabel,y.text.base,y.text.disable)},F(".off"))),e.createElement("div",{className:Or()(QS.toggle,M.border.base,M.border.disable)},e.createElement("div",{className:QS.toggleContainerBorder}),e.createElement("fast-div",{className:QS.toggleBase},e.createElement("div",{className:Or()(QS.toggleBaseItem,QS.toggleBaseItemOn,C.background.base,C.background.disable)},e.createElement("div",{className:QS.imageOn},e.createElement(eC,null)),e.createElement(hc,{interactive:!1,right:!1,role:"primary",disabled:l})),e.createElement("div",{className:Or()(QS.toggleBaseItem,QS.toggleBaseItemOff,M.background.base,M.background.disable)},e.createElement("div",{className:QS.imageOff},e.createElement(aC,null)),e.createElement(hc,{interactive:!1,left:!1,role:"neutral50",disabled:l}))),e.createElement("div",{ref:R,className:QS.toggleTop},e.createElement("fast-div",{className:Or()(QS.toggleTopInner,S.border.base,S.border.disable,S.background.interactive)},e.createElement(zi,{role:"secondary",disabled:l}),e.createElement("div",{className:Or()(QS.toggleTopTop)},e.createElement(Cu,{imageSource:b,className:QS.toggleIcon}),e.createElement(hc,{role:"secondary",disabled:l})),e.createElement("div",{className:Or()(QS.toggleTopBottomBevel,S.shadow.base,S.shadow.disable)})))),e.createElement("fast-div",{className:QS.onText,style:{opacity:(0,t.useFacetMap)((e=>e?1:.6),[],[P]),display:i?"flex":"none"}},e.createElement("span",{className:Or()(QS.toggleLabel,y.text.base,y.text.disable)},F(".on")))))}const oC=()=>{};function iC({onChange:n=oC,value:a,title:r,description:l,disabled:o=!1,showOnOffText:i=!1,soundEffectHovered:c,soundEffectFocused:s,soundEffectPressed:u,offNarrationText:d,onNarrationText:m,disabledNarrationSuffix:p,wrapperRole:f="neutral",onRole:g,offRole:E,thumbRole:h,imgSrc:b,"data-testid":v}){const{t:F}=Ii("Switch"),y=hr(f),S=(0,e.useRef)(!1),C=(0,t.useFacetWrap)(a),M=(0,t.useFacetWrap)(o),w=(0,t.useFacetWrap)(r),k=(0,t.useFacetWrap)(l),T=(0,t.useFacetMap)((()=>!0),[],[C]),x=(0,t.useFacetCallback)(((e,t)=>()=>{t||(S.current=!0,n(!e))}),[n],[C,M]),I=(0,t.useFacetRef)(C),P=(0,t.useFacetRef)(M),O=(0,e.useCallback)((()=>{if(I.current===t.NO_VALUE||P.current===t.NO_VALUE)return"";const e=I.current,n=P.current;return[r,F(".elementType"),!0===n?F(".narrationDisabled"):"",F(e?".on":".off"),null!=l?l:"",n&&null!=p?p:""].filter((e=>e)).join(" . ")}),[I,P,l,p,F,r]),A=(0,t.useFacetMap)(((e,t)=>""!==e||null!=t&&""!==t?"_8UmaI":""),[],[w,k]),N=ta(),R=(0,t.useFacetMap)((e=>null!=e?e:""),[],[k]),L=(0,t.useFacetMap)((e=>null!=e&&e.length>0),[],[w]),_=(0,t.useFacetMap)((e=>e.length>0),[],[R]),D=(0,t.useFacetMap)((e=>!0===e&&N),[N],[M]),B=(0,t.useFacetMap)((e=>!e&&F(".toggle")),[F],[M]),W=(0,t.useFacetMap)(((e,t)=>e?void 0:null!=t?t:y.hover),[y.hover],[M,(0,t.useFacetWrap)(c)]),U=(0,t.useFacetMap)((e=>null!=e?e:y.focus),[y.focus],[(0,t.useFacetWrap)(s)]),z=(0,t.useFacetMap)(((e,t)=>e?void 0:null!=t?t:y.toggle),[y.toggle],[M,(0,t.useFacetWrap)(u)]);return e.createElement(t.Mount,{when:T},e.createElement(Ps,{getText:O},e.createElement(du,{role:f,disabled:M,onClick:x,focusable:D,shouldDisplayFocus:D,inputLegend:B,soundEffectHovered:W,soundEffectFocused:U,soundEffectPressed:z,narrationText:"","data-testid":v},e.createElement("div",{className:"BMKqH"},e.createElement("fast-div",{className:A},e.createElement(t.Mount,{when:L},e.createElement(pu,{disabled:o},w)),e.createElement(t.Mount,{when:_},e.createElement(fu,null,R))),e.createElement(lC,{value:C,disabled:M,showOnOffText:i,shouldAnimateRef:S,disabledNarrationSuffix:p,onNarrationText:m,offNarrationText:d,onRole:g,offRole:E,thumbRole:h,imgSrc:b})))))}const cC="nUoyP",sC="DLmmU",uC="hV7S1",dC="vWkm_";function mC({gamepadIndex:n,gamepadAlias:a,children:r,icons:l,disabled:o,selected:i,onClick:c,extraSpeechProps:{index:s,groupSize:u,description:d},onFocusChanged:m,wrapText:p,soundEffectPressed:f,onRole:g="primary",offRole:E="secondary"}){const{t:h}=Ii("Toggle"),b=gr(g),v=gr(E),F=i?g:E,y=[r,h(".narrationOptionType"),h(".count",[`${s+1}`,`${u}`]),h(i?".narrationSelected":".narrationUnselected"),null!=d?d:""].join(" . "),S=Or()("jxTxF",{[sC]:i,[dC]:o}),C=Or()(cC,[i?[b.background.base,b.background.disable]:v.background.interactive],[i?[b.text.base,b.text.disable]:v.text.interactive],{[dC]:o});return e.createElement(ic,{narrationText:y,className:Or()(S,v.border.base,v.border.disable),classNameFocused:Or()("lHZ6b",ji),classNamePressed:sC,soundEffectPressed:f,gamepadIndex:n,gamepadAlias:a,inputLegend:h(".select"),onClick:c,onFocusChanged:m,disabled:o},e.createElement(zi,{role:F,disabled:o}),e.createElement("div",{className:C},e.createElement(hc,{role:F,interactive:!1===i,disabled:o}),e.createElement("div",{className:"gcCW_"},p?e.createElement(zs,{type:"body",role:F,align:p?"center":void 0,disableable:i,interactive:!i},l?o?l.disabled:i?l.selected:l.unselected:null,(0,t.isFacet)(r)?e.createElement("fast-text",{text:r}):r):e.createElement(zs,{type:"body",role:F,align:p?"center":void 0,disableable:i,interactive:!i},l?o?l.disabled:i?l.selected:l.unselected:null,e.createElement(ru,{className:"b73Js"},r))),e.createElement("div",{className:Or()([i?[b.icon.base,b.icon.disable]:void 0],{L83HZ:i,[dC]:o})})),e.createElement("div",{className:Or()(uC,v.shadow.interactive,{[dC]:o})}))}function pC(){return e.createElement("div",{className:"xBetY"},e.createElement("div",{className:cC}),e.createElement("div",{className:uC}))}var fC=n(18371),gC=n.n(fC),EC=n(46376),hC=n.n(EC);function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bC(Object(n),!0).forEach((function(t){FC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FC(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yC({children:n,disabled:a,footer:r,menuRole:l="secondary",itemRole:o="neutral60",style:i={}}){const c=gr(l),s=gr(o),u=vr(),d=(0,e.useRef)(null),m=(0,t.useFacetWrap)(a),p=(0,t.useFacetMap)((e=>({index:1,disabled:e,bounded:!0})),[],[m]);return e.createElement(Pc,{containerRef:d,disabled:m,shouldBindFocus:!0},e.createElement(Is,{options:p,scrollRef:d},e.createElement("fast-div",{ref:d,className:"P6OkY",style:vC(vC({},i),{marginTop:"var(--base1Scale)"})},e.createElement(ys,{gamepadIndex:0},e.createElement("div",{className:Or()("QnpjG",c.border.base)},e.createElement("div",{className:Or()("juKSB",s.border.base,u.dimmest)},e.createElement(ja,{role:o},n)))),r)))}const SC={dropdownItem:"moJUx",show:"xHktl",hide:"iKBVs",image:"i1lO6",imageDisabled:"e5iy2"};function CC({item:n,onClick:a,isSelectable:r=!0,isSelected:l,soundEffectPressed:o,soundEffectHovered:i,role:c="inherit",onFocusChanged:s,disabled:u,gamepadIndex:d,itemTypeNarration:m,testId:p}){const{t:f}=Ii("DropdownItem"),g=(0,t.useFacetWrap)(n),E=(0,t.useFacetWrap)(l),h=(0,t.useFacetWrap)(r),b=(0,t.useFacetWrap)(u),v=(0,t.useFacetMap)((e=>e.gamepadAlias),[],[g]),F=(0,t.useFacetMap)((e=>e.label),[],[g]),y=(0,t.useFacetMap)((e=>e.imageSource),[],[g]),S=(0,t.useFacetMap)((e=>e.Icon),[],[g]),C=(0,t.useFacetWrap)(null!=m?m:""),{background:M,text:w,border:k}=gr(c),T=Fr(),x=vr(),I=(0,t.useFacetMap)(((e,t,n,a,r)=>{var l;const o=[null!=e.narrationText?e.narrationText:e.label,""!==r&&null!=r?r:f(".elementType"),e.enumeration];return t&&o.push(f(n?".selected":".unselected")),o.push(null!==(l=e.description)&&void 0!==l?l:"",a?f(".disabled"):""),o.filter(Boolean).join(" . ")}),[f],[g,h,E,b,C]),P=(0,t.useFacetMap)(((e,t)=>Or()(SC.dropdownItem,M.interactive,k.interactive,x.dimmest,{[T.selected]:e,[T.disabled]:t})),[M.interactive,k.interactive,T.selected,x.dimmest,T.disabled],[E,b]),O=(0,t.useFacetMap)((e=>e?SC.show:SC.hide),[],[E]),A=(0,t.useFacetMap)((e=>Or()(SC.image,{[SC.imageDisabled]:e})),[],[b]),N=(0,t.useFacetCallback)((e=>e?()=>null:a),[a],[b]);return e.createElement(ic,{className:P,classNameFocused:Or()(SC.dropdownFocusedItem,ji),classNameHovered:SC.dropdownItemHover,gamepadIndex:d,gamepadAlias:v,narrationText:I,inputLegend:f(".select"),onClick:N,soundEffectPressed:o,soundEffectHovered:i,onFocusChanged:s,"data-testid":p},e.createElement(zi,{role:c}),e.createElement(Cu,{imageSource:y,icon:S,className:A}),e.createElement(ru,{className:w.interactive},F),e.createElement(t.Mount,{when:h},e.createElement("fast-div",{className:O},e.createElement(Ys,null))))}const MC=({item:n,onChange:a,currentValue:r,isSelectable:l=!0,soundEffectPressed:o,soundEffectHovered:i,onFocusChanged:c,disabled:s,gamepadIndex:u,itemTypeNarration:d,testId:m})=>{const p=(0,t.useFacetCallback)((e=>()=>{a(e.value)}),[a],[n]),f=(0,t.useFacetWrap)(s),g=(0,t.useFacetMap)((e=>e?-1:u+1),[u],[f]),E=(0,t.useFacetWrap)(r),h=(0,t.useFacetWrap)(l);return e.createElement(CC,{item:n,isSelected:(0,t.useFacetMap)(((e,t)=>e.isSelected||e.value===t),[],[n,E]),isSelectable:h,gamepadIndex:g,onClick:p,soundEffectPressed:o,soundEffectHovered:i,onFocusChanged:c,disabled:f,itemTypeNarration:d,testId:m})},wC=n.p+"assets/arrowDown-8543c.png";function kC(){return kC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kC.apply(this,arguments)}const TC=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("QGE1O",n);return e.createElement(Rc,kC({},a,{className:r,src:wC,imageRendering:"pixelated"}))};function xC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function IC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xC(Object(n),!0).forEach((function(t){PC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PC(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const OC=(0,t.createFacet)({initialValue:""});function AC({options:n,value:a,onChange:r,isOpen:l,onClick:o,onOpenClose:i,dropdownRef:c,disabled:s,onFocusChanged:u,onHoverChanged:d,placeholder:m,footer:p,gamepadAlias:f,soundEffectPressed:g,soundEffectItemHovered:E,narrationText:h,shouldOnlyHandleBackButtonPressWhenDropdownIsOpen:b=!0,isElevated:v=!0,hideDownArrow:F=!1,menuRole:y="secondary",itemRole:S="neutral60",dropdownMenuStyle:C,dropdownMenuPortalRef:M,onBackButtonPressProps:w,matchButtonHeight:k=!1}){const{narrateText:T}=Fs(),x=(0,t.useFacetWrap)(l),I=(0,t.useFacetWrap)(s),[P,O]=(0,t.useFacetState)(!1),[A,N]=(0,t.useFacetState)(!1),[R,L]=(0,t.useFacetState)(!1),_=(0,t.useFacetWrap)(m);(0,t.useFacetEffect)((e=>{null!=e&&O(e)}),[O],[x]);const D=(0,e.useRef)(null),B=M||c||D;(0,t.useFacetEffect)((e=>i&&i(e)),[i],[P]);const{t:U}=Ii("BaseDropdown"),z=(0,t.useFacetWrap)(n),j=(0,t.useFacetWrap)(a),H=(0,t.useFacetMap)(((e,t)=>hC()(gC()("value",t))(e)),[],[z,j]);!function(e,n,a=!0){const r=(0,t.useFacetWrap)(a);(0,t.useFacetEffect)((t=>{if(!t)return;const a=t=>{e.current&&e.current.contains(t.target)||n()};return document.addEventListener("click",a,!0),()=>{document.removeEventListener("click",a,!0)}}),[e,n],[r])}(B,(()=>{O(!1),J(!1),setTimeout((()=>T(U(".stateCollapsed"))),0)}),P);const V=Je(),G=Go(4.8),$=Go(30),K=(0,t.useFacetMap)(((e,t,n,a)=>{const r=e.length*G>$;return Or()({aapQp:t,T7HZM:a,XU54Z:r,oc_D2:null==n})}),[G,$],[z,P,H,V]),X=(0,t.useFacetMap)((e=>Or()("wIbxA",{aYIFN:e})),[],[P]),Y=(0,e.useMemo)((()=>"unique-identifier"+Ao++),[]),q=null!=f?f:`dd-bevel-${Y}`,Q=ve(),J=(0,e.useCallback)((e=>{if(e){const e=null!=f?`${f}-0`:`dd-bevel-${Y}-0`;("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:LC)((()=>{Q(e)}))}else Q(q)}),[f,Y,Q,q]),Z=(0,t.useFacetCallback)((e=>()=>{e&&(O(!1),J(!1),setTimeout((()=>T(U(".stateCollapsed"))),0)),w&&w(e)}),[w,O,J,T,U],[P]),ee=(0,t.useFacetCallback)((e=>()=>{const t=!e;O(t),o&&o(t),J(t)}),[O,o,J],[P]),te=(0,t.useFacetCallback)((e=>t=>{r(t),ee();const n=hC()(gC()("value",t))(e);setTimeout((()=>T([U(".selected"),null==n?void 0:n.narrationSuffix].join(" . "))),0)}),[r,ee,T,U],[z]),ne=(0,t.useFacetMap)(((e,t,n)=>(e||!b)&&(t||n)),[b],[P,A,R]),ae=(0,t.useFacetMemo)((e=>e.map(((t,n)=>IC(IC({},t),{},{enumeration:U(".enumeration",[`${n+1}`,`${e.length}`]),gamepadAlias:null!=f?`${f}-${n}`:`dd-bevel-${Y}-${n}`})))),[U,f,Y],[z]),re=hr("neutral"),le=(0,t.useFacetMap)(((e,t)=>Or()("pJOrD",{Sqcr9:!e||!0===t})),[],[P,I]),oe=(0,t.useFacetMap)(((e,t)=>!e||!0===t),[],[P,I]),ie=(0,t.useFacetMap)((e=>e?U(".stateExpanded"):""),[U],[P]),ce=(0,t.useFacetMap)((e=>({button:W.B,disabled:!e,inputLegend:U(".close")})),[U],[ne]);return e.createElement(Ps,{text:null!=h?h:OC},e.createElement("fast-div",{ref:B,className:X},e.createElement("fast-div",{className:K},e.createElement(yu,{reflection:"specular",variant:y,narrationText:!1,onClick:ee,gamepadIndex:0,inputLegend:U(".open"),onFocusChanged:e=>{N(e),null==u||u(e)},onHoverChanged:e=>{null==d||d(e)},shouldNotDepressWhenPressed:!0,height:k?4:4.2,isElevated:v,disabled:I,soundEffectPressed:null!=g?g:re.press,gamepadAlias:q},e.createElement(NC,{hideDownArrow:F},(0,t.useFacetMap)(((e,t)=>e?e.label:null!=t?`${t}...`:""),[],[H,_])))),M?e.createElement(RC,{when:P,content:e.createElement(Ps,{text:ie},e.createElement("fast-div",{className:le},e.createElement(yC,{disabled:oe,footer:p,menuRole:y,itemRole:S,style:C},e.createElement(t.Map,{array:ae},((n,a)=>e.createElement(t.DeferredMount,null,e.createElement(MC,{item:n,gamepadIndex:a,onChange:te,key:a,currentValue:j,soundEffectPressed:null!=g?g:re.press,soundEffectHovered:null!=E?E:re.hover,onFocusChanged:L,disabled:oe})))),e.createElement(Zs,{options:ce,onClick:Z})))),containerRef:M}):e.createElement(Ps,{text:ie},e.createElement("fast-div",{className:le},e.createElement(yC,{disabled:oe,footer:p,menuRole:y,itemRole:S,style:C},e.createElement(t.Map,{array:ae},((n,a)=>e.createElement(t.DeferredMount,null,e.createElement(MC,{item:n,gamepadIndex:a,onChange:te,key:a,currentValue:j,soundEffectPressed:null!=g?g:re.press,soundEffectHovered:null!=E?E:re.hover,onFocusChanged:L,disabled:oe})))),e.createElement(Zs,{options:ce,onClick:Z}))))))}const NC=({children:t,hideDownArrow:n,menuRole:a="secondary"})=>{const r=gr(a);return e.createElement("fast-div",{className:Or()("HLVOE",r.text.interactive)},e.createElement(ru,null,t),!n&&e.createElement("div",{className:"IiS3P"},e.createElement(TC,null)))};AC.ToggleInnerWrapper=NC;const RC=n=>!0===(0,t.useFacetUnwrap)(n.when)&&n.containerRef.current?e.createElement(e.Fragment,null,(0,t.createPortal)(n.content,n.containerRef.current)):null,LC=e=>e();function _C({description:n,gamepadIndex:a=0,onChange:r,wrapperRef:l,onFocusChanged:o,placeholder:i,label:c,options:s,value:u,disabled:d,disabledNarrationSuffix:m,soundEffectPressed:p,gamepadAlias:f}){const g=(0,t.useFacetWrap)(u),E=(0,t.useFacetWrap)(d),h=(0,t.useFacetWrap)(a);return e.createElement(Is,{options:(0,t.useFacetMap)((e=>({index:e})),[],[h])},e.createElement(DC,{options:s,value:g,disabled:E,disabledNarrationSuffix:m,label:c,description:n,placeholder:i,onChange:r,wrapperRef:l,onFocusChanged:o,soundEffectPressed:p,gamepadAlias:f}))}function DC({options:n,label:a,description:r,placeholder:l,value:o,onChange:i,wrapperRef:c,disabled:s,disabledNarrationSuffix:u,onFocusChanged:d,soundEffectPressed:m,gamepadAlias:p,menuRole:f="secondary",itemRole:g="neutral60"}){const{t:E}=Ii("Dropdown"),h=ta(),b=(0,t.useFacetWrap)(n),v=(0,t.useFacetMap)(((e,t)=>e.find((e=>e.value===t))),[],[b,o]),F=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:""}),[],[v]),y=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.description)&&void 0!==t?t:""}),[],[v]),S=(0,t.useFacetMap)((e=>Boolean(e)),[],[y]),C=(0,e.useRef)(null),[M,w,k]=function(e,n,a){const r=Go(4.8),l=Go(30),o=(0,t.useFacetMap)((e=>e.length),[],[(0,t.useFacetWrap)(e)]),[i,c]=(0,t.useFacetState)(""),[s,u]=(0,t.useFacetState)("");return[{height:i},{height:s},e=>{var i;const s=null==a?void 0:a.current,d=null==a||null===(i=a.current)||void 0===i?void 0:i.parentElement,m=n.current,p=o.get();if(m&&p!==t.NO_VALUE)if(s&&d){const t=s.getBoundingClientRect().height,n=m.offsetTop,a=p*r,o=12,i=Math.min(Math.max(t,n+a+o),l+n+o),u=d.scrollHeight<s.offsetTop+i;c(e&&u?`${i}px`:"")}else{const t=m.getBoundingClientRect();if(0===t.height)return;const n=window.innerHeight-t.top;u(n<l&&e?`${n}px`:"")}}]}(n,C,c),T=(0,t.useFacetMap)(((e,t)=>[e,E(".toggleElementType"),E(".selected"),t,u].join(" . ")),[E,u],[F,y]),x=(0,t.useFacetWrap)(null!=s&&s),I=(0,t.useFacetMap)((e=>h&&!0===e),[h],[x]),P=(0,t.useFacetMap)(((e,t)=>[a,E(".narrationComponentType"),t?E(".narrationDisabled"):"",E(".stateCollapsed"),t?e:""].join(" . ")),[E,a],[T,x]);return e.createElement(Ps,{text:P},e.createElement(du,{style:M,focusable:I,narrationText:""},e.createElement(pu,{disabled:s},a),null!=r&&e.createElement(fu,null,r),e.createElement(Yc,{size:1}),e.createElement(AC,{narrationText:T,options:n,value:o,onChange:i,disabled:s,placeholder:l,onFocusChanged:d,footer:e.createElement(wd.Space,null),soundEffectPressed:m,onOpenClose:k,dropdownRef:C,gamepadAlias:p,menuRole:f,itemRole:g,dropdownMenuStyle:w}),e.createElement(t.Mount,{when:S},e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement(fu,{disabled:s},y)))))}let BC=0;const WC=()=>{};function UC({options:n,title:a,description:r,onChange:l=WC,disabled:o=!1,value:i,wrapToggleText:c,onMountComplete:s,soundEffectPressed:u,disabledNarrationSuffix:d}){const m=hr("neutral"),p=(0,e.useRef)(null),f=(0,t.useFacetWrap)(n),g=((e,n)=>{const[a,r]=(0,t.useFacetState)("unknown"),l=(0,t.useFacetCallback)((e=>t=>{r(t.width<e?"smaller":"bigger")}),[r],[$o(n)]);return Qo(e,l),a})(p,(0,t.useFacetMap)((e=>15*e.length),[],[f])),E=(0,t.useFacetMap)((e=>"smaller"===e),[],[g]),h=(0,t.useFacetMap)((e=>"unknown"===e),[],[g]);return(0,t.useFacetEffect)((e=>{e||null==s||s()}),[s],[h]),e.createElement("div",{ref:p},e.createElement(t.Mount,{when:E},e.createElement(_C,{label:a,description:r,gamepadIndex:0,options:n,value:i,onChange:l,disabled:o,disabledNarrationSuffix:d,soundEffectPressed:null!=u?u:m.toggle,wrapperRef:p})),e.createElement(t.Mount,{when:E,condition:!1},e.createElement(zC,{disabledNarrationSuffix:d,options:n,title:a,description:r,onChange:l,disabled:o,value:i,wrapToggleText:c,soundEffectPressed:null!=u?u:m.toggle,skeleton:h})))}function zC({options:n,title:a,description:r,onChange:l=WC,disabled:o=!1,value:i,wrapToggleText:c,soundEffectPressed:s,disabledNarrationSuffix:u,skeleton:d}){var m;const p=(0,t.useFacetUnwrap)(n),f=(0,t.useFacetUnwrap)(i),g=(0,t.useFacetUnwrap)(o),E=(0,e.useRef)("MCT-"+BC++),{narrateText:h}=Fs(),{t:b}=Ii("Toggle"),v=ta();if(p===t.NO_VALUE||f===t.NO_VALUE||g===t.NO_VALUE)return null;const F=p.findIndex((e=>e.value===f)),y=null===(m=p.find((e=>e.value===f&&e.description)))||void 0===m?void 0:m.description,S=g&&v?[null!=a?a:"",b(".narrationComponentType"),b(".narrationDisabled"),p[F].label,b(".narrationOptionType"),b(".narrationSelected"),null!=y?y:"",null!=u?u:""].join(" . "):"";return e.createElement(du,{focusable:g&&v,narrationText:S},null!=a&&e.createElement(pu,{disabled:g},a),null!=r?e.createElement(fu,null,r):null,e.createElement(Yc,{size:1}),e.createElement("div",{className:"RJ8Px"},e.createElement(t.Mount,{when:d,condition:!1},e.createElement(Ps,{text:`${null!=a?a:""} ${b(".narrationComponentType")}`},p.map(((n,a)=>e.createElement(mC,{key:a,icons:n.icons,onClick:()=>{const e=p[a];h([b(".narrationSelected"),e.narrationSuffix].join(" . ")),function(e){p!==t.NO_VALUE&&l(p[e].value)}(a)},selected:F===a,gamepadIndex:a,gamepadAlias:`${E.current}.${a}`,extraSpeechProps:{index:a,groupSize:p.length,description:n.description},disabled:g,wrapText:c,soundEffectPressed:F===a?void 0:s},n.label))))),e.createElement(t.Mount,{when:d},e.createElement(pC,null))),null!=y&&e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement(fu,null,y)))}function jC({children:t}){return e.createElement(e.Fragment,null,t)}function HC({children:t,role:n="neutral"}){const a=gr(n);return e.createElement("div",{className:Or()(a.background.base,a.text.base)},t)}function VC(){return VC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},VC.apply(this,arguments)}function GC(t){var n;return t.shouldSkipLandmarkInVisual?e.createElement(Wr,{disabled:t.disabled},t.children):null==t.containerRef?e.createElement(Wr,t,t.children):e.createElement(Pc,VC({},t,{delegateFocusFromMemory:t.delegateFocusFromMemory||"remember"===t.defaultFocusedChildBehavior,delegateFocusByAlias:null!==(n=t.delegateFocusByAlias)&&void 0!==n?n:t.defaultFocusedChildAlias}))}function $C(e){return e===Ve.NX_HANDHELD||e===Ve.NX_TV}function KC(e){return e===Ve.PS4}UC.displayName="Toggles",UC.Toggle=mC;const XC="Wb7RU",YC=_i((({achievementsDisabledMessages:n,isEditWorld:a})=>{const{t:r}=Ii("AchievementDisabledModal"),l=Li(),o=(0,t.useFacetMap)((e=>{const t=a?"EW":"CNW";return 1===e.length?r(`.oneSettingMessage${t}`):r(`.multipleSettingsMessage${t}`)}),[a,r],[n]);return e.createElement(Ld,{onOverlayClick:l,defaultFocusAlias:"achievements-disabled-back"},e.createElement(Ld.Header,{onClose:l},r(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:o,gamepadIndex:0},o),e.createElement(Yc,{size:2}),e.createElement(Ld.List,{items:n,gamepadIndex:1}),e.createElement(Yc,{size:4})),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:"achievements-disabled-back",inputLegend:r(".closeInputLegend"),variant:"secondary",onClick:l},r(".goBackButtonText"))))})),qC="behavior-packs-modal-confirm",QC=_i((({packId:t,type:n,packType:a,onAccept:r})=>{const{t:l}=Ii("CreateNewWorld.behaviorPacksRemoveModal"),o=Li(),i="deactivate"==n;return e.createElement(Ld,{onOverlayClick:o,defaultFocusAlias:qC},e.createElement(Ld.Header,{onClose:o},l(i?".deactivateTitle":".activateTitle")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:l(i?".messageDeactivate":".messageActivate"),center:!0},l(i?".messageDeactivate":".messageActivate"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:qC,gamepadIndex:0,inputLegend:l(i?".keepLabel":".dontAddPackLabel"),onClick:o,variant:"primary"},l(i?".keepLabel":".dontAddPackLabel")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,inputLegend:l(i?".removeLabel":".addPackLabel"),onClick:()=>{r(t,a),o()}},l(i?".removeLabel":".addPackLabel"))))})),JC="create-on-realms-error-back",ZC=_i((()=>{const{t:n}=Ii("CreateNewWorld"),a=(0,t.useSharedFacet)(jm),r=(0,t.useFacetCallback)((e=>()=>{e.clearErrors()}),[],[a]),l=(0,t.useFacetMap)((e=>{switch(e.createOnRealmsError){case Bm.UNASSIGNED_DEV_VERSION:return{title:n(".createOnRealmsError.unassignedDevVersion.title"),message:n(".createOnRealmsError.unassignedDevVersion.message"),message2:n(".createOnRealmsError.unassignedDevVersion.message2")};case Bm.MEMBER_OF_TOO_MANY_REALMS:return{title:n(".createOnRealmsError.memberOfTooManyRealms.title"),message:n(".createOnRealmsError.memberOfTooManyRealms.message"),message2:""};case Bm.CANNOT_CONNECT_TO_REALM:return{title:n(".createOnRealmsError.cannotConnectToRealm.title"),message:n(".createOnRealmsError.cannotConnectToRealm.message"),message2:""};case Bm.CROSS_PLATFORM_RESTRICTED:return{title:n(".createOnRealmsError.crossPlatformRestricted.title"),message:n(".createOnRealmsError.crossPlatformRestricted.message"),message2:n(".createOnRealmsError.crossPlatformRestricted.message2")};case Bm.UNKNOWN:default:return{title:n(".createOnRealmsError.unknown.title"),message:n(".createOnRealmsError.unknown.message"),message2:""}}}),[n],[a]),o=(0,t.useFacetMap)((e=>e.title),[],[l]),i=(0,t.useFacetMap)((e=>e.message),[],[l]),c=(0,t.useFacetMap)((e=>e.message2),[],[l]),s=(0,t.useFacetMap)((e=>""!=e.message2),[],[l]);return e.createElement(Ld,{defaultFocusAlias:JC},e.createElement(Ld.Header,{onClose:r},o),e.createElement(Ld.Content,null,e.createElement(t.Mount,{when:s,condition:!1},e.createElement(Ld.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),e.createElement(t.Mount,{when:s,condition:!0},e.createElement(Ld.Paragraphs,{narrationText:`${i}. ${c}`,spaceBetweenParagraphs:5,gamepadIndex:0},e.createElement(zs,{type:"captionLong",align:"center"},i),e.createElement(zs,{type:"captionLong",align:"center"},c)))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:JC,inputLegend:n(".createOnRealmsError.close"),variant:"secondary",onClick:r},n(".createOnRealmsError.close"))))})),eM="create-world-error-back",tM=_i((function(){const{t:n}=Ii("CreateNewWorld"),a=(0,t.useSharedFacet)(jm),r=(0,t.useFacetCallback)((e=>()=>{e.clearErrors()}),[],[a]),l=(0,t.useFacetMap)((e=>e.createWorldError),[],[a]),o=(0,t.useFacetMap)((e=>{switch(e){case Wm.NOT_ENOUGH_STORAGE:return{title:n(".createWorldError.notEnoughStorage.title"),message:n(".createWorldError.notEnoughStorage.message")};case Wm.MISSING_CONTENT_KEY:default:return{title:n(".resourcePacks.contentKeyErrorTitle"),message:n(".resourcePacks.contentKeyErrorBodyNoName")}}}),[n],[l]),i=(0,t.useFacetMap)((e=>e.title),[],[o]),c=(0,t.useFacetMap)((e=>e.message),[],[o]);return e.createElement(Ld,{defaultFocusAlias:eM},e.createElement(Ld.Header,{onClose:r},i),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:c,center:!0},c)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:eM,inputLegend:n(".createWorldError.close"),variant:"secondary",onClick:r},n(".createWorldError.close"))))})),nM=n.p+"assets/hardcore-heart-white-6b381.png",aM=()=>{};let rM;function lM(){}function oM(t,n,a){const r=(0,e.useRef)(!1),l=(0,e.useRef)(!1),o=(0,e.useRef)(lM),i=(0,vl.useFacetCallback)(t,[t,...n],[...a]),c=(0,e.useCallback)((async(...e)=>{if(r.current)return;const t=e=>{const{promise:t,cancel:n}=(e=>{let t=aM;const n=new Promise((e=>{t=e})),a=e.get();if(a!==vl.NO_VALUE)return t(a),{promise:n,cancel:aM};const r=e.observe(t);return{promise:n.then((e=>(r(),e))),cancel:r}})(function(e,t,n){return(0,vl.mapFacetsLightweight)(e,(e=>e==rM.RUNNING?vl.NO_VALUE:e),void 0)}([e]));return o.current=n,t};return(async(...e)=>{if(l.current)return;r.current=!0;const n=i(...e);if(n!==vl.NO_VALUE){for(const e of n)if(await t(e)!=rM.DONE)break;r.current=!1}})(...e)}),[i]);return(0,e.useEffect)((()=>()=>{l.current=!0,o.current()}),[]),c}function iM(e,n,a){const r=(0,t.useSharedFacet)(Rp),l=LS(),o=(0,t.useFacetMap)((e=>e.joinRealmTaskState),[],[r]),i=oM((e=>function*(t){e.joinRealmWorld(t),yield o,e.clearJoinRealmTaskState()}),[o],[r]);return(0,t.useFacetCallback)((e=>()=>{l({screen:n,button:a,details:{realmId:e}}),i(e)}),[i,l,n,a],[e])}!function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.DONE=2]="DONE",e[e.CANCELLED=3]="CANCELLED",e[e.FAILED=4]="FAILED"}(rM||(rM={}));const cM="hardcore-mode-world-warning-modal-play",sM=_i((({onCancel:n,onSubmit:a})=>{const{t:r}=Ii("CreateNewWorld.hardcoreModeWorldModal"),[l,o]=(0,t.useFacetState)(!1),i=(0,t.useSharedFacet)(Lp),c=(0,t.useFacetCallback)(((e,t)=>()=>{t&&(e.doNotShowHardcoreModeWarning=!0),a(),n()}),[n,a],[i,l]);return e.createElement(Ld,{defaultFocusAlias:cM},e.createElement(Ld.Header,{onClose:n},r(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:r(".body")},r(".body")),e.createElement(Yc,{size:2}),e.createElement(Ld.OrderedList,{items:(0,t.useFacetWrap)([r(".bodyListItem1"),r(".bodyListItem2"),r(".bodyListItem3")]),gamepadIndex:1}),e.createElement(Yc,{size:6})),e.createElement(Ld.Buttons,{header:e.createElement(Ld.Checkbox,{value:l,onChange:o,title:r(".doNotShowAgain")})},e.createElement(Pu,{gamepadAlias:cM,inputLegend:r(".createWorld"),variant:"primary",delayedClick:!0,onClick:c,imgSrc:nM},r(".createWorld")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:r(".goBack"),variant:"secondary",delayedClick:!0,onClick:n},r(".goBack"))))}));function uM(){const n=u(),a=d(),r=sM.useModal(!0),l=m(),o=iM((0,t.useFacetMap)((e=>{var t;return null!==(t=e.realmId)&&void 0!==t?t:""}),[],[l]),"HardcoreModeWorldWarningModal","PlayNow"),i=(0,t.useFacetMap)(((e,t)=>e&&t),[],[a,r.isVisible]),c=(0,e.useCallback)((()=>{n.goBack()}),[n]),s=(0,e.useCallback)((()=>{n.goBack(),o()}),[n,o]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:i},e.createElement(sM.Component,{onSubmit:s,onCancel:c})))}_i((({title:t,description:n})=>e.createElement(Ld,null,e.createElement(Ld.Header,null,t),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:n,gamepadIndex:0,center:!0},n)))));const dM="leaving-cnw-for-marketplace-modal-cancel",mM=_i((({onAccept:t})=>{const{t:n}=Ii("CreateNewWorld.leavingCNWForMarketplaceModal"),a=Li();return e.createElement(Ld.Overlay,{onClick:a},e.createElement(Ld,{defaultFocusAlias:dM},e.createElement(Ld.Header,{onClose:a},n(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:n(".message"),gamepadIndex:0,center:!0},n(".message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,gamepadAlias:dM,inputLegend:n(".cancel"),variant:"secondary",onClick:a},n(".cancel")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,inputLegend:n(".continue"),variant:"primary",onClick:()=>{t(),a()}},n(".continue")))))})),pM="lyc-modal-continue",fM=_i((({onLeave:t})=>{const{t:n}=Ii("CreateNewWorld.loseYourChangesModal"),a=Li();return e.createElement(Ld,{defaultFocusAlias:pM},e.createElement(Ld.Header,{onClose:a},n(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:n(".message"),gamepadIndex:0,center:!0},n(".message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,gamepadAlias:pM,inputLegend:n(".continueInputLegend"),variant:"secondary",onClick:a},n(".continueButton")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,inputLegend:n(".leaveInputLegend"),variant:"destructive",onClick:()=>{a(),t()}},n(".leaveButton"))))}));function gM(e,t){const n=[];for(let a=0;a<e.length;a++)t(e[a],a,e)&&n.push(e[a]);return n}const EM="mpl-modal-go-back",hM=_i((({multiplayerData:n,activePacks:a,onDeactivatePack:r})=>{const{t:l}=Ii("CreateNewWorld.multiplayerPlatformLockedModal"),o=Li(),i=(0,t.useFacetMap)((e=>gM(e,(e=>e.isPlatformLocked))),[],[a]),c=(0,t.useFacetMap)((e=>e.length>1?l(".titlePlural"):l(".titleSingular")),[l],[i]),s=(0,t.useFacetMap)((e=>{var t,n;return e.length>1?l(".messagePlural",[op(e,1).map((e=>e.name)).join(", "),null===(t=e[0])||void 0===t?void 0:t.name]):l(".messageSingular",[null===(n=e[0])||void 0===n?void 0:n.name])}),[l],[i]),u=(0,t.useFacetMap)((e=>e.length>1?l(".removeButtonPlural"):l(".removeButtonSingular")),[l],[i]),d=(0,t.useFacetCallback)(((e,t)=>()=>{o(),r&&t.forEach((e=>r(e.id,tE.Resource))),e.multiplayerGame=!0}),[o,r],[n,i]);return e.createElement(Ld,{defaultFocusAlias:EM},e.createElement(Ld.Header,{onClose:o},c),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:s,gamepadIndex:0},s)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,inputLegend:l(".removeInputLegend"),variant:"primary",onClick:d},u),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,gamepadAlias:EM,inputLegend:l(".closeInputLegend"),variant:"secondary",onClick:o},l(".goBackButton"))))})),bM="stay-button-alias",vM=_i((({optOutCallback:t,closeModal:n})=>{const{t:a}=Ii("CreateNewWorld.optBackModal");return e.createElement(Ld,{onOverlayClick:n,defaultFocusAlias:bM},e.createElement(Ld.Header,{onClose:n},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:a(".message"),center:!0},a(".message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:bM,inputLegend:a(".stayInputLegend"),variant:"primary",onClick:n},a(".stayButton")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:a(".goBackInputLegend"),variant:"secondary",onClick:()=>{n(),t()}},a(".goBackButton"))))})),FM="rpl-modal-go-back",yM=_i((({packId:t,onAccept:n})=>{const{t:a}=Ii("CreateNewWorld.resourcePacksDependencyWarningModal"),r=a(".body"),l=a(".activatePackButton"),o=Li();return e.createElement(Ld,{onOverlayClick:o,defaultFocusAlias:FM},e.createElement(Ld.Header,{onClose:o},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:r,gamepadIndex:0,center:!0},r)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,gamepadAlias:FM,inputLegend:a(".closeInputLegend"),variant:"primary",onClick:o},a(".goBackButton")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,inputLegend:l,onClick:()=>{o(),n(t)}},l)))})),SM="rpdl-modal-accept",CM=_i((({packId:n,packName:a,packSize:r,supportsSizeQuery:l,availableSize:o,onAccept:i})=>{const{t:c}=Ii("CreateNewWorld.packDownloadModal"),s=(0,t.useFacetMap)((e=>c(".confirmationBodyActivate",[e])),[c],[a]),u=c(".confirmationBodyPackSize",[r]),d=(0,t.useFacetMap)((e=>c(".confirmationBodyAvailableSize",[e])),[c],[o]),m=Li(),p=(0,t.useFacetCallback)((e=>()=>{i(n,e),m()}),[i,m,n],[a]);return e.createElement(Ld,{defaultFocusAlias:SM},e.createElement(Ld.Header,{onClose:m},c(".confirmationTitle")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:s},s),e.createElement(Ld.Paragraphs,{narrationText:`${u}. ${d}`,spaceBetweenParagraphs:1,gamepadIndex:1},e.createElement(zs,{type:"captionLong"},u),e.createElement(t.Mount,{when:l},e.createElement(zs,{type:"captionLong"},d)))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:SM,gamepadIndex:0,inputLegend:c(".confirmationDownloadAndActivateButton"),onClick:p,variant:"primary"},c(".confirmationDownloadAndActivateButton")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:c(".confirmationCancelButton"),onClick:m,gamepadIndex:1},c(".confirmationCancelButton"))))})),MM="rpdl-modal-accept",wM=(_i((({worldId:n,packIds:a,packNames:r,packSizes:l,availableSize:o,onAccept:i})=>{const{t:c}=Ii("CreateNewWorld.packDownloadModal"),s=r.map((e=>`"${e}"`)),u=a.length>1,d=c(u?".confirmationBodyMultiple":".confirmationBody",[s.join(", ")]),m=c(".confirmationBodyPackSize",[l]),p=(0,t.useFacetMap)((e=>c(".confirmationBodyAvailableSize",[e])),[c],[o]),f=Li(),g=(0,e.useCallback)((()=>{i(n,a),f()}),[i,f,n,a]);return e.createElement(Ld,{defaultFocusAlias:MM},e.createElement(Ld.Header,{onClose:f},c(".confirmationTitleAlt")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:d},d),e.createElement(Ld.Paragraphs,{narrationText:`${m} . ${p}`,spaceBetweenParagraphs:1,gamepadIndex:1},e.createElement(zs,{type:"captionLong"},m),e.createElement(zs,{type:"captionLong"},p))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:MM,gamepadIndex:0,inputLegend:c(".confirmationDownloadButton"),onClick:g,variant:"primary"},c(".confirmationDownloadButton")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:c(".confirmationCancelButton"),onClick:f,gamepadIndex:1},c(".confirmationCancelButton"))))})),"rpdl-modal-close"),kM="rpdl-modal-content",TM=_i((({title:n,percentage:a,isImportingPack:r,onCancel:l=(()=>{})})=>{const{t:o}=Ii("CreateNewWorld.packDownloadModal"),i=(0,t.useFacetMap)((e=>o(e?".importingProgressLabel":".downloadingProgressLabel")),[o],[r]),c=ta(),s=ve();return(0,t.useFacetEffect)((e=>{e&&c&&s(kM)}),[s,c],[r]),e.createElement(Ld,{defaultFocusAlias:wM},e.createElement(Ld.Header,{onClose:l,titlebarGamepadAlias:wM,hideCloseButton:r},n),e.createElement(Ld.Content,{gamepadAlias:kM},e.createElement(Ld.Text,{gamepadIndex:0,narrationText:i,center:!0},i),e.createElement(Ld.Progress,{percentage:a})))})),xM="rpdl-modal-cancel",IM=_i((({errorCode:t})=>{const{t:n}=Ii("CreateNewWorld.resourcePacks"),a=Li(),r=t===aE.NoManifest||t===aE.MissingProperty||t===aE.WrongTypeProperty||t===aE.EmptyProperty||t===aE.InvalidProperty||t===aE.InvalidJSON||t===aE.MalformedPropertyUUID||t===aE.MalformedPropertyVERSION||t===aE.DuplicateUUID||t===aE.MissingModules||t===aE.MultipleModules||t===aE.UnsupportedFormatVersion,l=t===aE.ContentTierIncompatible?n(".errorIncompatibleDeviceTitle"):t===aE.ContentTierIncompatibleMemory?n(".errorIncompatibleMemoryTitle"):t===aE.ContentTierIncompatibleRayTracing?n(".errorIncompatibleRayTracingTitle"):t===aE.PackSelectErrorNoStore?n(".errorNoStoreTitle"):t===aE.PackSelectErrorRequiredDependency?n(".errorRequiredDependencyTitle"):t===aE.NoPackAccess?n(".errorFileAccessTitle"):t===aE.VersionTooHigh||t===aE.VersionTooLow?n(".errorIncompatibleVersionTitle"):t===aE.IncompletePack?n(".errorIncompleteTitle"):t===aE.UnsupportedFileFormat?n(".errorUnsupportedFormatTitle"):n(r?".errorReadingTitle":".errorUnknownTitle"),o=t===aE.ContentTierIncompatible?n(".errorIncompatibleDeviceBody"):t===aE.ContentTierIncompatibleMemory?n(".errorIncompatibleMemoryBody"):t===aE.ContentTierIncompatibleRayTracing?n(".errorIncompatibleRayTracingBody"):t===aE.PackSelectErrorNoStore?n(".errorNoStoreBody"):t===aE.PackSelectErrorRequiredDependency?n(".errorRequiredDependencyBody"):t===aE.NoPackAccess?n(".errorFileAccessBody"):t===aE.VersionTooHigh?n(".errorIncompatibleVersionHighBody"):t===aE.VersionTooLow?n(".errorIncompatibleVersionLowBody"):t===aE.IncompletePack?n(".errorIncompleteBody"):t===aE.UnsupportedFileFormat?n(".errorUnsupportedFormatBody"):n(r?".errorReadingBody":".errorUnknownBody");return e.createElement(Ld,{defaultFocusAlias:xM},e.createElement(Ld.Header,{onClose:a},l),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:o},o)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:xM,inputLegend:n(".goBackButton"),onClick:a},n(".goBackButton"))))})),PM="rpl-modal-go-back",OM=_i((({multiplayerData:n,packId:a,packName:r,packSize:l,packType:o,onActivatePack:i})=>{const{t:c}=Ii("CreateNewWorld.resourcePacksPlatformLockedModal"),s=(0,t.useFacetMap)((e=>c(".body",[e])),[c],[r]),u=Li();return e.createElement(Ld,{onOverlayClick:u,defaultFocusAlias:PM},e.createElement(Ld.Header,{onClose:u},c(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:s,gamepadIndex:0,center:!0},s)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,inputLegend:c(".removeInputLegend"),variant:"primary",onClick:()=>{n.multiplayerGame=!1,i(a,o,r,l),u()}},c(".turnOffMultiplayerAndApplyPackButton")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,gamepadAlias:PM,inputLegend:c(".closeInputLegend"),variant:"secondary",onClick:u},c(".goBackButton"))))})),AM=e=>e===Ve.PS4||e===Ve.PS5,NM=e=>e===Ve.NX_HANDHELD||e===Ve.NX_TV,RM=e=>(e=>e===Ve.XBOX)(e)||NM(e)||AM(e),LM=e=>e===Ve.WIN32||e===Ve.UWP,_M=(e,t)=>LM(e)&&t===He.ARVR_None,DM=e=>-1!==e.indexOf(je.TOUCH),BM=e=>e===Ve.GOOGLE||e===Ve.IOS||e===Ve.MACOS||e===Ve.UWP||e===Ve.WIN32||e===Ve.XBOX,WM="create-world-platform-guest-modal",UM=_i((({onClose:n,mode:a})=>{const{t:r}=Ii("CreateNewWorld"),l=function(e){const{t:n}=Ii("CreateNewWorld"),a=u(),r=LS();return(0,t.useFacetMap)((e=>"nintendoGuestCreateWorld"===e?{message:n(".signInPromptWorldOnRealmModal.platformGuestCreate.nintendo.message")}:"nintendoGuestEditWorld"===e?{message:n(".signInPromptWorldOnRealmModal.platformGuestEdit.nintendo.message")}:"playstationGuestCreateWorld"===e?{message:n(".signInPromptWorldOnRealmModal.platformGuestCreate.playStation.message")}:"playstationGuestEditWorld"===e?{message:n(".signInPromptWorldOnRealmModal.platformGuestEdit.playStation.message")}:"msaGuestEditWorld"===e?{onSignIn:()=>{r({screen:"EditWorld",button:"SignIn"}),a.replace("/sign-in?signInSource=EditWorld_PlayOnRealm_SignInPrompt_OreUI")},message:n(".signInPromptWorldOnRealmModal.msaGuestEditWorld.message")}:{onSignIn:()=>{r({screen:"CreateNewWorld",button:"SignIn"}),a.replace("/sign-in?signInSource=CreateNewWorld_CreateOnRealm_SignInPrompt_OreUI")},message:n(".signInPromptWorldOnRealmModal.msaGuestCreateWorld.message")}),[n,a,r],[e])}((0,t.useFacetMap)(((e,t)=>AM(e.platform)&&!t.isSignedInPlatformNetwork?a===_v.EDIT?"playstationGuestEditWorld":"playstationGuestCreateWorld":NM(e.platform)&&!t.isSignedInPlatformNetwork?a===_v.EDIT?"nintendoGuestEditWorld":"nintendoGuestCreateWorld":a===_v.EDIT?"msaGuestEditWorld":"msaGuestCreateWorld"),[a],[(0,t.useSharedFacet)(el),(0,t.useSharedFacet)(Dg)]));return e.createElement(Fl,{data:l},(t=>e.createElement(Ld,{defaultFocusAlias:WM},e.createElement(Ld.Header,{onClose:n},r(".signInPromptWorldOnRealmModal.title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{center:!0,gamepadIndex:0,narrationText:t.message},t.message)),e.createElement(Ld.Buttons,null,t.onSignIn&&e.createElement(e.Fragment,null,e.createElement(Pu,{"data-testid":"sign-in-prompt",inputLegend:r(".signInPromptWorldOnRealmModal.signIn"),variant:"primary",onClick:t.onSignIn},r(".signInPromptWorldOnRealmModal.signIn")),e.createElement(Yc,{size:1})),e.createElement(Pu,{"data-testid":"cancel",gamepadAlias:WM,inputLegend:r(".signInPromptWorldOnRealmModal.cancel"),variant:"secondary",onClick:n},r(".signInPromptWorldOnRealmModal.cancel"))))))})),zM=_i((({onUnlockTemplateSettings:t,mainButtonAlias:n})=>{const{t:a}=Ii("CreateNewWorld"),r=ve(),l=Li(),o="pop-up-modal-keepSettings";return e.createElement(Ld,{defaultFocusAlias:o},e.createElement(Ld.Header,{onClose:l},a(".unlockSettingsModal.title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:a(".unlockSettingsModal.message"),gamepadIndex:0,center:!0},a(".unlockSettingsModal.message"))),e.createElement(Ld.Buttons,null,e.createElement(jC,{options:{index:1}},e.createElement(Is,{options:{index:0}},e.createElement(Pu,{gamepadAlias:o,inputLegend:a(".unlockSettingsModal.keepSettings"),variant:"primary",onClick:l},a(".unlockSettingsModal.keepSettings")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:a(".unlockSettingsModal.unlock"),onClick:()=>{t(),l(),null!=n&&r(n)},gamepadAlias:"pop-up-modal-unlockSettings"},a(".unlockSettingsModal.unlock"))))),e.createElement(xs,{options:{button:W.B,inputLegend:a(".unlockSettingsModal.keepSettings")},onClick:l}))}));function jM(){const e=u();return(0,t.useFacetCallback)(((t,n)=>()=>{const a=n.arvrPlatform===He.ARVR_Rift;n.platform!==Ve.WIN32||a?t.purchaseGame(hg.FullGame):e.push("/win10-trial-conversion")}),[e],[(0,t.useSharedFacet)(bg),(0,t.useSharedFacet)(el)])}const HM=n.p+"assets/trial-mode-art-40744.png",VM="buy-minecraft-button",GM=_i((({onClose:t,worldSettingsMode:n})=>{const{t:a}=Ii("TrialModeModal"),r=n===_v.CREATE?"CreateNewWorld":"EditWorld",l=jM(),o=LS(),i=a(".firstParagraph"),c=a(".secondParagraph"),s=a(".thirdParagraph"),u=(0,e.useCallback)((()=>{o({button:"BuyMinecraft",screen:`ReadMoreTrialMode_${r}`}),l()}),[o,l,r]);return e.createElement(Ld,{onOverlayClick:t,defaultFocusAlias:VM},e.createElement(Ld.Header,{onClose:t},a(".title")),e.createElement(Ld.Content,null,e.createElement(Rc,{src:HM,imageRendering:"pixelated",className:"xIcrr"}),e.createElement(Ld.Paragraphs,{narrationText:`${i} . ${c} . ${s}`,spaceBetweenParagraphs:4},e.createElement(zs,{type:"captionLong"},i),e.createElement(zs,{type:"captionLong"},c),e.createElement(zs,{type:"captionLong"},s))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:VM,inputLegend:a(".buyMinecraft"),variant:"primary",onClick:u,"data-testid":"trial-mode-modal-buy-minecraft",Icon:kS.ExternalLink},a(".buyMinecraft"))))}));function $M(){return(0,t.useFacetCallback)((e=>({modal:t,screen:n,details:a={}})=>e.fireEventModalShown(function({modal:e,screen:t}){return`${t}Screen_${e}Modal_OreUI`}({modal:t,screen:n}),a)),[],[(0,t.useSharedFacet)(fg)])}let KM;function XM({isLockedTemplate:n,isAchievementsDisabled:a,achievementsDisabledMessages:r,multiplayerWarningState:l,experimentsWarningEnabled:o,onUnlockTemplateSettings:i,isEditorWorld:c,hardcoreModeMessageTab:s}){const{t:d}=Ii("Notifications"),p=u(),f=$M(),g=(0,e.useContext)(Dv),E=g===_v.EDIT,h=bE(rp),b=(0,t.useSharedFacet)(Bg),v=(0,t.useFacetMap)(((e,t,n,a)=>!a&&e&&!t&&!n),[],[a,(0,t.useSharedFacet)(Pm),c,b]),F=YC.useShowModal(),y=GM.useModal(),S=(0,t.useSharedFacet)(Bg),C=(0,t.useFacetMap)((e=>!e&&o),[o],[n]),M=zM.useShowModal(),w=(0,t.useFacetMap)((e=>e.platform),[],[(0,t.useSharedFacet)(el)]),k=(0,t.useFacetMap)((e=>l?function(e,t,n){if(e===Dm.CHECK_INTERNET_CONNECTION)return n(".multiplayerWarnings.checkInternetConnection");if(e===Dm.DISCONNECTED_THIRD_PARTY_WITH_SUBSCRIPTION){if(KC(t))return n(".multiplayerWarnings.playstationDisconnectedThirdPartyWithSubscription");if($C(t))return n(".multiplayerWarnings.nintendoDisconnectedThirdPartyWithSubscription")}if(e===Dm.LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY)return n(".multiplayerWarnings.nintendoLocalMultiplayerPrivilegesBlockedThirdParty");if(e===Dm.MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY){if(KC(t))return n(".multiplayerWarnings.playstationMultiplayerPrivilegesBlockedThirdParty");if($C(t))return n(".multiplayerWarnings.nintendoMultiplayerPrivilegesBlockedThirdParty")}return e===Dm.MULTIPLAYER_PRIVILEGES_BLOCKED?n(".multiplayerWarnings.multiplayerPrivilegesBlocked"):e===Dm.MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE?n(".multiplayerWarnings.multiplayerPrivilegesBlockedOnConsole"):e===Dm.CROSS_PLATFORM_DISABLED?n(".multiplayerWarnings.playstationCrossPlatformDisabled"):e===Dm.NON_MULTIPLAYER_SKIN_EQUIPPED?n(".multiplayerWarnings.nonMultiplayerSkinEquipped"):""}(l,e,d):""),[d,l],[w]),T=(0,t.useFacetMap)((e=>e.length>0),[],[k]),x=(0,t.useFacetMap)((()=>l===Dm.NON_MULTIPLAYER_SKIN_EQUIPPED),[l],[]),I=(0,t.useFacetMap)((e=>e.isStorageLow),[],[(0,t.useSharedFacet)(el)]),P=(0,t.useFacetMap)((e=>e?d(function(e){switch(e){case KM.ADVANCED_TAB:return".hardcoreMode.advancedTab";case KM.CHEATS_TAB:return".hardcoreMode.cheatsTab";default:return".hardcoreMode.generalTab"}}(e)):""),[d],[(0,t.useFacetWrap)(s)]),O=(0,t.useFacetMap)((e=>!!e),[],[P]),A=(0,t.useFacetMap)(((e,t,n,a,r,l)=>e||t||n||o||a||r||l),[o],[T,v,n,S,I,O]),N=(0,t.useFacetCallback)((e=>()=>{var t,n;h?(f({modal:"ReadMoreTrialMode",screen:E?"EditWorld":"CreateNewWorld"}),y.show()):p.push(`/tabbed-upsell?tab=${t=e.tab,null!==(n={general:Fg.MINECRAFT,"resource-packs":Fg.PACKS,cheats:Fg.MINECRAFT,experimental:Fg.MINECRAFT,multiplayer:Fg.MULTIPLAYER,advanced:Fg.SEEDS,"behavior-packs":Fg.PACKS}[t])&&void 0!==n?n:Fg.MINECRAFT}`)}),[h,f,E,y,p],[m()]);return e.createElement(t.Mount,{when:A},e.createElement("div",{className:"eegnV"},e.createElement(t.Mount,{when:v},e.createElement(du,{compact:!0},e.createElement("div",{className:XC},e.createElement(KS,{role:"neutral100",gamepadIndex:0},e.createElement(kS.AchievementsBottle,{height:24,width:24,role:"neutral",variant:"dimmest"}),e.createElement(Yc,{size:2}),e.createElement(KS.Text,null,d(".achievementsDisabled")),e.createElement(Yc,{size:1}),e.createElement(KS.Link,{"data-testId":"achievement-disabled-read-more",onClick:()=>F({achievementsDisabledMessages:r,isEditWorld:E}),gamepadIndex:0},d(".readMoreLink")))))),e.createElement(t.Mount,{when:S},e.createElement(e.Fragment,null,e.createElement(du,{compact:!0},e.createElement("div",{className:XC},e.createElement(KS,{role:"informative",gamepadIndex:1},e.createElement(kS.Locked,{width:24,height:24}),e.createElement(Yc,{size:2}),e.createElement(KS.Text,null,d(".inTrialMode")),e.createElement(Yc,{size:1}),e.createElement(KS.Link,{onClick:N,gamepadIndex:0,"data-testId":"trial-mode-read-more"},d(".readMoreLink"))))),e.createElement(t.Mount,{when:y.isVisible},e.createElement(GM.Component,{worldSettingsMode:g,onClose:y.hide})))),e.createElement(t.Mount,{when:T},e.createElement(du,{compact:!0},e.createElement("div",{className:XC},e.createElement(KS,{role:"informative",gamepadIndex:2},e.createElement(KS.Text,null,k),e.createElement(t.Mount,{when:x},e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement(KS.Link,{"data-testId":"multiplayer-warning-change-skin",onClick:()=>p.push("/persona"),gamepadIndex:3},d(".changeSkinLink")))))))),e.createElement(t.Mount,{when:C},e.createElement(du,{compact:!0},e.createElement("div",{className:XC},e.createElement(KS,{role:"informative",gamepadIndex:4},e.createElement(KS.Text,null,d(".experimentsWarning.informationMessage")))))),e.createElement(t.Mount,{when:n},e.createElement(du,{compact:!0},e.createElement("div",{className:XC},e.createElement(KS,{role:"informative",gamepadIndex:5},e.createElement(KS.Text,null,d(".unlockSettingsMessage")),e.createElement(Yc,{size:1}),e.createElement(KS.Link,{gamepadIndex:1,onClick:()=>{M({onUnlockTemplateSettings:i,mainButtonAlias:TS})}},d(".unlockSettingsLink")))))),e.createElement(t.Mount,{when:I},e.createElement(du,{compact:!0},e.createElement("div",{className:XC},e.createElement(KS,{role:"noticeTint",gamepadIndex:6},e.createElement(KS.Text,null,d(".notEnoughStorage")),e.createElement(Yc,{size:1}),e.createElement(KS.Link,{onClick:()=>p.push("/settings/storage"),gamepadIndex:0},d(".freeSpace")))))),e.createElement(t.Mount,{when:O},e.createElement(du,{compact:!0},e.createElement("div",{className:XC},e.createElement(KS,{role:"informative",gamepadIndex:7},e.createElement(KS.Text,null,P)))))))}!function(e){e.GENERAL_TAB="generalTab",e.ADVANCED_TAB="advancedTab",e.CHEATS_TAB="cheatsTab"}(KM||(KM={}));const YM=(0,e.createContext)((0,t.createFacet)({initialValue:!1}));function qM({children:n,isLockedTemplate:a,isAchievementsDisabled:r,achievementsDisabledMessages:l,multiplayerWarningState:o,experimentsWarningEnabled:i,nestedRoutes:c,narrationText:s,onUnlockTemplateSettings:u,isEditorWorld:d,hardcoreModeMessageTab:m}){var p;const f=Ko(),g=null!==(p=_h())&&void 0!==p&&p,E=Nr(),h=(0,e.useMemo)((()=>({clearRememberCache:e=>{}})),[]),b=(0,t.useFacetMap)((e=>!e),[],[E]),v=(0,e.useRef)(null),F=(0,e.useRef)();(0,t.useFacetLayoutEffect)((e=>{e||null==F.current||null==h||h.clearRememberCache(F.current),v.current&&(v.current.scrollTop=0)}),[h],[E]);const y=(0,t.useIsPaused)(),S=(0,t.useFacetMap)(((e,t)=>e||t||y),[y],[(0,e.useContext)(YM),(0,t.useIsDeferring)()]),C=c?Dr:dh,M=(0,t.useFacetUnwrap)(Ql()),{t:w}=Ii("CreateNewWorld"),k=`${w(".tabContainerNarrationSuffix")}. ${s}`;return e.createElement(Ps,{text:k},e.createElement(C,{type:"contentful",renderingCompleted:!0}),e.createElement(ys,{gamepadIndex:0,floating:"desktop"!==f,loading:S,disableScrolling:g,innerRef:v,defaultFocusedChildBehavior:"remember",stopCheckingForScroll:b,renderTracker:t=>e.createElement(C,{renderingCompleted:t,type:"meaningful"}),spinnerBackgroundColor:!0===M?void 0:"#48494A",nodeIdRef:F},"desktop"===f&&e.createElement(Yc,{size:2}),y?null:e.createElement(HC,{gamepadIndex:0},e.createElement("div",{className:"desktop"===f?"KdIrj":""},e.createElement(t.DeferredMount,null,e.createElement(jC,{options:{index:0}},e.createElement(Is,{options:{index:0}},e.createElement(XM,{isLockedTemplate:a,isAchievementsDisabled:r,achievementsDisabledMessages:l,multiplayerWarningState:o,experimentsWarningEnabled:i,onUnlockTemplateSettings:u,isEditorWorld:d,hardcoreModeMessageTab:m})))),e.createElement(jC,{options:{index:1}},e.createElement(GC,{shouldSkipLandmarkInVisual:!0},n)))),e.createElement(wd.Space,{extraSpace:e.createElement(Yc,{size:1})})))}const QM=(e,t)=>e.isProfanityInString(t),JM=_i((({onClose:t})=>{const{t:n}=Ii("ProfanityWarningModalRoute");return e.createElement(Ld,{defaultFocusAlias:"profanity-warning-modal-button"},e.createElement(Ld.Header,{onClose:t},n(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:n(".body"),center:!0},n(".body"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,inputLegend:n(".close"),variant:"primary",delayedClick:!0,onClick:t,gamepadAlias:"profanity-warning-modal-button"},n(".close"))))})),ZM=e=>{const n=JM.useModal(),a=n.show;return[(0,t.useFacetCallback)((t=>(n,r)=>QM(t,n)?(e&&r(""),a(),Ru.INVALID):Ru.VALID),[e,a],[(0,t.useSharedFacet)(df)]),n]};function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ew.apply(this,arguments)}function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tw.apply(this,arguments)}const nw=n=>{let{onBlur:a,filterProfanity:r=!1,clearOnProfanity:l=!0}=n,o=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["onBlur","filterProfanity","clearOnProfanity"]);const[i,c]=ZM(l),s=(0,e.useCallback)(((e,t)=>null!=a?a(e,t,QM):r?i(e,t):void 0),[a,i,r]);return e.createElement(e.Fragment,null,e.createElement(Uu,tw({},o,{onBlur:s})),e.createElement(t.Mount,{when:c.isVisible},e.createElement(JM.Component,{onClose:c.hide})))};nw.WithButton=n=>{let{onBlur:a,filterProfanity:r=!1,clearOnProfanity:l=!0,buttonVariant:o="secondary"}=n,i=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["onBlur","filterProfanity","clearOnProfanity","buttonVariant"]);const[c,s]=ZM(l),u=(0,e.useCallback)(((e,t)=>null!=a?a(e,t,QM):r?c(e,t):void 0),[a,c,r]);return e.createElement(e.Fragment,null,e.createElement(Uu.WithButton,ew({},i,{onBlur:u,buttonVariant:o})),e.createElement(t.Mount,{when:s.isVisible},e.createElement(JM.Component,{onClose:s.hide})))};const aw=n.p+"assets/external-link-b22bb.png",rw=_i((()=>{const{t}=Ii("EditWorld.exportingWorldModal");return e.createElement(Ld,null,e.createElement(Ld.Header,null,t(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:t(".content"),gamepadIndex:0},t(".content"))))}));function lw(){const e=(0,t.useSharedFacet)($g),n=(0,t.useFacetMap)((e=>e.worldData),[],[e]);return{advancedData:(0,t.useFacetMap)((e=>e.advanced),[],[n]),cheatsData:(0,t.useFacetMap)((e=>e.cheats),[],[n]),generalData:(0,t.useFacetMap)((e=>e.general),[],[n]),experimentsData:(0,t.useFacetMap)((e=>e.betaFeatures),[],[n]),multiplayerData:(0,t.useFacetMap)((e=>e.multiplayer),[],[n]),resourcePacksData:(0,t.useFacetMap)((e=>e.resourcePacks),[],[n])}}function ow(){const e=m();return(0,t.useFacetMap)((e=>decodeURIComponent(e.id)),[],[e])}const iw=_i((()=>{const{generalData:n}=lw(),a=(0,t.useFacetMap)((e=>e.worldName),[],[n]),{t:r}=Ii("CreateNewWorld.duplicateWorld"),l=(0,t.useFacetMap)((e=>r(".header",[e])),[r],[a]);return e.createElement(Ld,null,e.createElement(Ld.Header,null,l),e.createElement(Ld.Content,null,e.createElement(Ld.Spinner,null)))})),cw=_i((({clearPlayerData:t,closeModal:n})=>{const{t:a}=Ii("EditWorld.clearPlayerDataModal"),r=(0,e.useCallback)((()=>{null!=t&&t(qg.IncludeLocalUser),n()}),[t,n]),l=(0,e.useCallback)((()=>{null!=t&&t(qg.SkipLocalUser),n()}),[t,n]);return e.createElement(Ld,{onOverlayClick:n},e.createElement(Ld.Header,{onClose:n},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:a(".descriptionOne"),center:!0},a(".descriptionOne")),e.createElement(Ld.Text,{gamepadIndex:1,narrationText:a(".descriptionTwo"),center:!0},a(".descriptionTwo"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{inputLegend:a(".allButton"),onClick:r},a(".allButton")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:a(".keepButton"),onClick:l},a(".keepButton"))))})),sw="lyc-modal-continue",uw=_i((({deleteWorld:t,closeModal:n})=>{const{t:a}=Ii("CreateNewWorld.deleteWorldModal");return e.createElement(Ld,{onOverlayClick:n,defaultFocusAlias:sw},e.createElement(Ld.Header,{onClose:n},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:a(".message"),gamepadIndex:0},a(".message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,gamepadAlias:sw,inputLegend:a(".continueInputLegend"),variant:"secondary",onClick:n},a(".continueButton")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,inputLegend:a(".deleteInputLegend"),variant:"destructive",onClick:t},a(".deleteButton"))))})),dw="lyc-modal-continue",mw=_i((()=>{const n=Hr(),{t:a}=Ii("CreateNewWorld.editWorldErrorModal"),r=(0,t.useSharedFacet)($g),l=(0,t.useSharedFacet)(eE),o=(0,t.useFacetMap)((e=>e.loadWorldError),[],[r]),i=(0,t.useFacetMap)(((e,t)=>t.duplicateWorldError||e.saveLocalWorldError),[],[r,l]),c=(0,t.useFacetMap)(((e,t)=>null!=e||null!=t),[],[o,i]),s=(0,t.useFacetMap)(((e,t,n)=>{if(!n)return null;switch(e){case Hg.IncorrectWorldId:case Hg.UnexpectedError:return"unexpected"}switch(t){case Gg.IncorrectWorldId:case Gg.UnableToCreateWorldDirectoryPath:return"unexpected";case Gg.InsufficientDiskSpace:return"storage"}}),[],[o,i,c]),u=(0,t.useFacetMap)((e=>a("storage"===e?".storageError.title":".unexpectedError.title")),[a],[s]),d=(0,t.useFacetMap)((e=>a("storage"===e?".storageError.description":".unexpectedError.description")),[a],[s]),m=(0,t.useFacetCallback)(((e,t,a)=>()=>{null!=a?n.goBack():null!=t.duplicateWorldError?t.clearDuplicateWorldTaskState():null!=e.saveLocalWorldError&&e.clearSaveLocalWorldTaskState()}),[n],[r,l,o]);return e.createElement(Ld,{onOverlayClick:m,defaultFocusAlias:dw},e.createElement(Ld.Header,{onClose:m},u),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:d,gamepadIndex:0,center:!0},d)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,gamepadAlias:dw,inputLegend:a(".closeButton"),variant:"secondary",onClick:m},a(".closeButton"))))})),pw=_i((()=>{const{t}=Ii("CreateNewWorld.savingWorldModal");return e.createElement(Ld,null,e.createElement(Ld.Header,null,t(".header")),e.createElement(Ld.Content,null,e.createElement(Ld.Spinner,null)))})),fw="rpdl-modal-cancel",gw=_i((()=>{const{t:n}=Ii("CreateNewWorld.resourcePacks"),a=(0,t.useSharedFacet)(lE),r=(0,t.useFacetMap)((e=>e.packDownloadError),[],[a]),l=(0,t.useFacetCallback)((e=>()=>{e.cancelPackDownload(),e.getPackSizesReset()}),[],[a]),o=(0,t.useFacetMap)((e=>e===rE.MissingDlcWorldTemplate?n(".downloadWorldTemplateNoInternetTitle"):e===rE.NoInternet?n(".downloadNoInternetTitle"):e===rE.HasPerformanceIssues?n(".errorIncompatibleDeviceTitle"):n(".errorUnknownTitle")),[n],[r]),i=(0,t.useFacetMap)((e=>e===rE.MissingDlcWorldTemplate?n(".downloadWorldTemplateNoInternetMsg"):e===rE.NoInternet?n(".connectionFailedBody"):e===rE.HasPerformanceIssues?n(".errorIncompatibleDeviceBody"):n(".errorUnknownBody")),[n],[r]),c=(0,t.useFacetMap)((e=>e===rE.MissingDlcWorldTemplate?n(".downloadWorldTemplateMsgRemovePacks"):""),[n],[r]),s=(0,t.useFacetUnwrap)(r)!==rE.MissingDlcWorldTemplate;return e.createElement(Ld,{defaultFocusAlias:fw},e.createElement(Ld.Header,{onClose:l},o),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:i,center:s},i),s&&e.createElement(Ld.Text,{gamepadIndex:1,narrationText:c,center:!0},c)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:fw,inputLegend:n(".goBackButton"),onClick:l},n(".goBackButton"))))})),Ew=_i((()=>{const n=(0,t.useSharedFacet)(eE),{t:a}=Ii("CreateNewWorld.general"),r=(0,t.useFacetMap)((e=>e.makeWorldInfiniteProgress),[],[n]);return e.createElement(Ld,null,e.createElement(Ld.Header,null,a(".makingInfiniteWorldProgressModal")),e.createElement(Ld.Content,null,e.createElement(Ld.Progress,{percentage:r})))})),hw="content-key-error-modal-back",bw=_i((()=>{const{t:n}=Ii("CreateNewWorld.resourcePacks"),a=(0,t.useSharedFacet)(cE),r=(0,t.useFacetMap)((e=>{const t=e.brokenPacksToStart.map((e=>e.name)),a=t.map((e=>`"${e}"`)),r=t.length>1;return n(r?".contentKeyErrorBodyMultiple":".contentKeyErrorBody",[a.join(", ")])}),[n],[a]),l=(0,t.useFacetCallback)((e=>()=>e.clearStartLocalWorldResult()),[],[a]);return e.createElement(Ld,{onOverlayClick:l,defaultFocusAlias:hw},e.createElement(Ld.Header,{onClose:l},n(".contentKeyErrorTitle")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:r,gamepadIndex:0,center:!0},r)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:hw,variant:"secondary",inputLegend:n("PlatformLockedModal.closeInputLegend"),onClick:l},n("PlatformLockedModal.closeInputLegend"))))}));let vw;!function(e){e.DaylightCycleChanged="daylight_cycle_changed",e.CheatsChanged="cheats_changed",e.DifficultyChanged="difficulty_changed",e.GameModeChanged="game_mode_changed",e.MultiplayerChanged="multiplayer_changed"}(vw||(vw={}));const Fw="lu82f",yw=n.p+"assets/hardcore-heart-engraved-75556.png";function Sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Cw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sw(Object(n),!0).forEach((function(t){Mw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mw(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ww=({isLockedTemplate:n,generalData:a,isUsingTemplate:r,worldSummary:l,isEditorWorld:o,generatorType:i,isAchievementsDisabled:c,achievementsDisabledMessages:s,isHardcoreMode:u,onUnlockTemplateSettings:d,onMakeWorldInfinite:m,onDuplicateWorld:p,onDeleteWorld:f,onExportWorld:g,onOptOut:E})=>{const{t:h}=Ii("CreateNewWorld.general"),b=(0,e.useContext)(Dv)===_v.EDIT,v=LS(),F=(0,t.useSharedFacet)(Ug),y=(0,t.useSharedFacet)(xm),S=(0,t.useSharedFacet)(Dg),C=(0,t.useFacetMap)((e=>b&&(e.isDevBuild||e.isPreviewBuild)),[b],[y]),M=(0,t.useFacetCallback)((e=>()=>{v({button:"Feedback",screen:"EditWorld"}),e.openLink(Wg.EditWorldScreenFeedbackPage)}),[v],[F]),w=(0,t.useFacetMap)((e=>b&&e===Vg.Legacy),[b],[i]),k=(0,t.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(Lg.XboxLive)),[],[S]),T=(0,t.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(Lg.XboxLive_Parental)),[],[S]),x=(0,t.useFacetCallback)((e=>()=>{e.openLink(Wg.ParentPermissionHelpPage)}),[],[(0,t.useSharedFacet)(Ug)]),I=(0,t.useFacetMap)((e=>!e),[],[o]);return e.createElement(Tw,{isLockedTemplate:n,isAchievementsDisabled:c,achievementsDisabledMessages:s,isEditorWorld:o,isHardcoreMode:u,onUnlockTemplateSettings:d},e.createElement(t.Mount,{when:k},e.createElement("div",{className:Fw},e.createElement(du,{compact:!0},e.createElement(KS,{role:"noticeTint",gamepadIndex:7},e.createElement(KS.Text,null,h(".multiplayerPermissionBanner.text")),e.createElement(Yc,{size:1}),e.createElement(KS.Link,{gamepadIndex:1,onClick:x},h(".multiplayerPermissionBanner.link")))))),e.createElement(t.Mount,{when:T},e.createElement("div",{className:Fw},e.createElement(du,{compact:!0},e.createElement(KS,{role:"noticeTint",gamepadIndex:7},e.createElement(KS.Text,null,h(".multiplayerPermissionBanner.textParental")),e.createElement(Yc,{size:1}),e.createElement(KS.Link,{gamepadIndex:1,onClick:x},h(".multiplayerPermissionBanner.link")))))),e.createElement(t.Mount,{when:C},e.createElement(t.DeferredMount,null,e.createElement(YS,{title:h(".designPreviewTitle"),description:h(".designPreviewDescription"),buttons:e.createElement(e.Fragment,null,e.createElement(Pu,{inputLegend:h(".designPreviewInputLegend"),horizontal:!0,onClick:M,imgSrc:aw},h(".feedbackButton")),e.createElement(YS.ButtonSpacing,null),e.createElement(Pu,{inputLegend:h(".designPreviewInputLegend"),horizontal:!0,onClick:E},h(".optOutButton")))}))),e.createElement(kw,{isLockedTemplate:n,achievementsDisabledMessages:s,isEditorWorld:o,isHardcoreMode:u,generalData:a,isUsingTemplate:r}),e.createElement(t.Mount,{when:I},e.createElement(t.DeferredMount,null,e.createElement(xw,{isLockedTemplate:n,generalData:a,editingWorld:b}))),e.createElement(t.Mount,{when:w},e.createElement(t.DeferredMount,null,e.createElement(du,null,e.createElement(pu,null,h(".makeInfiniteHeader")),e.createElement(Yc,{size:1}),e.createElement("div",{style:{flexDirection:"row"}},e.createElement(Pu,{variant:"secondary",onClick:m,inputLegend:h(".makeInfiniteButton"),autofocus:!0,horizontal:!0},h(".makeInfiniteButton"))),e.createElement(Yc,{size:1}),e.createElement(fu,null,h(".makeInfiniteDescription"))))),b&&null!=l&&e.createElement(t.DeferredMount,null,e.createElement(Ow,{worldSummary:l,onDuplicateWorld:p,onDeleteWorld:f,onExportWorld:g})))},kw=({isLockedTemplate:n,achievementsDisabledMessages:a,isEditorWorld:r,isHardcoreMode:l,generalData:o,isUsingTemplate:i})=>{const{t:c}=Ii("CreateNewWorld.general"),s=1==(0,t.useFacetUnwrap)(r)?".editor":"",u=(0,t.useFacetMap)((e=>e.worldName),[],[o]),d=(0,t.useFacetCallback)((e=>t=>e.worldName=t),[],[o]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:r},e.createElement(t.DeferredMount,null,e.createElement(qS,{title:c(".projectHeader")}))),e.createElement(t.DeferredMount,null,e.createElement(nw,{label:c(`${s}.worldNameTitle`),gamepadIndex:1,placeholder:c(`${s}.worldNamePlaceholder`),maxLength:30,value:u,onChange:d,filterProfanity:!0,disabled:n})),e.createElement(t.Mount,{when:r},e.createElement(t.DeferredMount,null,e.createElement(qS,{title:c(".exportSettingsHeader"),description:c(".exportSettingsDescription")}))),e.createElement(t.DeferredMountWithCallback,null,e.createElement(Pw,{isLockedTemplate:n,generalData:o,isUsingTemplate:i,achievementsDisabledMessages:a,isHardcoreMode:l})),e.createElement(t.DeferredMountWithCallback,null,e.createElement(Iw,{isLockedTemplate:n,generalData:o,isHardcoreMode:l})))},Tw=({isLockedTemplate:n,isAchievementsDisabled:a,achievementsDisabledMessages:r,isEditorWorld:l,isHardcoreMode:o,onUnlockTemplateSettings:i,children:c})=>{const{t:s}=Ii("CreateNewWorldSideMenu"),u=(0,e.useContext)(Dv)===_v.EDIT,d=!0===(0,t.useFacetUnwrap)(o)&&u?KM.GENERAL_TAB:void 0;return e.createElement(t.DeferredMountProvider,null,e.createElement(qM,{isLockedTemplate:n,isAchievementsDisabled:a,achievementsDisabledMessages:r,narrationText:s(".generalTabLabel"),onUnlockTemplateSettings:i,isEditorWorld:l,hardcoreModeMessageTab:d},c))};function xw({generalData:n,editingWorld:a,isLockedTemplate:r}){const{t:l}=Ii("CreateNewWorld.general"),o=Jn(),i=(0,t.useSharedFacet)(Bg),c=(0,t.useFacetMap)(((e,t,n)=>n||t||a||e.gameMode!==yg.SURVIVAL&&e.gameMode!==yg.ADVENTURE),[a],[n,r,i]);return e.createElement(iC,{title:l(".hardcoreModeTitle"),soundEffectPressed:"ui.hardcore_toggle_press",disabled:c,description:l(".hardcoreModeDescription"),value:(0,t.useFacetMap)((e=>e.isHardcore),[],[n]),onChange:(0,t.useFacetCallback)((e=>t=>{e.isHardcore=t,o(t?"ui.hardcore_enable":"ui.hardcore_disable")}),[o],[n]),gamepad:{index:4},imgSrc:yw,"data-testid":"hardcore-mode-toggle"})}function Iw({generalData:n,isLockedTemplate:a,isHardcoreMode:r}){const{t:l}=Ii("CreateNewWorld.general"),o=(0,t.useNotifyMountComplete)(),i=(0,e.useContext)(Dv)===_v.EDIT,c=(0,t.useSharedFacet)(fg);return e.createElement(UC,{onMountComplete:o,title:l(".difficultyTitle"),disabled:(0,t.useFacetMap)(((e,t)=>e||t),[],[r,a]),gamepad:{index:3},options:[{label:l(".difficultyPeacefulLabel"),description:l(".difficultyPeacefulDescription"),value:Rm.PEACEFUL},{label:l(".difficultyEasyLabel"),description:l(".difficultyEasyDescription"),value:Rm.EASY},{label:l(".difficultyNormalLabel"),description:l(".difficultyNormalDescription"),value:Rm.NORMAL},{label:l(".difficultyHardLabel"),description:l(".difficultyHardDescription"),value:Rm.HARD}],value:(0,t.useFacetMap)(((e,t)=>t?Rm.HARD:e.difficulty),[],[n,r]),onChange:(0,t.useFacetCallback)(((e,t)=>n=>{i&&t.trackOptionChanged(vw.DifficultyChanged,e.difficulty,n),e.difficulty=n}),[i],[n,c])})}function Pw({generalData:n,isLockedTemplate:a,isUsingTemplate:r,achievementsDisabledMessages:l,isHardcoreMode:o}){const{t:i}=Ii("CreateNewWorld.general"),{t:c}=Ii("CreateNewWorld.all"),s=(0,t.useSharedFacet)(Bg),u=(0,e.useContext)(Dv)===_v.EDIT,d=(0,t.useSharedFacet)(fg),m=(0,t.useFacetMap)(((e,t,n)=>e||t||n),[],[a,s,o]),p=(0,t.useFacetMap)(((e,t)=>{const n=[Cw({label:i(".gameModeSurvivalLabel"),description:i(".gameModeSurvivalDescription"),value:yg.SURVIVAL},1===e.length?{narrationSuffix:c(".narrationSuffixEnablesAchievements")}:{}),{label:i(".gameModeCreativeLabel"),description:i(".gameModeCreativeDescription"),value:yg.CREATIVE,narrationSuffix:c(".narrationSuffixDisablesAchievements")}];return(true)&&n.push(Cw({label:i(".gameModeAdventureLabel"),description:i(t?".gameModeAdventureTemplateDescription":".gameModeAdventureDescription"),value:yg.ADVENTURE},1===e.length?{narrationSuffix:c(".narrationSuffixEnablesAchievements")}:{})),n}),[i,c,u],[l,r]),f=(0,t.useNotifyMountComplete)();return e.createElement(UC,{title:i(".gameModeTitle"),gamepad:{index:2},disabled:m,options:p,onMountComplete:f,value:(0,t.useFacetMap)((e=>e.gameMode),[],[n]),onChange:(0,t.useFacetCallback)(((e,t)=>n=>{const a=e.gameMode;e.gameMode=n,u&&t.trackOptionChanged(vw.GameModeChanged,a,n)}),[u],[n,d])})}function Ow({worldSummary:n,onDuplicateWorld:a,onDeleteWorld:r,onExportWorld:l}){const{t:o}=Ii("CreateNewWorld.general"),i=bE(rp),c=(0,t.useFacetMap)((e=>i&&e),[i],[(0,t.useSharedFacet)(Bg)]),s=(0,t.useFacetMap)((e=>{var t,n;const a=null!==(t=null==e?void 0:e.fileSize)&&void 0!==t?t:"-",r=null!==(n=null==e?void 0:e.lastSaved)&&void 0!==n?n:"-";return o(".fileDetails",[a,r])}),[o],[n]),u=(0,t.useFacetMap)((e=>[o(".fileManagementTitle"),o(".fileManagement.narrationComponentTypeSectionHeader"),e].join(" . ")),[o],[s]),d=uw.useShowModal(),m=Li(),p=(0,e.useCallback)((()=>{null!=r&&(r(),m())}),[r,m]),f=(0,t.useSharedFacet)(el),g=(0,t.useFacetMap)((e=>LM(e.platform)),[],[f]);return e.createElement(Ps,{text:u},e.createElement(jC,{options:{index:5}},e.createElement(du,{compact:!0},e.createElement(Yc,{size:3}),e.createElement(pu,null,o(".fileManagementTitle")),e.createElement(Yc,{size:1}),e.createElement("div",{style:{flexDirection:"row"}},e.createElement(Pu,{variant:"secondary",gamepadIndex:0,onClick:a,inputLegend:o(".fileManagementDuplicateWorldLabel"),autofocus:!0,horizontal:!0,disabled:c},o(".fileManagementDuplicateWorldLabel")),e.createElement(YS.ButtonSpacing,null),e.createElement(Pu,{variant:"destructive",gamepadIndex:1,onClick:()=>d({deleteWorld:p,closeModal:m}),inputLegend:o(".fileManagementDeleteWorldLabel"),autofocus:!0,horizontal:!0,disabled:c},o(".fileManagementDeleteWorldLabel"))),e.createElement(t.Mount,{when:true},e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement("div",{style:{flexDirection:"row"}},e.createElement(Pu,{variant:"secondary",gamepadIndex:2,onClick:l,inputLegend:o(".fileManagementExportWorldLabel"),autofocus:!0,horizontal:!0,disabled:c},o(".fileManagementExportWorldLabel"))))),e.createElement(Yc,{size:1}),e.createElement(fu,null,s),e.createElement(Yc,{size:3}))))}ww.Wrapper=Tw,ww.DefaultFields=kw;const Aw=ww,Nw=n.p+"assets/trial-mode-art-40744.png",Rw=n.p+"assets/external-link-0e493.png";let Lw;function _w({context:t}){const{t:n}=Ii("TrialModeMessage"),a=LS(),r=jM(),l=(0,e.useContext)(Dv),o=t===Lw.FRIENDS_DRAWER,i=(0,e.useCallback)((()=>{a({button:"BuyMinecraft",screen:zw(t,l),details:{tab:t}}),r()}),[a,r,t,l]);return e.createElement(ys,{floating:!0,flexShrinkWrapper:!0},e.createElement(GE,{borderless:o,title:Bw(t,n),text:Ww(t,n),imgSrc:Nw,imgClass:Uw(t),buttons:[{text:n(".buyMinecraftButton"),onClick:i,variant:"primary",imgSrc:Rw,buttonTestId:"empty-state-buy-minecraft-button"}]}),e.createElement(Yc,{size:3}),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))}function Dw({context:t}){return e.createElement("div",{className:"RT2lF"},e.createElement(Yc,{size:4}),e.createElement(_w,{context:t}),e.createElement(Yc,{size:4}))}function Bw(e,t){switch(e){case Lw.REALMS:case Lw.SERVERS:case Lw.FRIENDS_DRAWER:case Lw.MULTIPLAYER_TAB:return t(".title");case Lw.ADVANCED_TAB:return t(".advancedTabTitle");case Lw.CHEATS_TAB:return t(".cheatsTabTitle");case Lw.RESOURCE_PACKS_TAB:return t(".resourcePacksTabTitle");case Lw.BEHAVIOR_PACKS_TAB:return t(".behaviorPacksTabTitle");case Lw.EXPERIMENTS_TAB:return t(".experimentsTabTitle");default:return"Translation missing"}}function Ww(e,t){switch(e){case Lw.REALMS:return t(".realmsMessage");case Lw.SERVERS:return t(".serversMessage");case Lw.FRIENDS_DRAWER:return t(".friendsDrawerMessage");case Lw.ADVANCED_TAB:return t(".advancedTabMessage");case Lw.MULTIPLAYER_TAB:return t(".multiplayerTabMessage");case Lw.CHEATS_TAB:return t(".cheatsTabMessage");case Lw.RESOURCE_PACKS_TAB:return t(".resourcePacksTabMessage");case Lw.BEHAVIOR_PACKS_TAB:return t(".behaviorPacksTabMessage");case Lw.EXPERIMENTS_TAB:return t(".experimentsTabMessage");default:return"Translation missing"}}function Uw(e){const n=gh({wide:8,narrow:6,width:256});return(0,t.useFacetMap)((t=>e===Lw.FRIENDS_DRAWER||t?"YXrdO":"IbV0D"),[e],[n])}function zw(e,t){switch(e){case Lw.ADVANCED_TAB:case Lw.BEHAVIOR_PACKS_TAB:case Lw.CHEATS_TAB:case Lw.EXPERIMENTS_TAB:case Lw.MULTIPLAYER_TAB:case Lw.RESOURCE_PACKS_TAB:return t===_v.CREATE?"CreateNewWorld":"EditWorld";case Lw.FRIENDS_DRAWER:case Lw.REALMS:case Lw.SERVERS:return"PlayScreen"}}function jw({cheatsData:n,disabled:a,gamepadIndex:r,isHardcoreMode:l}){const{t:o}=Tp("CreateNewWorld.cheats"),{t:i}=Tp("CreateNewWorld.cheats.narration"),c=(0,t.useFacetMap)(((e,t)=>t?1..toString():e.tickSpeed.toString()),[],[n,(0,t.useFacetWrap)(null!=l&&l)]),{narrateText:s}=Fs({interruptible:!1}),u=(0,t.useFacetCallback)((e=>t=>{e.tickSpeed=t}),[],[n]),d=(0,e.useCallback)(((e,t)=>{const n=e.match(/^[0-9]*$/g),a=parseInt(e)<=4096;return 0!==e.length&&n?a?Uu.ValidationResult.VALID:(s(i(".tickSpeedNotWithinRange")),t(4096..toString()),Uu.ValidationResult.INVALID):(s(i(".tickSpeedInvalidValue")),t(1..toString()),Uu.ValidationResult.INVALID)}),[s,i]);return e.createElement(nw.WithButton,{disabledNarrationSuffix:o(".settingDisabledHint"),buttonInputLegend:o(".tickSpeedReset"),buttonText:o(".tickSpeedReset"),disabled:a,buttonOnClick:()=>u(1..toString()),gamepadIndex:r,label:o(".tickSpeedLabel"),description:o(".tickSpeedDescription"),maxLength:4,value:c,onChange:u,onBlur:d,buttonNarrationHint:o(".narrationTickSpeedButtonNarrationHint"),isNumber:!0})}function Hw({cheatsData:n,disabled:a,gamepadIndex:r,isHardcoreMode:l}){const{t:o}=Tp("CreateNewWorld.cheats"),i=(0,e.useContext)(Dv)===_v.EDIT,c=(0,t.useSharedFacet)(fg),s=(0,t.useFacetCallback)(((e,t)=>n=>{i&&t.trackOptionChanged(vw.DaylightCycleChanged,e.daylightCycle,n),e.daylightCycle=n}),[i],[n,c]),u=(0,t.useFacetMap)(((e,t)=>t?Lm.NORMAL:e.daylightCycle),[],[n,(0,t.useFacetWrap)(null!=l&&l)]),d=[{label:o(".daylightCycleNormalLabel"),description:o(".daylightCycleNormalDescription"),value:Lm.NORMAL},{label:o(".daylightCycleAlwaysDayLabel"),description:o(".daylightCycleAlwaysDayDescription"),value:Lm.ALWAYS_DAY}];return i&&d.push({label:o(".daylightCycleLockTimeLabel"),description:o(".daylightCycleLockTimeDescription"),value:Lm.LOCK_TIME}),e.createElement(UC,{disabledNarrationSuffix:o(".settingDisabledHint"),onMountComplete:(0,t.useNotifyMountComplete)(),title:o(".daylightCycleTitle"),disabled:a,gamepad:{index:r},options:d,value:u,onChange:s})}function Vw({cheatsData:n,isLockedTemplate:a,achievementsDisabledMessages:r,isHardcoreMode:l}){const{t:o}=Tp("CreateNewWorld.cheats"),{t:i}=Tp("CreateNewWorld.all"),c=(0,e.useContext)(Dv)===_v.EDIT,s=(0,t.useSharedFacet)(fg),u=(0,t.useFacetMap)(((e,t,n)=>e||t||n),[],[a,(0,t.useSharedFacet)(Bg),l]),d=(0,t.useFacetCallback)(((e,t)=>n=>{c&&t.trackOptionChanged(vw.CheatsChanged,Number(e.cheatsEnabled),Number(n)),e.cheatsEnabled=n}),[c],[n,s]),m=(0,t.useFacetMap)(((e,t)=>!t&&e.cheatsEnabled),[],[n,l]);return e.createElement(iC,{title:o(".title"),description:o(".description"),disabled:u,gamepad:{index:0},value:m,onChange:d,onNarrationText:i(".narrationSuffixDisablesAchievements")+" . "+i(".narrationSuffixSettingsAvailable"),offNarrationText:(0,t.useFacetMap)((e=>0===e.length?i(".narrationSuffixEnablesAchievements"):void 0),[i],[r])})}function Gw({cheatsData:n,isLockedTemplate:a,isAchievementsDisabled:r,achievementsDisabledMessages:l,onUnlockTemplateSettings:o,isEditorWorld:i,isHardcoreMode:c}){const{t:s}=Tp("CreateNewWorld.cheats"),{t:u}=Tp("CreateNewWorldSideMenu"),d=bE(rp),m=(0,t.useSharedFacet)(Bg),p=!0===(0,t.useFacetUnwrap)((0,t.useSharedFacet)(Pm)),f=[{title:s(".inventoryTitle"),description:s(".inventoryDescription"),value:(0,t.useFacetMap)(((e,t)=>!t&&e.keepInventory),[],[n,c]),onChange:(0,t.useFacetCallback)((e=>t=>{e.keepInventory=t}),[],[n])},{title:s(".mobSpawningTitle"),description:s(".mobSpawningDescription"),value:(0,t.useFacetMap)(((e,t)=>!!t||e.mobSpawning),[],[n,c]),onChange:(0,t.useFacetCallback)((e=>t=>{e.mobSpawning=t}),[],[n])},{title:s(".mobGriefingTitle"),description:s(".mobGriefingDescription"),value:(0,t.useFacetMap)(((e,t)=>!!t||e.mobGriefing),[],[n,c]),onChange:(0,t.useFacetCallback)((e=>t=>{e.mobGriefing=t}),[],[n])},{title:s(".entitiesDropLootTitle"),description:s(".entitiesDropLootDescription"),value:(0,t.useFacetMap)(((e,t)=>!!t||e.entitiesDropLoot),[],[n,c]),onChange:(0,t.useFacetCallback)((e=>t=>{e.entitiesDropLoot=t}),[],[n])},{title:s(".weatherTitle"),description:s(".weatherDescription"),value:(0,t.useFacetMap)(((e,t)=>!!t||e.weather),[],[n,c]),onChange:(0,t.useFacetCallback)((e=>t=>{e.weather=t}),[],[n])},{title:s(".commandBlocksTitle"),description:s(".commandBlocksDescription"),value:(0,t.useFacetMap)(((e,t)=>!!t||e.commandBlocks),[],[n,c]),onChange:(0,t.useFacetCallback)((e=>t=>{e.commandBlocks=t}),[],[n])},{title:s(".educationTitle"),description:s(".educationDescription"),value:(0,t.useFacetMap)(((e,t)=>!t&&e.educationEdition),[],[n,c]),hidden:p,onChange:(0,t.useFacetCallback)((e=>t=>{e.educationEdition=t}),[],[n])}],g=(0,t.useFacetMap)(((e,t,n)=>!e.cheatsEnabled||t||n),[],[n,a,c]),E=(0,t.useFacetMap)((e=>e&&d),[d],[m]),h=!0===(0,t.useFacetUnwrap)(c)?KM.CHEATS_TAB:void 0;return e.createElement(t.DeferredMountProvider,null,e.createElement(Fl,{data:E},(d=>e.createElement(e.Fragment,null,d?e.createElement(Dw,{context:Lw.CHEATS_TAB}):e.createElement(qM,{isLockedTemplate:a,isAchievementsDisabled:r,achievementsDisabledMessages:l,narrationText:u(".cheatsTabLabel"),onUnlockTemplateSettings:o,isEditorWorld:i,hardcoreModeMessageTab:h},p?null:e.createElement(t.DeferredMount,null,e.createElement(Vw,{cheatsData:n,isLockedTemplate:a,achievementsDisabledMessages:l,isHardcoreMode:c})),e.createElement(Ps,{text:p?[s(".settingsTitle.edu"),s(".settingsDescription.1"),s(".settingsDescription.2")].join(" . "):[s(".settingsTitle"),s(".narrationComponentTypeSectionHeader")].join(" . ")},p?e.createElement(t.DeferredMount,null,e.createElement(du,{compact:!0},e.createElement(Yc,{size:6}),e.createElement(zs,{type:"sectionHeader"},s(".settingsTitle")),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionShort",variant:"dimmer"},s(".settingsDescription.1")),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"captionShort",variant:"dimmer"},s(".settingsDescription.2")),e.createElement(Yc,{size:1}))):e.createElement(t.DeferredMount,null,e.createElement(qS,{title:s(".settingsTitle")})),e.createElement(t.DeferredMountWithCallback,null,e.createElement(Hw,{cheatsData:n,disabled:g,gamepadIndex:1,isHardcoreMode:c})),f.map(((n,a)=>n.hidden?null:e.createElement(t.DeferredMount,{key:n.title},e.createElement(iC,{disabledNarrationSuffix:s(".settingDisabledHint"),title:n.title,description:n.description,gamepad:{index:a+2},disabled:g,value:n.value,onChange:n.onChange})))),e.createElement(t.DeferredMount,null,e.createElement(jw,{disabled:g,gamepadIndex:f.length+2,cheatsData:n,isHardcoreMode:c}))))))))}!function(e){e.REALMS="RealmsTab",e.FRIENDS_DRAWER="FriendsDrawer",e.SERVERS="ServersTab",e.ADVANCED_TAB="AdvancedTab",e.MULTIPLAYER_TAB="MultiplayerTab",e.CHEATS_TAB="CheatsTab",e.RESOURCE_PACKS_TAB="ResourcePacksTab",e.BEHAVIOR_PACKS_TAB="BehaviorPacksTab",e.EXPERIMENTS_TAB="ExperimentsTab"}(Lw||(Lw={}));const $w=n.p+"assets/under-construction-art-cropped-cd6d3.png",Kw="DvNo3",Xw="DlMUa";function Yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yw(Object(n),!0).forEach((function(t){Qw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qw(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jw(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zw({experimentalFeature:n,gamepadIndex:a,disabled:r,achievementsDisabledMessages:l,areAllTogglesDisabled:o}){const{gt:i}=function(){const{translate:t,formatDate:n}=(0,e.useContext)(dl);return(0,e.useMemo)((()=>({f:{formatDate:n},gt:(e,n)=>{var a;return null!==(a=t(e,n))&&void 0!==a?a:e}})),[t,n])}(),{t:c}=Ii("CreateNewWorld.all"),s=(0,t.useFacetMap)((e=>e.id),[],[n]),u=(0,t.useFacetUnwrap)(s),d=(0,t.useFacetMap)((e=>e.title),[],[n]),m=(0,t.useFacetUnwrap)(d),p=(0,t.useFacetMap)((e=>e.description),[],[n]),f=(0,t.useFacetUnwrap)(p),g=(0,t.useFacetMap)((e=>e.isEnabled),[],[n]),E=(0,t.useFacetMap)(((e,t)=>e||t.isTogglePermanentlyDisabled),[],[(0,t.useFacetWrap)(r),n]),h=(0,t.useFacetCallback)(((e,t)=>n=>{n&&t?Hm.set({userTriedToActivateToggle:!0,doSetToggleValue:()=>e.isEnabled=n,userHasAcceptedBetaFeatures:!1}):e.isEnabled=n}),[],[n,o]),b=c(".narrationSuffixDisablesAchievements"),v=(0,t.useFacetMap)((e=>0===e.length?c(".narrationSuffixEnablesAchievements"):void 0),[c],[l]);return null!=u?e.createElement(iC,{title:m!==t.NO_VALUE?i(m):"",description:f!==t.NO_VALUE?i(f):"",gamepad:{index:a},value:g,disabled:E,onChange:h,onNarrationText:b,offNarrationText:v}):null}function ek({item:n,index:a,achievementsDisabledMessages:r,areAllTogglesDisabled:l}){const{t:o}=Ii("CreateNewWorld.experimentalFeatures"),i=(0,t.useFacetMap)((({description:e,numOfSections:t,title:n})=>{const r=t>1?o(".sectionEnumeration",[`${a+1}`,`${t}`]):null;return[n,o(".narrationComponentTypeSectionHeader"),r,e].filter((e=>e)).join(" . ")}),[o,a],[n]),c=(0,t.useFacetMap)((({title:e})=>e),[],[n]),s=(0,t.useFacetMap)((({description:e})=>e),[],[n]),u=(0,t.useFacetMap)((({disabled:e})=>e),[],[n]),d=(0,t.useFacetMap)((({features:e})=>e),[],[n]);return e.createElement(Ps,{text:i},e.createElement(Is,{options:{index:a}},e.createElement(t.DeferredMount,null,e.createElement(qS,{title:c,description:s})),e.createElement(t.Map,{array:d},((n,a)=>e.createElement(t.DeferredMount,null,e.createElement(Zw,{experimentalFeature:n,gamepadIndex:a,disabled:u,achievementsDisabledMessages:r,areAllTogglesDisabled:l}))))))}const tk=[{title:".gameplayTitle",description:".gameplayDescription",featuresFilter:e=>e.category===_m.GAMEPLAY},{title:".addOnCreatorsTitle",description:".addOnCreatorsDescription",featuresFilter:e=>e.category===_m.ADD_ON_CREATORS},{title:".internalTestsTitle",description:".internalTestsDescription",featuresFilter:e=>e.category===_m.INTERNAL_TESTS}],nk=()=>{const{t:n}=Ii("CreateNewWorld.experimentalFeatures"),a=gh({wide:8,narrow:6,width:260}),r=(0,t.useFacetMap)((e=>e?Kw:Xw),[],[a]);return e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(ys,{gamepadIndex:0,floating:!0},e.createElement(GE,{gamepadIndex:0,title:n(".underConstruction.title"),imgSrc:$w,imgClass:r})))};function ak({experimentsData:n,isLockedTemplate:a,isAchievementsDisabled:r,achievementsDisabledMessages:l,onUnlockTemplateSettings:o,isEditorWorld:i}){const c=(0,e.useContext)(Dv)===_v.EDIT,{t:s}=Ii("CreateNewWorld.experimentalFeatures"),{t:u}=Ii("CreateNewWorldSideMenu"),d=bE(rp),m=(0,t.useSharedFacet)(Bg),p=(0,t.useFacetMemo)(((e,t,n)=>tk.map((t=>{let{featuresFilter:n}=t;return qw(qw({},Jw(t,["featuresFilter"])),{},{features:gM(e,n)})})).filter((({features:e})=>e.length>0)).map(((e,a,{length:r})=>{let{title:l,description:o}=e;return qw(qw({},Jw(e,["title","description"])),{},{description:s(o),disabled:t||n,numOfSections:r,title:s(l)})}))),[s],[n,a,m]),f=(0,t.useFacetMap)((e=>e.every((e=>!e.isEnabled))),[],[n]),g=(0,t.useFacetMap)((e=>e&&d?"trial-mode":"tab-details"),[c,d],[m]);return e.createElement(t.DeferredMountProvider,null,e.createElement(Fl,{data:g},(n=>{switch(n){case"trial-mode":return e.createElement(Dw,{context:Lw.EXPERIMENTS_TAB});case"under-construction":return e.createElement(nk,null);default:return e.createElement(qM,{isLockedTemplate:a,isAchievementsDisabled:r,achievementsDisabledMessages:l,experimentsWarningEnabled:!0,narrationText:u(".experimentalFeaturesTabLabel"),onUnlockTemplateSettings:o,isEditorWorld:i},e.createElement(t.Map,{array:p},((t,n)=>e.createElement(ek,{item:t,index:n,achievementsDisabledMessages:l,areAllTogglesDisabled:f}))))}})))}const rk="cnw-bfw-cancel";function lk({experimentsData:n}){const{t:a}=Ii("CreateNewWorld.experimentalFeatures"),r=(0,t.useFacetUnwrap)(Hm),l=r!==t.NO_VALUE&&r.userTriedToActivateToggle,o=(0,t.useFacetMap)((e=>e.every((e=>!e.isEnabled))),[],[n]),i=(0,t.useFacetMap)((e=>l&&e),[l],[o]),c=()=>{Hm.set({userTriedToActivateToggle:!1,doSetToggleValue:()=>{},userHasAcceptedBetaFeatures:!1})},s=r!==t.NO_VALUE?r.doSetToggleValue:()=>{},u=a(".activateExperimentsConfirmationDescriptionPart1"),d=a(".activateExperimentsConfirmationDescriptionPart2");return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:i},e.createElement(Ld,{defaultFocusAlias:rk},e.createElement(Ld.Header,{onClose:c},a(".activateExperimentsConfirmationTitle")),e.createElement(Ld.Content,null,e.createElement(Ld.Paragraphs,{narrationText:`${u} ${d}`,spaceBetweenParagraphs:5,gamepadIndex:0},e.createElement(zs,{type:"captionLong"},u),e.createElement(zs,{type:"captionLong"},d))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{variant:"primary",gamepadIndex:0,gamepadAlias:rk,inputLegend:a(".activateExperimentsConfirmationCancelInputLegend"),onClick:c},a(".activateExperimentsConfirmationCancel")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,inputLegend:a(".activateExperimentsConfirmationConfirmInputLegend"),onClick:()=>{s(),Hm.set({userTriedToActivateToggle:!1,doSetToggleValue:()=>{},userHasAcceptedBetaFeatures:!0})}},a(".activateExperimentsConfirm"))))))}const ok="vanilla.editor.generatorTypeDropdown";let ik,ck;var sk,uk,dk,mk,pk,fk,gk,Ek,hk,bk,vk,Fk,yk,Sk,Ck,Mk,wk,kk,Tk,xk,Ik,Pk,Ok,Ak,Nk,Rk,Lk,_k,Dk,Bk;let Wk;var Uk,zk,jk;let Hk,Vk,Gk,$k,Kk,Xk,Yk,qk,Qk,Jk,Zk,eT;!function(e){e.ToolPane="Editor.Drawer.ToolPane",e.Logging="Editor.Drawer.Log",e.GlobalPane="Editor.Drawer.GlobalPane",e.StructureDetailPane="Editor.Drawer.StructureDetailPane"}(ik||(ik={})),function(e){e.WelcomePanel="EditorUI.WelcomePanel"}(ck||(ck={})),(jk=sk||(sk={})).NoArgsAction="NoArgsAction",jk.MouseRayCastAction="MouseRayCastAction",function(e){e[e.Keyboard=1]="Keyboard",e[e.Mouse=2]="Mouse"}(uk||(uk={})),(zk=dk||(dk={}))[zk.Unused=0]="Unused",zk[zk.None=1]="None",zk[zk.Alt=2]="Alt",zk[zk.Control=4]="Control",zk[zk.Shift=8]="Shift",zk[zk.Any=15]="Any",function(e){e[e.Press=1]="Press",e[e.Release=2]="Release"}(mk||(mk={})),function(e){e[e.Button=1]="Button",e[e.Wheel=2]="Wheel",e[e.Drag=3]="Drag"}(pk||(pk={})),function(e){e[e.LeftButton=1]="LeftButton",e[e.MiddleButton=2]="MiddleButton",e[e.RightButton=3]="RightButton",e[e.Wheel=4]="Wheel"}(fk||(fk={})),function(e){e[e.ButtonDown=1]="ButtonDown",e[e.ButtonUp=2]="ButtonUp",e[e.WheelIn=3]="WheelIn",e[e.WheelOut=4]="WheelOut",e[e.DragStart=5]="DragStart",e[e.Drag=6]="Drag",e[e.DragEnd=7]="DragEnd"}(gk||(gk={})),function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.KEY_0=48]="KEY_0",e[e.KEY_1=49]="KEY_1",e[e.KEY_2=50]="KEY_2",e[e.KEY_3=51]="KEY_3",e[e.KEY_4=52]="KEY_4",e[e.KEY_5=53]="KEY_5",e[e.KEY_6=54]="KEY_6",e[e.KEY_7=55]="KEY_7",e[e.KEY_8=56]="KEY_8",e[e.KEY_9=57]="KEY_9",e[e.KEY_A=65]="KEY_A",e[e.KEY_B=66]="KEY_B",e[e.KEY_C=67]="KEY_C",e[e.KEY_D=68]="KEY_D",e[e.KEY_E=69]="KEY_E",e[e.KEY_F=70]="KEY_F",e[e.KEY_G=71]="KEY_G",e[e.KEY_H=72]="KEY_H",e[e.KEY_I=73]="KEY_I",e[e.KEY_J=74]="KEY_J",e[e.KEY_K=75]="KEY_K",e[e.KEY_L=76]="KEY_L",e[e.KEY_M=77]="KEY_M",e[e.KEY_N=78]="KEY_N",e[e.KEY_O=79]="KEY_O",e[e.KEY_P=80]="KEY_P",e[e.KEY_Q=81]="KEY_Q",e[e.KEY_R=82]="KEY_R",e[e.KEY_S=83]="KEY_S",e[e.KEY_T=84]="KEY_T",e[e.KEY_U=85]="KEY_U",e[e.KEY_V=86]="KEY_V",e[e.KEY_W=87]="KEY_W",e[e.KEY_X=88]="KEY_X",e[e.KEY_Y=89]="KEY_Y",e[e.KEY_Z=90]="KEY_Z",e[e.NUMPAD_0=96]="NUMPAD_0",e[e.NUMPAD_1=97]="NUMPAD_1",e[e.NUMPAD_2=98]="NUMPAD_2",e[e.NUMPAD_3=99]="NUMPAD_3",e[e.NUMPAD_4=100]="NUMPAD_4",e[e.NUMPAD_5=101]="NUMPAD_5",e[e.NUMPAD_6=102]="NUMPAD_6",e[e.NUMPAD_7=103]="NUMPAD_7",e[e.NUMPAD_8=104]="NUMPAD_8",e[e.NUMPAD_9=105]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=106]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=107]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=108]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=109]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=110]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=111]="NUMPAD_DIVIDE",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.BACK_QUOTE=192]="BACK_QUOTE",e[e.BRACKET_OPEN=219]="BRACKET_OPEN",e[e.BACK_SLASH=220]="BACK_SLASH",e[e.BRACKET_CLOSE=221]="BRACKET_CLOSE",e[e.QUOTE=222]="QUOTE"}(Ek||(Ek={})),function(e){e[e.ActionExecute=1]="ActionExecute"}(hk||(hk={})),function(e){e[e.UpdatePropertyPane=1]="UpdatePropertyPane",e[e.PropertyPaneVisibilityChanged=3]="PropertyPaneVisibilityChanged",e[e.PropertyPaneCollapsedStateChanged=4]="PropertyPaneCollapsedStateChanged",e[e.UpdateObservableValue=5]="UpdateObservableValue",e[e.PropertyItemClicked=6]="PropertyItemClicked"}(bk||(bk={})),function(e){e[e.OnInitialize=1]="OnInitialize"}(vk||(vk={})),function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(Fk||(Fk={})),function(e){e.Undo="editor:actionBarItem:undo",e.Redo="editor:actionBarItem:redo"}(yk||(yk={})),(Uk=Sk||(Sk={}))[Uk.Create=0]="Create",Uk[Uk.Update=1]="Update",Uk[Uk.Destroy=2]="Destroy",Uk[Uk.Custom=3]="Custom",Uk[Uk.Passthrough=4]="Passthrough",function(e){e.ServerActionEvents="Editor::ServerActionEvents",e.ServerInputBindingEvents="Editor::ServerInputBindingEvents",e.ServerUXEvents="Editor::ServerUXEvents"}(Ck||(Ck={})),function(e){e.ClientActionEvents="Editor::ClientActionEvents",e.ClientUXEvents="Editor::ClientUXEvents",e.ClientLifecycleEvents="Editor::ClientLifecycle"}(Mk||(Mk={})),function(e){e[e.Register=1]="Register",e[e.Unregister=2]="Unregister",e[e.UpdateEnablement=3]="UpdateEnablement"}(wk||(wk={})),function(e){e[e.RegisterMouseBinding=2]="RegisterMouseBinding",e[e.Unregister=3]="Unregister"}(kk||(kk={})),function(e){e[e.UpdatePropertyPane=1]="UpdatePropertyPane",e[e.DestroyPropertyPane=2]="DestroyPropertyPane",e[e.UpdateMenu=3]="UpdateMenu",e[e.DestroyMenu=4]="DestroyMenu",e[e.UpdateStatusBarItem=5]="UpdateStatusBarItem",e[e.DestroyStatusBarItem=6]="DestroyStatusBarItem",e[e.UpdateModalToolOption=7]="UpdateModalToolOption",e[e.DestroyModalToolOption=8]="DestroyModalToolOption",e[e.BindActionToControl=11]="BindActionToControl",e[e.RemoveActionBindingFromControl=12]="RemoveActionBindingFromControl",e[e.UpdatePropertyItem=13]="UpdatePropertyItem",e[e.DestroyPropertyItem=14]="DestroyPropertyItem",e[e.OnNavigateFromEditor=15]="OnNavigateFromEditor",e[e.UpdateControlDemoVisibility_deprecated=16]="UpdateControlDemoVisibility_deprecated",e[e.UpdateWelcomePanelVisibility_deprecated=17]="UpdateWelcomePanelVisibility_deprecated",e[e.UpdateClientPanelVisibility=18]="UpdateClientPanelVisibility"}(Tk||(Tk={})),function(e){e[e.Right=0]="Right",e[e.Left=1]="Left"}(xk||(xk={})),function(e){e.Number="editorUI:Number",e.String="editorUI:String",e.Boolean="editorUI:Boolean",e.ComboBox="editorUI:ComboBox",e.ColorPicker="editorUI:ColorPicker",e.Dropdown="editorUI:Dropdown",e.Divider="editorUI:Divider",e.SubPane="editorUI:SubPane",e.Text="editorUI:Text",e.Button="editorUI:Button",e.Vector3="editorUI:Vector3",e.Image="editorUI:Image",e.Table="editorUI:Table",e.ToggleGroup="editorUI:ToggleGroup",e.BlockList="editorUI:BlockList"}(Ik||(Ik={})),function(e){e[e.InputField=0]="InputField",e[e.InputFieldAndSlider=1]="InputFieldAndSlider"}(Pk||(Pk={})),function(e){e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary",e[e.Confirmation=2]="Confirmation",e[e.Destructive=3]="Destructive"}(Ok||(Ok={})),function(e){e[e.Custom=0]="Custom",e[e.Block=1]="Block",e[e.Entity=2]="Entity"}(Ak||(Ak={})),function(e){e[e.Default=0]="Default",e[e.Inline=1]="Inline",e[e.Expanded=2]="Expanded"}(Nk||(Nk={})),function(e){e[e.Checkbox=0]="Checkbox",e[e.ToggleSwitch=1]="ToggleSwitch"}(Rk||(Rk={})),function(e){e[e.Default=0]="Default",e[e.Block=1]="Block",e[e.Icon=2]="Icon"}(Lk||(Lk={})),function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(_k||(_k={})),function(e){e[e.Documentation=1]="Documentation",e[e.Feedback=2]="Feedback",e[e.PauseScreen=3]="PauseScreen"}(Dk||(Dk={})),function(e){e[e.ControlPanel=1]="ControlPanel",e[e.WelcomePanel=2]="WelcomePanel",e[e.LogPanel=3]="LogPanel"}(Bk||(Bk={})),function(e){e.TOGGLE_MODE="event.toggleMode",e.FREE_LOOK_BEGIN="event.freeLook.begin",e.FREE_LOOK_END="event.freeLook.end",e.OPEN_CONSOLE="event.openConsole",e.HOTBAR_1="event.hotbar1",e.HOTBAR_2="event.hotbar2",e.HOTBAR_3="event.hotbar3",e.HOTBAR_4="event.hotbar4",e.HOTBAR_5="event.hotbar5",e.HOTBAR_6="event.hotbar6",e.HOTBAR_7="event.hotbar7",e.HOTBAR_8="event.hotbar8",e.HOTBAR_9="event.hotbar9"}(Wk||(Wk={})),Ek.UNDEFINED,dk.Unused,function(e){e[e.Info=0]="Info",e[e.Warning=1]="Warning",e[e.Error=2]="Error",e[e.Debug=3]="Debug"}(Hk||(Hk={})),function(e){e[e.None=0]="None",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=4]="Error",e[e.Debug=8]="Debug",e[e.All=-1]="All"}(Vk||(Vk={})),function(e){e[e.Player=0]="Player",e[e.Global=1]="Global"}(Gk||(Gk={})),function(e){e.GLOBAL_EDITOR="global.editor",e.GLOBAL_TOOLMODE="global.toolMode",e.LOCAL_TOOLMODE_VIEWPORT="local.toolMode.viewport"}($k||($k={})),function(e){e[e.Width=30]="Width"}(Kk||(Kk={})),function(e){e[e.Disabled=0]="Disabled",e[e.Tool=1]="Tool",e[e.Crosshair=2]="Crosshair"}(Xk||(Xk={})),function(e){e[e.None=0]="None",e[e.Rectangle=1]="Rectangle",e[e.Square=2]="Square"}(Yk||(Yk={})),function(e){e[e.None=0]="None",e[e.Create=1]="Create",e[e.Move=2]="Move",e[e.Resize=3]="Resize",e[e.Rotate=4]="Rotate",e[e.Stroke=5]="Stroke",e[e.Count=6]="Count"}(qk||(qk={})),function(e){e.Dark="minecraft:editor:theme:dark",e.Light="minecraft:editor:theme:light",e.Redstone="minecraft:editor:theme:redstone",e.HighContrast="minecraft:editor:theme:high_contrast"}(Qk||(Qk={})),function(e){e[e.Top=0]="Top",e[e.TopStart=1]="TopStart",e[e.TopEnd=2]="TopEnd",e[e.RightStart=3]="RightStart",e[e.Right=4]="Right",e[e.RightEnd=5]="RightEnd",e[e.Bottom=6]="Bottom",e[e.BottomStart=7]="BottomStart",e[e.BottomEnd=8]="BottomEnd",e[e.LeftStart=9]="LeftStart",e[e.Left=10]="Left",e[e.LeftEnd=11]="LeftEnd"}(Jk||(Jk={})),function(e){e.Core="Core",e.Experimental="Experimental",e.Extension="Extension"}(Zk||(Zk={})),function(e){e.Reload="editor:actionItem:reload",e.CrosshairMode="editor:actionItem:crosshairMode",e.TriggerError="editor:actionItem:triggerError",e.KeyboardSettings="editor:actionItem:keyboardSettings",e.StructurePanel="editor:actionBarItem:structurePanel",e.AttachDebugger="editor:actionBarItem:attachDebugger",e.HotbarsPanel="editor:actionBarItem:manageHotbars"}(eT||(eT={}));const tT=(0,t.sharedFacet)("vanilla.editor");let nT;(0,t.sharedSelector)((e=>e.editorMode),[tT]),(0,t.sharedSelector)((e=>e.editorMode==Xk.Tool),[tT]),(0,t.sharedSelector)((e=>e.canShowModeShortcutToast),[tT]),function(e){e[e.Simple=0]="Simple",e[e.Probability=1]="Probability"}(nT||(nT={}));const aT=(0,t.sharedFacet)("vanilla.editorBlockPalette");(0,t.sharedSelector)((e=>e.paletteList),[aT]),(0,t.sharedSelector)((e=>e.activePaletteSelectedItemIndex),[aT]),(0,t.sharedSelector)((e=>e.activePalette),[aT]);const rT=(0,t.sharedFacet)("vanilla.editorInput"),lT=((0,t.sharedSelector)((e=>{const t={};for(const n in e.keyBindings){const a=e.keyBindings[n];if(null!=a){!(n in t)&&(t[n]={});const e=t[n];for(const t in a){const n=a[t];n.key!==Ek.UNDEFINED&&(!(n.key in e)&&(e[n.key]=[]),e[n.key].push({event:null!=n.actionId?n.actionId:t,modifier:n.modifier,inputType:n.inputType}))}}}return t}),[rT]),(0,t.sharedSelector)((e=>{const t={};return e.mouseBindings.forEach((e=>{!(e.contextId in t)&&(t[e.contextId]={});const n=t[e.contextId];!(e.actionType in n)&&(n[e.actionType]=[]),n[e.actionType].push(e.eventId)})),t}),[rT]),(0,t.sharedSelector)((e=>e.keyBindings),[rT]),(0,t.sharedFacet)("vanilla.editorInputState")),oT=((0,t.sharedSelector)((e=>e.isViewportFocused),[lT]),(0,t.sharedFacet)("vanilla.editorLogging")),iT=((0,t.sharedSelector)((e=>e.messageList),[oT]),(0,t.sharedSelector)((e=>e.tagList),[oT]),(0,t.sharedSelector)((e=>e.logLevelFilter),[oT]),(0,t.sharedSelector)((e=>e.tagFilter),[oT]),(0,t.sharedFacet)("vanilla.editorProjectConstants"));function cT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function sT(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,t.sharedSelector)((e=>e.blockInfoMap),[iT]),(0,t.sharedSelector)((e=>e.blockNameList),[iT]),(0,t.sharedSelector)((e=>e.atlasInfo),[iT]);const uT=(0,t.sharedFacet)("vanilla.editorScripting");let dT;(0,t.sharedSelector)((e=>({dispatch:(t,n,a,r)=>{e.dispatchDataStoreEvent(t,n,a,null!=r?function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cT(Object(n),!0).forEach((function(t){sT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({__Type:"DataStorePayloadDescription"},e)}(r):r)}})),[uT]),function(e){e.TitleBarBackground="TitleBarBackground",e.PanelBackground="PanelBackground",e.HeaderBackground="HeaderBackground",e.PanelBorder="PanelBorder",e.ElementBorder="ElementBorder",e.PrimaryActive="PrimaryActive",e.PrimaryDefault="PrimaryDefault",e.PrimaryMute="PrimaryMute",e.PrimaryDisable="PrimaryDisable",e.PrimaryBackground1="PrimaryBackground1",e.PrimaryBackground2="PrimaryBackground2",e.PrimaryBackground3="PrimaryBackground3",e.PrimaryBackground4="PrimaryBackground4",e.SecondaryActive="SecondaryActive",e.SecondaryDefault="SecondaryDefault",e.SecondaryMute="SecondaryMute",e.SecondaryDisable="SecondaryDisable",e.SecondaryBackground1="SecondaryBackground1",e.SecondaryBackground2="SecondaryBackground2",e.SecondaryBackground3="SecondaryBackground3",e.DropDown1="DropDown1",e.DropDown2="DropDown2",e.DropDown3="DropDown3",e.ScrollBar="ScrollBar",e.FocusOutline="FocusOutline",e.Warning="Warning",e.Error="Error",e.HotbarOutline="HotbarOutline",e.ViewportOutline="ViewportOutline",e.DisableBackground="DisableBackground",e.DisableOutline="DisableOutline",e.DisableText="DisableText",e.DisableFill="DisableFill",e.Coordinate1="Coordinate1",e.Coordinate2="Coordinate2",e.Coordinate3="Coordinate3",e.ConfirmFill="ConfirmFill",e.Confirm1="Confirm1",e.Confirm2="Confirm2",e.Confirm3="Confirm3",e.DestroyFill="DestroyFill",e.Destroy1="Destroy1",e.Destroy2="Destroy2",e.Destroy3="Destroy3",e.InfoFill="InfoFill",e.Info1="Info1",e.Info2="Info2",e.Info3="Info3",e.Caret="Caret"}(dT||(dT={}));const mT=(0,t.sharedFacet)("vanilla.editorSettings",{fontZoom:125,currentThemeId:Qk.Dark,themesMap:{},isEditorMode:!1,selectedTool:"",selectedOperator:qk.Create,addNewTheme:()=>{},updateThemeColor:()=>{},deleteTheme:()=>{},getKey:()=>"",setKey:()=>{},setKeys:()=>{},hasKey:()=>!1});(0,t.sharedSelector)((e=>e.isEditorMode),[mT]),(0,t.sharedSelector)((e=>e.selectedTool),[mT]),(0,t.sharedSelector)((e=>e.fontZoom),[mT]),(0,t.sharedFacet)("vanilla.editorStructure");function pT(e,t,n,a,r){const l=fT(e,n),o=Math.round(l/100*(a.length-1)),i=Math.max(Math.min(o,a.length-1),0);i!==t&&r(a[i])}function fT(e,t){const n=(e-t.left)/t.width*100;return Math.min(Math.max(n,0),100)}function gT([e,t],n){const a=null!=n?n:1,r=Math.floor((t-e)/a);return jh()((t=>t*a+e),r+1)}function ET(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function hT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ET(Object(n),!0).forEach((function(t){bT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bT(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vT=()=>{};function FT({gamepad:n,label:a,onChange:r,value:l,disabled:o=!1,onFocusChanged:i=vT,onHoverAudioEvent:c,onHoverExitAudioEvent:s,range:u=[0,100],showSteps:d=!1,unit:m="",thumbRole:p,trackRole:f,trackOverlayRole:g,step:E}){const h=(0,t.useFacetWrap)(o),b=(0,t.useFacetWrap)(a),v=(0,t.useFacetWrap)(u),F=(0,t.useFacetWrap)(d),y=(0,t.useFacetWrap)(m),S=(0,t.useFacetWrap)(l),C=(0,t.useFacetWrap)(E),{t:M}=Ii("BaseSlider"),w=(0,t.useFacetMap)(((e,t)=>[M(".minValueIs"),e[0].toString(),...null!=t?[t]:[],M(".maxValueIs"),e[1].toString(),...null!=t?[t]:[]].join(" . ")),[M],[v,y]),k=(0,t.useFacetMap)(gT,[],[v,C]),T=(0,t.useFacetMap)(((e,t)=>e.reduce(((n,a,r)=>Math.abs(a-t)<Math.abs(e[n]-t)?r:n),0)),[],[k,S]);return e.createElement(Ps,{text:w},e.createElement(yT,{label:b,showSteps:F,onFocusChanged:i,disabled:h,onHoverAudioEvent:c,onHoverExitAudioEvent:s,gamepad:n,selectedValueIndex:T,values:k,onChange:r,unit:y,thumbRole:p,trackRole:f,trackOverlayRole:g}))}const yT=({gamepad:n,label:a,onChange:r,selectedValueIndex:l,values:o,disabled:i,onFocusChanged:c=vT,onHoverAudioEvent:s,onHoverExitAudioEvent:u,showSteps:d,unit:m,thumbRole:p="secondary",trackRole:f="neutral50",trackOverlayRole:g="primary"})=>{const{t:E}=Ii("BaseSlider"),h=Jn(),[b,v]=(0,t.useFacetState)(!1),{narrateText:F,preventNarrateText:y}=Fs(),{narrateById:S,preventNarrateById:C}=Qi(),M=(0,e.useCallback)(((e,t,n,a)=>[n?E(".currentValue"):"",e,t,null!=a?a:""].join(" . ")),[E]),w=(0,t.useFacetCallback)(((e,t,n)=>()=>M(n[t],e,!0)),[M],[m,l,o]),k=ec(w),T=(0,t.useFacetCallback)(((e,t)=>n=>{y(),setTimeout((()=>F(M(n,e,!1,t))),0)}),[M,F,y],[m,a]),x=(0,t.useFacetUnwrap)(l),I=x!=t.NO_VALUE?x:0,P=(0,t.useFacetUnwrap)(o),O=P!=t.NO_VALUE?P:[],A=(0,t.useFacetCallback)((e=>t=>{e||(r(t),T(t))}),[r,T],[i]),{trackClick:N,sliderRef:R,trackOverlayRef:L,thumbRef:D,onDrag:B,isDragging:W}=function(t,n,a){const[r,l]=(0,e.useState)(!1),o=(0,e.useRef)(null),i=(0,e.useRef)(null),c=(0,e.useRef)(null),s=(0,e.useRef)(t);s.current=t;const u=(0,e.useRef)(n);u.current=n;const d=(0,e.useRef)(a);d.current=a;const m=(0,e.useRef)(null),p=(0,e.useCallback)((e=>e.preventDefault()),[]),f=(0,e.useCallback)(((e,t)=>{if(r&&o.current&&m.current&&i.current&&"number"==typeof s.current){e.stopPropagation(),pT(t,s.current,m.current,d.current,u.current);const n=fT(t,m.current);o.current.style.clipPath=`inset(0 ${100-n}% 0 0)`,i.current.style.left=`${n}%`}}),[r,u,s,m,d]),g=(0,e.useCallback)((e=>{f(e,e.clientX)}),[f]),E=(0,e.useCallback)((e=>{f(e,e.touches[0].clientX)}),[f]),h=(0,e.useCallback)((()=>l(!1)),[l]),b=(0,e.useCallback)((()=>l(!1)),[l]),v=(0,e.useCallback)((()=>{l(!0),c.current&&(m.current=c.current.getBoundingClientRect())}),[]);return(0,e.useLayoutEffect)((()=>{const e=()=>{window.removeEventListener("mousemove",g),window.removeEventListener("touchmove",E),window.removeEventListener("mouseup",h),window.removeEventListener("touchend",b)};return r?(window.addEventListener("mousemove",g),window.addEventListener("touchmove",E),window.addEventListener("mouseup",h),window.addEventListener("touchend",b)):e(),e}),[r,h,g,p,E,b]),(0,e.useLayoutEffect)((()=>{if(!r&&o.current&&i.current){const e=Math.max(Math.min(t,d.current.length-1),0)/(d.current.length-1)*100;o.current.style.clipPath=`inset(0 ${100-e}% 0 0)`,i.current.style.left=`${e}%`}}),[r,t,d,i,o]),{trackClick:e=>{e.stopPropagation(),c.current&&"number"==typeof t&&pT(e.clientX,t,c.current.getBoundingClientRect(),a,n)},sliderRef:c,trackOverlayRef:o,thumbRef:i,onDrag:v,isDragging:r}}(I,A,O),U=(0,t.useFacetCallback)(((e,t,n)=>()=>{if(n||e===t.length-1)return!1;const a=e+1;return setTimeout((()=>T(t[a])),0),r(t[a]),!0}),[T,r],[l,o,i]),z=(0,t.useFacetCallback)(((e,t,n)=>()=>{if(n||0===e)return!1;const a=e-1;return setTimeout((()=>T(t[a])),0),r(t[a]),!0}),[T,r],[l,o,i]),{isFocused:j,onFocus:H}=Gi(hT(hT({},n),{},{onFocusChanged:c,onRight:()=>{const e=U();return e!=t.NO_VALUE&&e},onLeft:()=>{const e=z();return e!=t.NO_VALUE&&e}}),vT,R);(0,t.useFacetEffect)((e=>{e?setTimeout((()=>S(k)),0):C()}),[k,S,C],[j]);const V=gr(g),G=gr(f),$=gr(p),K=Fr(),X=hr(p),Y=(0,t.useFacetCallback)((e=>()=>{if(e)return;v(!0);const t=null!=s?s:X.hover;null!=t&&h(t),H(_.PointerInput)}),[v,s,h,H,X],[i]),q=(0,e.useCallback)((()=>{v(!1);const e=null!=u?u:X.hoverExit;null!=e&&h(e)}),[u,h,v,X]),Q=(0,t.useFacetMap)((e=>Or()("xLfkT",$.background.interactive,{[K.hovered]:W||e})),[W,K.hovered,$.background.interactive],[b]),J=(0,t.useFacetMap)((e=>Or()("kgOja",{[K.disabled]:e})),[K.disabled],[i]),Z=Ki();return e.createElement("fast-div",{className:J,ref:R},e.createElement("div",{className:Or()("VY9jR",G.border.interactive,G.background.interactive),onClick:N},e.createElement(hc,{role:f}),e.createElement(ST,{values:O,show:d,onClick:N,stepClassName:G.border.interactive})),e.createElement("div",{className:Or()("a8As_",V.border.interactive,V.background.interactive),ref:L,onClick:N},e.createElement(hc,{role:g}),e.createElement(ST,{values:O,show:d,onClick:N,stepClassName:V.border.interactive})),e.createElement("fast-div",{ref:D,className:(0,t.useFacetMap)((e=>Or()("WCtWo",$.border.interactive,{[ji]:(null==Z?void 0:Z.focused)||e})),[$,null==Z?void 0:Z.focused],[j]),onMouseEnter:Y,onMouseLeave:q,onMouseDown:B,onTouchStart:B},e.createElement(zi,{role:p}),e.createElement("fast-div",{className:Q},e.createElement(hc,{role:p})),e.createElement("div",{className:Or()("jsqh0",$.shadow.interactive)})))},ST=({values:n,show:a,onClick:r,stepClassName:l})=>e.createElement(t.Mount,{when:a},e.createElement("div",{className:"nFV_I",onClick:r},n.map(((t,n,a)=>n>=1&&n<a.length-1?e.createElement("div",{key:t,className:Or()("lFMrn","R7fdm",l)}):null)),e.createElement("div",{className:"RcUud"}))),CT=()=>{};function MT({onChange:n,value:a,disabled:r=!1,gamepadIndex:l=0,showSteps:o=!1,unit:i="",title:c="",description:s="",range:u=[0,100],onFocusChanged:d=CT,wrapperRole:m="neutral",thumbRole:p,trackRole:f,trackOverlayRole:g,valueText:E=""}){const h=(0,t.useFacetWrap)(a),b=(0,t.useFacetWrap)(o),v=(0,t.useFacetWrap)(i),F=(0,t.useFacetWrap)(c),y=(0,t.useFacetWrap)(s),S=(0,t.useFacetWrap)(r),C=(0,t.useFacetWrap)(u),M=(0,t.useFacetWrap)(E),{t:w}=Ii("Slider"),k=(0,t.useFacetMap)(((e,t,n)=>{const a=[e];return n&&a.push(w(".disabled")),a.push(t,w(".narrationComponentType")),a.join(" . ")}),[w],[F,y,S]),T=(0,t.useFacetMap)(((e,t,n)=>""!=n?n:`${e}${null!=t?t:""}`),[],[h,v,M]);return e.createElement(Ps,{text:k},e.createElement(du,{disabled:S,role:m},e.createElement("div",{className:"yxs7_"},e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>Boolean(e)),[],[F])},e.createElement(pu,{disabled:S},F)),e.createElement(pu,{className:"uA3Bt",disabled:S},T)),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>Boolean(e)),[],[y])},e.createElement(fu,null,y)),e.createElement(Yc,{size:2}),e.createElement(FT,{value:h,showSteps:b,unit:v,range:C,gamepad:{index:l},label:F,onChange:n,onFocusChanged:d,disabled:S,thumbRole:p,trackRole:f,trackOverlayRole:g})))}const wT=({advancedData:n,isUsingTemplate:a,isLockedTemplate:r,isAchievementsDisabled:l,achievementsDisabledMessages:o,onUnlockTemplateSettings:i,isEditorWorld:c,onSeedValueChange:s,isSeedChangeLocked:u,isHardcoreMode:d})=>{const{t:m}=Tp("CreateNewWorld.advanced"),p=(0,e.useContext)(Dv)===_v.EDIT,f=bE(ok),g=bE(rp),E=(0,t.useSharedFacet)(Bg),h={value:(0,t.useFacetMap)((e=>e.generatorType),[],[n]),onChange:(0,t.useFacetCallback)((e=>t=>{e.generatorType=t}),[],[n])},b=(0,t.useFacetMap)((e=>e&&g),[g],[E]);return e.createElement(Fl,{data:b},(g=>e.createElement(e.Fragment,null,g?e.createElement(Dw,{context:Lw.ADVANCED_TAB}):e.createElement(xT,{isLockedTemplate:r,isAchievementsDisabled:l,achievementsDisabledMessages:o,onUnlockTemplateSettings:i,isEditorWorld:c,isHardcoreMode:d},e.createElement(t.Mount,{when:c},e.createElement(t.DeferredMount,null,e.createElement(qS,{title:m(".projectHeader"),description:m(".projectDescription")}))),f&&!p?e.createElement(t.Mount,{when:c},e.createElement(t.DeferredMount,null,e.createElement(_C,{label:m(".generatorTypeLabel"),options:[{value:Vg.Overworld,label:m(".vanillaWorldGeneratorLabel"),description:m(".vanillaWorldGeneratorDescription")},{value:Vg.Flat,label:m(".flatWorldGeneratorLabel"),description:m(".flatWorldGeneratorDescription")},{value:Vg.Void,label:m(".voidWorldGeneratorLabel"),description:m(".voidWorldGeneratorDescription")}],value:h.value,onChange:h.onChange}))):null,e.createElement(kT,{advancedData:n,isEditorWorld:c,onSeedValueChange:s,isSeedChangeLocked:u,showSeedTemplates:!0}),e.createElement(TT,{advancedData:n,isUsingTemplate:a,isLockedTemplate:r,achievementsDisabledMessages:o,isEditorWorld:c,isHardcoreMode:d})))))},kT=({advancedData:n,isEditorWorld:a,onSeedValueChange:r,isSeedChangeLocked:l,showSeedTemplates:o})=>{const{t:i}=Tp("CreateNewWorld.advanced"),{t:c}=Tp("CreateNewWorld.all"),s=(0,e.useContext)(Dv)===_v.EDIT,u=bE(ok),d=Hr(),m=(0,t.useSharedFacet)(Am),p=(0,t.useSharedFacet)(_p),f=(0,t.useFacetMap)((e=>e.worldSeed),[],[n]),g=(0,t.useFacetMap)((e=>e.isClipboardCopySupported),[],[m]),E=(0,t.useFacetCallback)(((e,t,n)=>()=>{t.copyToClipboard(e),n.queueSnackbar(i(".copyToClipboard"))}),[i],[f,m,p]),h=s?E:()=>d.push("/create-new-world/seed-templates"),b=s?"":i(".worldSeedPlaceholder"),v=i(s?".worldSeedCopyButton":".worldSeedButton"),F=(0,t.useFacetMap)(((e,t,n)=>t||n&&u&&!s&&e.generatorType!=Vg.Overworld),[u,s],[n,l,a]);return o?e.createElement(t.DeferredMount,null,e.createElement(Fl,{data:g},(t=>s&&!t?e.createElement(nw,{disabled:s,label:i(".worldSeedLabel"),description:i(".worldSeedDescription"),maxLength:32,value:f,onChange:r,placeholder:i(".worldSeedPlaceholder"),disabledNarrationSuffix:c(".narrationSuffixTemplateLocked"),"data-testid":"world-seed-text-field"}):e.createElement(nw.WithButton,{buttonInputLegend:v,buttonText:v,buttonOnClick:h,textDisabled:s,disabled:F,label:i(".worldSeedLabel"),description:i(".worldSeedDescription"),maxLength:32,value:f,onChange:r,placeholder:b,buttonNarrationHint:i(".narrationTemplatesButtonNarrationHint"),disabledNarrationSuffix:c(".narrationSuffixTemplateLocked"),"data-testid":"world-seed-with-button"})))):e.createElement(t.DeferredMount,null,e.createElement(nw,{disabled:F,label:i(".worldSeedLabel"),description:i(".worldSeedDescription"),maxLength:32,value:f,onChange:r,placeholder:i(".worldSeedPlaceholder"),disabledNarrationSuffix:c(".narrationSuffixTemplateLocked")}))},TT=({advancedData:n,isUsingTemplate:a,isLockedTemplate:r,achievementsDisabledMessages:l,isEditorWorld:o,isHardcoreMode:i})=>{const{t:c}=Tp("CreateNewWorld.advanced"),{t:s}=Tp("CreateNewWorld.all"),u=(0,e.useContext)(Dv)===_v.EDIT,d=(0,t.useSharedFacet)(Bg),m=bE("vanilla.settings.unlockRecipes"),p=bE(ok),f=(0,t.useFacetMap)((e=>!p||p&&!e),[p],[o]),g=(0,t.useFacetMap)(((e,t)=>e||t),[],[a,d]),E=(0,t.useFacetMap)(((e,t)=>e||t||u),[u],[a,d]),h=(0,t.useFacetMap)((({simulationDistanceOptions:e})=>e.length<=1),[],[(0,t.useSharedFacet)(dg)]),b=(0,t.useFacetMap)(((e,t)=>e||t),[],[i,E]),v=(0,t.useFacetMap)(((e,t)=>e||u||t),[u],[a,i]),F=(0,t.useFacetWrap)(!0),y=[{title:c(".useFlatWorldTitle"),description:c(".useFlatWorldDescription"),value:(0,t.useFacetMap)((e=>e.useFlatWorld),[],[n]),onChange:(0,t.useFacetCallback)((e=>t=>{e.useFlatWorld=t}),[],[n]),onNarrationText:s(".narrationSuffixDisablesAchievements"),offNarrationText:(0,t.useFacetMap)((e=>0===e.length?s(".narrationSuffixEnablesAchievements"):void 0),[s],[l]),disabled:E,visible:f},{title:c(".startWithMapTitle"),description:c(".startWithMapDescription"),value:(0,t.useFacetMap)(((e,t)=>!t&&e.startWithMap),[],[n,i]),onChange:(0,t.useFacetCallback)((e=>t=>{e.startWithMap=t}),[],[n]),disabled:v,visible:F},{title:c(".bonusChestTitle"),description:c(".bonusChestDescription"),value:(0,t.useFacetMap)(((e,t)=>!t&&e.bonusChest),[],[n,i]),onChange:(0,t.useFacetCallback)((e=>t=>{e.bonusChest=t}),[],[n]),disabled:b,visible:F}],S={title:c(".recipesUnlockTitle"),description:c(".recipesUnlockDescription"),value:(0,t.useFacetMap)((e=>e.recipesUnlock),[],[n]),onChange:(0,t.useFacetCallback)((e=>t=>{e.recipesUnlock=t}),[],[n]),disabled:d,onNarrationText:c(".recipesUnlockDescription"),visible:F},C=[{title:c(".showCoordinatesTitle"),description:c(".showCoordinatesDescription"),value:(0,t.useFacetMap)((e=>e.showCoordinates),[],[n]),onChange:(0,t.useFacetCallback)((e=>t=>{e.showCoordinates=t}),[],[n]),disabled:d,onNarrationText:c(".showCoordinatesDescription")},{title:c(".showDaysPlayedTitle"),description:c(".showDaysPlayedDescription"),value:(0,t.useFacetMap)((e=>e.showDaysPlayed),[],[n]),onChange:(0,t.useFacetCallback)((e=>t=>{e.showDaysPlayed=t}),[],[n]),disabled:d,onNarrationText:c(".showCoordinatesDescription")},...m?[S]:[],{title:c(".firesSpreadsTitle"),description:c(".firesSpreadsDescription"),value:(0,t.useFacetMap)((e=>e.firesSpreads),[],[n]),onChange:(0,t.useFacetCallback)((e=>t=>{e.firesSpreads=t}),[],[n]),disabled:d,onNarrationText:c(".firesSpreadsDescription")},{title:c(".tntExplodesTitle"),description:c(".tntExplodesDescription"),value:(0,t.useFacetMap)((e=>e.tntExplodes),[],[n]),onChange:(0,t.useFacetCallback)((e=>t=>{e.tntExplodes=t}),[],[n]),disabled:d,onNarrationText:c(".tntExplodesDescription")},{title:c(".mobLootTitle"),description:c(".mobLootDescription"),value:(0,t.useFacetMap)((e=>e.mobLoot),[],[n]),onChange:(0,t.useFacetCallback)((e=>t=>{e.mobLoot=t}),[],[n]),disabled:d,onNarrationText:c(".mobLootDescription")},{title:c(".naturalRegenerationTitle"),description:c(".naturalRegenerationDescription"),value:(0,t.useFacetMap)((e=>e.naturalRegeneration),[],[n]),onChange:(0,t.useFacetCallback)((e=>t=>{e.naturalRegeneration=t}),[],[n]),disabled:d,onNarrationText:c(".naturalRegenerationDescription")},{title:c(".tileDropsTitle"),description:c(".tileDropsDescription"),value:(0,t.useFacetMap)((e=>e.tileDrops),[],[n]),onChange:(0,t.useFacetCallback)((e=>t=>{e.tileDrops=t}),[],[n]),disabled:d,onNarrationText:c(".tileDropsDescription")}],M=(0,t.useFacetMap)(((e,t)=>e||t),[],[h,r]);return e.createElement(e.Fragment,null,u?e.createElement(e.Fragment,null):y.map((n=>{var a;return e.createElement(t.DeferredMount,{key:n.title},e.createElement(t.Mount,{when:n.visible},e.createElement(iC,{title:n.title,disabled:null!==(a=n.disabled)&&void 0!==a?a:r,description:n.description,onChange:n.onChange,value:n.value})))})),e.createElement(t.Mount,{when:o},e.createElement(t.DeferredMount,null,e.createElement(qS,{title:c(".exportSettingsHeader"),description:c(".exportSettingsDescription")}))),C.map((n=>{var a;return e.createElement(t.DeferredMount,{key:n.title},e.createElement(iC,{title:n.title,disabled:null!==(a=n.disabled)&&void 0!==a?a:r,description:n.description,onChange:n.onChange,value:n.value}))})),e.createElement(t.DeferredMount,null,e.createElement(OT,{advancedData:n,isTrialAccount:d})),e.createElement(t.DeferredMount,null,e.createElement(PT,{label:c(".respawnRadiusLabel"),disabled:g,description:c(".respawnRadiusDescription"),placeholder:c(".respawnRadiusPlaceholder"),isLockedTemplate:r,isTrialAccount:d,advancedData:n})),e.createElement(t.DeferredMountWithCallback,null,e.createElement(IT,{title:c(".simulationDistanceTitle"),disabled:M,advancedData:n})),u?y.map((n=>{var a;return e.createElement(t.DeferredMount,{key:n.title},e.createElement(iC,{title:n.title,disabled:null!==(a=n.disabled)&&void 0!==a?a:r,description:n.description,onChange:n.onChange,value:n.value}))})):e.createElement(e.Fragment,null))},xT=({isLockedTemplate:n,isAchievementsDisabled:a,achievementsDisabledMessages:r,onUnlockTemplateSettings:l,isEditorWorld:o,isHardcoreMode:i,children:c})=>{const{t:s}=Tp("CreateNewWorldSideMenu"),u=(0,e.useContext)(Dv)===_v.EDIT,d=!0!==(0,t.useFacetUnwrap)(i)||u?void 0:KM.ADVANCED_TAB;return e.createElement(t.DeferredMountProvider,null,e.createElement(qM,{isLockedTemplate:n,isAchievementsDisabled:a,achievementsDisabledMessages:r,narrationText:s(".advancedTabLabel"),onUnlockTemplateSettings:l,isEditorWorld:o,hardcoreModeMessageTab:d},c))};function IT({title:n,disabled:a,advancedData:r}){const{t:l}=Tp("CreateNewWorld.advanced"),o=(0,e.useCallback)(((e,t)=>({label:l(".simulationDistanceOption",[`${e}`]),value:e,description:l(t,[""+16*e,`${e}`])})),[l]),i=(0,t.useFacetMap)((({simulationDistanceOptions:e})=>{const t=e.length>1,n=t?".simulationDistanceDescription":".simulationDistanceDescriptionOnlyOne";return(t?e:[4,6,8]).map((e=>o(e,n)))}),[o],[(0,t.useSharedFacet)(dg)]),c=(0,t.useFacetCallback)((e=>t=>{e.simulationDistance=t}),[],[r]);return e.createElement(UC,{onMountComplete:(0,t.useNotifyMountComplete)(),title:n,options:i,value:(0,t.useFacetMap)((e=>e.simulationDistance),[],[r]),onChange:c,disabled:a,wrapToggleText:!0})}function PT({label:n,description:a,placeholder:r,disabled:l,isLockedTemplate:o,isTrialAccount:i,advancedData:c}){const s=(0,t.useFacetMap)((e=>e.immediateRespawn),[],[c]),u=(0,t.useFacetMap)((e=>e.respawnBlocksExplode),[],[c]),d=(0,t.useFacetMap)((e=>e.respawnRadius.toString()),[],[c]),{t:m}=Tp("CreateNewWorld.all"),{t:p}=Tp("CreateNewWorld.advanced.narration"),{t:f}=Tp("CreateNewWorld.advanced"),{narrateText:g}=Fs({interruptible:!1}),E=(0,t.useFacetCallback)((e=>t=>{e.immediateRespawn=t}),[],[c]),h=(0,t.useFacetCallback)((e=>t=>{e.respawnBlocksExplode=t}),[],[c]),b=(0,t.useFacetCallback)((e=>t=>{e.respawnRadius=t}),[],[c]),v=(0,e.useCallback)(((e,t)=>{const n=e.match(/^[0-9]*$/g),a=parseInt(e)<=128;return 0!==e.length&&n?a?Uu.ValidationResult.VALID:(g(p(".respawnRadiusNotWithinRange")),t(128..toString()),Uu.ValidationResult.INVALID):(g(p(".respawnRadiusInvalidValue")),t(10..toString()),Uu.ValidationResult.INVALID)}),[g,p]);return e.createElement(e.Fragment,null,e.createElement(iC,{title:f(".immediateRespawnTitle"),disabled:null!=l?l:o,description:f(".immediateRespawnDescription"),onChange:E,value:s,onNarrationText:f(".immediateRespawnDescription")}),e.createElement(iC,{title:f(".respawnBlocksExplodeTitle"),disabled:i,description:f(".respawnBlocksExplodeDescription"),onChange:h,value:u,onNarrationText:f(".respawnBlocksExplodeDescription")}),e.createElement(nw,{label:n,description:a,maxLength:8,value:d,disabled:l,onChange:b,onBlur:v,placeholder:r,disabledNarrationSuffix:m(".narrationSuffixTemplateLocked"),isNumber:!0}))}function OT({advancedData:n,isTrialAccount:a}){const{t:r}=Tp("CreateNewWorld.advanced"),{t:l}=Tp("CreateNewWorld.advanced.sleepSlider"),o=(0,t.useFacetMap)((e=>e.sleepSkipNight),[],[n]),i=(0,t.useFacetCallback)((e=>t=>{e.sleepSkipNight=t}),[],[n]),c=(0,t.useFacetMap)((e=>!Boolean(e.sleepSkipNight)),[],[n]),s=(0,t.useFacetMap)((e=>e.sleepSkipNightPercent<100?e.sleepSkipNightPercent:100),[],[n]),u=(0,t.useFacetCallback)((e=>t=>{t<=100&&(e.sleepSkipNightPercent=t)}),[],[n]),d=(0,t.useFacetMap)((e=>e.sleepSkipNightPercent>100?l(".disabled"):100===e.sleepSkipNightPercent?l(".all",[`(${e.sleepSkipNightPercent}%)`]):50===e.sleepSkipNightPercent?l(".half",[`(${e.sleepSkipNightPercent}%)`]):e.sleepSkipNightPercent>50?l(".most",[`(${e.sleepSkipNightPercent}%)`]):0===e.sleepSkipNightPercent?l(".none",[`(${e.sleepSkipNightPercent}%)`]):e.sleepSkipNightPercent>0?l(".some",[`(${e.sleepSkipNightPercent}%)`]):""),[l],[n]);return e.createElement(e.Fragment,null,e.createElement(iC,{title:r(".sleepToSkipNightTitle"),disabled:a,description:r(".sleepToSkipNightDescription"),onChange:i,value:o,onNarrationText:r(".sleepToSkipNightDescription")}),e.createElement(MT,{title:r(".sleepToSkipNightPercentTitle"),disabled:c,description:r(".sleepToSkipNightPercentDescription"),onChange:u,value:s,valueText:d}))}wT.Wrapper=xT,wT.DefaultFields=TT,wT.WorldSeedField=kT;const AT=wT,NT=n.p+"assets/visitorGray10-9a6b6.png",RT=n.p+"assets/visitorGray70-d4a9e.png",LT=n.p+"assets/visitorGray90-9d4d1.png",_T=n.p+"assets/memberGray10-7cc66.png",DT=n.p+"assets/memberGray70-7b6db.png",BT=n.p+"assets/memberGray90-a38ee.png",WT=n.p+"assets/operatorGray10-1b749.png",UT=n.p+"assets/operatorGray70-266ca.png",zT=n.p+"assets/operatorGray90-0f8a3.png",jT={[zm.VISITOR]:{selected:NT,unselected:LT,disabled:RT},[zm.MEMBER]:{selected:_T,unselected:BT,disabled:DT},[zm.OPERATOR]:{selected:WT,unselected:zT,disabled:UT}};function HT({type:t,status:n}){return e.createElement("div",{className:"d8tfi"},e.createElement(Rc,{src:jT[t][n],className:"kFoCR",imageRendering:"pixelated"}),e.createElement(Yc,{size:1}))}const VT=n.p+"assets/steve-island-d0eb3.png";function GT({multiplayerData:n,worldPacks:a,isLockedTemplate:r,isAchievementsDisabled:l,achievementsDisabledMessages:o,onDeactivatePack:i,onUnlockTemplateSettings:c,isEditorWorld:s}){const{t:u}=Tp("CreateNewWorld.multiplayer"),{t:d}=Tp("CreateNewWorldSideMenu"),{t:m}=Tp("CreateNewWorld.all"),p=(0,e.useContext)(Dv)===_v.EDIT,f=bE(rp),g=(0,t.useSharedFacet)(Dg),E=(0,t.useSharedFacet)(Bg),h=(0,t.useSharedFacet)(fg),b=(0,t.useFacetMap)((e=>e.platform),[],[(0,t.useSharedFacet)(el)]),v=(0,t.useFacetMap)(((e,t)=>AM(t)&&!e.hasPremiumNetworkAccess),[],[g,b]),F=(0,t.useFacetMap)(((e,t,n)=>!n&&(!e.multiplayerSupported||t.isTrialAccount||e.generalWarningState===Dm.NON_MULTIPLAYER_SKIN_EQUIPPED)),[],[n,g,v]),y=(0,t.useFacetMap)(((e,t,n)=>n||!e.multiplayerGame||t),[],[n,F,v]),S=(0,t.useSharedFacet)(Pm),C=(0,t.useFacetMap)(((e,t)=>NM(t)&&!e.hasPremiumNetworkAccess),[],[g,b]),M=(0,t.useFacetMap)((e=>AM(e)||NM(e)),[],[b]),w=(0,t.useFacetMap)(((e,t)=>!e&&!t),[],[M,S]),k=(0,t.useFacetMap)(((e,t)=>t&&!e.isLoggedInWithMicrosoftAccount),[],[g,M]),T=(0,t.useFacetMap)(((e,t)=>e.generalWarningState===Dm.CHECK_INTERNET_CONNECTION||t),[],[n,y]),x=(0,t.useFacetMap)(((e,t)=>!e&&!t),[],[k,S]),I=(0,t.useFacetMap)((e=>e.platformPlayerAccessSupported),[],[n]),P=(0,t.useFacetMap)((e=>e.activeTexturePacks),[],[a]),O=hM.useShowModal(),A=(0,t.useFacetCallback)(((e,t,a,r,l)=>o=>{if(!r)return o?void(!function(e,t){for(let t=0;t<e.length;t++)if(e[t].isPlatformLocked)return!0;return!1}(t)?(p&&a.trackOptionChanged(vw.MultiplayerChanged,Number(e.multiplayerGame),Number(o)),e.multiplayerGame=o):O({multiplayerData:n,activePacks:P,onDeactivatePack:i})):(p&&a.trackOptionChanged(vw.MultiplayerChanged,Number(e.multiplayerGame),Number(o)),e.multiplayerGame=o);l.showPremiumNetworkUpsellModal()}),[O,i,n,p,P],[n,P,h,v,(0,t.useSharedFacet)(Dg)]),N=(0,t.useFacetMap)(((e,t)=>e.playerPermissions===zm.OPERATOR&&1===t.length?[u(".narrationMultiplayerAdditionalSettingsDisabled"),m(".narrationSuffixEnablesAchievements")].join(" . "):u(".narrationMultiplayerAdditionalSettingsDisabled")),[u,m],[n,o]),R=(0,t.useFacetMap)((e=>e.generalWarningState),[],[n]),L=(0,t.useFacetMap)(((e,t,n)=>!n&&e.multiplayerGame&&!t),[],[n,F,v]),_=(0,t.useFacetMap)((e=>e.visibleToLanPlayers),[],[n]),D=(0,t.useFacetMap)((e=>e.friendlyFire),[],[n]),B=(0,t.useFacetMap)((e=>e&&f),[f],[E]),W=(0,t.useFacetCallback)((e=>t=>{e.visibleToLanPlayers=t}),[],[n]),U=(0,t.useFacetCallback)((e=>t=>{e.friendlyFire=t}),[],[n]),z=(0,t.useFacetUnwrap)(R),j=z===t.NO_VALUE?void 0:z;return e.createElement(t.DeferredMountProvider,null,e.createElement(Fl,{data:B},(a=>e.createElement(e.Fragment,null,a?e.createElement(Dw,{context:Lw.MULTIPLAYER_TAB}):e.createElement(qM,{isAchievementsDisabled:l,isLockedTemplate:r,achievementsDisabledMessages:o,multiplayerWarningState:j,narrationText:d(".multiplayerTabLabel"),onUnlockTemplateSettings:c,isEditorWorld:s},e.createElement(t.Mount,{when:C},e.createElement(YT,null)),e.createElement(t.Mount,{condition:!1,when:C},e.createElement(e.Fragment,null,e.createElement(t.DeferredMount,null,e.createElement(iC,{"data-testid":"multiplayer-state-switch",key:u(".multiplayerGameTitle"),title:u(".multiplayerGameTitle"),description:u(".multiplayerGameDescription"),onNarrationText:u(".narrationMultiplayerAdditionalSettingsEnabled"),offNarrationText:N,value:L,disabled:F,onChange:A})),e.createElement(Ps,{text:[u(".settingsTitle"),u(".narrationComponentTypeSectionHeader")].join(" . ")},e.createElement(t.DeferredMount,null,e.createElement(qS,{title:u(".settingsTitle")})),e.createElement(t.Mount,{when:I},e.createElement(t.DeferredMountWithCallback,null,e.createElement($T,{gamepadIndex:1,platform:b,multiplayer:n,disabled:y}))),e.createElement(t.Mount,{when:k},e.createElement(t.DeferredMount,null,e.createElement(qT,{gamepadIndex:2,disabled:T}))),e.createElement(t.Mount,{when:x},e.createElement(t.DeferredMountWithCallback,null,e.createElement(KT,{gamepadIndex:2,disabled:y,multiplayer:n}))),e.createElement(t.DeferredMountWithCallback,null,e.createElement(XT,{multiplayer:n,gamepadIndex:3,disabled:y,achievementsDisabledMessages:o})),e.createElement(t.Mount,{when:w},e.createElement(iC,{key:u(".visibleToLanPlayersTitle"),title:u(".visibleToLanPlayersTitle"),description:u(".visibleToLanPlayersDescription"),disabledNarrationSuffix:u(".multiplayerSettingsDisabledNarrationHint"),gamepad:{index:4},disabled:y,value:_,onChange:W})),e.createElement(t.DeferredMount,null,e.createElement(iC,{key:u(".friendlyFireTitle"),title:u(".friendlyFireTitle"),description:u(".friendlyFireDescription"),disabledNarrationSuffix:u(".multiplayerSettingsDisabledNarrationHint"),gamepad:{index:5},disabled:y,value:D,onChange:U}))))))))))}function $T({platform:n,gamepadIndex:a,multiplayer:r,disabled:l}){const{t:o}=Tp("CreateNewWorld.multiplayer"),i=(0,t.useFacetMap)(((e,t)=>!e.platformPlayerAccessEnabled||!e.multiplayerGame||t),[],[r,l]),c=(0,t.useFacetMemo)(((e,t)=>function(e,t,n){const a=[];return!e.platformPlayerInviteAccessSupported||NM(t)||AM(t)||a.push({label:n(".playerAccessInvitedLabel"),value:Um.INVITED,description:NM(t)?n(".nintendoPlayerAccessInvitedDescription"):AM(t)?n(".playstationPlayerAccessInvitedDescription"):n(".playerAccessInvitedDescription")}),a.push({label:n(".playerAccessFriendsLabel"),value:Um.FRIENDS,description:NM(t)?n(".nintendoPlayerAccessFriendsDescription"):AM(t)?n(".playstationPlayerAccessFriendsDescription"):n(".playerAccessFriendsDescription")}),a.push({label:n(".playerAccessFriendsOfFriendsLabel"),value:Um.FRIENDS_OF_FRIENDS,description:NM(t)?n(".nintendoPlayerAccessFriendsOfFriendsDescription"):AM(t)?n(".playstationPlayerAccessFriendsOfFriendsDescription"):n(".playerAccessFriendsOfFriendsDescription")}),a}(e,t,o)),[o],[r,n]),s=(0,t.useFacetUnwrap)((0,t.useFacetMemo)((e=>NM(e)?o(".nintendoPlayerAccessTitle"):AM(e)?o(".playstationPlayerAccessTitle"):o(".playerAccessTitle")),[o],[n]));return e.createElement(UC,{onMountComplete:(0,t.useNotifyMountComplete)(),title:s===t.NO_VALUE?o(".playerAccessTitle"):s,gamepad:{index:a},disabled:i,wrapToggleText:!0,options:c,value:(0,t.useFacetMap)((e=>e.platformPlayerAccess),[],[r]),onChange:(0,t.useFacetCallback)((e=>t=>{e.platformPlayerAccess=t}),[],[r])})}function KT({disabled:n,gamepadIndex:a,multiplayer:r}){const{t:l}=Tp("CreateNewWorld.multiplayer"),o=(0,t.useFacetMap)((e=>e.platformPlayerAccessSupported),[],[r]),i=(0,t.useFacetUnwrap)((0,t.useFacetMemo)((e=>l(e?".microsoftPlayerAccessTitle":".playerAccessTitle")),[l],[o]));return e.createElement(UC,{disabledNarrationSuffix:l(".multiplayerSettingsDisabledNarrationHint"),onMountComplete:(0,t.useNotifyMountComplete)(),title:i!==t.NO_VALUE?i:l(".playerAccessTitle"),gamepad:{index:a},disabled:n,wrapToggleText:!0,options:[{label:l(".playerAccessInvitedLabel"),value:Um.INVITED,description:l(".playerAccessInvitedDescription")},{label:l(".playerAccessFriendsLabel"),value:Um.FRIENDS,description:l(".playerAccessFriendsDescription")},{label:l(".playerAccessFriendsOfFriendsLabel"),value:Um.FRIENDS_OF_FRIENDS,description:l(".playerAccessFriendsOfFriendsDescription")}],value:(0,t.useFacetMap)((e=>e.playerAccess),[],[r]),onChange:(0,t.useFacetCallback)((e=>t=>{e.playerAccess=t}),[],[r])})}function XT({multiplayer:n,gamepadIndex:a,disabled:r,achievementsDisabledMessages:l}){const{t:o}=Tp("CreateNewWorld.multiplayer"),{t:i}=Tp("CreateNewWorld.all"),c=(0,t.useFacetMap)(((t,n)=>[{label:o(".playerPermissionsVisitorLabel"),value:zm.VISITOR,description:o(".playerPermissionsVisitorDescription"),icons:{disabled:e.createElement(HT,{type:zm.VISITOR,status:"disabled"}),selected:e.createElement(HT,{type:zm.VISITOR,status:"selected"}),unselected:e.createElement(HT,{type:zm.VISITOR,status:"unselected"})},narrationSuffix:t.playerPermissions===zm.OPERATOR&&1===n.length?i(".narrationSuffixEnablesAchievements"):void 0},{label:o(".playerPermissionsMemberLabel"),value:zm.MEMBER,description:o(".playerPermissionsMemberDescription"),icons:{disabled:e.createElement(HT,{type:zm.MEMBER,status:"disabled"}),selected:e.createElement(HT,{type:zm.MEMBER,status:"selected"}),unselected:e.createElement(HT,{type:zm.MEMBER,status:"unselected"})},narrationSuffix:t.playerPermissions===zm.OPERATOR&&1===n.length?i(".narrationSuffixEnablesAchievements"):void 0},{label:o(".playerPermissionsOperatorLabel"),value:zm.OPERATOR,description:o(".playerPermissionsOperatorDescription"),icons:{disabled:e.createElement(HT,{type:zm.OPERATOR,status:"disabled"}),selected:e.createElement(HT,{type:zm.OPERATOR,status:"selected"}),unselected:e.createElement(HT,{type:zm.OPERATOR,status:"unselected"})},narrationSuffix:i(".narrationSuffixDisablesAchievements")}]),[o,i],[n,l]);return e.createElement(UC,{disabledNarrationSuffix:o(".multiplayerSettingsDisabledNarrationHint"),onMountComplete:(0,t.useNotifyMountComplete)(),title:o(".playerPermissionsTitle"),gamepad:{index:a},disabled:r,options:c,value:(0,t.useFacetMap)((e=>e.playerPermissions),[],[n]),onChange:(0,t.useFacetCallback)((e=>t=>{e.playerPermissions=t}),[],[n])})}function YT(){const{t:n}=Tp("CreateNewWorld.multiplayer");return e.createElement(GE,{borderless:!0,gamepadIndex:0,title:n(".nintendoSubscriptionPromotionTitle"),text:n(".nintendoSubscriptionPromotionBody"),imgSrc:VT,imgClass:"BHnbR",buttons:[{text:n(".nintendoSubscriptionPromotionButtonLabel"),onClick:(0,t.useFacetCallback)((e=>()=>e.showPremiumNetworkUpsellModal()),[],[(0,t.useSharedFacet)(Dg)]),inputLegend:n(".nintendoSubscriptionPromotionButtonLabel")}]})}function qT({gamepadIndex:t,disabled:n}){const{t:a}=Tp("CreateNewWorld.multiplayer"),r=u();return e.createElement(du,null,e.createElement(pu,null,a(".microsoftSignInButtonTitle")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:a(".microsoftSignInButtonLabel"),onClick:()=>r.push("/sign-in?signInSource=MultiplayerTab_OreUI"),gamepadIndex:t,disabled:n},a(".microsoftSignInButtonLabel")))}const QT=n.p+"assets/arrowDownWhite-55034.png";function JT(){return JT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},JT.apply(this,arguments)}const ZT=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("pJwQj",n);return e.createElement(Rc,JT({},a,{className:r,src:QT,imageRendering:"pixelated"}))},ex=n.p+"assets/arrowUpWhite-2c2b7.png";function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tx.apply(this,arguments)}const nx=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("P9OiC",n);return e.createElement(Rc,tx({},a,{className:r,src:ex,imageRendering:"pixelated"}))},ax={bevelWrapper:"xy0uV",content:"koWU0",left:"aMZtH",count:"NejtX",expandableWrapper:"cydJJ",expanded:"izYgc"},rx="0.0001px";function lx(n){const a=(0,e.useRef)(null),r=(0,t.useFacetWrap)(n),[l,o]=(0,t.useFacetState)(rx),[i,c]=(0,t.useFacetState)("hidden");return(0,t.useFacetEffect)((e=>{if(a.current){if(o(`${a.current.scrollHeight}px`),e){const e=setTimeout((()=>{o("auto"),c("visible")}),225);return()=>{clearTimeout(e)}}e||requestAnimationFrame((()=>{o(rx),c("hidden")}))}}),[c,o],[r]),[{height:l,overflow:i},a]}function ox(n){const{label:a,count:r,children:l,narrationHint:o,alwaysShowHint:i=!1,onExpandNarrationHint:c,expandedDefaultState:s=!1,gamepadAlias:u,collapsible:d=!0,onChange:m,testId:p}=n,{t:f}=Ii("Accordion"),{narrateText:g}=Fs(),[E,h]=(0,t.useFacetState)(s),[b,v]=lx(E),F=(0,t.useFacetMap)((e=>`(${e})`),[],[null!=r?r:ix]),y=(0,t.useFacetMap)((e=>f(e?".closeInputLegend":".openInputLegend")),[f],[E]),S=(0,t.useFacetWrap)(o),C=(0,t.useFacetWrap)(a),M=(0,t.useFacetMap)(((e,t,n,a)=>[null!=t?f(".narrationCountLabel",[a,`${t>100?"100+":t}`]):a,f(".narrationComponentType"),f(e?".stateExpanded":".stateCollapsed"),e&&!i?null:n].join(" . ")),[f,i],[E,null!=r?r:cx,S,C]),w=(0,t.useFacetWrap)(d),k=(0,t.useFacetCallback)(((e,t)=>()=>{if(t){const t=e?f(".stateCollapsed"):[f(".stateExpanded"),c].join(" . ");g(t),h(!e),m&&m(!e)}}),[g,f,c,h,m],[E,w]),T=(0,t.useFacetMap)((e=>`${ax.expandableWrapper} ${e?ax.expanded:""}`),[],[E]),x=(0,t.useFacetMap)(((e,t)=>e?t?"arrow-up-white":"arrow-down-white":"no-arrow"),[],[w,E]),I=(0,t.useFacetMap)((e=>!e),[],[E]);return e.createElement(e.Fragment,null,e.createElement("div",{className:ax.bevelWrapper,"data-testid":p},e.createElement(yu,{inputLegend:y,narrationText:M,onClick:k,variant:"neutral80",reflection:"bevel",gamepadAlias:u,"data-testid":"accordion-pressable"},e.createElement("div",{className:ax.content},e.createElement("div",{className:ax.left},e.createElement("fast-text",{text:a}),e.createElement(Yc,{size:2}),null!=r&&e.createElement("div",{className:ax.count},e.createElement("fast-text",{text:F}))),e.createElement(Fl,{data:x},(t=>{switch(t){case"arrow-down-white":return e.createElement(ZT,null);case"arrow-up-white":return e.createElement(nx,null);default:return null}}))))),e.createElement(Wr,{disabled:I},e.createElement("fast-div",{className:T,style:b,"data-testid":"accordion-content"},e.createElement("div",{ref:v},e.createElement("div",{className:ax.expandableContent},l)))))}const ix=(0,t.createFacet)({initialValue:0}),cx=(0,t.createFacet)({initialValue:null});function sx({text:t}){return e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionShort",variant:"dimmer"},t))}function ux({children:n,role:a,align:r="top"}){const l=gr(),o=(0,t.useFacetMap)((e=>Or()("c3aSY",l[e].background.base,l[e].text.base)),[l],[(0,t.useFacetWrap)(a)]);return e.createElement("div",{className:Or()("j_y1K",{YBe3o:"top"===r,kfqkp:"center"===r,eh7z2:"bottom"===r})},e.createElement(zs,{className:o,type:"body",role:a,overflowEllipsis:!0},n))}function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},dx.apply(this,arguments)}function mx(t){var n;return t.shouldSkipLandmarkInVisual?e.createElement(Wr,{disabled:t.disabled},t.children):null==t.containerRef?e.createElement(Wr,t,t.children):e.createElement(Pc,dx({},t,{delegateFocusFromMemory:t.delegateFocusFromMemory||"remember"===t.defaultFocusedChildBehavior,delegateFocusByAlias:null!==(n=t.delegateFocusByAlias)&&void 0!==n?n:t.defaultFocusedChildAlias}))}const px=n.p+"assets/draggable-icon-cb81f.png",fx=n.p+"assets/arrow-down-f9b6c.png",gx=n.p+"assets/remove-icon-5a112.png",Ex=n.p+"assets/settings-icon-af819.png",hx=n.p+"assets/add-icon-675d0.png",bx=n.p+"assets/warning-icon-e02fb.png",vx=n.p+"assets/mario_pack_icon_HACK-c158e.png",Fx=n.p+"assets/missing-pack-icon-010c8.png",yx={packListItemDragAnimationContainer:"K_ftf",packImage:"jkWPs",border:"IyJVt",draggableIcon:"yh9nh",expandArrowIcon:"ZVibx",flipped:"s7QSb",settingsIcon:"RvsYq",removeIcon:"jrqnD",addIcon:"v5aeN",expandableWrapper:"KpUwY",expanded:"ZFmh4",expandableContent:"S0c54",expandableContentWrapper:"cDMTw",expandableContentDescription:"emj3l",expandableContentLinksWrapper:"H2ovu",disabledPackImage:"qCfGN"};function Sx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Cx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sx(Object(n),!0).forEach((function(t){Mx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mx(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wx(){const e={active:0,available:0,realms:0};return t=>Object.keys(e).reduce(((n,a)=>{var r,l,o;const i=null!==(r=null===(l=t[a])||void 0===l||null===(o=l.resourcePacks)||void 0===o?void 0:o.length)&&void 0!==r?r:0,c=e[a]===i;return e[a]=i,n?c:n}),!0)}function kx(){const t=(0,e.useRef)(!0),{narrateText:n}=Fs({interruptible:!1}),{t:a}=Ii("CreateNewWorld.resourcePacks");return(0,e.useCallback)((e=>{t.current&&"activate"===e?(n(a(".activateNarrationFirstPack")),t.current=!1):n(a(`.${e}Narration`))}),[n,a])}function Tx(n,a,r,l,o,i){const c=ve(),s=ta(),u=(0,e.useRef)(null),d=(0,e.useRef)(null),m=(0,e.useRef)(null),p=(0,e.useRef)(null),f=OM.useShowModal(),g=kx(),E=kx(),h=(0,e.useCallback)(((e,t,a)=>{u.current=e,d.current=t,m.current=a,p.current="remove",i(e,n)}),[n,i]),b=(0,t.useFacetCallback)((e=>(t,a,r,l,i,c)=>{u.current=t,d.current=i,m.current=c,p.current="activate",l&&e.multiplayerGame?f({multiplayerData:e,packId:t,packType:n,packName:a,packSize:r,onActivatePack:o}):o(t,n,a,r)}),[n,o,f],[l]),v=(0,t.useFacetMemo)((e=>Object.keys(a).reduce(((t,r)=>{const l=a[r],o=`${r}${n===tE.Behavior?"BehaviorPacks":"TexturePacks"}`,i=e[o];return Cx(Cx({},t),{},{[r]:{gamepadAliases:l,resourcePacks:i}})}),{})),[a,n],[r],wx);return(0,t.useFacetEffect)((e=>{if(null==u.current||null==d.current||null==m.current||null==p.current)return;n===tE.Resource&&E(p.current),n===tE.Behavior&&g(p.current);const t=e[m.current];if(0===t.resourcePacks.length){const e=s?t.gamepadAliases.emptyStateMessageAlias:t.gamepadAliases.tabsAlias;return void c(e)}const a=null!=t.resourcePacks[d.current]?d.current:d.current-1,r=t.resourcePacks[a].id,l=xx(p.current,r);c(l)}),[c,s,n,E,g],[v]),{deactivatePack:h,activatePack:b}}function xx(e,t){return`${e}-${t}`}const Ix=(0,e.createContext)(null);function Px(e){return(0,t.useFacetMap)((e=>null!=e?e:{id:"-1",contentId:"-1",name:"-1",creator:"-1",description:"-1",size:"-1",image:void 0,isMarketplaceItem:!1,isPlatformLocked:!1,hasSettings:!1}),[],[e])}function Ox(e){return e}function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ax.apply(this,arguments)}const Nx="_GLOBAL_MINECRAFT_TEXTURE_PACK_";function Rx({pack:n,gamepadIndex:a,index:r,draggable:l,removable:o,activatable:i,canShowSettingsButton:c=!1,expandedPackId:s,containerListLength:u,outerRole:d="neutral",innerRole:m="neutral80",onDragStart:p=Bx,onDrop:f=Bx,onExpand:g=Bx,onRemove:E=Bx,onActivate:h=Bx,onClickPackSettings:b=Bx,onClickMoreDetails:v=Bx,showTechnicalDetailsLink:F=!1}){const{t:y}=Ii("PackListItem"),S=Hr(),C=at(),M=(0,t.useSharedFacet)(fg),w=(0,t.useFacetWrap)(l||!1),k=(0,t.useFacetWrap)(null!=o&&o),T=(0,t.useFacetWrap)(null!=i&&i),x=Px(n),I=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.id),[],[x])),P=(0,t.useFacetMap)((e=>e.name),[],[x]),O=(0,t.useFacetMap)((e=>e.size),[],[x]),A=(0,t.useFacetMap)((e=>e.description),[],[x]),N=(0,t.useFacetMap)((e=>e.isPlatformLocked),[],[x]),R=(0,t.useFacetRef)(N,!1),L=(0,t.useFacetMap)((e=>{switch(e.error){case aE.PackDependencyWarning:return y(".errorPackMissingDependencies");case aE.ContentTierIncompatible:return y(".errorPackNotCompatible");case aE.ContentTierIncompatibleMemory:return y(".errorPackNotCompatibleMemory");case aE.ContentTierIncompatibleRayTracing:return y(".errorPackNotCompatibleRayTracing");case aE.NoPackAccess:return y(".errorPackAccess");case aE.UnsupportedFileFormat:return y(".errorPackUnsupportedFormat");case aE.NoManifest:case aE.MissingProperty:case aE.WrongTypeProperty:case aE.EmptyProperty:case aE.InvalidProperty:case aE.MalformedPropertyUUID:case aE.MalformedPropertyVERSION:case aE.DuplicateUUID:case aE.InvalidJSON:case aE.MissingModules:case aE.MultipleModules:case aE.UnsupportedFormatVersion:return y(".errorPackReading");case aE.VersionTooHigh:case aE.VersionTooLow:return y(".errorPackIncompatibleVersion");case aE.IncompletePack:return y(".errorPackIncomplete");default:return""}}),[y],[x]),_=(0,t.useFacetMap)((e=>e.error===aE.PackDependencyWarning||e.error===aE.IncompletePack||e.error===aE.VersionTooHigh||e.error===aE.VersionTooLow?"noticeTint":"destructiveTint"),[],[x]),D=(0,t.useFacetMap)((e=>0!=e.length),[],[L]),B=(0,t.useFacetMap)(((e,t)=>!(!e||t.error===aE.NeedToDownloadPack)&&(c||t.error===aE.VersionTooHigh||t.error===aE.VersionTooLow||t.error===aE.IncompletePack)),[c],[D,x]),W=(0,t.useFacetMap)((e=>!e.isMarketplaceItem),[],[x]),U=(0,t.useFacetMap)((e=>{const t=null!=e.image&&e.image.length>0?e.image:Fx;return e.id.startsWith("7f4ba1a2-43dd-45b1-aa3f-0b3ca2ebd5c8")?vx:t}),[],[x]),z=(0,e.useRef)(null),j=(0,t.useFacetMap)((e=>e?1:0),[],[w]),H=(0,t.useFacetMap)((e=>e===I),[I],[s]),V=!1===(0,t.useFacetUnwrap)(H),G=!0===(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>!e),[],[w])),{handlers:$,dragStateFacet:K}=function({id:n,data:a,index:r,ref:l,pointerAxisLock:o,onDragStart:i,disabled:c,gamepadDragXOffsetPx:s,gamepadDragYOffsetPx:u}){const d=Ph(),m=(0,e.useContext)(Ah),p=(0,t.useFacetMap)((e=>e[n]),[n],[(0,t.useFacetWrap)(null!=m?m:{})]);(0,e.useEffect)((()=>{if(null!=d&&1!=c)return d.addDraggable({id:n,index:r,data:a,ref:l,pointerAxisLock:o,onDragStart:i,gamepadDragXOffsetPx:s,gamepadDragYOffsetPx:u}),()=>{d.removeDraggable(n)}}),[n,a,d,l,r,o,i,s,u,c]);const f=(0,t.useFacetCallback)((e=>t=>("gamepad"==e.dragging&&null!=d&&("up"!==t&&"down"!=t||d.focusDragMove(t)),0!=e.dragging)),[d],[p]),g=(0,e.useCallback)((e=>{if(null==d||null==e)return;const{clientX:t,clientY:a}=null!=e.clientX?e:e.touches[0];i?i((()=>{d.pointerDragStart(n,t,a)})):d.pointerDragStart(n,t,a)}),[d,n,i]),E=(0,e.useCallback)((()=>{null!=d&&(i?i((()=>{d.focusDragToggle(n)})):d.focusDragToggle(n))}),[d,i,n]);return{dragStateFacet:p,handlers:(0,e.useMemo)((()=>({onMouseDown:g,onGamepadClick:E,onUp:()=>!0===f("up"),onDown:()=>!0===f("down"),onLeft:()=>!0===f("left"),onRight:()=>!0===f("right")})),[g,E,f])}}({data:r,id:I,index:r,onDragStart:p,pointerAxisLock:"y",ref:z,disabled:G,gamepadDragXOffsetPx:Go(-.4),gamepadDragYOffsetPx:Go(-.8)}),X=function({id:n,index:a,ref:r,data:l,disabled:o,onDrop:i}){const c=Ph(),s=(0,e.useContext)(Nh),u=(0,t.useFacetMap)((e=>null!=e[n]?e[n]:{}),[n],[(0,t.useFacetWrap)(null!=s?s:{})]);return(0,e.useEffect)((()=>{if(null!=c&&1!=o)return c.addDroppable({id:n,index:a,ref:r,data:l,onDrop:i}),()=>{c.removeDroppable(n)}}),[n,a,r,l,i,c,o]),u}({id:I,index:r,data:r,onDrop:(e,t)=>{setTimeout((()=>{ie(y(".narrationReorderComplete",[`${t+1}`]))}),16),f(I,e,t)},ref:z,disabled:G}),Y=(0,t.useFacetMap)((e=>null!=e&&0!=e.dragging),[],[K]),q=(0,t.useFacetMap)((e=>null!=e&&e.dragging),[],[K]),Q=(0,t.useFacetMap)((e=>null!=e?e.displacement:0),[],[X]),J=(0,t.useFacetMap)((e=>null!=e?e.zIndex:""),[],[K]),Z=(0,t.useFacetMap)((e=>null!=e?e.transform:""),[],[K]),ee=(0,t.useFacetMap)((e=>null==e?"":`translate(0, ${100*e+"%"})`),[],[Q]),te=(0,t.useFacetMap)((e=>e?"-0.4rem":"0"),[],[Y]),ne=(0,t.useFacetMap)((e=>e?"-0.8rem":"0"),[],[Y]),ae=(0,t.useFacetMap)((e=>e?"0.7200000000000001rem 1.4400000000000002rem 0 rgba(0, 0, 0, 0.3)":""),[],[Y]),re=(0,t.useFacetMap)((e=>y(e?".dropInputLegendText":".dragInputLegendText")),[y],[Y]),le=(0,t.useFacetMap)(((e,t)=>null==t||e?"":"transform 100ms linear"),[],[Y,Q]),oe=(0,t.useFacetMap)((e=>"gamepad"===e?"transform 100ms linear":""),[],[q]),{narrateText:ie}=Fs(),ce=(0,t.useFacetCallback)(((e,t)=>()=>{ie([y((t=!t)?".narrationExpanded":".narrationCollapsed"),t?y(".narrationExpandedHint"):null].filter(Ox).join(" . ")),g(e.id)}),[g,ie,y],[n,H]),se=(0,t.useFacetCallback)(((e,t)=>()=>{t.fireEventButtonPressed("Resource_Pack_Pack_Manifest_Button_OreUI",{}),S.push(`/manifest-validation/${e.contentId}`)}),[S],[n,M]),ue=(0,t.useFacetMap)((e=>y(e?".collapseDescriptionInputLegend":".expandDescriptionInputLegend")),[y],[H]),de=(0,t.useFacetMap)((e=>Or()(yx.expandArrowIcon,{[yx.flipped]:e})),[],[H]),me=(0,t.useFacetMap)((e=>e.hasSettings&&c),[c],[n]),pe=(0,t.useFacetMap)(((e,t)=>[e,y(".narrationComponentType"),t>0?y(".narrationListLengthContext",[`${r+1}`,`${t}`]):void 0].filter(Ox).join(" . ")),[y,r],[P,(0,t.useFacetWrap)(null!=u?u:0)]),fe=(0,t.useFacetMap)(((e,t,n)=>[y(".narrationPackDescription"),y(".narrationAccordion"),y(e?".narrationExpanded":".narrationCollapsed"),e?null:y(t||n?".narrationExpandHint":".narrationExpandHintNoButtons")].filter(Ox).join(" . ")),[y],[H,k,me]),ge=(0,t.useFacetMap)((e=>[y(".narrationReorderPack"),y(".narrationPackRank",[`${r+1}`]),y(".narrationButton"),y(e?".narrationReorderPointerHint":".narrationReorderGamepadHint"),y(".narrationMultiplePacksHint")].filter(Ox).join(" . ")),[y,r],[C]),Ee=(0,t.useFacetMap)((e=>null==e?void 0:e.gamepadHoverIndex),[],[K]),he=(0,t.useFacetMap)((e=>null==e?void 0:e.pointerHoverIndex),[],[K]),be=(0,t.useFacetMap)((e=>null==e?void 0:e.hasDraggedPointerBeyondStartArea),[],[K]);(0,t.useFacetEffect)(((e,t,n,a,r)=>{!e||null==t&&null==n||(a&&null!=n&&r?ie(y(".narrationReorderPointerChangeConfirmation",[`${n+1}`])):null!=t&&ie(y(".narrationReorderGamepadChangeConfirmation",[`${t+1}`])))}),[ie,y],[Y,Ee,he,C,be]),(0,t.useFacetEffect)(((e,t)=>{e&&ie(y(t?".narrationReorderPointerDraggingHint":".narrationReorderGamepadDraggingHint"))}),[ie,y],[Y,C]);const ve=(0,e.useContext)(Ix),Fe=hr(d),ye=gr(d),Se=(0,t.useFacetMap)((e=>e?Fe.contract:Fe.expand),[Fe],[H]);return I==t.NO_VALUE?null:e.createElement(Ps,{text:pe,key:I},e.createElement(ja,{role:d},e.createElement(jC,{options:{index:a}},e.createElement(Is,{options:{index:0}},e.createElement("fast-div",{style:{top:ne,left:te,zIndex:J}},e.createElement("fast-div",{ref:z,style:{transform:Z,transition:oe},className:yx.packListItemContent},e.createElement("fast-div",{className:yx.packListItemDragAnimationContainer,style:{transform:ee,boxShadow:ae,transition:le}},e.createElement(Yb,{gamepadIndex:0,defaultFocusedChildBehavior:"grid"},e.createElement(t.Mount,{when:w},e.createElement(Yb.AdditionalAction,Ax({fitContent:!0,onClick:Bx,inputLegend:re,narrationText:ge,gamepadIndex:0,touchDetectionDelay:0,soundEffectPressed:Fe.lift},$),e.createElement(Yb.Cell,{direction:"row"},e.createElement(Yc,{size:2}),e.createElement(Rc,{src:px,className:yx.draggableIcon,imageRendering:"pixelated"}),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionShort"},r+1),e.createElement(Yc,{size:2})))),e.createElement(Yb.Action,{inputLegend:ue,gamepadIndex:j,narrationText:fe,onClick:ce,soundEffectPressed:Se},e.createElement(Yb.Cell,null,e.createElement(Rc,{src:U,className:Or()(yx.packImage,ye.border.base,yx.border)})),e.createElement(Yb.Main,null,e.createElement(zs,{type:"body"},e.createElement(ru,null,P)),e.createElement(t.Mount,{when:B},e.createElement(ux,{role:_},L))),e.createElement(Yb.Cell,{direction:"row"},e.createElement(Rc,{src:fx,className:de,imageRendering:"pixelated"}),e.createElement(Yc,{size:4}))),e.createElement(t.Mount,{when:me},e.createElement(Yb.AdditionalAction,{inputLegend:y(".settingsButtonText"),onClick:()=>b(I),narrationText:y(".narrationSettingsButton"),gamepadIndex:2},e.createElement(Yb.Cell,{align:"center"},e.createElement(Rc,{src:Ex,className:yx.settingsIcon,imageRendering:"pixelated"}),e.createElement(Yc,{size:1}),e.createElement(zs,{align:"center",type:"captionTiny"},y(".settingsButtonText"))))),e.createElement(t.Mount,{when:k},e.createElement(Yb.AdditionalAction,{inputLegend:y(".removeButtonText"),onClick:()=>E(I,r,ve),narrationText:y(".narrationRemoveButton"),gamepadIndex:3,gamepadAlias:xx("remove",I)},e.createElement(Yb.Cell,{align:"center"},e.createElement(Rc,{src:gx,className:yx.removeIcon,imageRendering:"pixelated"}),e.createElement(Yc,{size:1}),e.createElement(zs,{align:"center",type:"captionTiny"},y(".removeButtonText"))))),e.createElement(t.Mount,{when:B},e.createElement(Yb.AdditionalAction,{inputLegend:y(".detailsButtonText"),onClick:se,narrationText:y(".narrationDetailsButton"),gamepadIndex:4},e.createElement(Yb.Cell,{align:"center"},e.createElement(Rc,{src:bx,className:yx.addIcon,imageRendering:"pixelated"}),e.createElement(Yc,{size:1}),e.createElement(zs,{align:"center",type:"captionTiny"},y(".detailsButtonText"))))),e.createElement(t.Mount,{when:T},e.createElement(Yb.AdditionalAction,{inputLegend:y(".activateButtonText"),onClick:()=>h(I,P,O,R.current,r,ve),narrationText:y(".narrationActivateButton"),gamepadIndex:2,gamepadAlias:xx("activate",I)},e.createElement(Yb.Cell,{align:"center"},e.createElement(Rc,{src:hx,className:yx.addIcon,imageRendering:"pixelated"}),e.createElement(Yc,{size:1}),e.createElement(zs,{align:"center",type:"captionTiny"},y(".activateButtonText"))))))))),e.createElement(mx,{disabled:V,shouldSkipLandmarkInVisual:!0,gamepadIndex:1},e.createElement(Lx,{size:O,description:A,onClickMoreDetails:()=>v("string"==typeof I?I:""),onClickTechnicalDetails:se,expanded:H,hideMarketplaceLink:W,hideSize:W,outerRole:d,innerRole:m,showTechnicalDetailsLink:F&&I!=Nx}))))))}function Lx({expanded:n,description:a,size:r,onClickMoreDetails:l,onClickTechnicalDetails:o,hideMarketplaceLink:i,hideSize:c,outerRole:s,innerRole:u,showTechnicalDetailsLink:d=!1}){const m=(0,e.useRef)(null),{t:p}=Ii("PackListItem"),[f,g]=lx(n),E=(0,t.useFacetMap)((e=>!e),[],[n]),h=gr(s),b=gr(u),v=(0,t.useFacetMap)(((e,t,n)=>[n?null:e,t].filter(Ox).join(" . ")),[],[r,a,c]);return e.createElement(Ps,{text:v},e.createElement(Pc,{containerRef:m,delegateFocusFromMemory:!0},e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>Or()(yx.expandableWrapper,h.background.base,{[yx.expanded]:e})),[h],[n]),ref:m,style:f},e.createElement(ja,{role:u},e.createElement("div",{ref:g},e.createElement(ic.Maybe,{narrationText:!1,gamepadIndex:0,isInteractive:i,className:Or()(yx.expandableContent,b.background.base,b.border.base),classNameFocused:ji},e.createElement(zi,null),e.createElement(Yc,{size:3}),e.createElement("div",{className:yx.expandableContentWrapper},e.createElement("div",{className:yx.expandableContentDescription},e.createElement(zs,{type:"captionLong"},a),e.createElement(Yc,{size:3}),e.createElement(t.Mount,{when:i,condition:!1},e.createElement(zs,{type:"captionLong"},e.createElement(WS,{disabled:E,gamepadIndex:0,onClick:l,withUnderlinePolyfill:!0},p(".descriptionMarketplaceLink"))))),e.createElement("div",{className:yx.expandableContentLinksWrapper},e.createElement(t.Mount,{when:c,condition:!1},e.createElement(zs,{type:"captionShort",variant:"dimmer"},r)),d&&e.createElement(e.Fragment,null,e.createElement("div",null),e.createElement(zs,{type:"captionLong"},e.createElement(WS,{gamepadIndex:1,onClick:o,withUnderlinePolyfill:!0},p(".descriptionTechnicalDetailsLink")))))),e.createElement(t.Mount,{when:c,condition:!1},e.createElement(Yc,{size:3}))),e.createElement(Yc,{size:3}))))))}function _x({pack:n,index:a,gamepadIndex:r,containerListLength:l,role:o="neutral"}){const i=Px(n),c=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.id),[],[i])),s=(0,t.useFacetMap)((e=>e.name),[],[i]),u=(0,t.useFacetMap)((e=>null!=e.image&&e.image.length>0?e.image:Fx),[],[i]),{t:d}=Ii("PackListItem"),m=(0,t.useFacetMap)(((e,t)=>[e,d(".narrationComponentType"),t>0?d(".narrationListLengthContext",[`${a+1}`,`${t}`]):void 0,d(".narrationDeactivatedState")].filter(Ox).join(" . ")),[d,a],[s,(0,t.useFacetWrap)(null!=l?l:0)]),p=gr(o),f=ta();return c==t.NO_VALUE?null:e.createElement(Ps,{text:m,key:c},e.createElement(jC,{options:{index:r}},e.createElement(Is,{options:{index:0}},e.createElement(Yb,{isFocusable:f,gamepadIndex:0},e.createElement(Yc,{size:2}),e.createElement(Yb.Cell,null,e.createElement(Rc,{src:u,className:Or()(yx.disabledPackImage,p.border.base,yx.border)})),e.createElement(Yb.Main,null,e.createElement(zs,{type:"body",variant:"dimmer"},e.createElement(ru,null,s)))))))}function Dx(t){return function(e){var t;return null!==(t=e.deactivated)&&void 0!==t&&t}(t)?e.createElement(_x,t):e.createElement(Rx,t)}function Bx(){}function Wx(e,t){const n=[];for(let a=0;a<e.length;a++)n[a]=t(e[a],a,e);return n}function Ux(e,t){for(let n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}const zx=n=>{const a=(0,t.useFacetMemo)((e=>{const t=om(e,(e=>e.id===n.packId));return null!=t?t:e[n.index]}),[n.packId,n.index],[n.packs]),r=(0,t.useFacetMap)((e=>e.length),[],[n.packs]);return e.createElement(Dx,{showTechnicalDetailsLink:n.showTechnicalDetailsLink,gamepadIndex:n.index,pack:a,index:n.index,draggable:n.draggable,expandedPackId:n.expandedId,removable:n.isNotLockedTemplate,containerListLength:r,onDragStart:n.onDragStart,onDrop:n.onDrop,onExpand:n.onExpand,onRemove:n.onRemove,canShowSettingsButton:n.canShowSettingsButton,onClickPackSettings:n.onClickPackSettings,onClickMoreDetails:n.onClickMoreDetails})};function jx(){let e=[];return function(t){if(e.length!==t.length)return e=Wx(t,(e=>e.id)),!1;const n=Ux(t,((t,n)=>e[n]===t.id));return n||(e=Wx(t,(e=>e.id))),n}}function Hx(n){const a=(0,t.useFacetMemo)((e=>e),[],[n.packsFacet],jx),r=(0,t.useFacetMap)((e=>e.map((e=>e.id))),[],[a]),l=(0,t.useFacetUnwrap)(r);return l!==t.NO_VALUE?e.createElement(e.Fragment,null,null==l?void 0:l.map(((t,r)=>e.createElement(zx,{showTechnicalDetailsLink:n.showTechnicalDetailsLink,packs:a,key:l[r],packId:t,index:r,draggable:n.draggable,expandedId:n.expandedId,onDragStart:n.onDragStart,onDrop:n.onDrop,onExpand:n.onExpand,onRemove:n.onRemove,canShowSettingsButton:n.canShowSettingsButton,onClickPackSettings:n.onClickPackSettings,onClickMoreDetails:n.onClickMoreDetails,isNotLockedTemplate:n.isNotLockedTemplate})))):null}const Vx=t=>{const{gamepadAliasNamespace:n,path:a,narrationTitle:r}=t,{t:l}=Ii("PackTabs"),o=Hr(),i="edit"===(0,e.useContext)(Dv),c=Vr(),s=[{label:l(".activeTabButtonLabel"),value:"active"},{label:l(".availableTabButtonLabel"),value:"available"}],u=ve(),d=i?`edit-world/${c.id}`:"create-new-world";return e.createElement(Dh,{gamepadAliasNamespace:n,gamepadIndex:1,value:c.worldTemplateId,onChange:e=>{u(Dh.getFocusAlias(n,e)),o.replace(`/${d}/${a}/${e}`)},tabs:s,enableGamepadShortcuts:c.tab===a,narrationTitle:r})};function Gx({component:n,filter:a,gamepadIndex:r}){const l=Vr().worldTemplateId===a,o=Nr(),i=(0,t.useFacetMap)((e=>l&&e),[l],[o]);return e.createElement(Ar,{active:i},e.createElement(jC,{options:{index:r,disabled:!l}},e.createElement(zr,{visible:l,contentComponent:n,unmountOnExit:!1})))}function $x(){return(0,e.useMemo)((()=>{const e=(0,t.createFacet)({initialValue:!1});return{closeExpanded:()=>e.set(!1),toggleExpanded:t=>e.setWithCallback((e=>e!=t&&t)),expandedId:e}}),[])}const Kx=(e,n,a,r,l,o)=>{const i=(0,t.useFacetMap)((e=>e.length>1),[],[e]);return{isDraggable:(0,t.useFacetMap)(((e,t)=>e&&!t),[],[i,l]),changePackPriority:(0,t.useFacetCallback)((()=>(e,t,a)=>{o&&o(e,n,t,a)}),[n,o],[]),dragStartHandler:(0,t.useFacetCallback)((e=>t=>{!1===e?t():(r(),setTimeout((()=>{t()}),200))}),[r],[a])}},Xx=n.p+"assets/marketplace-icon-7f96f.png";function Yx({titleText:n,bodyText:a,onClick:r}){const{t:l}=Tp("GetMoreButton"),o=gr("neutral"),i=(0,t.useFacetWrap)(a),c=(0,t.useFacetMap)((e=>`${n} . ${l(".buttonNarration")} , ${e}`),[l,n],[i]);return e.createElement(yu,{delayedClick:!0,inputLegend:l(".inputLegend"),narrationText:c,onClick:r,variant:"neutral",reflection:"bevel"},e.createElement("div",{className:"OR02_"},e.createElement(Rc,{src:Xx,className:"YPAP8",imageRendering:"pixelated"}),e.createElement(Yc,{size:3}),e.createElement("div",{className:Or()("BrsPl",o.text.base)},e.createElement(zs,{type:"body"},n),e.createElement(zs,{variant:"dimmer",type:"captionShort"},a))))}const qx=n.p+"assets/marketplace-pass-promotion-static-d1708.png",Qx=n.p+"assets/minecraft-texture-pack-4c96b.png",Jx={container:"g9sbm",draggableDashedBackground:"ufNa6",draggableDashedBackgroundGreyCover:"mojsE"};function Zx(e){const n=Hr(),a=mM.useShowModal(),r=ta();return(0,t.useFacetCallback)((t=>l=>{function o(){n.push(`/marketplace?packId=${l.substring(0,36)}`),t.fireEventButtonPressed(e,{})}r?a({onAccept:o}):o()}),[n,a,r,e],[(0,t.useSharedFacet)(fg)])}const eI="tab-bar-cnw-rp-available",tI="empty-local-active-rp",nI="empty-available-rp",aI="empty-realms-plus-rp";function rI({worldPacks:n,resourcePacksData:a,isEditorWorld:r,isLockedTemplate:l,onClickPackMoreDetails:o,onClickPackSettings:i,onChangePackPriority:c}){const s=Nr(),u=(0,t.useFacetMap)((e=>({index:0,disabled:!e})),[],[s]);return e.createElement(Is,{options:u},(0,e.useMemo)((()=>e.createElement(e.Fragment,null,e.createElement(t.DeferredMount,null,e.createElement(iI,{worldPacks:n,isEditorWorld:r,isLockedTemplate:l,onClickPackMoreDetails:o,onClickPackSettings:i,onChangePackPriority:c})),e.createElement(Yc,{size:6}),e.createElement(t.DeferredMount,null,e.createElement(oI,{worldPacks:n,resourcePacksData:a,onClickPackMoreDetails:o})),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))),[n,a,r,l,o,i,c]))}const lI=e=>({id:Nx,contentId:Nx,name:e(".globalMinecraftPackTitle"),creator:"Minecraft",description:e(".globalMinecraftPackDescription"),size:"n/a",image:Qx,isMarketplaceItem:!1,isPlatformLocked:!1,hasSettings:!1});function oI({worldPacks:n,resourcePacksData:a,onClickPackMoreDetails:r}){const{t:l}=Tp("CreateNewWorld.resourcePacks"),o=(0,t.useFacetMap)((e=>e.globalTexturePacks),[],[n]),i=(0,t.useFacetMap)((e=>e.activeTexturePacks),[],[n]),c=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.length),[],[i])),s=c==t.NO_VALUE||0===c?1:c,{toggleExpanded:u,expandedId:d}=$x(),m=(0,e.useContext)(Dv)===_v.EDIT,p=(0,t.useFacetMap)(((e,t)=>m?e.sharedPacksEnabled:t.sharedPacks),[m],[a,n]),f=!0===(0,t.useFacetUnwrap)(p),g=(0,t.useFacetMap)((e=>0===e.length?1:e.length+1),[],[o]),E=(0,t.useFacetUnwrap)(g),h=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>s+e-1),[s],[g])),b=E===t.NO_VALUE?0:E-1,v=h===t.NO_VALUE?0:h;return e.createElement(Ps,{text:l(".narrationGlobalPacksHeader")},e.createElement(nb,{role:"neutral",label:l(".globalPacksListHeader")}),e.createElement(t.Map,{array:o},((t,n)=>f?e.createElement(Dx,{containerListLength:g,deactivated:!0,pack:t,index:n,gamepadIndex:n+s}):e.createElement(Dx,{pack:t,containerListLength:g,showTechnicalDetailsLink:!0,index:n,gamepadIndex:n+s,expandedPackId:d,onExpand:u,canShowSettingsButton:!1,onClickMoreDetails:r}))),e.createElement(Dx,{showTechnicalDetailsLink:!0,containerListLength:g,pack:(0,t.useFacetWrap)(lI(l)),index:b,gamepadIndex:v,expandedPackId:d,onExpand:u,onClickMoreDetails:r}),e.createElement(sx,{text:l(".globalPacksInfoMessage")}))}function iI({worldPacks:n,isLockedTemplate:a,onClickPackMoreDetails:r,onClickPackSettings:l,onChangePackPriority:o,role:i="neutral"}){const{t:c}=Tp("CreateNewWorld.resourcePacks"),s=gr(i),u=(0,t.useFacetMap)((e=>e.activeTexturePacks),[],[n]),d=(0,t.useFacetMap)((e=>e.length<1),[],[u]),m=(0,t.useFacetMap)((e=>e.length>1),[],[u]),{expandedId:p,toggleExpanded:f,closeExpanded:g}=$x(),{isDraggable:E,changePackPriority:h,dragStartHandler:b}=Kx(u,tE.Resource,p,g,a,o),{deactivatePack:v}=mI(),F=(0,t.useFacetMap)((e=>!e),[],[a]);return e.createElement(Ps,{text:c(".narrationActiveLocalPacksHeader")},e.createElement(nb,{role:"neutral",label:c(".localPacksListHeader")}),e.createElement(t.Mount,{when:d},e.createElement(GE,{gamepadAlias:tI,title:c(".emptyLocalActivePacksMessageTitle"),text:c(".emptyLocalActivePacksMessageDescription"),gamepadIndex:0})),e.createElement("div",{className:Jx.draggableDashedBackground},e.createElement("div",{className:Or()(Jx.draggableDashedBackgroundGreyCover,s.background.base)}),e.createElement(t.Mount,{when:d,condition:!1},e.createElement(Ix.Provider,{value:"active"},e.createElement(Hx,{showTechnicalDetailsLink:!0,packsFacet:u,draggable:E,expandedId:p,onDragStart:b,onDrop:h,onExpand:f,onRemove:v,onClickMoreDetails:r,onClickPackSettings:l,canShowSettingsButton:!0,isNotLockedTemplate:F})))),e.createElement(t.Mount,{when:a,condition:!1},e.createElement(t.Mount,{when:m},e.createElement(sx,{text:c(".packPriorityInfoMessage")}))),e.createElement(t.Mount,{when:a},e.createElement(sx,{text:c(".changesDisabledMessage")})))}function cI({worldPacks:n,isEditorWorld:a,isLockedTemplate:r,onClickPackMoreDetails:l}){const o=Nr(),i=(0,t.useFacetMap)((e=>({index:0,disabled:!e})),[],[o]),{t:c}=Tp("CreateNewWorld.resourcePacks"),{toggleExpanded:s,expandedId:d}=$x(),m=u(),p=ta(),f=mM.useShowModal(),g=(0,t.useSharedFacet)(Bg),E=(0,t.useSharedFacet)(Pp),h=(0,t.useSharedFacet)(fg),b=(0,t.useFacetMap)((e=>e.activeTexturePacks),[],[n]),v=(0,t.useFacetMap)((e=>e.availableTexturePacks),[],[n]),F=(0,t.useFacetMap)((e=>e.length<1),[],[v]),y=(0,t.useFacetMap)((e=>e.length),[],[v]),S=(0,t.useFacetMap)(((e,t)=>!e&&!t),[],[(0,t.useSharedFacet)(Pm),a]),C=(0,t.useFacetMap)((e=>e.length>0),[],[b]),M=(0,t.useFacetMap)((e=>c(e?".activatedAllPacksMessageTitle":".userOwnsNoPacksMessageTitle")),[c],[C]),w=(0,t.useFacetMap)((e=>c(e?".activatedAllPacksMessageDescription":".userOwnsNoMessageDescription")),[c],[C]),k=(0,t.useFacetMap)(((e,t)=>!e&&!t),[],[r,g]),T=c(".getMoreButton.title"),x=c(".getMoreButton.body"),{activatePack:I}=mI(),P=(0,t.useFacetCallback)(((e,t)=>()=>{function n(){t.fireEventButtonPressed("Get_More_Packs_Button_OreUI",{});const n=e.getMorePacks?`?title=${e.getMorePacks.title}&pageId=${e.getMorePacks.pageId}`:"";m.push(`/marketplace${n}`)}p?f({onAccept:n}):n()}),[m,p,f],[E,h]);return e.createElement(Is,{options:i},(0,e.useMemo)((()=>e.createElement(e.Fragment,null,e.createElement(ox,{gamepadIndex:0,label:c(".inactivePacksAccordionHeader"),count:y,narrationHint:c(".inactivePacksAccordionHint"),onExpandNarrationHint:c(".inactivePacksOnExpandAccordionHint"),expandedDefaultState:!1},e.createElement(t.Mount,{when:F},e.createElement(GE,{gamepadAlias:nI,title:M,text:w,gamepadIndex:0})),e.createElement(Ix.Provider,{value:"available"},e.createElement(t.Map,{array:v},((t,n)=>e.createElement(Dx,{containerListLength:y,activatable:k,onActivate:I,pack:t,index:n,gamepadIndex:n,expandedPackId:d,onExpand:s,onClickMoreDetails:l})))),e.createElement(Yc,{size:3})),e.createElement(sI,{worldPacks:n,isEditorWorld:a,isLockedTemplate:r,expandedId:d,toggleExpanded:s,onClickPackMoreDetails:l}),e.createElement(Yc,{size:1}),e.createElement(t.Mount,{when:S},e.createElement(Yx,{titleText:T,bodyText:x,onClick:P})),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))),[c,y,F,M,w,v,n,a,r,d,s,l,S,T,x,P,k,I]))}function sI({worldPacks:n,isEditorWorld:a,isLockedTemplate:r,expandedId:l,toggleExpanded:o,onClickPackMoreDetails:i}){const{t:c}=Tp("CreateNewWorld.resourcePacks"),s=(0,t.useSharedFacet)(Dg),u=(0,t.useFacetMap)(((e,t,n)=>e.realmsPlusSupported&&!t&&!n),[],[n,(0,t.useSharedFacet)(Pm),a]),d=(0,t.useFacetMap)((e=>e.isRealmsPlusSubscriptionActive||e.isMarketplacePassSubscriptionActive),[],[s]),m=(0,t.useFacetMap)((e=>!e.isMarketplacePassSubscriptionActive&&!e.isRealmsPlusSubscriptionActive),[],[s]),p=(0,t.useFacetMap)((e=>e.realmsTexturePacks),[],[n]),f=(0,t.useFacetMap)((e=>e.length<=0),[],[p]),g=(0,t.useFacetMap)(((e,t)=>t?e.length:"100+"),[],[p,d]),E=(0,t.useFacetMap)((e=>!e),[],[r]),{activatePack:h}=mI();return e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement(t.Mount,{when:u},e.createElement(ox,{gamepadIndex:1,label:c(".marketplacePassPacksAccordionHeader"),count:g,narrationHint:c(".marketplacePassPacksAccordionHint"),onExpandNarrationHint:c(".marketplacePassPacksOnExpandAccordionHint"),expandedDefaultState:!1},e.createElement(t.Mount,{when:d},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:f},e.createElement(GE,{gamepadAlias:aI,gamepadIndex:0,title:c(".marketplacePassPacksEmptyTitle"),text:c(".marketplacePassPacksEmptyBody")})),e.createElement(Ix.Provider,{value:"realms"},e.createElement(t.Map,{array:p},((t,n)=>e.createElement(Dx,{activatable:E,onActivate:h,pack:t,index:n,gamepadIndex:n,expandedPackId:l,onExpand:o,onClickMoreDetails:i})))))),e.createElement(t.Mount,{when:m},e.createElement(uI,null)),e.createElement(Yc,{size:3}))))}function uI(){const{t}=Tp("CreateNewWorld.resourcePacks"),n=Hr();return e.createElement(GE,{title:t(".marketplacePassPromotionTitle"),text:t(".marketplacePassPromotionBody"),imgSrc:qx,imgClass:Jx.marketplacePassPromotionImage,buttons:[{text:t(".marketplacePassPromotionButtonLabel"),inputLegend:t(".marketplacePassPromotionButtonInputLegend"),onClick:()=>n.push("/csb-pdp?tab=default")}],gamepadIndex:0})}const dI=(0,e.createContext)({}),mI=()=>(0,e.useContext)(dI);function pI({worldPacks:n,multiplayerData:a,resourcePacksData:r,isEditorWorld:l,isLockedTemplate:o,isAchievementsDisabled:i,achievementsDisabledMessages:c,onActivatePack:s,onDeactivatePack:u,onChangePackPriority:d,onClickPackSettings:m,onUnlockTemplateSettings:p}){const{t:f}=Tp("CreateNewWorld.resourcePacks"),{t:g}=Tp("CreateNewWorldSideMenu"),E=bE(rp),h=(0,t.useSharedFacet)(Bg),{activatePack:b,deactivatePack:v}=Tx(tE.Resource,{active:{tabsAlias:"tab-bar-cnw-rp-active",emptyStateMessageAlias:tI},available:{tabsAlias:eI,emptyStateMessageAlias:nI},realms:{tabsAlias:eI,emptyStateMessageAlias:aI}},n,a,s,u),F=(0,t.useFacetMap)(((e,t)=>e||t.isTrialAccount),[],[o,(0,t.useSharedFacet)(Dg)]),y=(0,e.useMemo)((()=>({activatePack:b,deactivatePack:v})),[b,v]),S=Zx("Resource_Pack_More_Details_Button_OreUI"),C=(0,e.useContext)(Dv)===_v.EDIT,M=(0,t.useFacetMap)(((e,t)=>C?e.sharedPacksEnabled:t.sharedPacks),[C],[r,n]),w=(0,t.useFacetMap)((e=>e&&E),[E],[h]),k=(0,e.useRef)(!0),T=(0,t.useFacetCallback)(((e,t)=>n=>{C?e.sharedPacksEnabled=n:t.sharedPacks=n}),[C],[r,n]),x=(0,e.useCallback)((()=>e.createElement(rI,{worldPacks:n,resourcePacksData:r,isEditorWorld:l,isLockedTemplate:o,onClickPackSettings:m,onClickPackMoreDetails:S,onChangePackPriority:d})),[n,r,l,o,m,S,d]),I=(0,e.useCallback)((()=>e.createElement(cI,{worldPacks:n,isEditorWorld:l,isLockedTemplate:o,onClickPackMoreDetails:S})),[n,l,o,S]);return(0,t.useFacetEffect)(((e,t)=>{e&&!k.current&&t.queueSnackbar(f(".globalPacksDeactivatedSnackbarMessage")),k.current=!1}),[f],[M,(0,t.useSharedFacet)(_p)]),e.createElement(Fl,{data:w},(n=>e.createElement(e.Fragment,null,n?e.createElement(Dw,{context:Lw.RESOURCE_PACKS_TAB}):e.createElement(dI.Provider,{value:y},e.createElement(t.DeferredMountProvider,null,e.createElement(Rh,null,e.createElement(qM,{isEditorWorld:l,isLockedTemplate:o,isAchievementsDisabled:i,achievementsDisabledMessages:c,nestedRoutes:!0,narrationText:g(".resourcePacksTabLabel"),onUnlockTemplateSettings:p},e.createElement(t.DeferredMount,null,e.createElement(iC,{disabled:F,gamepad:{index:0},title:f(".sharedPacksTitle"),description:f(".sharedPacksDescription"),onNarrationText:f(".sharedPacksDeactivatingGlobalPacks"),offNarrationText:f(".sharedPacksActivatingGlobalPacks"),onChange:T,value:M})),e.createElement("div",{className:Jx.container},e.createElement(Vx,{gamepadAliasNamespace:"cnw-rp",path:"resource-packs",narrationTitle:g(".resourcePacksTabLabel")}),e.createElement(Yc,{size:2}),e.createElement(Gx,{component:x,gamepadIndex:3,filter:"active"}),e.createElement(Gx,{component:I,gamepadIndex:3,filter:"available"}),e.createElement(Yc,{size:2})))))))))}const fI=n.p+"assets/empty-state-art-cd6d3.png",gI="empty-active-bp",EI="empty-available-bp";function hI({worldPacks:n,isLockedTemplate:a,onChangePackPriority:r,onClickPackSettings:l,onClickPackMoreDetails:o}){const i=Nr(),c=(0,t.useFacetMap)((e=>({index:0,disabled:!e})),[],[i]);return e.createElement(e.Fragment,null,e.createElement(Is,{options:c},(0,e.useMemo)((()=>e.createElement(bI,{isLockedTemplate:a,worldPacks:n,onChangePackPriority:r,onClickPackSettings:l,onClickPackMoreDetails:o})),[a,r,n,l,o])),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))}function bI({role:n="neutral",worldPacks:a,isLockedTemplate:r,onChangePackPriority:l,onClickPackMoreDetails:o,onClickPackSettings:i}){const{t:c}=Tp("CreateNewWorld.behaviorPacks"),{toggleExpanded:s,expandedId:u,closeExpanded:d}=$x(),m=gr(n),{deactivatePack:p}=yI(),f=(0,t.useFacetMap)((e=>e.activeBehaviorPacks),[],[a]),g=(0,t.useFacetMap)((e=>e.length<1),[],[f]),E=(0,t.useFacetMap)((e=>e.length>1),[],[f]),h=(0,t.useFacetMap)((e=>!e),[],[r]),{isDraggable:b,changePackPriority:v,dragStartHandler:F}=Kx(f,tE.Behavior,u,d,r,l);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:g},e.createElement(GE,{gamepadAlias:gI,title:c(".emptyLocalActivePacksMessageTitle"),text:c(".emptyLocalActivePacksMessageDescription"),gamepadIndex:0})),e.createElement("div",{className:"PWSBv"},e.createElement("div",{className:Or()("pTqB3",m.background.base)}),e.createElement(t.Mount,{when:g,condition:!1},e.createElement(Ix.Provider,{value:"active"},e.createElement(Hx,{showTechnicalDetailsLink:!0,packsFacet:f,draggable:b,expandedId:u,onDragStart:F,onDrop:v,onExpand:s,onRemove:p,onClickMoreDetails:o,onClickPackSettings:i,canShowSettingsButton:!0,isNotLockedTemplate:h})))),e.createElement(t.Mount,{when:r,condition:!1},e.createElement(t.Mount,{when:E},e.createElement(sx,{text:c(".packPriorityInfoMessage")}))),e.createElement(t.Mount,{when:r},e.createElement(sx,{text:c(".changesDisabledMessage")})))}function vI({worldPacks:n,isLockedTemplate:a,onClickPackMoreDetails:r}){const{t:l}=Tp("CreateNewWorld.behaviorPacks"),{toggleExpanded:o,expandedId:i}=$x(),{activatePack:c}=yI(),s=Nr(),u=(0,t.useFacetMap)((e=>({index:0,disabled:!e})),[],[s]),d=(0,t.useFacetMap)((e=>e.availableBehaviorPacks),[],[n]),m=(0,t.useFacetMap)((e=>e.length<1),[],[d]),p=(0,t.useFacetMap)((e=>!e),[],[a]);return e.createElement(e.Fragment,null,e.createElement(Is,{options:u},(0,e.useMemo)((()=>e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:m},e.createElement(GE,{gamepadAlias:EI,title:l(".activatedAllPacksMessageTitle"),text:l(".activatedAllPacksMessageDescription"),gamepadIndex:0})),e.createElement(Ix.Provider,{value:"available"},e.createElement(t.Map,{array:d},((t,n)=>e.createElement(Dx,{activatable:p,onActivate:c,pack:t,index:n,gamepadIndex:n,expandedPackId:i,onExpand:o,onClickMoreDetails:r})))))),[l,d,m,p,c,i,o,r])),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))}const FI=(0,e.createContext)({}),yI=()=>(0,e.useContext)(FI);function SI({worldPacks:n,multiplayerData:a,isLockedTemplate:r,isAchievementsDisabled:l,achievementsDisabledMessages:o,isEditorWorld:i,onActivatePack:c,onDeactivatePack:s,onChangePackPriority:u,onClickPackSettings:d,onUnlockTemplateSettings:m}){const{t:p}=Tp("CreateNewWorld.behaviorPacks"),{t:f}=Tp("CreateNewWorldSideMenu"),g=bE(rp),E=(0,t.useSharedFacet)(Bg),h=(0,t.useFacetMap)((e=>e.activeBehaviorPacks.length>0||e.availableBehaviorPacks.length>0),[],[n]),b=(0,t.useFacetMap)((e=>e&&g),[g],[E]),v=Tx(tE.Behavior,{active:{tabsAlias:"tab-bar-cnw-bp-active",emptyStateMessageAlias:gI},available:{tabsAlias:"tab-bar-cnw-bp-available",emptyStateMessageAlias:EI}},n,a,c,s),F=fh({wide:8,narrow:5,width:260})?"XnOc_":"Md7uv",y=Zx("Resource_Pack_More_Details_Button_OreUI");return e.createElement(Fl,{data:b},(a=>e.createElement(e.Fragment,null,a?e.createElement(Dw,{context:Lw.BEHAVIOR_PACKS_TAB}):e.createElement(FI.Provider,{value:v},e.createElement(t.DeferredMountProvider,null,e.createElement(Rh,null,e.createElement(qM,{isLockedTemplate:r,isAchievementsDisabled:l,achievementsDisabledMessages:o,nestedRoutes:!0,narrationText:f(".behaviorPacksTabLabel"),onUnlockTemplateSettings:m,isEditorWorld:i},e.createElement(t.DeferredMount,null,e.createElement(t.Mount,{when:h,condition:!0},e.createElement("div",{className:"TPaUw"},e.createElement(Vx,{gamepadAliasNamespace:"cnw-bp",path:"behavior-packs",narrationTitle:f(".behaviorPacksTabLabel")}),e.createElement(Yc,{size:2}),e.createElement(Gx,{component:()=>e.createElement(hI,{worldPacks:n,isLockedTemplate:r,onChangePackPriority:u,onClickPackSettings:d,onClickPackMoreDetails:y}),gamepadIndex:3,filter:"active"}),e.createElement(Gx,{component:()=>e.createElement(vI,{worldPacks:n,isLockedTemplate:r,onChangePackPriority:u,onClickPackMoreDetails:y}),gamepadIndex:3,filter:"available"}),e.createElement(Yc,{size:2})))),e.createElement(t.DeferredMount,null,e.createElement(t.Mount,{when:h,condition:!1},e.createElement(GE,{gamepadAlias:gI,title:p(".noPacksAvailableTitle"),text:p(".noPacksAvailableBody"),gamepadIndex:0,imgSrc:fI,borderless:!0,imgClass:F}))))))))))}function CI({isLockedTemplate:n,isAchievementsDisabled:a,achievementsDisabledMessages:r,onUnlockTemplateSettings:l,onExportTemplate:o,onClearPlayerData:i,isEditorWorld:c}){const s=(0,t.useSharedFacet)($m),u=(0,t.useFacetMap)((({allBiomes:e})=>e),[],[s]),d=(0,t.useFacetMap)((({spawnDimensionId:e})=>e),[],[s]),m=(0,t.useFacetMap)((e=>Wx(e,(e=>({label:e.label,dimension:e.dimension,value:e.id})))),[],[u]),p=(0,t.useFacetMap)(((e,t)=>gM(e,(e=>e.dimension===t))),[],[m,d]),f=(0,t.useFacetMap)((e=>e.spawnBiomeId),[],[s]),g=(0,t.useFacetMap)((e=>e.defaultSpawnBiome||e.isBiomeOverrideActive),[],[s]),E=(0,t.useSharedFacet)(el),h=(0,t.useFacetMap)((e=>LM(e.platform)),[],[E]),b=(0,e.useContext)(Dv)===_v.EDIT,v=(0,t.useFacetMap)((e=>e&&b),[b],[h]),F=(0,e.useRef)(null),y=(0,e.useRef)(null);return e.createElement(t.DeferredMountProvider,null,e.createElement(qM,{isLockedTemplate:n,isAchievementsDisabled:a,achievementsDisabledMessages:r,narrationText:"Debug",onUnlockTemplateSettings:l,isEditorWorld:c},e.createElement(t.DeferredMount,null,e.createElement(iC,{title:"Flat nether",gamepad:{index:0},value:(0,t.useFacetMap)((e=>e.flatNether),[],[s]),onChange:(0,t.useFacetCallback)((e=>t=>{e.flatNether=t}),[],[s])})),e.createElement(t.DeferredMount,null,e.createElement(iC,{title:"Enable game version override",gamepad:{index:1},value:(0,t.useFacetMap)((e=>e.enableGameVersionOverride),[],[s]),onChange:(0,t.useFacetCallback)((e=>t=>{e.enableGameVersionOverride=t}),[],[s])})),e.createElement(t.DeferredMount,null,e.createElement(nw,{label:"Game version override",gamepadIndex:2,placeholder:"0.0.0",maxLength:30,disabled:(0,t.useFacetMap)((e=>!e.enableGameVersionOverride),[],[s]),value:(0,t.useFacetMap)((e=>e.gameVersionOverride),[],[s]),onChange:(0,t.useFacetCallback)((e=>t=>{e.gameVersionOverride=t}),[],[s])})),e.createElement(t.DeferredMount,null,e.createElement(qS,{title:"World biome settings"})),e.createElement(iC,{title:"Default spawn biome",description:"Using the default spawn biome will mean a random overworld spawn is selected",gamepad:{index:3},disabled:(0,t.useFacetMap)((e=>e.isBiomeOverrideActive),[],[s]),value:(0,t.useFacetMap)((e=>e.defaultSpawnBiome),[],[s]),onChange:(0,t.useFacetCallback)((e=>t=>{e.defaultSpawnBiome=t}),[],[s])}),e.createElement(t.DeferredMount,null,e.createElement(UC,{onMountComplete:(0,t.useNotifyMountComplete)(),title:"Spawn dimension filter",gamepad:{index:4},disabled:g,wrapToggleText:!0,options:[{label:"Overworld",value:0},{label:"Nether",value:1}],value:d,onChange:(0,t.useFacetCallback)((e=>t=>{e.spawnDimensionId=t}),[],[s])})),e.createElement(t.DeferredMount,null,e.createElement("div",{ref:F},e.createElement(_C,{label:"Spawn biome",options:p,onChange:(0,t.useFacetCallback)((e=>t=>e.spawnBiomeId=t),[],[s]),disabled:g,gamepadIndex:5,value:(0,t.useFacetMap)(((e,t)=>t.filter((t=>t.value===e)).length>0?e:t[0].value),[],[f,p]),wrapperRef:F}))),e.createElement(iC,{title:"Biome override",description:"Set the world to a selected biome. This will override the Spawn biome!",gamepad:{index:6},value:(0,t.useFacetMap)((e=>e.isBiomeOverrideActive),[],[s]),onChange:(0,t.useFacetCallback)((e=>t=>{e.isBiomeOverrideActive=t}),[],[s])}),e.createElement("div",{ref:y},e.createElement(_C,{label:"Biome override",description:"Select biome to be used in the entire world",options:m,disabled:(0,t.useFacetMap)((e=>!e.isBiomeOverrideActive),[],[s]),onChange:(0,t.useFacetCallback)((e=>t=>{e.biomeOverrideId=t}),[],[s]),gamepadIndex:7,value:(0,t.useFacetMap)((e=>e.biomeOverrideId),[],[s]),wrapperRef:y})),e.createElement(t.Mount,{when:v},e.createElement(MI,{onExportTemplate:o,onClearPlayerData:i}))))}const MI=({onExportTemplate:t,onClearPlayerData:n})=>{const{t:a}=Tp("EditWorld.exportWorldFlow");return e.createElement(du,null,e.createElement(zs,{type:"sectionHeader"},"File management"),e.createElement(Yc,{size:4}),e.createElement(Pu,{variant:"secondary",onClick:n,inputLegend:"Clear player data"},a(".clearPlayerDataTitle")),e.createElement(Yc,{size:4}),e.createElement(Pu,{variant:"secondary",onClick:t,inputLegend:"Export"},a(".exportLabel")))},wI=()=>{};function kI({autoplay:n,eventName:a,delay:r=0,disabled:l=!1,cancellable:o=!1}){const i=(0,t.useFacetWrap)(n),c=(0,t.useFacetWrap)(o),s=(0,t.useFacetWrap)(l),u=(0,t.useFacetWrap)(r),d=(0,t.useFacetWrap)(a),m=qn(),p=(0,e.useRef)(wI),f=(0,e.useRef)(!1);return(0,t.useFacetLayoutEffect)(((e,t,n,a,r)=>{const l=!1===n&&e&&r!==Qn;if(f.current)return l&&(p.current=m(r,null!=t?t:0)),()=>{a&&(p.current(),p.current=wI)};f.current=!0}),[m],[i,u,s,c,d]),null}var TI;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Top=2]="Top",e[e.Bottom=3]="Bottom"}(TI||(TI={}));const xI={[TI.Top]:"QB5Kg",[TI.Left]:"oz9Hz",[TI.Right]:"JXIjK",[TI.Bottom]:"KMoQ1"};function II({anchor:n=TI.Right,children:a,drawerContent:r,isOpen:l,role:o="inherit",onOverlayClick:i,disableAnimation:c}){var s;l=(0,t.useFacetWrap)(null!==(s=l)&&void 0!==s&&s);const u=gr(o),[d,m]=(0,t.useFacetState)(l.get()),p=(0,t.useFacetWrap)(null!=c&&c),f=Ll();return(0,t.useFacetEffect)(((e,t)=>{if(!e){if(t)return m(!0);const e=setTimeout((()=>{m(!0)}),275);return()=>{clearTimeout(e)}}m(!1)}),[m],[l,p]),e.createElement(e.Fragment,null,a,e.createElement("fast-div",{className:"_2ofy"},e.createElement("fast-div",{onClick:i,className:(0,t.useFacetMap)(((e,t)=>Or()("oNyMv",u.overlay.base,{s4MUE:e,OC8iA:t})),[u],[l,p])}),e.createElement("fast-div",{style:{top:n===TI.Bottom?"":f.top+"px",bottom:n===TI.Top?"":f.bottom+"px",right:n===TI.Left?"":f.right+"px",left:n===TI.Right?"":f.left+"px"},className:(0,t.useFacetMap)(((e,t,a)=>Or()("sV4l2",xI[n],{FSf9q:e,ywOIV:t,IqDTi:a})),[n],[l,d,p])},r)),e.createElement(kI,{eventName:"ui.drawer_open",autoplay:l}),e.createElement(kI,{eventName:"ui.drawer_close",autoplay:(0,t.useFacetMap)((e=>!e),[],[l])}))}II.Anchor=TI;const PI=n.p+"assets/under-construction-art-cropped-cd6d3.png",OI="CeXrm";let AI;function NI(e){return(0,t.useFacetMap)(((t,n)=>{switch(e){case AI.FRIENDS:return!AM(n.platform)&&!NM(n.platform)&&!t.isLoggedInWithMicrosoftAccount||(AM(n.platform)||NM(n.platform))&&!t.isLoggedInWithMicrosoftAccount&&!t.isSignedInPlatformNetwork;case AI.REALMS:return(AM(n.platform)||NM(n.platform))&&!t.isSignedInPlatformNetwork||!t.isLoggedInWithMicrosoftAccount;case AI.SERVERS:case AI.TEMPLATES:default:return!t.isLoggedInWithMicrosoftAccount}}),[e],[(0,t.useSharedFacet)(Dg),(0,t.useSharedFacet)(el)])}function RI({header:n,renderItem:a,renderSectionHeader:r,data:l,focusGridIndex:o,itemSeparator:i,sectionSeparator:c,loading:s=!1,footer:u,renderTracker:d,padSpinnerVertically:m,gamepadAlias:p,spinnerBackgroundColor:f,showSpinnerBorder:g,delegateFocusFromMemory:E=!0,scrollRef:h,delegateFocusByAlias:b,sectionsWrapper:v=LI}){const F=(0,t.useIsPaused)(),y=(0,t.useFacetWrap)(l),S=(0,t.useFacetMemo)((e=>gM(e,(e=>null!=e.emptyStateMessage||e.data.length>0))),[],[y]);return e.createElement(t.DeferredMountProvider,null,e.createElement(DI,{scrollRef:h,delegateFocusFromMemory:E,loading:s,focusGridIndex:o,renderTracker:d,padSpinnerVertically:m,gamepadAlias:p,spinnerBackgroundColor:f,showSpinnerBorder:g,delegateFocusByAlias:b},null!=n&&e.createElement(e.Fragment,null,n,i),!1===F&&e.createElement(v,null,e.createElement(t.Map,{array:S},((t,l)=>e.createElement(_I,{headerPresent:null!=n,section:t,sectionIndex:l,sections:S,renderSectionHeader:r,renderItem:a,sectionSeparator:c})))),u))}function LI({children:t}){return e.createElement(e.Fragment,null,t)}function _I({headerPresent:n,section:a,sectionIndex:r,sections:l,renderSectionHeader:o,renderItem:i,sectionSeparator:c,itemSeparator:s}){const u=(0,t.useFacetMap)((e=>e.data),[],[a]),d=(0,t.useFacetMap)((e=>e.data.length),[],[a]),m=(0,t.useFacetMap)((e=>e.title),[],[a]),p=(0,t.useFacetMap)((e=>e.role),[],[a]),f=(0,t.useFacetMap)((e=>0==e.data.length||null==e.data),[],[a]),g=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.emptyStateMessage)&&void 0!==t?t:""}),[],[a]),E=o(m,p),{t:h}=Ii("SectionList"),b=n?r+1:r,v=(0,t.useFacetMap)((e=>{var t,n;const a=e[r];return[h(".groupNarration",[null!==(t=a.narrationTitle)&&void 0!==t?t:a.title,`${r+1}`,`${e.length}`]),null!==(n=a.narrationSuffix)&&void 0!==n?n:""].join(" . ")}),[r,h],[l,a]);return e.createElement(Is,{options:{index:b},key:b},e.createElement(Ps,{text:v},r>0&&c,E,s,e.createElement(t.Mount,{when:f},e.createElement(GE,{gamepadIndex:0,text:g})),e.createElement(t.Map,{array:u},((t,n)=>e.createElement(e.Fragment,null,n>0&&s,i({itemFacet:t,index:n,sectionIndex:b,listLengthFacet:d}))))))}function DI({loading:n,children:a,renderTracker:r,padSpinnerVertically:l,focusGridIndex:o,gamepadAlias:i,spinnerBackgroundColor:c,showSpinnerBorder:s,delegateFocusFromMemory:u=!0,scrollRef:d,delegateFocusByAlias:m}){const p=(0,t.useIsDeferring)(),f=(0,t.useIsPaused)(),g=(0,t.useFacetMap)(((e,t)=>t||e||f),[f],[p,(0,t.useFacetWrap)(null!=n&&n)]);return e.createElement(ys,{innerRef:d,loading:g,focusGridIndex:o,renderTracker:r,padSpinnerVertically:l,gamepadAlias:i,delegateFocusFromMemory:u,spinnerBackgroundColor:c,showSpinnerBorder:s,delegateFocusByAlias:m},a)}!function(e){e.SERVERS="SERVERS",e.REALMS="REALMS",e.FRIENDS="FRIENDS",e.TEMPLATES="TEMPLATES"}(AI||(AI={}));const BI=n.p+"assets/arrowForward-03da5.png",WI=n.p+"assets/arrowForwardDisabled-779d8.png";function UI(){return UI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},UI.apply(this,arguments)}const zI=n=>{let{className:a,disabled:r}=n,l=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["className","disabled"]);const o=(0,t.useFacetWrap)(null!=r&&r),i=Dc("eEBDH",a);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:o},e.createElement(Rc,UI({},l,{className:i,src:WI,imageRendering:"pixelated"}))),e.createElement(t.Mount,{when:o,condition:!1},e.createElement(Rc,UI({},l,{className:i,src:BI,imageRendering:"pixelated"}))))};const jI="...",HI=({index:n,totalPages:a,currentPage:r,onChange:l,role:o="neutral"})=>{const i=hr(o),c=gr(o),{t:s}=Ii("Pagination"),u=(0,t.useFacetMap)(((e,t)=>((e,t,n)=>{const a=String(n+1);if(0===n)return a;if(6===n)return String(e);if(e<=7)return a;if(t>=4&&1===n)return jI;if(t<=e-3){if(5===n)return jI;if(Array.from({length:e-6},((e,t)=>t+4)).includes(t))switch(n){case 2:return String(t+4-5);case 3:return String(t+4-4);case 4:return String(t+4-3)}return a}return String(n+(e-6))})(t,e,n)),[n],[r,a]),d=(0,t.useFacetMap)(((e,t)=>e===String(t)),[],[u,r]),m=(0,t.useFacetCallback)(((e,t,a,r)=>()=>{t||l(e!==jI||1!==n?e!==jI||5!==n?Number(e):Math.min(a+5,r):Math.max(a-5,1))}),[n,l],[u,d,r,a]),p=(0,t.useFacetMap)(((e,t,a,r)=>e===jI&&1===n?s(".skipPrevious",[String(Math.max(a-5,0))]):e===jI&&5===n?s(".skipNext",[String(Math.min(a+5,r)),String(r)]):[s(".index",[e,String(r),s(t?".selected":".unselected")])].join(" . ")),[n,s],[u,d,r,a]),f=(0,t.useFacetMap)((e=>Or()(c.background.base,c.text.base,c.border.base,e?"uvCnl":[c.background.hover,c.background.press,c.text.hover,c.text.press,c.border.hover,c.border.press])),[c],[d]),g=(0,t.useFacetMap)((e=>!1===e?i.press:void 0),[i],[d]),E=(0,t.useFacetMap)((e=>!1===e?i.hover:void 0),[i],[d]),h=(0,t.useFacetMap)((e=>!1===e?i.focus:void 0),[i],[d]);return e.createElement(ic,{narrationText:p,"data-testid":`pagination-index-${n}`,gamepadIndex:n+1,inputLegend:s(".currentPage",[`${n+1}`]),onClick:m,classNameFocused:ji,className:f,soundEffectPressed:g,soundEffectHovered:E,soundEffectFocused:h},e.createElement(zi,null),e.createElement(t.Mount,{condition:!1,when:d},e.createElement(hc,{effect:"bevel"})),e.createElement("div",{className:"fBAuV"},e.createElement(t.Mount,{when:d},e.createElement("fast-div",{className:Or()("UNmNG",c.icon.base)})),e.createElement(zs,{type:"body"},u)))},VI=n=>{let{direction:a,narrationText:r,disabled:l,inputLegend:o,onClick:i,gamepadIndex:c,disabledNarration:s}=n,u=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["direction","narrationText","disabled","inputLegend","onClick","gamepadIndex","disabledNarration"]);const d=(0,t.useFacetMap)(((e,t,n)=>e?n:t),[],[l,r,s]);return e.createElement("div",{className:"XM_PG"},e.createElement(yu,{height:4,isElevated:!0,narrationText:d,variant:"secondary","data-testid":u["data-testid"],disabled:l,inputLegend:o,onClick:i,gamepadIndex:c},e.createElement("div",{className:"zHOXo"},"next"===a?e.createElement(zI,{disabled:l,className:"AYHNu"}):e.createElement(ME,{className:"KCWC4",disabled:l}))))},GI=({onChange:n,totalPages:a=1,currentPage:r=1,role:l="neutral",counterStyle:o="indices-list",unlockMaxWidth:i=!1,prevNarrationSuffix:c="",nextNarrationSuffix:s="",narrateTotalOnChange:u=!1,narrateContextOnChange:d=!1,triggerShortcuts:m=!1,middleSpacingsSize:p=4})=>{const f=(0,t.useFacetWrap)(o),g=(0,t.useFacetWrap)(r),E=(0,t.useFacetWrap)(a),h=gr(l),b=Je(),v=Ze(),{narrateText:F}=Fs({interruptible:!1}),{narrateCurrentContext:y}=qi(),S=Ko(),C=(0,t.useFacetWrap)(i),M=(0,t.useFacetWrap)(c),w=(0,t.useFacetWrap)(s),k=(0,t.useFacetWrap)(u),T=(0,t.useFacetWrap)(d),{t:x}=Ii("Pagination"),I=(0,e.useRef)(null),P=(0,t.useFacetMap)((e=>Array.from({length:Math.min(e,7)},((e,t)=>t))),[],[E]),O=(0,t.useFacetCallback)(((e,t,a,r)=>()=>{if(e>0){const l=Math.max(e-1,0);n(l);const o=a?x(".nowOnPageOf",[String(l),String(t)]):x(".nowOnPage",[String(l)]),i=l>1?x(".previousPage",[String(l-1)]):x(".previousPageDisabled");F(o),r&&y(void 0,!1),F(i)}}),[y,F,n,x],[g,E,k,T]),A=(0,t.useFacetCallback)(((e,t,a,r)=>()=>{if(e<t){const l=Math.min(e+1,t);n(l);const o=a?x(".nowOnPageOf",[String(l),String(t)]):x(".nowOnPage",[String(l)]),i=l>1?x(".nextPage",[String(l+1)]):x(".nextPageDisabled");F(o),r&&y(void 0,!1),F(i)}}),[y,F,n,x],[g,E,k,T]),N=(0,t.useFacetMap)(((e,t)=>e||t?`${x(".context")} . ${x(".contextHintMouse")}`:`${x(".context")} . ${x(".contextHintGamepad")}`),[x],[b,v]),R=(0,t.useFacetMap)(((e,t)=>{const n=x(".previousPage",[""+(e-1)]);return t.length>0?[n,t].join(" . "):n}),[x],[g,M]),L=(0,t.useFacetMap)(((e,t)=>{const n=x(".nextPage",[`${e+1}`]);return t.length>0?[n,t].join(" . "):n}),[x],[g,w]),_=(0,t.useFacetMap)(((e,t)=>x(".indexCounter",[`${e}`,`${t}`])),[x],[g,E]),D=(0,t.useFacetMap)((e=>e?Or()("OGL9O"):""),[],[C]),B=(0,t.useFacetWrap)(m),U=(0,t.useFacetMap)((e=>1===e),[],[g]),z=(0,t.useFacetMap)(((e,t)=>e===t),[],[g,E]),j=(0,t.useFacetMap)((e=>({button:W.LEFT_TRIGGER,inputLegend:x(".previousPageInputLegend"),disabled:e})),[x],[U]),H=(0,t.useFacetMap)((e=>({button:W.RIGHT_TRIGGER,inputLegend:x(".nextPageInputLegend"),disabled:e})),[x],[z]);return e.createElement(t.Mount,{when:(0,t.useFacetMap)(((e,t)=>e>1||"hide-counter"===t),[],[E,f])},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:B},e.createElement(e.Fragment,null,e.createElement(Ts,{options:j,onClick:O}),e.createElement(Ts,{options:H,onClick:A}))),e.createElement(Ps,{text:N},e.createElement("fast-div",{className:D,ref:I},e.createElement("div",{className:"EH7DY"},e.createElement(VI,{direction:"previous",disabled:U,disabledNarration:(0,t.useFacetWrap)(x(".previousPageDisabled")),inputLegend:(0,t.useFacetWrap)(x(".previousPageInputLegend")),narrationText:R,onClick:O,"data-testid":"pagination-button-left",gamepadIndex:0}),e.createElement(Yc,{size:p}),e.createElement(Fl,{data:f},(a=>{switch(a){case"indices-list":return e.createElement(e.Fragment,null,e.createElement("div",{className:"lQDP_"},e.createElement("div",{className:"A_Lrf"},e.createElement("div",{className:"hqAey"},e.createElement(t.Map,{array:P},((t,a)=>e.createElement(HI,{role:l,currentPage:g,totalPages:E,index:a,onChange:n})))))));case"index-counter":case"index-counter-no-border":return e.createElement(e.Fragment,null,"narrow"!==S&&e.createElement(zs,{className:Or()("JRfbL","index-counter-no-border"===a?[]:["cy0Fh",h.background.base,h.border.base]),align:"center",verticalAlign:"center",type:"body"},e.createElement("fast-text",{text:_})));default:return e.createElement(e.Fragment,null)}})),e.createElement(Yc,{size:p}),e.createElement(VI,{direction:"next",disabled:z,disabledNarration:(0,t.useFacetWrap)(x(".previousPageDisabled")),inputLegend:(0,t.useFacetWrap)(x(".nextPageInputLegend")),narrationText:L,onClick:A,"data-testid":"pagination-button-right",gamepadIndex:(0,t.useFacetMap)((e=>e+2),[],[E])}))))))};function $I({screenAnalyticsId:n}){const a=u(),{t:r}=Ii("AddFriendsButton"),l=LS(),o=(0,t.useFacetCallback)(((e,t)=>()=>{t.isLoggedInWithMicrosoftAccount||!AM(e.platform)&&!NM(e.platform)?(l({button:"SearchForPlayers",screen:n}),a.push("/add-friend")):a.push("/sign-in-add-friend")}),[l,a,n],[(0,t.useSharedFacet)(el),(0,t.useSharedFacet)(Dg)]);return e.createElement("div",{className:"mSqKT"},e.createElement(Yc,{size:1}),e.createElement(Pu,{variant:"primary",onClick:o,gamepadIndex:0,inputLegend:r(".searchForFriends"),"data-testid":"friends-drawer-add-friends-button"},r(".searchForFriends")),e.createElement(Yc,{size:3}))}const KI=n.p+"assets/online-badge-e3691.png";function XI(){return e.createElement(Rc,{src:KI,className:"KDWBk",imageRendering:"pixelated"})}const YI=n.p+"assets/no-player-profile-d13a7.png",qI={small:2.4,medium:3.2,large:5.2};function QI({status:n="online",src:a="",variant:r="medium",grayscaleAvatar:l=!1,usePersonaPicRendering:o="if-enabled"}){const i=(0,t.useFacetWrap)(n),c=(0,t.useFacetWrap)(a),s=(0,t.useFacetMap)((e=>""===e||null==e),[],[c]),u=(0,t.useFacetWrap)(r),d=(0,t.useFacetMap)(((e,t)=>e?YI:t),[],[s,c]),m=(0,t.useFacetWrap)(l),p=bE("vanilla.usePersonaProfileImages"),f=(0,t.useFacetMap)(((e,t)=>t?"pixelated":"if-enabled"===e?p?"pixelated":void 0:!0===e?"pixelated":void 0),[p],[(0,t.useFacetWrap)(o),s]),g=gr(),E=(0,t.useFacetMap)((e=>Or()("hYQ3Q","online"===e?"acBo_":"W7VPS")),[],[i]),h=(0,t.useFacetMap)((e=>Or()("qA9dD",{B8iqy:e})),[],[m]);return e.createElement("fast-div",{className:Or()("FZHBQ",g.neutral.border.base),style:{width:(0,t.useFacetMap)((e=>`${qI[e]}rem`),[],[u]),height:(0,t.useFacetMap)((e=>`${qI[e]}rem`),[],[u])}},e.createElement(Rc,{src:d,className:h,imageRendering:f}),e.createElement("fast-div",{className:E},e.createElement(XI,null)))}QI.VARIANT_SIZES=qI;const JI=n.p+"assets/play-63100.png",ZI="oaPTd",eP=({className:t})=>{const n=null!=t?`oaPTd ${t}`:ZI;return e.createElement(Rc,{className:n,src:JI,imageRendering:"pixelated"})},tP=n.p+"assets/delete-dc012.png";function nP(){return nP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},nP.apply(this,arguments)}const aP=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("l54Li",n);return e.createElement(Rc,nP({},a,{className:r,src:tP,imageRendering:"pixelated"}))},rP=n.p+"assets/IconAddPlayerWhite-c25a0.png";function lP(){return lP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},lP.apply(this,arguments)}const oP=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("dnhHa",n);return e.createElement(Rc,lP({},a,{className:r,src:rP,imageRendering:"pixelated"}))},iP=()=>{const e=(0,t.useSharedFacet)(fg);return(0,t.useFacetCallback)((e=>(t,n={},a,r)=>{const l={};Object.keys(n).forEach((e=>{const{value:t,privacyTag:a}=n[e],r={__Type:"EventProperty",value:t,privacyTag:a};l[e]=r}));const o={};return a&&Object.keys(a).forEach((e=>{const{value:t,aggregationType:n}=a[e],r={__Type:"EventMeasurement",value:t,aggregationType:n};o[e]=r})),e.fireEvent(t,l,0===Object.keys(o).length?void 0:o,r)}),[],[e])},cP=()=>{const t=iP();return(0,e.useCallback)((e=>{t("ButtonPressed",{ButtonName:{value:"Profile",privacyTag:mg.CustomerContent},entryPoint:{value:e,privacyTag:mg.CustomerContent}},{Count:{value:1,aggregationType:pg.Increment}},!0)}),[t])};function sP(e){const n=(0,t.useSharedFacet)(Rp);return(0,t.useFacetCallback)(((e,t)=>()=>{t.joinFriendServerByInvite(e)}),[],[e,n])}function uP(e){const n=(0,t.useSharedFacet)(Rp),a=(0,t.useFacetMap)((e=>e.joinFriendServerState),[],[n]),r=oM((e=>function*(t){e.joinFriendServer(t),yield a,e.clearJoinFriendServerTaskState()}),[a],[n]);return(0,t.useFacetCallback)((e=>()=>{r(e)}),[r],[e])}const dP=_i((({joinServer:t,onClose:n})=>{const{t:a}=Ii("MobileDataBlockedModal"),r=u(),l="backButton";return e.createElement(Ld,{defaultFocusAlias:l},e.createElement(Ld.Header,{onClose:n},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Paragraphs,{narrationText:`${a(".onlyWifi")}. ${a(".costWarning")}`,spaceBetweenParagraphs:5,gamepadIndex:0},e.createElement(zs,{type:"captionLong"},a(".onlyWifi")),e.createElement(zs,{type:"captionLong"},a(".costWarning")))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{delayedClick:!0,onClick:()=>{n(),r.push("/settings/general")},autofocus:!0,gamepadAlias:l,inputLegend:a(".changeSettings"),variant:"primary"},a(".changeSettings")),e.createElement(Yc,{size:1}),e.createElement(Pu,{delayedClick:!0,inputLegend:a(".playOnceWithData"),variant:"secondary",onClick:()=>{t(),n()},"data-testid":"play-once-with-data"},a(".playOnceWithData"))))}));function mP(e){return`/profile?xuid=${e}`}function pP(e){return`/profile?platformId=${e}`}function fP(e,t){return F(`/profile/${e}`,t)}function gP(){return(0,t.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(Lg.XboxLive_Parental)),[],[(0,t.useSharedFacet)(Dg)])}function EP(){return(0,t.useFacetMap)(((e,t)=>(NM(t.platform)||AM(t.platform))&&!e.hasPremiumNetworkAccess),[],[(0,t.useSharedFacet)(Dg),(0,t.useSharedFacet)(el)])}function hP(){const e=(0,t.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(Lg.XboxLive)),[],[(0,t.useSharedFacet)(Dg)]),n=gP(),a=EP();return(0,t.useFacetMap)(((e,t,n)=>e||t||n),[],[e,n,a])}function bP({item:n,index:a,listLength:r,onAdditionalActionClick:l,disabled:o,gamepadAlias:i,profileEntryPoint:c,screenAnalyticsId:s=""}){const{t:d}=Ii("PlayerListItem"),m=u(),p=(0,t.useFacetMap)((e=>e.xuid),[],[n]),f=(0,t.useFacetMap)((e=>e.gamerTag),[],[n]),g=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.gamerIcon)&&void 0!==t?t:""}),[],[n]),E=(0,t.useFacetMap)((e=>e.playingOnServerId),[],[n]),h=cP(),b=(0,t.useFacetCallback)((e=>()=>{h(c),null!=e.platformId?m.push(pP(e.platformId)):m.push(mP(e.xuid))}),[m,h,c],[n]),v=(0,t.useFacetMap)((e=>e.platform),[],[n]),F=(0,t.useSharedFacet)(Dg),y=hP(),S=(0,t.useFacetMap)((({variant:e,isOnline:t,platform:n})=>"sent-request"===e?d(".pending"):"received-request"===e?d(".receivedRequest"):!0===t?d(null!=n?`.online.${n}`:".online"):!1===t?d(".offline"):""),[d],[n,v]),C=(0,t.useFacetMap)((({isOnline:e})=>!0===e?"online":"offline"),[],[n]),M=(0,t.useFacetMap)((({variant:e})=>"added-not-mutual"===e?"added-status":"added-mutual"===e?"friends-status":"none"),[],[n]),w=(0,t.useFacetWrap)(o),k=(0,t.useFacetMap)((({variant:e},t)=>"sent-request"===e||"received-request"===e||null!=t&&t),[],[n,w]),T=(0,t.useFacetMap)((({variant:e,playingOnServerId:t},n,a)=>"player"===e&&null!=t&&n.userPermissions.multiplayer.allowed&&!a?"join":"sent-request"===e?"delete-request":"received-request"===e?"accept-reject-request":"add-friend"===e&&n.userPermissions.addFriends.allowed?"add-friend":"none"),[],[n,F,y]),x=(0,t.useFacetMap)((({variant:e},t,n,r,l,o)=>{const i=[];let c=o;return"sent-request"===e?c=d(".sentRequestNarration"):"received-request"===e&&(c=d(".receivedRequestNarration")),i.push(t,c,d(l?".listItemRole":".buttonRole"),d(".narrationItemOrderContext",[`${a+1}`,`${n}`])),l||i.push(d(".playerProfileHint")),"none"!==r&&i.push(d(".additionalActionsHint")),i.join(" . ")}),[d,a],[n,f,r,T,k,S]),I=ve(),P=(0,t.useFacetCallback)((e=>()=>{l&&l(),I(e)}),[I,l],[(0,t.useFacetWrap)(i)]),O=(0,t.useFacetMap)((e=>e.location),[],[n]);return e.createElement(Yb,null,e.createElement(Yb.Action,{narrationText:x,inputLegend:d(".viewProfile"),onClick:b,gamepadAlias:i,disabled:k},e.createElement(Yb.Cell,{direction:"row"},e.createElement(QI,{variant:"large",src:g,status:C})),e.createElement(Yb.Main,null,e.createElement(zs,{type:"body"},e.createElement(ru,null,f)),e.createElement(zs,{type:"captionShort",variant:"dimmer"},S)),e.createElement(Fl,{data:M},(t=>{switch(t){case"added-status":return e.createElement(CP,{text:d(".added"),Icon:Ys});case"friends-status":return e.createElement(CP,{text:d(".friends"),Icon:Ys});default:return e.createElement(e.Fragment,null)}}))),e.createElement(Fl,{data:T},(t=>{switch(t){case"none":return e.createElement(e.Fragment,null);case"join":return e.createElement(vP,{playingOnServerId:E,onClickAdditionalAction:P,screenAnalyticsId:s});case"delete-request":return e.createElement(FP,{onClickAdditionalAction:P});case"accept-reject-request":return e.createElement(yP,{playerId:p,onClickAdditionalAction:P});case"add-friend":return e.createElement(SP,{playerId:p,onClickAdditionalAction:P,location:O,index:a,listLength:r})}})))}function vP({playingOnServerId:n,onClickAdditionalAction:a,screenAnalyticsId:r}){const{t:l}=Ii("PlayerListItem"),o=LS(),i=(0,t.useSharedFacet)(el),c=uP((0,t.useFacetMap)((e=>null!=e?e:""),[],[n])),s=dP.useModal(),u=(0,t.useFacetCallback)((e=>()=>{o({screen:r,button:"Join"}),e.onlyCellularAvailable&&e.showCellularDataFee?s.show():(c(),a&&a())}),[c,s,a,o,r],[i]),d=(0,t.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0,c(),a&&a()}),[c,a],[(0,t.useSharedFacet)(Wp)]);return e.createElement(e.Fragment,null,e.createElement(Yb.AdditionalAction,{narrationText:[l(".joinFriend"),l(".buttonRole")].join(" . "),inputLegend:l(".select"),onClick:u,testId:"player-list-item-join-button"},e.createElement(eP,null),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionShort"},e.createElement(ru,null,l(".join")))),e.createElement(t.Mount,{when:s.isVisible},e.createElement(dP.Component,{onClose:s.hide,joinServer:d})))}function FP({onClickAdditionalAction:t}){const{t:n}=Ii("PlayerListItem"),a=(0,e.useCallback)((()=>{t&&t()}),[t]);return e.createElement(Yb.AdditionalAction,{inputLegend:n(".select"),onClick:a,narrationText:[n(".delete"),n(".buttonRole")].join(" . ")},e.createElement(Yb.Cell,{align:"center"},e.createElement(aP,null),e.createElement(Yc,{size:1}),e.createElement(zs,{align:"center",type:"captionTiny"},n(".delete"))))}function yP({playerId:n,onClickAdditionalAction:a}){const{t:r}=Ii("PlayerListItem"),l=(0,t.useSharedFacet)(mp),o=(0,t.useFacetCallback)(((e,t)=>()=>{e.acceptRequest(t),a&&a()}),[a],[l,n]),i=(0,t.useFacetCallback)(((e,t)=>()=>{e.rejectRequest(t),a&&a()}),[a],[l,n]);return e.createElement(e.Fragment,null,e.createElement(Yb.AdditionalAction,{inputLegend:r(".select"),onClick:o,narrationText:[r(".accept"),r(".buttonSiblings",["1","2"])].join(" . "),testId:"player-list-item-accept-button"},e.createElement(Yb.Cell,{align:"center"},e.createElement(Ys,null),e.createElement(Yc,{size:1}),e.createElement(zs,{align:"center",type:"captionTiny"},r(".accept")))),e.createElement(Yb.AdditionalAction,{inputLegend:r(".select"),onClick:i,narrationText:[r(".reject"),r(".buttonSiblings",["2","2"])].join(" . "),testId:"player-list-item-reject-button"},e.createElement(Yb.Cell,{align:"center"},e.createElement(jc,null),e.createElement(Yc,{size:1}),e.createElement(zs,{align:"center",type:"captionTiny"},r(".reject")))))}function SP({playerId:n,onClickAdditionalAction:a,location:r,index:l,listLength:o}){const{t:i}=Ii("PlayerListItem"),c=(0,t.useFacetCallback)(((e,t,n)=>()=>{null!=n&&t.addFriend(e,n),a&&a()}),[a],[n,(0,t.useSharedFacet)(of),r]),s=(0,t.useFacetMap)(((e,t)=>{const n=[i(".addButtonText"),i(".buttonRole")];return t===lf.ADDFRIENDS_SEARCH&&n.push(i(".narrationItemOrderContext",[`${l+1}`,`${e}`])),n.join(" . ")}),[l,i],[o,r]);return e.createElement(Yb.AdditionalAction,{inputLegend:i(".addButtonInputLegend"),onClick:c,narrationText:s,testId:"player-list-item-add-button"},e.createElement(Yb.Cell,{align:"center"},e.createElement(oP,null),e.createElement(Yc,{size:1}),e.createElement(zs,{align:"center",type:"captionTiny"},i(".addButtonText"))))}function CP({Icon:t,text:n}){return e.createElement(Yb.Cell,{direction:"row"},e.createElement(t,null),e.createElement(Yc,{size:2}),e.createElement(zs,{variant:"dimmer",type:"captionShort"},n),e.createElement(Yc,{size:1}))}const MP="oARq7";function wP({tall:n=!1,small:a=!1,children:r,isFocusable:l=!1,narrationText:o,gamepadAlias:i,focusGridIndex:c,innerRef:s,disableDeferredMount:u=!1,testId:d}){const m=(0,t.useFacetWrap)(null!=o&&o);return e.createElement(Tb.Provider,{value:n},e.createElement(ic.Maybe,{isInteractive:l,gamepadAlias:i,className:Or()("xx2ne",{TMIem:n,z4lpS:a}),innerRef:s,classNameFocused:"mwYMs",focusGridIndex:c,inputLegend:!1,narrationText:m,"data-testid":d},u?e.createElement(e.Fragment,null,e.createElement(e.Fragment,null,r)):e.createElement(t.DeferredMount,null,e.createElement(e.Fragment,null,r))))}wP.Action=function({autofocus:n,children:a,onClick:r,inputLegend:l,narrationText:o,gamepadAlias:i,soundEffectPressed:c,onFocusChanged:s,onHoverChanged:u,gamepadIndex:d=0,role:m="neutral",disabled:p,className:f,testId:g}){const E=(0,t.useFacetMap)((e=>!0===e),[],[(0,t.useFacetWrap)(p)]),h=(0,t.useFacetWrap)(c),b=(0,t.useFacetWrap)(l),v=hr(m),F=gr(m),y=(0,t.useFacetMap)(((e,t)=>!t&&e),[],[b,E]),S=(0,t.useFacetMap)((e=>Or()("Srsnc",F.text.base,{[MP]:e},f)),[F,f],[E]),C=(0,t.useFacetMap)(((e,t)=>t?void 0:null!=e?e:v.press),[v],[h,E]),M=(0,t.useFacetCallback)((e=>()=>{e||r()}),[r],[E]);return e.createElement(ja,{role:m},e.createElement(ic,{autofocus:n,gamepadAlias:i,className:S,classNameHovered:"uZ4Jk",classNameFocused:"K6m8n",classNamePressed:"f7Wn5",classNameDisabled:MP,gamepadIndex:d,inputLegend:y,narrationText:o,onClick:M,onFocusChanged:s,onHoverChanged:u,soundEffectPressed:C,"data-testid":g},a))},wP.AdditionalAction=function({children:n,onClick:a,onGamepadClick:r,onUp:l,onDown:o,onLeft:i,onRight:c,onMouseDown:s,shortcut:u,inputLegend:d,narrationText:m,gamepadAlias:p,hidden:f=!1,fitContent:g=!1,extraWide:E=!1,innerRef:h,touchDetectionDelay:b,soundEffectPressed:v,role:F="neutral",testId:y}){const S=(0,t.useFacetWrap)(f),C=xb(),M=hr(F);return e.createElement(t.Mount,{when:S,condition:!1},e.createElement(ja,{role:F},null!=u&&e.createElement(Ib,{onClick:a,shortcut:u,inputLegend:d}),e.createElement(ic,{className:Or()("sdhSv",{ub7fM:g,A9EUw:C,nZWtI:E}),classNameHovered:"MaRsn",classNamePressed:"ZQArf",classNameFocused:"eXGIQ",touchDetectionDelay:b,soundEffectPressed:null!=v?v:M.press,gamepadAlias:p,inputLegend:d,onClick:a,onGamepadOrKeyboardSelect:r,onUp:l,onDown:o,onLeft:i,onRight:c,onMouseDown:s,narrationText:m,innerRef:h,"data-testid":y},n)))},wP.Main=Pb,wP.Cell=Db,wP.Icon=Kb;const kP="j6t2X";function TP({item:n,index:a,listLength:r,onAdditionalActionClick:l,disabled:o,gamepadAlias:i,profileEntryPoint:c,screenAnalyticsId:s=""}){const{t:d}=Ii("PlayerListItem"),m=u(),p=(0,t.useFacetMap)((e=>e.xuid),[],[n]),f=(0,t.useFacetMap)((e=>e.gamerTag),[],[n]),g=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.gamerIcon)&&void 0!==t?t:""}),[],[n]),E=(0,t.useFacetMap)((e=>e.playingOnServerId),[],[n]),h=cP(),b=(0,t.useFacetCallback)((e=>()=>{h(c),null!=e.platformId?m.push(pP(e.platformId)):m.push(mP(e.xuid))}),[m,h,c],[n]),v=(0,t.useFacetMap)((e=>e.platform),[],[n]),F=(0,t.useSharedFacet)(Dg),y=hP(),S=(0,t.useFacetMap)((({variant:e,isOnline:t,platform:n})=>"sent-request"===e?d(".pending"):"received-request"===e?d(".receivedRequest"):!0===t?d(null!=n?`.online.${n}`:".online"):!1===t?d(".offline"):""),[d],[n,v]),C=(0,t.useFacetMap)((({isOnline:e})=>!0===e?"online":"offline"),[],[n]),M=(0,t.useFacetMap)((({variant:e})=>"added-not-mutual"===e?"added-status":"added-mutual"===e?"friends-status":"none"),[],[n]),w=(0,t.useFacetWrap)(o),k=(0,t.useFacetMap)((({variant:e},t)=>"sent-request"===e||"received-request"===e||null!=t&&t),[],[n,w]),T=(0,t.useFacetMap)((({variant:e,playingOnServerId:t},n,a)=>"player"===e&&null!=t&&n.userPermissions.multiplayer.allowed&&!a?"join":"sent-request"===e?"delete-request":"received-request"===e?"accept-reject-request":"add-friend"===e&&n.userPermissions.addFriends.allowed?"add-friend":"none"),[],[n,F,y]),x=(0,t.useFacetMap)((({variant:e},t,n,r,l,o)=>{const i=[];let c=o;return"sent-request"===e?c=d(".sentRequestNarration"):"received-request"===e&&(c=d(".receivedRequestNarration")),i.push(t,c,d(l?".listItemRole":".buttonRole"),d(".narrationItemOrderContext",[`${a+1}`,`${n}`])),l||i.push(d(".playerProfileHint")),"none"!==r&&i.push(d(".additionalActionsHint")),i.join(" . ")}),[d,a],[n,f,r,T,k,S]),I=ve(),P=(0,t.useFacetCallback)((e=>()=>{l&&l(),I(e)}),[I,l],[(0,t.useFacetWrap)(i)]),O=(0,t.useFacetMap)((e=>e.location),[],[n]);return e.createElement(wP,null,e.createElement(wP.Action,{narrationText:x,inputLegend:d(".viewProfile"),onClick:b,gamepadAlias:i,disabled:k},e.createElement(wP.Cell,{direction:"row"},e.createElement(QI,{variant:"large",src:g,status:C})),e.createElement(wP.Main,null,e.createElement(zs,{type:"body",overflowEllipsis:!0},f),e.createElement(zs,{type:"captionShort",variant:"dimmer"},S)),e.createElement(Fl,{data:M},(t=>{switch(t){case"added-status":return e.createElement(AP,{text:d(".added"),Icon:Ys});case"friends-status":return e.createElement(AP,{text:d(".friends"),Icon:Ys});default:return null}}))),e.createElement(Fl,{data:T},(t=>{switch(t){case"none":return null;case"join":return e.createElement(xP,{playingOnServerId:E,onClickAdditionalAction:P,screenAnalyticsId:s});case"delete-request":return e.createElement(IP,{onClickAdditionalAction:P});case"accept-reject-request":return e.createElement(PP,{playerId:p,onClickAdditionalAction:P});case"add-friend":return e.createElement(OP,{playerId:p,onClickAdditionalAction:P,location:O,index:a,listLength:r})}})))}function xP({playingOnServerId:n,onClickAdditionalAction:a,screenAnalyticsId:r}){const{t:l}=Ii("PlayerListItem"),o=LS(),i=(0,t.useSharedFacet)(el),c=uP((0,t.useFacetMap)((e=>null!=e?e:""),[],[n])),s=dP.useModal(),u=(0,t.useFacetCallback)((e=>()=>{o({screen:r,button:"Join"}),e.onlyCellularAvailable&&e.showCellularDataFee?s.show():(c(),a&&a())}),[c,s,a,o,r],[i]),d=(0,t.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0,c(),a&&a()}),[c,a],[(0,t.useSharedFacet)(Wp)]);return e.createElement(e.Fragment,null,e.createElement(wP.AdditionalAction,{narrationText:[l(".joinFriend"),l(".buttonRole")].join(" . "),inputLegend:l(".select"),onClick:u,testId:"player-list-item-join-button"},e.createElement(eP,{className:kP}),e.createElement(zs,{type:"captionShort",overflowEllipsis:!0,className:"igJlv"},l(".join"))),e.createElement(t.Mount,{when:s.isVisible},e.createElement(dP.Component,{onClose:s.hide,joinServer:d})))}function IP({onClickAdditionalAction:t}){const{t:n}=Ii("PlayerListItem"),a=(0,e.useCallback)((()=>{t&&t()}),[t]);return e.createElement(wP.AdditionalAction,{inputLegend:n(".select"),onClick:a,narrationText:[n(".delete"),n(".buttonRole")].join(" . ")},e.createElement(wP.Cell,{align:"center"},e.createElement(aP,{className:kP}),e.createElement(zs,{align:"center",type:"captionTiny"},n(".delete"))))}function PP({playerId:n,onClickAdditionalAction:a}){const{t:r}=Ii("PlayerListItem"),l=(0,t.useSharedFacet)(mp),o=(0,t.useFacetCallback)(((e,t)=>()=>{e.acceptRequest(t),a&&a()}),[a],[l,n]),i=(0,t.useFacetCallback)(((e,t)=>()=>{e.rejectRequest(t),a&&a()}),[a],[l,n]);return e.createElement(e.Fragment,null,e.createElement(wP.AdditionalAction,{inputLegend:r(".select"),onClick:o,narrationText:[r(".accept"),r(".buttonSiblings",["1","2"])].join(" . "),testId:"player-list-item-accept-button"},e.createElement(wP.Cell,{align:"center"},e.createElement(Ys,{className:kP}),e.createElement(zs,{align:"center",type:"captionTiny"},r(".accept")))),e.createElement(wP.AdditionalAction,{inputLegend:r(".select"),onClick:i,narrationText:[r(".reject"),r(".buttonSiblings",["2","2"])].join(" . "),testId:"player-list-item-reject-button"},e.createElement(wP.Cell,{align:"center"},e.createElement(jc,{className:kP}),e.createElement(zs,{align:"center",type:"captionTiny"},r(".reject")))))}function OP({playerId:n,onClickAdditionalAction:a,location:r,index:l,listLength:o}){const{t:i}=Ii("PlayerListItem"),c=(0,t.useFacetCallback)(((e,t,n)=>()=>{null!=n&&t.addFriend(e,n),a&&a()}),[a],[n,(0,t.useSharedFacet)(of),r]),s=(0,t.useFacetMap)(((e,t)=>{const n=[i(".addButtonText"),i(".buttonRole")];return t===lf.ADDFRIENDS_SEARCH&&n.push(i(".narrationItemOrderContext",[`${l+1}`,`${e}`])),n.join(" . ")}),[l,i],[o,r]);return e.createElement(wP.AdditionalAction,{inputLegend:i(".addButtonInputLegend"),onClick:c,narrationText:s,testId:"player-list-item-add-button"},e.createElement(wP.Cell,{align:"center"},e.createElement(oP,{className:kP}),e.createElement(zs,{align:"center",type:"captionTiny",overflowEllipsis:!0},i(".addButtonText"))))}function AP({Icon:t,text:n}){return e.createElement(wP.Cell,{direction:"row"},e.createElement(t,{className:"Id2FY"}),e.createElement(zs,{variant:"dimmer",type:"captionShort",className:"QhLmr"},n))}function NP(){return(0,t.useFacetMap)((e=>AM(e.platform)||NM(e.platform)),[],[(0,t.useSharedFacet)(el)])}const RP=n.p+"assets/external-link-b22bb.png";function LP({tab:n,stackedButtons:a=!1}){const{t:r}=Ii("PlayScreen"),l=_P(n),o=BP(n),i=(0,t.useFacetMap)((e=>e.isDevBuild||e.isPreviewBuild),[],[(0,t.useSharedFacet)(xm)]);return e.createElement(t.Mount,{when:i},e.createElement(YS,{border:!0,stackedButtons:a,title:r(".designPreviewTitle"),description:r(".designPreviewDescription"),buttons:e.createElement(e.Fragment,null,e.createElement(Pu,{inputLegend:`${r(".designPreviewInputLegend")}`,horizontal:!a,onClick:l,imgSrc:RP,gamepadIndex:0},r(".feedbackButton")),e.createElement(YS.ButtonSpacing,null),e.createElement(Pu,{inputLegend:`${r(".designPreviewInputLegend")}`,horizontal:!a,onClick:o,gamepadIndex:1},r(".optOutButton")))}))}function _P(e){const n=(0,t.useSharedFacet)(Ug),a=LS();return(0,t.useFacetCallback)((t=>()=>{a({button:"Feedback",screen:"Play"}),t.openLink(function(e){switch(e){case"friends":return Wg.FriendsDrawerFeedbackPage;case"servers":return Wg.ServersTabFeedbackPage;case"realms":return Wg.RealmsTabFeedbackPage;case"template":return Wg.StartFromTemplateFeedbackPage;default:return Wg.PlayScreenFeedbackPage}}(e))}),[a,e],[n])}function DP({tab:n,borderless:a=!1,transparent:r=!1}){const{t:l}=Ii("PlayScreen"),o=_P(n),i=`${l(".designPreviewShortDescription")}`,{background:c,border:s}=gr("neutral"),u=br("panel","neutral"),d=Or()("UfghS",!a&&"PgFzj",s.base,!r&&c.base,u.main.base),m=(0,t.useFacetMap)((e=>e.isDevBuild||e.isPreviewBuild),[],[(0,t.useSharedFacet)(xm)]);return e.createElement(t.Mount,{when:m},e.createElement(Ps,{text:i},e.createElement("div",{className:d},e.createElement(Yc,{size:2}),e.createElement(Pu,{inputLegend:`${l(".designPreviewInputLegend")}`,onClick:o,imgSrc:RP,gamepadIndex:0},l(".feedbackButton")),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"captionShort",role:"neutral",variant:"dimmest",align:"center"},l(".designPreviewShortDescription")),e.createElement(Yc,{size:2}))))}function BP(e){const n=Hr(),a=(0,t.useSharedFacet)(cg),r=LS();return(0,t.useFacetCallback)((t=>()=>{r({button:"OptOut",screen:"Play"}),t.selectTechStackForScreen(og.PlayScreen,ig.JsonUI),n.replace("/play/"+e)}),[n,e,r],[a])}function WP(e){return(0,t.useFacetMap)(((e,t)=>{const{xuid:n,platformId:a}=t;return""===n&&""===a?e.playerProfiles.find((e=>""===e.data.platformId&&""===e.data.xuid))||null:""!=a?e.playerProfiles.find((e=>e.data.platformId===a))||null:e.playerProfiles.find((e=>e.data.xuid===n))||null}),[],[(0,t.useSharedFacet)(nf),e])}function UP(){const e=(0,t.useSharedFacet)(nf),n=(0,t.useSharedFacet)(Dg);return(0,t.useFacetMap)(((e,t)=>t.isLoggedInWithMicrosoftAccount?e.playerProfiles.find((e=>e.data.xuid===t.currentXuid))||null:e.playerProfiles.find((e=>e.data.platformId===t.currentPlatformId))||null),[],[e,n])}function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function jP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zP(Object(n),!0).forEach((function(t){HP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HP(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VP({loading:n,drawerOpen:a,friendsOnline:r,friendsOffline:l,incomingRequests:o,outgoingRequests:i,profileEntryPoint:c,spinnerBackgroundColor:s,showSpinnerBorder:u,screenAnalyticsId:d}){const{t:m}=Ii("FriendList"),p=(0,t.useFacetMap)((e=>AM(e.platform)?"playstation":NM(e.platform)?"switch":void 0),[],[(0,t.useSharedFacet)(el)]),f=(0,t.useFacetMap)(((e,t)=>e&&!t.isLoggedInWithMicrosoftAccount?"title":e&&t.isLoggedInWithMicrosoftAccount?"list-item":"none"),[],[NP(),(0,t.useSharedFacet)(Dg)]),g=(0,e.useRef)(null),{delegationEventFacet:E,delegateFocus:h}=yc(),b=(0,e.useCallback)((()=>{g.current&&(g.current.scrollTop=0,h.first())}),[g,h]),{currentPage:v,totalPages:F,currentOnlineFriendsData:y,currentOfflineFriendsData:S,changeFriendsPage:C,reset:M}=function({friendsPerPage:n,friendsOnline:a,friendsOffline:r,onPagination:l}){const[o,i]=(0,t.useFacetState)(1),c=(0,t.useFacetMap)(((e,t)=>Math.ceil((e.length+t.length)/n)),[n],[a,r]),s=(0,t.useFacetMemo)(((e,t,a)=>{const r=[...up(e),...t];return function({currentPage:e,friendsPerPage:t,friends:n}){const a=(e-1)*t,r=a+t;return n.slice(a,r)}({currentPage:a,friendsPerPage:n,friends:r})}),[n],[a,r,o]),u=(0,t.useFacetMap)((e=>e.filter((e=>e.isOnline))),[],[s]),d=(0,t.useFacetMap)((e=>e.filter((e=>!e.isOnline))),[],[s]),m=(0,t.useFacetCallback)((e=>t=>{e!==t&&(i(t),l())}),[i,l],[o]),p=(0,e.useCallback)((()=>i(1)),[i]);return(0,t.useFacetEffect)(((e,t)=>{if(e>0&&e<t){i(e);const t=setTimeout(l,30);return()=>clearTimeout(t)}}),[l,i],[c,o]),{currentPage:o,totalPages:c,currentOnlineFriendsData:u,currentOfflineFriendsData:d,changeFriendsPage:m,reset:p}}({friendsPerPage:15,friendsOnline:r,friendsOffline:l,onPagination:b}),w=(0,t.useFacetMemo)(((e,t,n,a,r,l,o)=>{let i=new Set;var c;"list-item"===r&&(i=new Set((null!==(c=o.platformFriends)&&void 0!==c?c:[]).map((e=>e.xuid))));const s=function({friendsOnline:e,friendsOffline:t,incomingRequests:n,outgoingRequests:a},r,l){return{online:up(e).map((e=>GP(e,"player",r.has(e.xuid)?l:void 0))),offline:t.map((e=>GP(e,"player"))),requests:[...n.map((e=>GP(e,"received-request"))),...a.map((e=>GP(e,"sent-request")))]}}({friendsOnline:e,friendsOffline:t,incomingRequests:n,outgoingRequests:a},i,l);return s}),[],[y,S,o,i,f,p,(0,t.useSharedFacet)(sp)]),k=ve();(0,t.useFacetLayoutEffect)(((e,t)=>{e||t||!g.current?e&&!t&&g.current&&(M(),k("own-profile")):g.current.scrollTop=0}),[g,M,h,k],[a,n]);const T=UP(),x=(0,t.useFacetMap)(((e,t)=>null!=e&&!t),[],[T,n]),I=(0,t.useFacetMap)((e=>{var t,n,a,r,l,o;return""!==(null==e?void 0:e.data.xuid)?{xuid:null!==(t=null==e?void 0:e.data.xuid)&&void 0!==t?t:"",gamerTag:null!==(n=null==e?void 0:e.data.xblName)&&void 0!==n?n:"",gamerIcon:null!==(a=null==e?void 0:e.data.xblProfilePic)&&void 0!==a?a:"",variant:"self",isOnline:!0}:{xuid:null!==(r=null==e?void 0:e.data.platformId)&&void 0!==r?r:"",gamerTag:null!==(l=null==e?void 0:e.data.platformName)&&void 0!==l?l:"",gamerIcon:null!==(o=null==e?void 0:e.data.platformProfilePic)&&void 0!==o?o:"",variant:"self",isOnline:!0}}),[],[T]),P=(0,e.useRef)(null),O=(0,t.useFacetMap)((e=>e>1),[],[F]);return e.createElement(RI,{scrollRef:g,delegateFocusByAlias:"own-profile",header:e.createElement(e.Fragment,null,e.createElement(DP,{tab:"friends"}),e.createElement(t.Mount,{when:x},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(nb,{role:"informativeTint",label:m(".you")}),e.createElement(TP,{item:I,listLength:(0,t.useFacetWrap)(1),index:0,gamepadAlias:"own-profile",profileEntryPoint:c,screenAnalyticsId:d}))),e.createElement(Yc,{size:2}),e.createElement($I,{screenAnalyticsId:d})),sectionsWrapper:({children:t})=>e.createElement(Cc,{delegationEvent:E},e.createElement(Pc,{containerRef:P,delegateFocusFromMemory:a},e.createElement("div",{ref:P,style:{flexGrow:1}},t))),loading:n,data:(0,t.useFacetMemo)(((e,t,n,a,r,l,o)=>[jP({role:"successTint",title:m("title"===t&&n?`.online.${n}`:".online",[`${l.length}`]),narrationTitle:m("title"===t&&n?`.narration.online.${n}`:".narration.online"),narrationSuffix:m(1!=l.length?".onlineFriendsNumberMultiple":".onlineFriendsNumberSingular",[`${l.length}`]),data:e.online},1===a?{emptyStateMessage:m(".noOnlineFriends")}:{}),{role:"neutral",title:m(".pending",[`${e.requests.length}`]),narrationTitle:m(".pendingFriends"),narrationSuffix:m(1!=e.requests.length?".pendingFriendsNumberMultiple":".pendingFriendsNumberSingular",[`${e.requests.length}`]),data:e.requests},jP({role:"secondary",title:m(".offline",[`${o.length}`]),narrationTitle:m(".offlineFriends"),narrationSuffix:m(1!=o.length?".offlineFriendsNumberMultiple":".offlineFriendsNumberSingular",[`${o.length}`]),data:e.offline},a===r?{emptyStateMessage:m(".noOfflineFriends")}:{})]),[m],[w,f,p,v,F,r,l]),footer:e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:O},e.createElement(e.Fragment,null,e.createElement(Yc,{size:4}),e.createElement(GI,{totalPages:F,currentPage:v,onChange:C}),e.createElement(Yc,{size:4}))),e.createElement(wd.Space,{extraSpace:e.createElement(Yc,{size:1})})),sectionSeparator:e.createElement(Yc,{size:3}),renderSectionHeader:(t,n)=>e.createElement(nb,{role:n,label:t}),renderItem:t=>e.createElement(TP,{item:t.itemFacet,listLength:t.listLengthFacet,index:t.index,gamepadAlias:`friend-list-item-${t.sectionIndex}-${t.index}`,profileEntryPoint:c,screenAnalyticsId:d}),spinnerBackgroundColor:s,showSpinnerBorder:u})}function GP(e,t,n){return{gamerIcon:e.gamerIcon,gamerTag:e.gamerTag,isOnline:e.isOnline,playingOnServerId:e.playingOnServerId,xuid:e.xuid,variant:t,platform:n}}const $P=n.p+"assets/no-friends-empty-state-4846a.png";function KP({screenAnalyticsId:t}){const{t:n}=Ii("EmptyFriendList");return e.createElement(Ps,{text:n(".noFriendsCaption")},e.createElement(DP,{tab:"friends"}),e.createElement(Yc,{size:2}),e.createElement("div",{className:"y1MBg"},e.createElement(zs,{type:"body",align:"center"},n(".noFriendsCaption")),e.createElement(Yc,{size:4}),e.createElement(Rc,{imageRendering:"pixelated",src:$P,className:"HSft6"}),e.createElement(Yc,{size:4}),e.createElement($I,{screenAnalyticsId:t})))}const XP=n.p+"assets/no-internet-art-53f29.png";function YP({title:n,text:a,buttons:r,borderless:l,disableResize:o}){const{t:i}=Ii("PlayScreen.noInternetMessage"),c=gh({wide:8,narrow:6,width:256}),s=(0,t.useFacetMap)((e=>e||Boolean(o)?"gu_EE":"dxFd2"),[o],[c]);return e.createElement(e.Fragment,null,e.createElement(GE,{borderless:l,title:Boolean(n)?n:i(".title"),text:a,imgSrc:XP,imgClass:s,buttons:r}),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))}const qP=n.p+"assets/external-link-b22bb.png",QP=n.p+"assets/IconClock-999dc.png";function JP(){return JP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},JP.apply(this,arguments)}const ZP=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("wjioV",n);return e.createElement(Rc,JP({},a,{className:r,src:QP,imageRendering:"pixelated"}))};function eO(e){const t=(new Date).getTime(),n=new Date(e).getTime()-t;return{days:String(Math.floor(n/864e5)),hours:String(Math.floor(n%864e5/36e5)),minutes:String(Math.floor(n%36e5/6e4))}}function tO(){const n=(0,t.useSharedFacet)(Dg),a=(0,t.useFacetMap)((e=>e.banExpiration),[],[n]),[r,l]=(0,t.useFacetState)({days:"0",hours:"0",minutes:"0"}),{t:o}=Ii("PlayScreen.SuspendedMessage"),i=(0,t.useFacetMap)((e=>o(".timer",[e.days,e.hours,e.minutes])),[o],[r]);return(0,t.useFacetEffect)((e=>{l(eO(e));const t=setInterval((()=>{l(eO(e))}),6e4);return()=>clearInterval(t)}),[l],[a]),e.createElement(zs,{type:"body"},e.createElement(ZP,null),e.createElement(Yc,{size:1}),e.createElement("fast-text",{text:i}))}const nO=e=>{const t=new Date(e).getTime();return!isNaN(t)&&null!=e&&"Indefinite"!==e};function aO(){const{t:e}=Ii("BannedOrSuspendedMessage"),{t:n}=Ii("BannedOrSuspendedReason"),a=(0,t.useSharedFacet)(Dg),r=(0,t.useFacetMap)((e=>e.banReason),[],[a]),l=(0,t.useFacetMap)((e=>nO(e.banExpiration)),[],[a]),o=(0,t.useFacetMap)((e=>e?".SuspendedMessage":".BannedMessage"),[],[l]),i=(0,t.useFacetMap)((e=>n(".reasonForBan")+" "+n(`.${""!=e?e:"xbox.report.policyViolation"}`)),[n],[r]),c=(0,t.useFacetMap)((t=>e(`${t}.title`)),[e],[o]),s=(0,t.useFacetMap)((t=>e(`${t}.bodyFirstParagraph`)),[e],[o]),u=(0,t.useFacetMap)((t=>e(`${t}.bodySecondParagraph`)),[e],[o]),d=(0,t.useFacetMap)(((e,t,n,a)=>[e,t,n,a].join(" . ")),[],[c,i,s,u]);return{narrationText:d,title:c,helpButtonCopy:(0,t.useFacetMap)((t=>e(`${t}.helpButton`)),[e],[o]),reasonCopy:i,bodyFirstParagraph:s,bodySecondParagraph:u}}function rO(){return(0,t.useFacetMap)((e=>e.isBanned),[],[(0,t.useSharedFacet)(Dg)])}function lO(){return(0,t.useFacetMap)((e=>nO(e.banExpiration)),[],[(0,t.useSharedFacet)(Dg)])}function oO({usedInDrawer:n=!1}){const{narrationText:a,title:r,reasonCopy:l,bodyFirstParagraph:o,bodySecondParagraph:i,helpButtonCopy:c}=aO(),s=lO(),u=gr("neutral80"),d=Or()("LMzeC",u.background.base,u.border.base,{z1PkI:n}),m=(0,t.useFacetCallback)((e=>()=>{e.openLink(Wg.BannedHelpPage)}),[],[(0,t.useSharedFacet)(Ug)]);return e.createElement(Fl,{data:s},(t=>e.createElement("div",null,e.createElement(Ps,{text:a},e.createElement(KS,{role:"noticeTint"},e.createElement("div",{className:Or()("GTwBN",{MlyhM:t&&n})},e.createElement(KS.Text,null,r),t&&e.createElement(tO,null))),e.createElement("div",{className:d},e.createElement("div",{className:"oX0qO"},e.createElement(zs,{type:"captionShort",variant:"dimmest",align:"left"},l)),e.createElement(Yc,{size:3}),e.createElement(zs,{type:"captionShort",variant:"dimmest",align:"left"},o),e.createElement(Yc,{size:3}),e.createElement(zs,{type:"captionShort",variant:"dimmest",align:"left"},i),e.createElement(Yc,{size:2}),e.createElement("div",{className:"aQ3LQ"},e.createElement(Pu,{"data-testid":"help-button-"+(t?"suspended":"banned"),autofocus:!0,inputLegend:c,variant:"secondary",imgSrc:qP,onClick:m},c)))),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))))}oO.InTab=function(){return e.createElement(ys,{floating:!0},e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:1,narrowSize:0}),e.createElement(UE.Column,{wideSize:10,narrowSize:8},e.createElement(Yc,{size:2}),e.createElement(oO,null)),e.createElement(UE.Column,{wideSize:1,narrowSize:0})))};const iO=n.p+"assets/error-9e281.png";function cO({tab:t,borderless:n}){const{t:a}=Ii("PlayScreen"),r=fh({wide:8,narrow:6,width:256});return e.createElement(e.Fragment,null,e.createElement(GE,{borderless:n,gamepadIndex:0,title:a(".errorOnLoadingTitle",[t]),text:a(".errorOnLoadingText"),imgSrc:iO,imgClass:r||n?"MN0Na":"IVeH5"}),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))}const sO=n.p+"assets/sign-in-prompts-friends-01fb9.png",uO=n.p+"assets/sign-in-prompts-servers-animated-0c355.gif";function dO({gifSrc:n,imageSrc:a,className:r}){const l=(0,t.useFacetMap)((e=>e?n:a),[n,a],[(0,t.useFacetMap)((e=>e.screenAnimationEnabled),[],[(0,t.useSharedFacet)(Wn)])]);return e.createElement(Rc,{src:l,className:r,imageRendering:"pixelated"})}function mO(){const{t}=Ii("FriendsDrawer.notLoggedInMessage"),n=t(".title"),a=t(".text"),r=t(".button"),l=`${n} . ${a}`,o=u(),i=LS(),c=(0,e.useCallback)((()=>{i({button:"SignIn",screen:"FriensdDrawer"}),o.replace("/sign-in?signInSource=SignInOnFriendsDrawer_OreUI")}),[i,o]);return e.createElement("div",{className:"awqCt"},e.createElement(Ps,{text:l},e.createElement(zs,{type:"secondaryButton",role:"neutral80",align:"center"},n),e.createElement(dO,{gifSrc:uO,imageSrc:sO,className:"eiIlM"}),e.createElement(zs,{type:"captionShort",role:"neutral80",variant:"dimmest",align:"center"},a),e.createElement(Yc,{size:2}),e.createElement("div",{className:"eh1tX"},e.createElement(Pu,{variant:"primary",onClick:c,inputLegend:".inputLegend",autofocus:!0,"data-testid":"sign-in-button"},r))))}const pO=n.p+"assets/online-safety-child-8fad2.png",fO=n.p+"assets/online-safety-adult-dc71d.png";function gO({isParental:n=!1,borderless:a}){const{t:r}=Ii("FriendsDrawer.AddFriendsOnlineSafety"),l=fh({wide:8,narrow:6,width:256});return e.createElement(e.Fragment,null,e.createElement(GE,{borderless:a,gamepadIndex:0,title:r(".title"),text:r(n?".textParental":".text"),imgSrc:n?pO:fO,imgClass:l||a?"wxkOc":"R96PQ",buttons:[{text:r(".helpButton"),variant:"secondary",imgSrc:aw,onClick:(0,t.useFacetCallback)((e=>()=>{e.openLink(Wg.ParentPermissionHelpPage)}),[],[(0,t.useSharedFacet)(Ug)])}]}),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))}function EO(){const e=(0,t.useSharedFacet)(sp),n=(0,t.useFacetMap)(((e,t,n)=>function(e,t,n){return function(e,t){const n=[];return e.forEach((e=>n.push(e))),t.forEach((e=>n.push(e))),n}(t.isLoggedInWithMicrosoftAccount&&null!=e.xblFriends?e.xblFriends:[],n&&null!=e.platformFriends?e.platformFriends:[])}(e,n,t)),[],[e,NP(),(0,t.useSharedFacet)(Dg)]);return{friends:n,friendsOnline:(0,t.useFacetMap)((e=>e.filter((e=>e.isOnline&&e.titleHistory==ip.HasPlayed))),[],[n]),friendsOffline:(0,t.useFacetMap)((e=>e.filter((e=>!e.isOnline&&e.titleHistory==ip.HasPlayed))),[],[n]),isLoading:(0,t.useFacetMap)((e=>e.xblLoadingState==cp.Loading||e.platformLoadingState==cp.Loading),[],[e]),isReady:(0,t.useFacetMap)((e=>e.xblLoadingState===cp.Ready||e.platformLoadingState==cp.Ready),[],[e]),isUnavailable:(0,t.useFacetMap)((e=>e.xblLoadingState===cp.Unavailable||e.platformLoadingState==cp.Unavailable),[],[e])}}function hO({screenAnalyticsId:n}){const{t:a}=Tp("FriendsDrawer"),r=LS(),l=u(),o=(0,t.useSharedFacet)(Ug),i=EP(),c=(0,t.useFacetCallback)((e=>()=>e.openLink(Wg.ParentPermissionHelpPage)),[],[o]),s=(0,t.useFacetCallback)(((e,t,n)=>()=>{t?n.showPremiumNetworkUpsellModal():e.openLink(Wg.TroubleshootingMultiplayerDisabled)}),[],[o,i,(0,t.useSharedFacet)(Dg)]),d=(0,e.useCallback)((()=>{r({screen:n,button:"SignIn"}),l.replace("/sign-in?signInSource=FriendsDrawer_NotLoggedInBanner_OreUI")}),[r,l,n]),m=(0,t.useFacetMap)(((e,t,n)=>!AM(t.platform)||e.isLoggedInWithMicrosoftAccount||e.hasPremiumNetworkAccess?!NM(t.platform)||e.isLoggedInWithMicrosoftAccount||e.hasPremiumNetworkAccess?AM(t.platform)&&!e.isLoggedInWithMicrosoftAccount&&e.hasPremiumNetworkAccess?"msa-guest-with-premium-playstation":NM(t.platform)&&!e.isLoggedInWithMicrosoftAccount&&e.hasPremiumNetworkAccess?"msa-guest-with-premium-nintendo":e.userPermissions.multiplayer.denyReasons.includes(Lg.XboxLive)||n?"multiplayer":e.userPermissions.multiplayer.denyReasons.includes(Lg.XboxLive_Parental)?"multiplayer-parental":void 0:"msa-guest-nintendo":"msa-guest-playstation"),[],[(0,t.useSharedFacet)(Dg),(0,t.useSharedFacet)(el),i]);return e.createElement(e.Fragment,null,e.createElement(Fl,{data:m},(t=>{switch(t){case"multiplayer":return e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,a(".multiplayerBanner.text")),e.createElement(KS.Link,{"data-testId":"multiplayer-troubleshooting-link",onClick:s},a(".multiplayerBanner.learnMore")));case"multiplayer-parental":return e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,a(".multiplayerBanner.textParental")),e.createElement(Yc,{size:1}),e.createElement(KS.Link,{onClick:c,"data-testId":"multiplayer-parental-permission-help-link"},a(".multiplayerBanner.learnMore")));case"msa-guest-playstation":return e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,a(".msaGuestPlaystationBanner")),e.createElement(KS.Link,{onClick:d,"data-testId":"login-link"},a(".bannerLogInMicrosoft")));case"msa-guest-nintendo":return e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,a(".msaGuestNintendoBanner")),e.createElement(KS.Link,{onClick:d,"data-testId":"login-link"},a(".bannerLogInMicrosoft")));case"msa-guest-with-premium-playstation":case"msa-guest-with-premium-nintendo":return e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,a(".msaGuestPremiumBanner")),e.createElement(KS.Link,{onClick:d,"data-testId":"login-link"},a(".bannerLogInMicrosoft")));default:return null}})))}function bO(){const{t}=Ii("FriendsDrawer"),n=BP("friends");return e.createElement(e.Fragment,null,e.createElement(GE,{borderless:!0,imgSrc:PI,imgClass:"w1M8x",title:t(".emptyStateTitle"),text:t(".emptyStateBody"),buttons:[{text:t(".emptyStateButtonLabel"),inputLegend:t(".emptyStateButtonInputLegend"),onClick:n}]}))}function vO({closeButtonAlias:n,closeFriendsDrawer:a,isDrawerOpen:r,screenAnalyticsId:l,role:o="neutral80"}){const{t:i}=Ii("FriendsDrawer"),c=gr(o),s=(0,t.useSharedFacet)(Dg),u=(0,t.useSharedFacet)(el),d=(0,t.useSharedFacet)(sp),m=(0,t.useFacetMap)((e=>!e),[],[r]),p=(0,t.useFacetWrap)([]),f=(0,t.useFacetWrap)([]),{friendsOnline:g,friendsOffline:E,isLoading:h,isReady:b,isUnavailable:v}=EO(),F=(0,t.useFacetMap)(((e,t,n,a,r)=>r&&0===e.length&&0===t.length&&0===n.length&&0===a.length),[],[p,f,g,E,b]),y=Eh(b,1e4),S=bE(qm),C=(0,t.useFacetMap)(((e,t,n,a,r,l,o,i)=>S?n.isOnline?o?"trial-mode":(AM(n.platform)||NM(n.platform)||t.isLoggedInWithMicrosoftAccount)&&(!AM(n.platform)&&!NM(n.platform)||t.isLoggedInWithMicrosoftAccount||t.isSignedInPlatformNetwork)?!t.isSignedInPlatformNetwork&&NM(n.platform)?"platform-guest-nintendo":!t.isSignedInPlatformNetwork&&AM(n.platform)?"platform-guest-playstation":t.isLoggedInWithMicrosoftAccount||!NM(n.platform)||a||i?t.isLoggedInWithMicrosoftAccount||!AM(n.platform)||a||i?t.hasPremiumNetworkAccess||!NM(n.platform)||a?t.hasPremiumNetworkAccess||!AM(n.platform)||a?!t.hasPremiumNetworkAccess&&t.isLoggedInWithMicrosoftAccount&&n.platform===Ve.XBOX?"no-online-subscription-xbox":t.isBanned?"banned":a&&t.userPermissions.addFriends.denyReasons.includes(Lg.XboxLive_Parental)?"add-friends-parental-online-safety":a&&t.userPermissions.addFriends.denyReasons.includes(Lg.XboxLive)?"add-friends-online-safety":a?"empty-friends-list":r.xblLoadingState==cp.Error||r.platformLoadingState==cp.Error||1==l?"error-on-loading":"friends-list":"no-online-subscription-playstation":"no-online-subscription-nintendo":"msa-guest-playstation":"msa-guest-nintendo":"login-prompt":"offline":"under-construction"),[S],[NI(AI.FRIENDS),s,u,F,d,y,(0,t.useSharedFacet)(Bg),v]),M=SO(),w=(0,t.useFacetMap)(((e,t)=>[i(".friendsDrawerName"),t?"":i(".numberOfFriends",[`${e.length}`])].join(" . ")),[i],[g,M]),k=(0,t.useFacetMap)(((e,t)=>"friends-list"!=e?i(".title"):i(".titleWithAmount",[`${t.length}`])),[i],[C,g]),T=(0,e.useRef)(null);return e.createElement(Pc,{containerRef:T,disabled:m,shouldBindFocus:!0,delegateFocusFromMemory:!0},e.createElement("div",{ref:T,className:Or()("Smx2z",c.background.base,c.border.base)},e.createElement(Ts,{onClick:a,options:{button:W.B,inputLegend:i(".backButton")}}),e.createElement(Ps,{text:w},e.createElement(Gc,{right:e.createElement(Gc.Buttons.Close.Component,{gamepadAlias:n,narrationSuffix:i(".closeButtonNarrationHint"),onClick:a})},e.createElement(zs,{type:"body"},e.createElement(ru,null,k))),e.createElement(Fl,{data:C},(t=>{switch(t){case"empty-friends-list":return e.createElement("div",{className:OI},e.createElement(ys,{flexShrinkWrapper:!0},e.createElement(KP,{screenAnalyticsId:l})));case"msa-guest-nintendo":case"msa-guest-playstation":case"platform-guest-playstation":case"platform-guest-nintendo":case"no-online-subscription-playstation":case"no-online-subscription-nintendo":case"no-online-subscription-xbox":case"friends-list":return e.createElement(e.Fragment,null,e.createElement(hO,{screenAnalyticsId:l}),e.createElement("div",{className:"Dbc94"},e.createElement(VP,{drawerOpen:r,loading:h,friendsOnline:g,friendsOffline:E,incomingRequests:p,outgoingRequests:f,profileEntryPoint:tf.FriendsDrawer,spinnerBackgroundColor:"transparent",showSpinnerBorder:!1,screenAnalyticsId:l})));case"add-friends-online-safety":return e.createElement("div",{className:OI},e.createElement(ys,{flexShrinkWrapper:!0},e.createElement(gO,{borderless:!0})));case"add-friends-parental-online-safety":return e.createElement("div",{className:OI},e.createElement(ys,{flexShrinkWrapper:!0},e.createElement(gO,{isParental:!0,borderless:!0})));case"banned":return e.createElement("div",{className:"EXjPA"},e.createElement(ys,{flexShrinkWrapper:!0},e.createElement(oO,{usedInDrawer:!0})));case"offline":return e.createElement("div",{className:OI},e.createElement(ys,{flexShrinkWrapper:!0},e.createElement(YP,{text:i(".noInternetMessage"),borderless:!0,disableResize:!0})));case"error-on-loading":return e.createElement("div",{className:OI},e.createElement(ys,{flexShrinkWrapper:!0},e.createElement(cO,{tab:i(".title"),borderless:!0})));case"trial-mode":return e.createElement("div",{className:OI},e.createElement(_w,{context:Lw.FRIENDS_DRAWER}));case"login-prompt":return e.createElement("div",{className:OI},e.createElement(ys,{flexShrinkWrapper:!0},e.createElement(mO,null)));default:return e.createElement("div",{className:OI},e.createElement(ys,{flexShrinkWrapper:!0},e.createElement(bO,null)))}})))))}function FO({children:n,screenAnalyticsId:a,role:r="neutral80"}){const l=LS(),{friends:o}=EO(),i=(0,t.useFacetMap)((e=>!e.screenAnimationEnabled),[],[(0,t.useSharedFacet)(Wn)]),[c,s]=(0,t.useFacetState)(!1),u=(0,e.useCallback)((()=>s((e=>e===t.NO_VALUE?e:!e))),[s]),d=(0,e.useCallback)((()=>s(!1)),[s]),m=(0,e.useCallback)((()=>s(!0)),[s]),p=(0,t.useFacetCallback)((e=>()=>{l({button:"FriendsShortcut",screen:a,details:{friendsCount:`${e.length}`}}),u()}),[u,a,l],[o]);return e.createElement(II,{anchor:II.Anchor.Right,drawerContent:e.createElement(vO,{closeFriendsDrawer:d,isDrawerOpen:c,closeButtonAlias:"friends-close-btn",role:r,screenAnalyticsId:a}),isOpen:c,onOverlayClick:d,disableAnimation:i},n({toggleFriendsDrawer:u,openFriendsDrawer:m,closeFriendsDrawer:d,isFriendsDrawerOpen:c}),e.createElement(yO,{onClick:p}))}function yO({onClick:n}){return e.createElement(Ts,{onClick:n,options:(0,t.useFacetMap)((e=>({button:W.Y,disabled:e})),[],[et()])})}function SO(){const e=bE(qm);return(0,t.useFacetMap)(((t,n)=>{if(!e)return!0;if(!AM(n.platform)&&!NM(n.platform)&&!t.isLoggedInWithMicrosoftAccount)return!0;if(NM(n.platform)||AM(n.platform)){if(!t.isSignedInPlatformNetwork)return!0;if(!t.hasPremiumNetworkAccess)return!0}return!!t.isBanned||!t.userPermissions.addFriends.allowed||!!t.isTrialAccount}),[e],[(0,t.useSharedFacet)(Dg),(0,t.useSharedFacet)(el)])}_i((({onClose:n})=>{const a="CreateTestWorldInfoModal-close-btn";return e.createElement(Ld,{defaultFocusAlias:a,onOverlayClick:n},e.createElement(Ld.Header,{onClose:n},"Create Test World"),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:!1},"This button applies the following settings on the Create New World screen:"),e.createElement(Ld.List,{gamepadIndex:1,items:(0,t.useFacetWrap)(["Game Mode: Creative","Flat World: true","Cheats Enabled: true","Daylight cycle: Always Day","Mob spawning: false","Weather: false","Keep Inventory: true"])}),e.createElement(Ld.Text,{gamepadIndex:0,narrationText:!1},"Any other settings which don't conflict with the above will remain unchanged.")),e.createElement(Ld.Buttons,null,e.createElement(Pu,{onClick:n,inputLegend:"Back",gamepadAlias:a},"Back")))}));const CO=(0,t.createStaticFacet)(!1),MO=()=>{},wO={isDebugDrawerOpen:CO,closeDebugDrawer:MO,openDebugDrawer:MO,toggleDebugDrawer:MO},kO=t=>e.createElement(e.Fragment,null,t.children(wO)),TO=({condition:t,children:n,options:a})=>(bE(Jm),e.createElement(kO,{children:n}));function xO(n){const a=(0,t.useFacetMap)(((e,t)=>e||t),[],[n.isDebugDrawerOpen,n.isFriendsDrawerOpen]);return e.createElement(e.Fragment,null,n.children({isAnyDrawerOpen:a}))}const IO={isFriendsDrawerOpen:CO,closeFriendsDrawer:MO,openFriendsDrawer:MO,toggleFriendsDrawer:MO},PO=t=>e.createElement(e.Fragment,null,t.children(IO)),OO=({condition:n,screenAnalyticsId:a,children:r})=>!0===(0,t.useFacetUnwrap)(n)?e.createElement(FO,{children:r,screenAnalyticsId:a}):e.createElement(PO,{children:r,screenAnalyticsId:a}),AO=({onClick:n,screenAnalyticsId:a})=>{const r=LS(),{friendsOnline:l,friends:o}=EO(),i=(0,t.useFacetMap)((e=>e.length),[],[l]),c=(0,t.useFacetCallback)((e=>()=>{r({button:"Friends",screen:a,details:{friendsCount:`${e.length}`}}),n()}),[a,r,n],[o]),s=bE(qm),u=(0,t.useFacetMap)((e=>s&&!e),[s],[SO()]);return e.createElement(DE.FriendsButton,{friendsOnline:i,onClick:c,displayAmountOfOnlineFriends:u,testId:"vanilla-screen-layout-friends-button"})};function NO({disableBackButton:n,children:a,debugDrawer:r,delegateByAlias:l,friendsDrawer:o,gamepadAlias:i,onBack:c,title:s,screenAnalyticsId:d}){const{t:m}=Ii("VanillaScreenLayout"),p=u(),f=bE(Jm),g=null!=r&&r.length>0&&f,E=(0,t.useFacetWrap)(null!=o&&o),h=(0,t.useFacetWrap)(null!=n&&n),b=(0,t.useFacetMap)((e=>m(".narration.title",[e])),[m],[(0,t.useFacetWrap)(s)]),v=(0,t.useFacetCallback)((e=>()=>{e||(!1!==c&&null!=c?c():p.goBack())}),[c,p],[h]);return e.createElement(t.DeferredMountProvider,null,e.createElement(vE,null,e.createElement(TO,{condition:g,options:r},(({toggleDebugDrawer:n,isDebugDrawerOpen:r})=>e.createElement(OO,{condition:E,screenAnalyticsId:d},(({toggleFriendsDrawer:n,isFriendsDrawerOpen:o})=>e.createElement(Ps,{text:b},e.createElement(DE,{onBackButton:!1===c?void 0:v,center:e.createElement(zs,{type:"header5A"},s),right:e.createElement(e.Fragment,null,null,e.createElement(t.Mount,{when:E},e.createElement(e.Fragment,null,e.createElement(DE.Divider,null),e.createElement(AO,{onClick:n,screenAnalyticsId:d})))),delegateFocusFromMemory:!0,gamepadAlias:i,delegateByAlias:l},e.createElement(xO,{isDebugDrawerOpen:r,isFriendsDrawerOpen:o},a)))))))))}function RO(e){return(0,t.useFacetMap)((e=>e.isHardcore),[],[e])}function LO({advancedData:n,cheatsData:a,experimentsData:r,generalData:l,multiplayerData:o,resourcePacksData:i,worldPacks:c,isUsingTemplate:s,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onActivatePack:p,onDeactivatePack:f,onChangePackPriority:g,onClickPackSettings:E,onUnlockTemplateSettings:h,worldSummary:b,isEditorWorld:v,onMakeWorldInfinite:F,onDuplicateWorld:y,onDeleteWorld:S,onExportWorld:C,onExportTemplate:M,onOptOut:w,onClearPlayerData:k,onSeedValueChange:T=(()=>{}),isSeedChangeLocked:x}){const I=(0,t.useFacetMap)((e=>e.generatorType),[],[n]),P=(0,t.useFacetMap)((e=>e.isHardcore),[],[l]);return e.createElement(e.Fragment,null,e.createElement(mh,{component:(0,e.useCallback)((()=>e.createElement(Aw,{isLockedTemplate:u,generalData:l,isAchievementsDisabled:d,achievementsDisabledMessages:m,worldSummary:b,isUsingTemplate:s,isEditorWorld:v,isHardcoreMode:P,generatorType:I,onUnlockTemplateSettings:h,onMakeWorldInfinite:F,onDuplicateWorld:y,onDeleteWorld:S,onExportWorld:C,onOptOut:w})),[u,l,d,m,b,s,v,P,I,h,F,y,S,C,w]),tab:"general"}),e.createElement(mh,{component:(0,e.useCallback)((()=>e.createElement(ak,{experimentsData:r,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,isEditorWorld:v,onUnlockTemplateSettings:h})),[r,u,d,m,v,h]),tab:"experimental"}),e.createElement(mh,{component:(0,e.useCallback)((()=>e.createElement(Gw,{cheatsData:a,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,isEditorWorld:v,isHardcoreMode:P,onUnlockTemplateSettings:h})),[a,u,d,m,v,P,h]),tab:"cheats"}),e.createElement(mh,{tab:"advanced",component:(0,e.useCallback)((()=>e.createElement(AT,{advancedData:n,cheatsData:a,isUsingTemplate:s,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,isEditorWorld:v,isSeedChangeLocked:x,isHardcoreMode:P,onUnlockTemplateSettings:h,onSeedValueChange:T})),[n,a,s,u,d,m,x,v,P,h,T])}),e.createElement(mh,{tab:"multiplayer",component:(0,e.useCallback)((()=>e.createElement(GT,{multiplayerData:o,worldPacks:c,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,isEditorWorld:v,onDeactivatePack:f,onUnlockTemplateSettings:h})),[o,c,u,d,m,v,f,h])}),e.createElement(mh,{component:(0,e.useCallback)((()=>e.createElement(pI,{worldPacks:c,multiplayerData:o,resourcePacksData:i,isEditorWorld:v,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onActivatePack:p,onDeactivatePack:f,onChangePackPriority:g,onClickPackSettings:E,onUnlockTemplateSettings:h})),[c,o,i,v,u,d,m,p,f,g,E,h]),tab:"resource-packs"}),e.createElement(mh,{component:(0,e.useCallback)((()=>e.createElement(SI,{worldPacks:c,multiplayerData:o,isEditorWorld:v,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onActivatePack:p,onDeactivatePack:f,onChangePackPriority:g,onClickPackSettings:E,onUnlockTemplateSettings:h})),[c,o,v,u,d,m,p,f,g,E,h]),tab:"behavior-packs"}),e.createElement(mh,{component:(0,e.useCallback)((()=>e.createElement(CI,{isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onUnlockTemplateSettings:h,onExportTemplate:M,isEditorWorld:v,onClearPlayerData:k})),[u,d,m,h,M,k,v]),tab:"debug"}),null)}const _O=({experimentsData:n,generalData:a,worldPacks:r,worldPreviewImage:l,isEditorWorld:o,isPageLoading:i,renderPage:c,backButtonCallback:s,backButtonDisabled:u,onEditThumbnail:d,children:m,sideMenuButtons:p})=>{const{t:f}=Ii("CreateNewWorld"),g=(0,e.useContext)(Dv),E=(0,t.useFacetMap)((e=>g===_v.EDIT?f(".editTitle"):f((e?".editor":"")+".title")),[f,g],[o]),h=RO(a),b=(0,t.useFacetMap)((e=>e.playerHasDied),[],[a]),v=(0,t.useFacetWrap)(null!=i&&i);return e.createElement(t.Mount,{when:c},e.createElement(xh,null,e.createElement(NO,{screenAnalyticsId:g===_v.EDIT?"Edit":"CreateNewWorld",onBack:s,disableBackButton:u,title:E,gamepadAlias:"cnw-layout-content",delegateByAlias:"cnw-side-menu",debugDrawer:g===_v.EDIT?[]:["create-test-world"]},(()=>e.createElement(e.Fragment,null,e.createElement(UE,{noGutters:!0},e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:4,narrowSize:3},e.createElement(IS,{showSpinner:v,worldPreviewImage:l,worldPacks:r,isHardcoreMode:h,playerHasDied:b,sideMenuButtons:p,onEditThumbnail:d})),e.createElement(UE.Column,{wideSize:8,narrowSize:5},m))),e.createElement(lk,{experimentsData:n}))))))},DO=({advancedData:t,cheatsData:n,experimentsData:a,generalData:r,multiplayerData:l,resourcePacksData:o,worldPacks:i,worldPreviewImage:c,isUsingTemplate:s,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onActivatePack:p,onDeactivatePack:f,onChangePackPriority:g,onClickPackSettings:E,onUnlockTemplateSettings:h,worldSummary:b,isEditorWorld:v,onMakeWorldInfinite:F,onDuplicateWorld:y,onDeleteWorld:S,onEditThumbnail:C,onExportWorld:M,onExportTemplate:w,onOptOut:k,onClearPlayerData:T,onSeedValueChange:x=(()=>{}),isSeedChangeLocked:I,isPageLoading:P,renderPage:O,backButtonCallback:A,backButtonDisabled:N,sideMenuButtons:R})=>e.createElement(_O,{experimentsData:a,generalData:r,multiplayerData:l,worldPacks:i,worldPreviewImage:c,isEditorWorld:v,isPageLoading:P,renderPage:O,backButtonCallback:A,backButtonDisabled:N,sideMenuButtons:R,onEditThumbnail:C},e.createElement(LO,{advancedData:t,cheatsData:n,experimentsData:a,generalData:r,multiplayerData:l,resourcePacksData:o,worldPacks:i,isUsingTemplate:s,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onActivatePack:p,onDeactivatePack:f,onChangePackPriority:g,onClickPackSettings:E,onUnlockTemplateSettings:h,worldSummary:b,isEditorWorld:v,onMakeWorldInfinite:F,onDuplicateWorld:y,onDeleteWorld:S,onExportWorld:M,onExportTemplate:w,onOptOut:k,onClearPlayerData:T,onSeedValueChange:x,isSeedChangeLocked:I}));DO.Wrapper=_O,DO.DefaultTabs=LO;const BO=DO,WO=n.p+"assets/world-preview-default-d0210.jpg";function UO(){let e=null;return function(t){if(!e)return e=t,!1;if(t.length!==e.length)return e=t,!1;for(const n of t)if(!e.includes(n))return e=t,!1;return!0}}function zO({generalData:e,advancedData:n,cheatsData:a,multiplayerData:r,betaFeaturesEnabled:l,behaviorPacksEnabled:o}){const{t:i}=Ii("CreateNewWorld.achievementsDisabledMessages");return(0,t.useFacetMemo)(((e,t,n,a,r,l)=>{const o=[];return e.gameMode===yg.CREATIVE&&o.push(i(".creativeMode")),t.useFlatWorld&&o.push(i(".flatWorld")),n.cheatsEnabled&&o.push(i(".cheatsEnabled")),a.playerPermissions===zm.OPERATOR&&o.push(i(".operator")),r&&o.push(i(".experiments")),l&&o.push(i(".behaviorPacks")),o}),[i],[e,n,a,r,l,o],UO)}const jO=_i((({title:t,onClose:n})=>{const{t:a}=Ii("ProgressSpinnerModal"),r=null!=t?t:a(".title"),l=ta(),o="progress-spinner-modal-content",i="progress-spinner-modal-close";return e.createElement(Ld,{defaultFocusAlias:l?o:i},e.createElement(Ld.Header,{titlebarGamepadAlias:i,onClose:n},r),e.createElement(Ld.Content,{gamepadAlias:o},e.createElement(Ld.Spinner,null)))}));n(34753);const HO=rr({id:"vanilla",sound:{neutral:{reject:"note.bass",press:"random.click",contract:"random.click",expand:"random.click",toggle:"random.click",lift:"random.click",click:"random.click"},primary:{press:"tokens.vanilla.release"}},color:{neutral:{background:{default:fo,hovered:po,pressed:go,disabled:uo,selected:go},text:{dimmer:{default:so,disabled:so},dimmest:{default:uo},regular:{default:io,disabled:po}},shadow:{default:go,disabled:mo},dropShadow:{default:"rgba(0, 0, 0, 0.25)"},icon:{regular:{default:io,disabled:po},dimmer:{default:so},dimmest:{default:uo}},border:{regular:{default:ho,disabled:po}},caret:{regular:{default:ro}},specular:{default:{top:wo,bottom:Mo}},bevel:{default:{top:Mo,bottom:yo}},outline:{default:io},highlight:{default:"transparent",hovered:Fo},overlay:{default:"rgba(0, 0, 0, 0.7)"}},neutral20:{background:{default:"#e6e8eb",hovered:"#f4f6f9",pressed:so},shadow:{default:uo},text:{regular:{default:ho},dimmest:{default:so}},icon:{regular:{default:io}},outline:{default:co},specular:{default:{top:io,bottom:wo}},bevel:{default:{top:Mo,bottom:yo}}},neutral50:{background:{default:mo,hovered:uo,pressed:po},border:{regular:{default:ho,disabled:mo}},overlay:{default:"rgba(0, 0, 0, 0.5)"},icon:{regular:{default:mo}}},neutral60:{background:{default:po,hovered:fo,pressed:go,disabled:fo},border:{regular:{default:ho,disabled:mo},dimmest:{default:mo}},text:{regular:{default:io,disabled:uo}},icon:{regular:{default:io,disabled:uo}}},neutral80:{background:{default:go,hovered:fo,selected:fo,pressed:Eo},shadow:{default:Eo},text:{regular:{default:io},dimmer:{default:so},dimmest:{default:uo}},caret:{regular:{default:ro}},bevel:{default:{top:Mo,bottom:So},hovered:{top:Mo,bottom:So},pressed:{top:Co,bottom:Mo},selected:{top:So,bottom:Mo}},overlay:{default:So}},neutral100:{background:{default:ho},text:{regular:{default:io},dimmer:{default:so},dimmest:{default:uo}}},primary:{background:{default:lo,hovered:"#2a641c",pressed:oo},shadow:{default:oo},text:{regular:{default:io}},icon:{regular:{default:io,disabled:uo}},border:{regular:{default:ho}},specular:{default:{top:wo,bottom:Mo},hovered:{top:ko,bottom:"rgba(255, 255, 255, 0.3)"}}},primaryTint:{background:{default:ro},text:{regular:{default:ho}},border:{regular:{default:ho}}},secondary:{background:{default:so,hovered:uo,pressed:uo},text:{regular:{default:ho}},icon:{regular:{default:ho}},shadow:{default:po},border:{regular:{default:ho}},specular:{default:{top:To,bottom:ko},hovered:{top:"rgba(255, 255, 255, 0.8)",bottom:To}}},success:{background:{default:lo},text:{regular:{default:io}}},successTint:{background:{default:ao},text:{regular:{default:ho}},border:{regular:{default:ho}}},informative:{background:{default:"#2e6be5"},text:{regular:{default:io}},border:{regular:{default:ho}}},informativeTint:{background:{default:"#8cb3ff"},text:{regular:{default:ho}},border:{regular:{default:ho}}},destructive:{background:{default:"#ca3636",hovered:"#c02d2d",pressed:bo},text:{regular:{default:io}},icon:{regular:{default:io}},shadow:{default:bo},specular:{default:{top:wo,bottom:Mo},hovered:{top:"rgba(255, 255, 255, 0.5)",bottom:ko}}},destructiveTint:{background:{default:"#ff8080"},text:{regular:{default:ho}},border:{regular:{default:ho}}},notice:{background:{default:"#d3791f"}},noticeTint:{background:{default:vo},text:{regular:{default:ho}},border:{regular:{default:ho}},outline:{default:ho}},dataViz01:{background:{default:"#42CCCC"}},dataViz02:{background:{default:"#9471E0"}},dataViz03:{background:{default:"#ffb366"}},dataViz04:{background:{default:"#89DEF9"}},dataViz05:{background:{default:ao}},dataViz06:{background:{default:"#F064B8"}},dataViz07:{background:{default:vo}},dataVizLine:{background:{default:so}},paper:{background:{default:io},text:{regular:{default:co,disabled:fo},dimmer:{default:po}},icon:{regular:{default:co,disabled:fo}},border:{regular:{default:ho,disabled:mo}},caret:{regular:{default:co}},specular:{default:{top:wo,bottom:Mo}},bevel:{default:{top:Mo,bottom:yo}},outline:{default:ho},highlight:{default:"transparent",hovered:Fo}},neutralAlpha60:{background:{default:"rgba(0, 0, 0, 0.6)",hovered:fo,selected:fo,pressed:Eo},bevel:{default:{top:So,bottom:Mo},hovered:{top:So,bottom:Mo},selected:{top:So,bottom:Mo},pressed:{top:Co,bottom:Mo}},border:{}}}}),VO=rr({id:"realms",sound:{secondary:{press:"tokens.vanilla.release"}},color:{primary:{background:{default:"#7345E5",hovered:"#5D2CC6",pressed:Po,disabled:uo},border:{regular:{default:ho,disabled:po}},overlay:{default:"rgba(5, 0, 41, 0.5)"},shadow:{default:Po,disabled:mo},text:{regular:{default:io,disabled:po}},icon:{regular:{default:io,disabled:po}},specular:{default:{top:"rgba(208, 131, 255, 0.5)",bottom:"rgba(182, 81, 245, 0.4)"},hovered:{top:"rgba(208, 131, 255, 0.7)",bottom:"rgba(182, 81, 245, 0.6)"}},caret:{regular:{default:co}},bevel:{default:{top:Mo,bottom:yo},selected:{top:"rgba(5, 0, 41, 0.4)",bottom:"rgba(208, 131, 255, 0.5)"},hovered:{top:"rgba(5, 0, 41, 0.4)",bottom:"rgba(208, 131, 255, 0.5)"},pressed:{top:"rgba(5, 0, 41, 0.4)",bottom:"rgba(208, 131, 255, 0.5)"}},outline:{default:io}},primaryTint:{background:{default:Io},text:{regular:{default:ho}},border:{regular:{default:ho}}},informative:{background:{default:"#050029"},text:{regular:{default:io}},border:{regular:{default:ho,disabled:mo}}},PDPCore:{specular:{default:{top:"rgba(172, 144, 243, 0.5)",bottom:"rgba(172, 144, 243, 0.5)"}},text:{regular:{default:io,disabled:"#777682"},dimmer:{default:xo},dimmest:{default:"#5D5974"},stronger:{default:Io}}},PDPPlus:{specular:{default:{top:"rgba(244, 96, 210, 0.5)",bottom:"rgba(244, 96, 210, 0.5)"}},text:{regular:{default:io,disabled:"#777682"},dimmer:{default:xo},dimmest:{default:"#5D5974"},stronger:{default:"#E833C2"}}}}}),GO=(rr({id:"gameplayInputLegendCollection",color:{neutral100:{background:{default:"none"},specular:{default:{top:"none",bottom:"none"}},text:{regular:{default:io}}}}}),{[Rm.PEACEFUL]:".difficultyPeacefulLabel",[Rm.EASY]:".difficultyEasyLabel",[Rm.NORMAL]:".difficultyNormalLabel",[Rm.HARD]:".difficultyHardLabel"}),$O={[yg.ADVENTURE]:".gameModeAdventureLabel",[yg.CREATIVE]:".gameModeCreativeLabel",[yg.SURVIVAL]:".gameModeSurvivalLabel",[yg.UNKNOWN]:".gameModeUnknownLabel"};function KO(e,n,a,r,l,o){const{t:i}=Tp("CreateNewWorld.general"),c=(0,t.useSharedFacet)(el),s=(0,t.useFacetMap)((e=>e.isStorageLow),[],[c]),u=gP();return{disableMainButton:(0,t.useFacetMap)(((e,t,n)=>e||t&&n.multiplayerGame),[],[s,u,n]),disableSecondaryButton:(0,t.useFacetMap)(((e,t,n)=>e||t&&n.multiplayerGame),[],[(0,t.useFacetWrap)(null!=o&&o),u,n]),buttonHint:(0,t.useFacetMap)(((e,t)=>{const n=$O[e.gameMode],a=t?".hardcoreModeTitle":GO[e.difficulty],o=""!=e.worldName?e.worldName:i(".worldNamePlaceholder");return r(l,[i(n),i(a),o])}),[r,i,l],[a,e])}}function XO(e,n){return(0,t.useFacetCallback)(((t,a)=>()=>{!AM(t.platform)&&!NM(t.platform)||a.isLoggedInWithMicrosoftAccount&&a.isSignedInPlatformNetwork?e():n()}),[n,e],[(0,t.useSharedFacet)(el),(0,t.useSharedFacet)(Dg)])}const YO=n.p+"assets/trial-mode-art-40744.png",qO="play-realms-trial-mode-button",QO=_i((({onClose:t,worldSettingsMode:n})=>{const{t:a}=Ii("PlayRealmsTrialModeModal"),r=n===_v.CREATE?"CreateNewWorld":"EditWorld",l=jM(),o=LS(),i=(0,e.useCallback)((()=>{o({button:"BuyMinecraft",screen:`RealmsTrialModeModal_${r}`}),l()}),[o,l,r]);return e.createElement(Ld,{defaultFocusAlias:qO},e.createElement(Ld.Header,{onClose:t},a(".title")),e.createElement(Ld.Content,null,e.createElement(Yc,{size:4}),e.createElement(Rc,{src:YO,className:"IEu8w",imageRendering:"pixelated"}),e.createElement(Ld.Text,{narrationText:a(".message")},a(".message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:qO,inputLegend:a(".select"),variant:"primary",onClick:i,Icon:kS.ExternalLink},a(".button"))))}));let JO;!function(e){e[e.IDLE=0]="IDLE",e[e.START=1]="START",e[e.VERIFYING_ACCOUNT=2]="VERIFYING_ACCOUNT",e[e.LOADING_REALMS_LIST=3]="LOADING_REALMS_LIST",e[e.SUBSCRIPTION_NEEDED=4]="SUBSCRIPTION_NEEDED",e[e.AWAITING_CONFIRMATION=5]="AWAITING_CONFIRMATION",e[e.CONFIRMED=6]="CONFIRMED",e[e.AWAITING_WORLD_CREATION=7]="AWAITING_WORLD_CREATION"}(JO||(JO={}));const ZO="realm-preview-subscription-needed-close",eA=_i((({onClose:n})=>{const{t:a}=Ii("RealmsPreviews.SubscriptionNeeded"),r=(0,t.useSharedFacet)(xm),l=a(".title"),o=(0,t.useFacetMap)((e=>e.isBetaBuild?a(".message.beta"):a(".message.preview")),[a],[r]);return e.createElement(Ld,{defaultFocusAlias:ZO},e.createElement(Ld.Header,{onClose:n},l),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:o},o)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,gamepadAlias:ZO,inputLegend:a(".select"),variant:"secondary",onClick:n},a(".close"))))})),tA="realm-preview-create-preview-realm-close",nA=_i((({onConfirm:n,onClose:a})=>{const{t:r}=Ii("RealmsPreviews.create"),l=(0,t.useSharedFacet)(xm),o=(0,t.useFacetMap)((e=>e.isBetaBuild?r(".titleAndButtonLabel.beta"):r(".titleAndButtonLabel.preview")),[r],[l]),i=(0,t.useFacetMap)((e=>e.isBetaBuild?r(".message.beta"):r(".message.preview")),[r],[l]),c=(0,t.useFacetMap)((e=>e.isBetaBuild?r(".cancel.beta"):r(".cancel.preview")),[r],[l]);return e.createElement(Ld,{defaultFocusAlias:tA},e.createElement(Ld.Header,{onClose:a},o),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:i},i)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,inputLegend:r(".select"),variant:"primary",onClick:n},o),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,gamepadAlias:tA,inputLegend:r(".select"),variant:"secondary",onClick:a},c)))}));function aA(t){const{narrateText:n}=Fs();(0,e.useEffect)((()=>{const e=setInterval((()=>{n(t)}),1e4);return()=>clearInterval(e)}),[t,n])}function rA({onClickClose:t}){const{t:n}=Ii("Realms.LoadingModals");return aA(n(".fetchingSubscriptionInformation")),e.createElement(jO.Component,{title:n(".fetchingSubscriptionInformation"),onClose:t})}function lA({onClickClose:t}){const{t:n}=Ii("Realms.LoadingModals");return aA(n(".fetchingRealmInformation")),e.createElement(jO.Component,{title:n(".fetchingRealmInformation"),onClose:t})}function oA({onClickClose:t}){const{t:n}=Ii("Realms.LoadingModals");return aA(n(".creatingRealm")),e.createElement(jO.Component,{title:n(".creatingRealm"),onClose:t})}function iA({onClickClose:t}){const{t:n}=Ii("Realms.LoadingModals");return aA(n(".activatingSlot")),e.createElement(jO.Component,{title:n(".activatingSlot"),onClose:t})}function cA({onClickClose:t}){const{t:n}=Ii("Realms.LoadingModals");return aA(n(".contactingRealms")),e.createElement(jO.Component,{title:n(".contactingRealms"),onClose:t})}const sA=_i((({onClickClose:t})=>{const n="realm-error-cannot-contact-realms-close",{t:a}=Ii("Realms.ErrorModals"),r=Li(),l=(0,e.useCallback)((()=>{r(),t&&t()}),[r,t]);return e.createElement(Ld,{defaultFocusAlias:n},e.createElement(Ld.Header,{onClose:l},a(".CannotContactRealms.title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:a(".CannotContactRealms.message"),center:!0},a(".CannotContactRealms.message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:n,gamepadIndex:0,inputLegend:a(".select"),variant:"secondary",onClick:l},a(".close"))))})),uA=_i((({onClickClose:t})=>{const n="realm-error-something-went-wrong-close",{t:a}=Ii("Realms.ErrorModals"),r=Li(),l=(0,e.useCallback)((()=>{r(),t&&t()}),[r,t]);return e.createElement(Ld,{defaultFocusAlias:n},e.createElement(Ld.Header,{onClose:l},a(".somethingWentWrong.title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:a(".somethingWentWrong.message"),center:!0},a(".somethingWentWrong.message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:n,inputLegend:a(".select"),variant:"secondary",onClick:l},a(".close"))))})),dA=_i((({onClickClose:t})=>{const n="realm-error-posting-comment-failed",{t:a}=Ii("Realms.ErrorModals");return e.createElement(Ld,{defaultFocusAlias:n},e.createElement(Ld.Header,{onClose:t},a(".postingCommentFailed.title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:a(".postingCommentFailed.message"),center:!0},a(".postingCommentFailed.message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:n,inputLegend:a(".select"),variant:"secondary",onClick:t},a(".close"))))})),mA=_i((({onClickClose:t})=>{const n="realm-rate-limit-error",{t:a}=Ii("Realms.ErrorModals");return e.createElement(Ld,{defaultFocusAlias:n},e.createElement(Ld.Header,{onClose:t},a(".rateLimitError.title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:a(".rateLimitError.message"),center:!0},a(".rateLimitError.message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:n,inputLegend:a(".select"),variant:"secondary",onClick:t},a(".close"))))})),pA=()=>{const{t:n}=Tp("CreateNewWorld"),a=u(),r=(0,t.useSharedFacet)(Wp),l=(0,t.useSharedFacet)(Bn),o=(0,t.useSharedFacet)(fg),i=sM.useModal(),c=(0,t.useSharedFacet)(jm),s=(0,t.useFacetMap)((e=>e.worldCreationData.general),[],[c]),d=(0,t.useFacetMap)((e=>e.worldCreationData.multiplayer),[],[c]),m=RO(s),p=(0,t.useFacetCallback)(((e,t,n,r)=>()=>{e.showTouchControlSelectionScreen&&t.currentInputType==je.TOUCH?(n.inWorldCreation=!0,a.push("/touch-control-selection")):(r.fireEventButtonPressed("Create_World_Button_OreUI",{}),n.createWorld())}),[a],[r,l,c,o]),f=(0,t.useFacetCallback)(((e,t)=>()=>{!e||t.doNotShowHardcoreModeWarning?p():i.show()}),[i,p],[m,(0,t.useSharedFacet)(Lp)]),{disableMainButton:g,buttonHint:E}=KO(m,d,s,n,"SideMenu.narrationCreateButtonHint"),h=(0,e.useCallback)((()=>{f()}),[f]);return e.createElement(e.Fragment,null,e.createElement(Pu,{"data-testid":"create-world",disabled:g,gamepadAlias:TS,narrationSuffix:E,variant:"hero",onClick:h,inputLegend:n("SideMenu.create")},n("SideMenu.create")),e.createElement(t.Mount,{when:i.isVisible},e.createElement(sM.Component,{onSubmit:p,onCancel:i.hide})))},fA=()=>{const{t:n}=Tp("CreateNewWorld"),a=$M(),r=sM.useModal(),l=UM.useModal(),o=QO.useModal(),i=(0,t.useSharedFacet)(jm),c=(0,t.useSharedFacet)(Gm),s=(0,t.useSharedFacet)(xm),u=(0,t.useSharedFacet)(fg),m=(0,t.useSharedFacet)(Bg),p=function(){const[e,n]=(0,t.useFacetState)(JO.IDLE),a=d(),r=Hr(),l=(0,t.useSharedFacet)(Uf),o=(0,t.useSharedFacet)(Ng),i=(0,t.useSharedFacet)(Gm),c=(0,t.useSharedFacet)(jm),s=(0,t.useSharedFacet)(fg),u=(0,t.useSharedFacet)(Dg),m=(0,t.useSharedFacet)(zf),p=(0,t.useSharedFacet)(Rg),f=(0,t.useFacetCallback)(((e,t)=>()=>{n(JO.VERIFYING_ACCOUNT),t.inWorldCreation=!0,e.fireEventButtonPressed("Create_On_Realms_OreUI",{}),t.createOnRealms()}),[n],[s,c]);(0,t.useFacetEffect)(((e,t)=>{e&&t===JO.START&&f()}),[f],[a,e]),(0,t.useFacetEffect)(((e,t,a)=>{e&&t===JO.VERIFYING_ACCOUNT&&a.isLoggedInWithMicrosoftAccount&&!a.isBanned&&n(JO.LOADING_REALMS_LIST)}),[n],[a,e,u]);const g=(0,t.useFacetCallback)(((e,t,a)=>()=>{0===t.length?1===a.length?(n(JO.AWAITING_CONFIRMATION),e.createPreviewRealmFromSubscriptionId(`${a[0].id}`)):(n(JO.IDLE),r.push("/realms-choose-realm/realm-subscriptions")):(n(JO.IDLE),r.push("/realms-choose-realm/preview-realms"))}),[r,n],[i,m,p]);(0,t.useFacetEffect)(((e,t,a,r,l,o)=>{e&&t===JO.LOADING_REALMS_LIST&&a.state!==Bf.Loading&&r.state!==Bf.Loading&&(0===l.length&&0===o.length?n(JO.SUBSCRIPTION_NEEDED):g())}),[n,g],[a,e,l,o,m,p]);const E=(0,t.useFacetCallback)(((e,t)=>()=>{e.inWorldCreation&&e.createWorldOnPreviewRealm(t.getCreatedPreviewRealmId())}),[],[c,i]);(0,t.useFacetEffect)(((e,t,a)=>{e&&t===JO.CONFIRMED&&a.createPreviewRealmFromSubscriptionTaskState===rM.DONE&&(n(JO.AWAITING_WORLD_CREATION),a.reset(),E())}),[n,E],[a,e,i]);const h=(0,t.useFacetCallback)((e=>()=>{n(JO.IDLE),e.reset()}),[n],[i]);return(0,t.useFacetEffect)(((e,t)=>{e||t!==JO.AWAITING_WORLD_CREATION||h()}),[h],[a,e]),{state:e,create:()=>n(JO.START),confirm:()=>n(JO.CONFIRMED),reset:()=>h()}}(),f=(0,t.useFacetMap)((e=>e.worldCreationData.general),[],[i]),g=(0,t.useFacetMap)((e=>e.worldCreationData.multiplayer),[],[i]),E=RO(f),{disableSecondaryButton:h,buttonHint:b}=KO(E,g,f,n,"SideMenu.narrationCreateButtonHint"),v=bE(rp),F=(0,t.useFacetMap)((e=>e===JO.CONFIRMED||e===JO.AWAITING_WORLD_CREATION),[],[p.state]),y=(0,t.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===rM.FAILED),[],[c]),S=(0,t.useFacetCallback)(((e,t,n,r)=>()=>{if(n.isPreviewBuild)p.create();else{if(r&&v)return a({modal:"RealmsTrialMode",screen:"CreateNewWorld"}),void o.show();e.inWorldCreation=!0,t.fireEventButtonPressed("Create_On_Realms_OreUI",{}),e.createOnRealms()}}),[p,v,a,o],[i,u,s,m]),C=XO((0,t.useFacetCallback)(((e,t)=>()=>{!e||t.doNotShowHardcoreModeWarning?S():r.show()}),[r,S],[E,(0,t.useSharedFacet)(Lp)]),l.show);return e.createElement(e.Fragment,null,e.createElement(ar,{collection:VO},e.createElement(Pu,{gamepadAlias:xS,narrationSuffix:b,linebreak:!0,"data-testid":"create-world-on-realm",variant:"primary",onClick:C,inputLegend:n("SideMenu.createOnRealm"),disabled:h},n("SideMenu.createOnRealm"))),e.createElement(t.Mount,{when:l.isVisible},e.createElement(UM.Component,{mode:_v.CREATE,onClose:l.hide})),e.createElement(t.Mount,{when:r.isVisible},e.createElement(sM.Component,{onSubmit:S,onCancel:r.hide})),e.createElement(t.Mount,{when:o.isVisible},e.createElement(QO.Component,{worldSettingsMode:_v.CREATE,onClose:o.hide})),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e===JO.SUBSCRIPTION_NEEDED),[],[p.state])},e.createElement(eA.Component,{onClose:p.reset})),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e===JO.AWAITING_CONFIRMATION),[],[p.state])},e.createElement(nA.Component,{onConfirm:(0,t.useFacetCallback)(((e,t)=>()=>{e.activateNewPreviewRealm(t.inWorldCreation),p.confirm()}),[p],[c,i]),onClose:p.reset})),e.createElement(t.Mount,{when:F},e.createElement(oA,{onClickClose:p.reset})),e.createElement(t.Mount,{when:y},e.createElement(sA.Component,{onClickClose:p.reset})),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e===JO.LOADING_REALMS_LIST),[],[p.state])},e.createElement(lA,{onClickClose:p.reset})))};function gA(){}const EA="prompt-default-btn",hA=_i((()=>{const n=(0,t.useSharedFacet)(tg),a=(0,t.useFacetMap)((e=>e.prompt.title),[],[n]),r=(0,t.useFacetMap)((e=>e.prompt.body),[],[n]),l=(0,t.useFacetMap)((e=>e.prompt.actions),[],[n]),o=(0,t.useFacetCallback)((e=>t=>{e.prompt.handleAction(t)}),[],[n]),i=(0,t.useFacetMap)((e=>e.length<=1),[],[l]),c=(0,t.useFacetCallback)((e=>e.length>1?()=>{var t;const n=null===(t=e.find((({variant:e})=>e===vg.Secondary)))||void 0===t?void 0:t.id;null!=n&&o(n)}:gA),[o],[l]);return e.createElement(Ld,{defaultFocusAlias:EA},e.createElement(Ld.Header,{onClose:c,hideCloseButton:i},a),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:r},r)),e.createElement(Ld.Buttons,null,e.createElement(t.Map,{array:l},((t,n)=>e.createElement(e.Fragment,null,n>0&&e.createElement(Yc,{size:1}),e.createElement(bA,{button:t,index:n,onClick:o}))))))}));function bA({button:n,onClick:a,index:r}){const{t:l}=Ii("CreateNewWorld.dlcCheckErrorModal"),o=(0,t.useFacetCallback)((e=>()=>a(e.id)),[a],[n]),i=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.variant===vg.Primary?"primary":"secondary"),[],[n]));return e.createElement(Pu,{onClick:o,inputLegend:l(".buttonSelectInputLegend"),gamepadAlias:0===r?EA:void 0,variant:i===t.NO_VALUE?"secondary":i},(0,t.useFacetMap)((e=>e.label),[],[n]))}const vA=()=>{const n=Hr(),a=(0,t.useSharedFacet)(jm),r=(0,t.useSharedFacet)(tg),l=(0,t.useSharedFacet)(Pm),o=(0,t.useSharedFacet)(Bg),i=(0,t.useSharedFacet)(_p),c=(0,t.useFacetMap)((e=>e.worldCreationData),[],[a]),s=(0,t.useFacetMap)((e=>e.advanced),[],[c]),d=(0,t.useFacetMap)((e=>e.cheats),[],[c]),p=(0,t.useFacetMap)((e=>e.betaFeatures),[],[c]),g=(0,t.useFacetMap)((e=>e.general),[],[c]),E=(0,t.useFacetMap)((e=>e.multiplayer),[],[c]),h=(0,t.useFacetMap)((e=>e.resourcePacks),[],[c]),b=(0,t.useFacetMap)((e=>e.isUsingTemplate),[],[a]),v=(0,t.useFacetMap)((e=>e.isLockedTemplate),[],[a]),F=(0,t.useFacetMap)((e=>e.isAchievementsDisabled),[],[a]),y=(0,t.useFacetMap)((e=>e.isEditorWorld),[],[a]),S=(0,t.useFacetMap)((e=>e.prompt.active),[],[r]),{t:C}=Tp("EditWorld"),{t:M}=Tp("CreateNewWorld"),w=zO({generalData:g,advancedData:s,cheatsData:d,multiplayerData:E,betaFeaturesEnabled:(0,t.useFacetMap)((e=>e.worldCreationData.betaFeatures.some((e=>e.isEnabled))),[],[a]),behaviorPacksEnabled:(0,t.useFacetMap)((e=>e.activeBehaviorPacks.length>0),[],[r])}),k=(0,t.useFacetMap)((e=>null!=e.resourcePackToDownload&&(e.status===eg.DownloadingResourcePacks||e.status===eg.StartDownload)),[],[r]),T=(0,t.useFacetMap)((e=>e.resourcePackToDownload.title),[],[r]),x=(0,t.useFacetMap)((e=>.5*(e.downloadProgress+e.importProgress)),[],[r]),I=(0,t.useFacetMap)((e=>e.downloadProgress>=1&&e.importProgress<1),[],[r]),P=(0,t.useFacetCallback)((e=>(t,n)=>{if(n){var a,r,l,o,i;const n=null!==(a=null===(r=e.availableTexturePacks.find((e=>t==e.id)))||void 0===r?void 0:r.name)&&void 0!==a?a:"",c=null!==(l=null===(o=e.availableBehaviorPacks.find((e=>t==e.id)))||void 0===o?void 0:o.name)&&void 0!==l?l:"";return null!==(i=n||c)&&void 0!==i?i:"Pack"}{var c,s,u,d,m;const n=null!==(c=null===(s=e.activeTexturePacks.find((e=>t==e.id)))||void 0===s?void 0:s.name)&&void 0!==c?c:"",a=null!==(u=null===(d=e.activeBehaviorPacks.find((e=>t==e.id)))||void 0===d?void 0:d.name)&&void 0!==u?u:"";return null!==(m=n||a)&&void 0!==m?m:"Pack"}}),[],[r]);(0,t.useFacetEffect)(((e,n)=>{if(e.lastActivatedPackId){const a=P(e.lastActivatedPackId,!0);n.queueSnackbar(C(".notificationToasts.addonPackActivated",[a===t.NO_VALUE?"Pack":a])),e.clearLastActivatedPackId()}}),[P,C],[r,i]);const O=(0,t.useFacetCallback)((e=>t=>{e.activate(t,!1)}),[],[r,i]),A=(0,t.useFacetCallback)((e=>t=>{e.activate(t,!0)}),[],[r,i]),N=(0,t.useFacetCallback)(((e,n)=>a=>{e.deactivate(a);const r=P(a,!1);n.queueSnackbar(C(".notificationToasts.addonPackDeactivated",[r===t.NO_VALUE?"Pack":r]))}),[P,C],[r,i]),R=(0,t.useFacetCallback)((e=>(t,n,a,r)=>{e.changePackPriority(t,a,r)}),[],[r]),L=(0,t.useFacetCallback)((e=>t=>e.showSettings(t)),[],[r]),_=(0,t.useFacetCallback)((e=>()=>{e.cancelDownload()}),[],[r]),D=(0,t.useFacetCallback)((e=>()=>{e.unlockTemplateSettings()}),[],[a]),B=(0,t.useFacetMap)((e=>null!=e.createWorldError),[],[a]),W=(0,t.useFacetMap)((e=>null!=e.worldPreviewImagePath&&e.worldPreviewImagePath.length>0?e.worldPreviewImagePath:WO),[],[a]),U=fM.useShowModal(),z=(0,t.useFacetCallback)((e=>()=>{e.checkIfUserHasChangedSettings()?U({onLeave:()=>{n.goBack()}}):n.goBack()}),[n,U],[a]),j=(0,t.useFacetMap)((e=>e.isCreatingWorld),[],[a]),H=(0,t.useFacetMap)((e=>!e.consumeResetFlag),[],[a]),V=(0,t.useFacetMap)((e=>null!=e.createOnRealmsError),[],[a]),G=(0,t.useFacetCallback)((e=>t=>{null!=e.worldPreviewImagePath&&e.worldCreationData.advanced.worldSeed!=t&&(e.worldPreviewImagePath=""),e.worldCreationData.advanced.worldSeed=t}),[],[a]),$=(0,t.useFacetMap)((e=>e.isRandomSeedAllowed),[],[a]),K=(0,t.useSharedFacet)(Bg),X=(0,t.useFacetMap)(((e,t,n)=>e||t&&!n),[],[K,b,$]),Y=(()=>{const e=u(),n=(0,t.useSharedFacet)(jm),a=m(),r=(0,t.useFacetMap)((e=>e.worldTemplateId),[],[a]),l=(0,t.useFacetMap)((e=>e.isUsingTemplate),[],[n]),o=(0,t.useFacetMap)((e=>e.applyTemplateTaskState),[],[n]),i=(0,t.useFacetMap)((e=>e===rM.RUNNING),[],[o]),c=oM((t=>function*(n){t.applyTemplate(n),yield o,e.replace("/create-new-world/general")}),[o,e],[n,l,r]);return(0,t.useFacetEffect)(((e,t)=>{!e&&(e=>null!=e&&!["available","active"].includes(e))(t)&&c(t)}),[c],[l,r]),i})(),q=f(),Q=(0,t.useFacetMap)((e=>e.get("packid")),[],[q]),J=bE(rp),Z=(0,t.useFacetMap)(((e,t,n)=>!(e||t||n)||J&&n),[J],[y,l,o]);return(0,t.useFacetEffect)((e=>{null!=e&&A(e)}),[A],[Q]),e.createElement(Dv.Provider,{value:_v.CREATE},e.createElement(YM.Provider,{value:Y},e.createElement(BO,{isPageLoading:Y,advancedData:s,cheatsData:d,experimentsData:p,generalData:g,multiplayerData:E,resourcePacksData:h,worldPacks:r,worldPreviewImage:W,isUsingTemplate:b,isLockedTemplate:v,isAchievementsDisabled:F,achievementsDisabledMessages:w,renderPage:H,onActivatePack:O,onDeactivatePack:N,onChangePackPriority:R,onClickPackSettings:L,onUnlockTemplateSettings:D,backButtonCallback:z,backButtonDisabled:(0,t.useFacetWrap)(!1),isEditorWorld:y,onSeedValueChange:G,isSeedChangeLocked:X,sideMenuButtons:e.createElement(e.Fragment,null,e.createElement(vv.Item,null,e.createElement(pA,null)),e.createElement(Yc,{size:1}),e.createElement(t.Mount,{when:Z},e.createElement(vv.Item,null,e.createElement(fA,null))))}),e.createElement(t.Mount,{when:k},e.createElement(TM.Component,{title:T,percentage:x,isImportingPack:I,onCancel:_})),e.createElement(t.Mount,{when:B},e.createElement(tM.Component,null)),e.createElement(t.Mount,{when:V},e.createElement(ZC.Component,null)),e.createElement(t.Mount,{when:j},e.createElement(jO.Component,{title:M(".creatingNewWorldModal.title")})),e.createElement(t.Mount,{when:S},e.createElement(hA.Component,null))))},FA=()=>{const n=Hr(),a=(0,t.useSharedFacet)(Wp),r=(0,t.useSharedFacet)(fg),l=(0,t.useFacetCallback)((e=>t=>{e.fireEventButtonPressed("MobileDataBlockedModal_".concat(t),{})}),[],[r]),o=(0,t.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0}),[],[a]),i="backButton",{t:c}=Ii("MobileDataBlockedModalRoute");return e.createElement(Ps,{text:`${c(".title")}. ${c(".onlyWifi")}. ${c(".costWarning")}`},e.createElement(Ld,{defaultFocusAlias:i},e.createElement(Ld.Header,{onClose:()=>{l("Close_Button_Or_Unfocus"),n.goBack()}},c(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Paragraphs,{narrationText:`${c(".onlyWifi")}. ${c(".costWarning")}`,spaceBetweenParagraphs:5,gamepadIndex:0},e.createElement(zs,{type:"captionLong"},c(".onlyWifi")),e.createElement(zs,{type:"captionLong",fontWeight:zs.FontWeight.Bold},c(".costWarning"))),e.createElement(Ps,{text:`${c(".changeSettings")}`},e.createElement("div",{className:"Hrjsd"},e.createElement(WS,{gamepadIndex:1,onClick:()=>{l("Settings_Page_Link"),n.replace("/mobile-data-blocked-modal/links/settings-page")},withUnderlinePolyfill:!0},c(".changeSettings"))))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{delayedClick:!0,onClick:()=>{l("Go_Back_Button"),n.goBack()},autofocus:!0,gamepadAlias:i,inputLegend:c(".goBack"),variant:"primary"},c(".goBack")),e.createElement(Yc,{size:1}),e.createElement(Pu,{delayedClick:!0,onClick:()=>{l("Use_Data_Once_Button"),o(),n.goBack()},inputLegend:c(".playOnceWithData"),variant:"secondary"},c(".playOnceWithData")))))};var yA=n(59241),SA=n.n(yA);const CA=Symbol("filler"),MA=({horizontalIndex:n,verticalIndex:a,index:r,itemSeparatorHorizontal:l,renderItem:o,item:i,listLengthFacet:c})=>e.createElement(t.DeferredMount,null,e.createElement(e.Fragment,null,n>0&&l,e.createElement("div",{className:"aTnV0"},e.createElement(t.With,{data:(0,t.useFacetMemo)((e=>e!==CA?e:void 0),[],[i])},(e=>o({itemFacet:e,index:r,rowIndex:a,columnIndex:n,listLengthFacet:c})))))),wA=({children:t})=>e.createElement(e.Fragment,null,t);function kA({loading:n,emptyMessage:a,renderItem:r,listWrapper:l=wA,data:o,focusGridIndex:i,scrollIntoViewAlign:c,scrollIntoViewSpeedFactor:s,itemSeparatorHorizontal:u,itemSeparatorVertical:d,firstRowSeparatorVertical:m,header:p,footer:f,renderTracker:g,columns:E,gamepadAlias:h,innerRef:b}){const v=(0,t.useIsPaused)(),F=(0,t.useFacetWrap)(o),y=(0,t.useFacetMap)((e=>e.length),[],[F]),S=(0,t.useFacetUnwrap)(y),C=(0,t.useFacetMemo)((e=>{if(e.length>0){const t=SA()(E,e),n=t[t.length-1];return jh()((()=>n.push(CA)),E-n.length),t}return[]}),[E],[F]);return e.createElement(t.DeferredMountProvider,null,e.createElement(TA,{loading:(0,t.useFacetWrap)(null!=n&&n),focusGridIndex:i,scrollIntoViewAlign:c,scrollIntoViewSpeedFactor:s,renderTracker:g,gamepadAlias:h,innerRef:b},p,e.createElement(l,null,!v&&e.createElement(t.Map,{array:C},((n,a)=>e.createElement(e.Fragment,null,0===a&&m,a>0&&d,e.createElement("div",{className:"jc_nV"},e.createElement(t.Map,{array:n},((t,n)=>e.createElement(MA,{horizontalIndex:n,verticalIndex:a,index:a*E+n,itemSeparatorHorizontal:u,renderItem:r,item:t,listLengthFacet:y})))))))),null!=S&&0===S&&e.createElement(t.DeferredMount,null,e.createElement(e.Fragment,null,a)),f))}function TA({loading:n,focusGridIndex:a,children:r,scrollIntoViewAlign:l,scrollIntoViewSpeedFactor:o,renderTracker:i,horizontal:c,gamepadAlias:s,innerRef:u}){const d=(0,t.useIsPaused)(),m=(0,t.useFacetMap)(((e,t)=>e||d||t),[d],[(0,t.useIsDeferring)(),n]);return e.createElement(ys,{innerRef:u,loading:m,focusGridIndex:a,scrollIntoViewAlign:l,scrollIntoViewSpeedFactor:o,renderTracker:i,horizontal:c,gamepadAlias:s,delegateFocusFromMemory:!0},r)}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function IA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xA(Object(n),!0).forEach((function(t){PA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PA(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const OA=n.p+"assets/missing_image_asset-c4690.png",AA=(0,e.createContext)({getId:()=>0,set:()=>{}}),NA=n=>{const a=(0,e.useContext)(AA),[r,l]=(0,t.useFacetState)(t.NO_VALUE);(0,e.useEffect)((()=>{r.get()==t.NO_VALUE&&l(a.getId())}),[r,l,a]),(0,t.useFacetEffect)(((e,t)=>{a.set(e,t)}),[a],[r,(0,t.useFacetWrap)(n)])};function RA({children:n,setNarrationTextState:a}){const r=(0,e.useRef)(0);return e.createElement(AA.Provider,{value:(0,e.useMemo)((()=>({getId:()=>r.current++,set:(e,n)=>a((a=>a===t.NO_VALUE?[]:(a[e]=!1===n?"":n,a)))})),[a])},n)}function LA({autofocus:n,gamepadIndex:a,children:r,onClick:l,inputLegend:o,gamepadAlias:i,onFocusChanged:c,onHoverChanged:s,narrationSuffix:u,narrationTextOverride:d,role:m="neutral",narrateCardRole:p=!0,hideShadow:f=!1,fillShadow:g=!1}){const E=hr("neutral"),[h,b]=(0,t.useFacetState)([]),v=(0,t.useFacetWrap)(f),F=gr(m),y=(0,t.useFacetWrap)(null!=d?d:""),{t:S}=Ii("Card"),C=(0,t.useFacetMap)(((e,t,n)=>t||[...e,p?S(".narrationComponentTypeButton"):null,n].filter(Boolean).join(" . ")),[S,p],[h,y,(0,t.useFacetWrap)(null!=u?u:"")]);return e.createElement(ja,{role:m},e.createElement("div",{className:"MLe4y"},e.createElement(vu,{autofocus:n,gamepadAlias:i,className:Or()("Dsmzk",F.border.interactive,F.text.base),classNameHovered:"IseJx",classNamePressed:"JAVQA",gamepadIndex:a,inputLegend:o,narrationText:C,onClick:l,onFocusChanged:c,onHoverChanged:s,soundEffectPressed:E.press},e.createElement(zi,null),e.createElement(RA,{setNarrationTextState:b},r),e.createElement(t.Mount,{when:v,condition:!1},e.createElement(e.Fragment,null,e.createElement("div",{className:Or()("Ikw_7",F.shadow.base)}),g&&e.createElement("div",{className:"KOpJ7"})))),e.createElement("div",{className:Or()("xeqcX",F.dropShadow.base)})))}LA.Information=function({children:t,innerRef:n,narrationText:a}){const r=gr("inherit");return NA(a),e.createElement("div",{className:Or()("XiGeZ",r.border.base,r.background.base,r.background.hover),ref:n},e.createElement(Yc,{size:2}),t,e.createElement(Yc,{size:2}))};const _A=e=>null!=e.image&&""!=e.image;function DA({template:n,onSelect:a,gamepadIndex:r,inputLegend:l,autofocus:o}){const i=(0,t.useFacetCallback)((e=>()=>{a(e.seedValue,e.image)}),[a],[n]),c=(0,t.useFacetMap)((e=>e.title),[],[n]),s=(0,t.useFacetMap)((e=>_A(e)),[],[n]),u=(0,t.useFacetMap)((e=>_A(e)?e.image:OA),[],[n]),{t:d}=Ii("SeedTemplateCard"),{background:m}=gr("neutral80");return e.createElement(e.Fragment,null,e.createElement(LA,{gamepadIndex:r,inputLegend:l,narrationSuffix:d(".narrationSuffix"),onClick:i,autofocus:o},e.createElement(t.Mount,{when:s},e.createElement(Rc,{src:u,aspectRatio:Rc.AspectRatio["16:9"]})),e.createElement(t.Mount,{when:s,condition:!1},e.createElement(Rc,{src:u,aspectRatio:Rc.AspectRatio["16:9"],className:Or()("CPwL0",m.base),imageRendering:"pixelated"})),e.createElement(LA.Information,{narrationText:c},e.createElement(zs,{type:"body",verticalAlign:"center"},c))))}const BA=n.p+"assets/creeper-cropped-9e281.png",WA=(0,t.createFacet)({initialValue:{templates:[]}}),UA=e=>null!=e.image&&e.image.length>0;function zA(){const{t:n}=Ii("SeedTemplatesRoute"),a=(0,t.useIsPaused)(),r=Hr(),l=Ko(),o=gh({wide:8,narrow:6,width:260}),i=(0,t.useFacetMap)((e=>e?"UzH8W":"wdc99"),[],[o]),c=(0,t.useSharedFacet)(sg),s=a?WA:c,u=(0,t.useFacetMap)((e=>{if(!e.templates.length)return!1;if(e.templates.length>=9){for(let t=0;t<e.templates.length;t++){const n=e.templates[t];if(null==n.image||!n.image.length)return!1}return!0}return Ux(e.templates,(e=>null!=e.image&&e.image.length>0))}),[],[s]),[d,m]=(0,t.useFacetState)(!1);(0,e.useEffect)((()=>{const e=setTimeout((()=>m(!0)),1250);return()=>clearTimeout(e)}),[m]);const p=(0,t.useFacetMap)((e=>e.failedToFetch),[],[c]),f=(0,t.useFacetMap)(((e,t,n,a)=>{if(a)return[];const r=[];if(n||t)for(let t=0;t<e.templates.length;t++){const n=e.templates[t];r.find((e=>e.seedValue===n.seedValue))||r.push(n)}return r}),[],[s,d,u,p],(()=>()=>!1)),g=function(n,a){const r=(0,t.useFacetWrap)(n),l=(0,e.useRef)({}),[o,i]=(0,t.useFacetState)(!0),c=(0,e.useRef)(null);return(0,t.useFacetLayoutEffect)((e=>{if(c.current&&document.body.removeChild(c.current),c.current=null,l.current=e.reduce(((e,t)=>IA(IA({},e),{},{[t]:!1})),{}),e.filter((e=>e.length>0)).length){const t=document.createElement("div");t.style.visibility="hidden",t.style.position="absolute",c.current=t,e.forEach((n=>{const a=new Image;a.src=n,a.addEventListener("load",(t=>()=>{l.current[t]=!0;const n=Object.values(l.current);n.length===e.length&&n.every((e=>e))&&i(!1)})(n)),t.appendChild(a)})),document.body.appendChild(t)}return()=>{c.current&&document.body.removeChild(c.current),c.current=null}}),[i],[r]),(0,e.useEffect)((()=>{let e;return null!=a&&(e=setTimeout((()=>i(!1)),a)),()=>{null!=e&&clearTimeout(e)}}),[a,i]),o}((0,t.useFacetMap)((e=>{const t=e.filter(UA).map((e=>e.image));return e.length&&t.push(OA),t}),[],[f]),8e3),E=(0,t.useFacetMap)(((e,t,n)=>!!n||!e&&t.templates.length>0&&!n),[],[g,s,p]),h=Eh(E,1e4),b=(0,t.useFacetMap)(((e,t)=>e||t),[],[p,h]),v=Eh(E,1500),F=(0,t.useFacetMap)(((e,t)=>e&&t),[],[v,g]),y=(0,t.useFacetCallback)((e=>(t,n)=>{e.worldCreationData.advanced.worldSeed=t,e.worldPreviewImagePath=n,r.goBack()}),[r],[(0,t.useSharedFacet)(jm)]);return e.createElement(e.Fragment,null,e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(t.Mount,{when:F},e.createElement(hE,{text:n(".narration.loadingMessage")})),e.createElement(vE,null,e.createElement(DE,{onBackButton:r.goBack,center:e.createElement(zs,{type:"header5A"},n(".title")),gamepadAlias:"seed-layout-content",delegateByAlias:"seed-templates-grid",delegateFocusFromMemory:!0},e.createElement(UE,null,e.createElement(UE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(t.Mount,{when:b},e.createElement(e.Fragment,null,e.createElement(UE.Column,{wideSize:2,narrowSize:0}),e.createElement(UE.Column,{gamepadIndex:0,wideSize:8,narrowSize:8},e.createElement(Yc,{size:6}),e.createElement(GE,{autofocus:!0,imgSrc:BA,imgClass:i,gamepadIndex:0,title:n(".errorMessageTitle"),text:n(".errorMessageBody"),buttons:[{text:n(".errorBackButtonText"),inputLegend:n(".errorBackButtonInputLegend"),gamepadAlias:"seed-temp-empty-state",onClick:()=>r.goBack()}]}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0})))),e.createElement(t.Mount,{when:b,condition:!1},e.createElement(UE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(kA,{gamepadAlias:"seed-templates-grid",autofocus:!0,loading:(0,t.useFacetMap)((e=>!e),[],[E]),gamepadIndex:0,data:f,columns:"narrow"===l?2:3,firstRowSeparatorVertical:e.createElement(Yc,{size:4}),itemSeparatorHorizontal:e.createElement(Yc,{size:"narrow"===l?1:3}),itemSeparatorVertical:e.createElement(Yc,{size:"narrow"===l?2:4}),footer:e.createElement(e.Fragment,null,e.createElement(wd.Space,null),e.createElement(Yc,{size:4})),renderItem:({itemFacet:t,columnIndex:a,rowIndex:r})=>e.createElement(DA,{autofocus:0===a&&0===r,template:t,gamepadIndex:a,inputLegend:n(".selectTemplateInputLegend"),onSelect:y}),renderTracker:t=>e.createElement(dh,{type:"meaningful",renderingCompleted:t})}))))))))}const jA="W_NP7";function HA({tabs:n,gamepadAliasNamespace:a,value:r,onChange:l,narrationTitle:o,enableGamepadShortcuts:i,onTabHoveredSoundEffect:c,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=Ii("TabBar"),f=(0,e.useRef)(null),g=(0,t.useFacetWrap)(null!=i&&i),E=(0,t.useFacetWrap)(n),h=(0,t.useFacetMap)((e=>e.length),[],[E]),b=(0,t.useFacetWrap)(r),v=(0,t.useFacetMap)((e=>`${p(".narrationGroup",[e])}`),[p],[(0,t.useFacetWrap)(o)]),F=hr(d),y=Jn(),S=(0,t.useFacetCallback)(((e,t)=>(n,a)=>{if(t===n)return;const r=null!=e?e:F.toggle;null!=r&&y(r),l(n,a)}),[l,F.toggle,y],[(0,t.useFacetWrap)(s),b]);return e.createElement(Ps,{text:v},e.createElement("div",{ref:f,className:"nV5il"},e.createElement(t.Map,{array:E},((t,n)=>e.createElement(GA,{gamepadAliasNamespace:a,key:`tab_${n}`,index:n,length:h,tab:t,selectedTab:b,onChange:S,onTabHoveredSoundEffect:c,isCondensed:u,badgeRole:m}))),e.createElement(t.Mount,{when:g},e.createElement(VA,{value:b,onChange:S,tabs:E}))))}const VA=function({value:n,tabs:a,onChange:r}){var l;const o=et(),i=tt(),c=nt(),s=(0,t.useFacetWrap)(null!==(l=_h())&&void 0!==l&&l),u=(0,t.useFacetCallback)((e=>t=>e[t].value),[],[a]),d=(0,t.useFacetCallback)((e=>t=>e.findIndex((({value:e})=>e===t))),[],[a]),m=(0,t.useFacetMap)((e=>d(e)),[d],[n]),p=(0,t.useFacetCallback)((e=>()=>{const n=e-1;if(n>-1){const e=u(n);e!==t.NO_VALUE&&r(e,!0)}}),[u,r],[m]),f=(0,t.useFacetCallback)(((e,n)=>()=>{const a=n+1;if(a<e.length){const e=u(a);e!==t.NO_VALUE&&r(e,!0)}}),[u,r],[a,m]),g=Ld.useIsAnyModalVisible(),E=(0,t.useFacetMap)(((e,t)=>({button:W.LEFT_BUMPER,disabled:e||t})),[],[g,s]),h=(0,t.useFacetMap)(((e,t)=>({button:W.RIGHT_BUMPER,disabled:e||t})),[],[g,s]);return e.createElement(t.Mount,{when:c},e.createElement(e.Fragment,null,e.createElement(Ts,{options:E,onClick:p}),e.createElement(Ts,{options:h,onClick:f}),e.createElement(t.Mount,{when:o},e.createElement(e.Fragment,null,e.createElement("div",{className:"eXLWo"},e.createElement(Sd,{button:W.LEFT_BUMPER})),e.createElement("div",{className:"WP1BY"},e.createElement(Sd,{button:W.RIGHT_BUMPER})))),e.createElement(t.Mount,{when:i},e.createElement(e.Fragment,null,e.createElement("div",{className:"o5k_q"},e.createElement(Cd,{keyCode:de.KEY_Q})),e.createElement("div",{className:"Zr6mM"},e.createElement(Cd,{keyCode:de.KEY_E}))))))};function GA({gamepadAliasNamespace:n,selectedTab:a,onChange:r,index:l,length:o,tab:i,onTabHoveredSoundEffect:c,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=Ii("TabBar"),{narrateText:f}=Fs(),g=gr(d),E=(0,t.useFacetMap)((e=>{var t;return null!==(t=e["data-testid"])&&void 0!==t?t:`tab-${e.value}`}),[],[i]),h=(0,t.useFacetMap)(((e,t)=>e===t.value),[],[a,i]),b=(0,t.useFacetMap)((e=>!e),[],[h]),v=(0,t.useFacetMap)(((e,t,n)=>[e.label,p(".narrationComponentType"),p(".selectedTab",[`${l+1}`,`${n}`]),p("."+(t?"selected":"notSelected")),e.hint].filter((e=>e)).join(" . ")),[l,p],[i,h,o]),F=(0,t.useFacetMap)((e=>Or()("J3E01",{xtU59:u,[jA]:e})),[u],[h]),y=(0,t.useFacetCallback)((e=>()=>{f(p(".selected")),r(e.value,!1)}),[f,r,p],[i]),S=(0,t.useFacetMap)((e=>$A(n,e.value)),[n],[i]),C=(0,t.useFacetMap)((e=>!e&&p(".open")),[p],[h]),M=(0,t.useFacetMap)(((e,t)=>{var n;return null===(n=e.icons)||void 0===n?void 0:n[t?"selected":"unselected"]}),[],[i,h]),w=(0,t.useFacetMap)((e=>null!=e.badge),[],[i]),k=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.badge)&&void 0!==t?t:0}),[],[i]),T=(0,t.useFacetMap)((e=>Or()("zyskO",e?"ml42H":null)),[],[w]),x=(0,t.useFacetMap)((e=>e.label),[],[i]);return e.createElement(ic,{className:F,classNameFocused:"a0eaC",classNamePressed:jA,classNameHovered:"CndCq",onClick:y,gamepadAlias:S,gamepadIndex:l,inputLegend:C,soundEffectHovered:c,soundEffectPressed:s,narrationText:v,"data-testid":E},e.createElement("fast-div",{className:T},e.createElement(zs,{type:"body",role:d,verticalAlign:"center",disableable:h,interactive:b},e.createElement(Fl,{data:M},(t=>null!=t?e.createElement(e.Fragment,null,t,e.createElement(Yc,{size:2})):null)),e.createElement(ru,null,x)),e.createElement(t.Mount,{when:w},e.createElement("div",{className:"ecuoc"},e.createElement(Yc,{size:2}),e.createElement(kh,{role:m},k)))),e.createElement(t.Mount,{when:h},e.createElement("div",{className:Or()("Im9Nz",g.icon.base)})))}function $A(e,t){return`tab-bar-${e}-${t}`}function KA(e){switch(e){case yg.UNKNOWN:return".unknown";case yg.ADVENTURE:return".adventure";case yg.SURVIVAL:return".survival";case yg.CREATIVE:return".creative"}}let XA;function YA(e,n){const{t:a}=Ii("WorldTag");return(0,t.useFacetMap)((e=>{const t=[];return e.isHardcore&&n===XA.GRID||t.push({label:a(KA(e.gameMode)),role:"neutral100"}),e.isHardcore&&t.push({label:a(".hardcore"),role:"destructiveTint"}),t.push({label:a(".lan"),role:"informativeTint"}),t}),[a,n],[e])}function qA(e,n){const{t:a}=Ii("WorldTag");return(0,t.useFacetMap)((e=>{const t=[];return e.isExperimental&&e.isHardcore&&n===XA.GRID||t.push({label:a(KA(e.gameMode)),role:"neutral100"}),e.isExperimental&&t.push({label:a(".experimental"),role:"noticeTint"}),e.isHardcore&&t.push({label:a(".hardcore"),role:"destructiveTint"}),t}),[a,n],[e])}HA.getFocusAlias=$A,function(e){e[e.LIST=0]="LIST",e[e.GRID=1]="GRID"}(XA||(XA={}));const QA=n.p+"assets/edit-icon-56235.png",JA=n.p+"assets/world-preview-default-d0210.jpg",ZA=n.p+"assets/cloud-sync-default-c5ac6.png",eN=n.p+"assets/icon-cloud-sync-0d0d6.png";function tN(){return tN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tN.apply(this,arguments)}const nN=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("pU9Dp",n);return e.createElement(Rc,tN({},a,{className:r,src:eN,imageRendering:"pixelated"}))};function aN(){const t=gr();return e.createElement("div",{className:Or()("OiOCl",t.neutral80.background.base,t.neutral80.border.base)},e.createElement(nN,null))}const rN=n.p+"assets/player-online-icon-b63b8.png",lN=n.p+"assets/player-online-icon-dimmer-86fcb.png";function oN(){return oN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oN.apply(this,arguments)}const iN=t=>{let{className:n,variant:a}=t,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className","variant"]);const l=Dc("a7E80",n),o="dimmer"===a?lN:rN;return e.createElement(Rc,oN({},r,{className:l,src:o,imageRendering:"pixelated"}))};function cN({full:n,amountOfPlayersOnline:a}){const{t:r}=Ii("PlayersOnlineInWorld");return e.createElement("div",{className:"AIPtF"},e.createElement(iN,{className:"SaF4k"}),e.createElement(zs,{type:"captionShort"},a),e.createElement(t.Mount,{when:(0,t.useFacetWrap)(null!=n&&n)},e.createElement(ux,{role:"destructiveTint",align:"center"},r(".full"))))}cN.Panel=function({children:t,className:n}){const a=gr("neutral80");return e.createElement("div",{className:Or()("OnpR1",a.background.base,a.border.base,n)},t)};const sN=n.p+"assets/external-link-white-0e493.png",uN=_i((({onClose:n})=>{const{t:a}=Ii("BannedOrSuspendedMessage"),{title:r,reasonCopy:l,bodyFirstParagraph:o,bodySecondParagraph:i,helpButtonCopy:c}=aO(),s=lO(),u=(0,t.useFacetCallback)((e=>()=>{e.openLink(Wg.BannedHelpPage)}),[],[(0,t.useSharedFacet)(Ug)]);return e.createElement(Ld,null,e.createElement(Ld.Header,{onClose:n},r),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:l,center:!0},l),e.createElement(Ld.Text,{gamepadIndex:0,narrationText:o,center:!0},o),e.createElement(Ld.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{horizontal:!0,variant:"secondary",inputLegend:a(".close"),onClick:n},a(".close")),e.createElement(Yc,{size:1}),e.createElement(Fl,{data:s},(t=>e.createElement(Pu,{"data-testid":"help-button-"+(t?"suspended":"banned"),horizontal:!0,variant:"primary",imgSrc:sN,inputLegend:c,onClick:u},c)))))}));function dN({className:n,useGreyBorder:a}){const r=(0,t.useFacetMap)((e=>Or()("s_m91",{Z6fc0:e},n)),[n],[(0,t.useFacetWrap)(null!=a&&a)]);return e.createElement("fast-div",{className:r})}const mN=n.p+"assets/external-link-0e493.png",pN=_i((({onClose:n})=>{const{t:a}=Tp("multiplayerBlockedModal"),r=(0,t.useSharedFacet)(Ug),l=(0,t.useSharedFacet)(Dg),o=EP(),i=(0,t.useFacetCallback)((e=>()=>e.openLink(Wg.TroubleshootingMultiplayerDisabled)),[],[r]),c=(0,t.useFacetCallback)((e=>()=>e.openLink(Wg.ParentPermissionHelpPage)),[],[r]),s=(0,t.useFacetCallback)((e=>()=>{e.showPremiumNetworkUpsellModal(),n()}),[n],[l]),u=(0,t.useFacetMap)(((e,t)=>e.userPermissions.multiplayer.denyReasons.includes(Lg.XboxLive_Parental)?"multiplayer-parental":e.userPermissions.multiplayer.denyReasons.includes(Lg.XboxLive)?"multiplayer-disabled":t?"multiplayer-disabled-third-party":void 0),[],[l,o]),d=(0,t.useFacetMap)((e=>NM(e.platform)?a(".bodyMultiplayerDisabledExternalNintendo"):a(".bodyMultiplayerDisabledExternal")),[a],[(0,t.useSharedFacet)(el)]);return e.createElement(Ld,null,e.createElement(Ld.Header,{onClose:n},a(".title")),e.createElement(Ld.Content,null,e.createElement(Fl,{data:u},(t=>{switch(t){case"multiplayer-disabled":return e.createElement(Ld.Text,{gamepadIndex:0,narrationText:a(".bodyMultiplayerDisabled"),center:!0},a(".bodyMultiplayerDisabled"));case"multiplayer-parental":return e.createElement(Ld.Text,{gamepadIndex:0,narrationText:a(".bodyMultiplayerDisabledParental"),center:!0},a(".bodyMultiplayerDisabledParental"));case"multiplayer-disabled-third-party":return e.createElement(Ld.Text,{gamepadIndex:0,narrationText:a(".bodyMultiplayerDisabledExternal"),center:!0},d);default:return null}}))),e.createElement(Fl,{data:u},(t=>{switch(t){case"multiplayer-disabled":return e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{horizontal:!0,variant:"secondary",inputLegend:a(".close"),onClick:n},a(".close")),e.createElement(Yc,{size:2}),e.createElement(Pu,{horizontal:!0,imgSrc:mN,variant:"primary",inputLegend:a(".learnMore"),onClick:i},a(".learnMore")));case"multiplayer-parental":return e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{horizontal:!0,variant:"secondary",inputLegend:a(".close"),onClick:n},a(".close")),e.createElement(Yc,{size:2}),e.createElement(Pu,{horizontal:!0,imgSrc:mN,variant:"primary",inputLegend:a(".learnMore"),onClick:c},a(".learnMore")));default:return e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{horizontal:!0,variant:"secondary",inputLegend:a(".close"),onClick:n},a(".close")),e.createElement(Yc,{size:2}),e.createElement(Pu,{horizontal:!0,imgSrc:mN,variant:"primary",inputLegend:a(".learnMore"),onClick:s},a(".learnMore")))}})))}));function fN({id:n,title:a,subtitle:r,imageSrc:l,requiresCloudSync:o,tags:i,autofocus:c,onWorldClick:s,narrationIndex:u,onEdit:d,containerListLength:m,isMultiplayerWorld:p,amountOfPlayersOnline:f,worldFull:g,isHardcore:E,playerHasDied:h,disable:b,metadataList:v,testId:F}){const{t:y}=Ii("WorldListItem"),{t:S}=Ii("WorldListItem.narration"),C=gr("neutral"),M=null!=d,w=(0,t.useFacetWrap)(null!=f?f:0),k=(0,t.useFacetWrap)(null!=g&&g),T=(0,t.useFacetMap)((e=>e>0),[],[w]),x=(0,t.useFacetWrap)(null!=v?v:[]),I=(0,t.useFacetMap)((e=>e.length>0),[],[x]),P=(0,t.useFacetMap)((e=>e.map((e=>e.displayText))),[],[x]),O=(0,t.useFacetWrap)(null!=o&&o),A=(0,t.useFacetWrap)(null!=E&&E),N=(0,t.useFacetWrap)(null!=h&&h),[R,L]=(0,t.useFacetState)(!1),_=(0,t.useFacetUnwrap)(n),D=(0,t.useFacetMap)(((e,t)=>t?ZA:null!=e&&e.length?e:JA),[],[(0,t.useFacetWrap)(l),O]),B=(0,t.useFacetWrap)(u),W=(0,t.useFacetMap)(((e,t,n,a)=>[e,S(".componentRole"),t>0?S(".listLengthContext",[`${a}`,`${t}`]):void 0,n.map((e=>e.label)).join(", ")].filter(Boolean).join(" . ")),[S],[a,m,i,B]),U=(0,t.useFacetMap)((e=>[S(".play"),M?S(".buttonSiblings",["1","2"]):S(".button"),...e.map((e=>e.narrationText))].filter(Boolean).join(" . ")),[S,M],[x]),z=(0,t.useFacetCallback)((e=>()=>d&&d(e)),[d],[n]),j=(0,t.useFacetMap)((e=>null!=e?e:""),[],[(0,t.useFacetWrap)(null!=r?r:"")]),H=(0,t.useFacetMap)((e=>e.length>0),[],[j]),V=hP(),G=pN.useModal(),$=uN.useModal(),K=rO(),X=(0,t.useFacetMap)(((e,t,n)=>e&&(t||n)),[],[p,V,K]),Y=(0,t.useFacetMap)(((e,t)=>t&&e),[],[p,V]),q=(0,t.useFacetMap)(((e,t)=>t&&e),[],[p,K]),Q=(0,t.useFacetCallback)(((e,t)=>()=>{t?$.show():e?G.show():s()}),[s,$,G],[Y,q]),J=(0,t.useFacetMap)(((e,t,n)=>null!=n?n:e?"multiplayer-world-list-item-primary-action-"+(t-1):"world-list-item-primary-action-"+(t-1)),[],[p,B,(0,t.useFacetWrap)(F)]);return _==t.NO_VALUE?null:e.createElement(Ps,{text:W,key:_},e.createElement(wP,{tall:!0,disableDeferredMount:!0},e.createElement(wP.Action,{testId:J,autofocus:c,className:"koZyA",inputLegend:y(".play"),narrationText:U,onClick:Q,onFocusChanged:L,onHoverChanged:L,disabled:b},e.createElement("div",{className:"o_yQY"},e.createElement(t.Mount,{when:O},e.createElement(aN,null)),e.createElement(Rc,{src:D,className:Or()(C.border.base,"_XcCm"),aspectRatio:Rc.AspectRatio["16:9"],isGrayscale:X}),e.createElement(t.Mount,{when:A},e.createElement(zv,{className:"wY_aU",animate:R,startFrame:8,dead:N})),e.createElement(t.Mount,{when:X},e.createElement("div",{className:"d1Jqb"},e.createElement(ux,{role:"destructiveTint"},y(".multiplayerDisabled")))),e.createElement(t.Mount,{when:A},e.createElement(dN,{useGreyBorder:N}))),e.createElement(wP.Main,null,e.createElement(zs,{type:"body",overflowEllipsis:!0},a),e.createElement(t.Mount,{when:H},e.createElement(zs,{type:"body",variant:"dimmer",overflowEllipsis:!0},j)),e.createElement("div",{className:"krJgC"},e.createElement(t.Map,{array:i},(t=>e.createElement(gN,{tag:t}))))),e.createElement(t.Mount,{when:I},e.createElement("div",{className:"LGrjM"},e.createElement(t.Map,{array:P},((t,n)=>e.createElement(zs,{type:"captionShort",variant:"dimmest",key:n,overflowEllipsis:!0},t))))),e.createElement(t.Mount,{when:T},e.createElement(wP.Cell,null,e.createElement("div",{className:"za_Vq"},e.createElement(cN,{amountOfPlayersOnline:w,full:k}))))),e.createElement(wP.AdditionalAction,{narrationText:[S(".edit"),S(".buttonSiblings",["2","2"])].join(" . "),inputLegend:y(".edit"),onClick:z,hidden:!M},e.createElement(Rc,{src:QA,className:"Fcaz7",imageRendering:"pixelated"}),e.createElement(zs,{type:"captionShort",overflowEllipsis:!0},y(".edit"))),e.createElement(t.Mount,{when:$.isVisible},e.createElement(uN.Component,{onClose:$.hide})),e.createElement(t.Mount,{when:G.isVisible},e.createElement(pN.Component,{onClose:G.hide}))))}function gN({tag:n}){const a=(0,t.useFacetMap)((e=>e.role),[],[n]),r=(0,t.useFacetMap)((e=>e.label),[],[n]);return e.createElement(ux,{role:a},r)}function EN(e){const n=Hr(),a=(0,t.useSharedFacet)(jg),r=(0,t.useFacetMap)((e=>e.syncWorldTaskState),[],[a]);return oM(((e,t)=>function*(){const a=t.id;t.requiresCloudSync&&(e.syncWorld(a),yield r,e.clearSyncWorldTaskState()),n.push(`/edit-world/${encodeURIComponent(a)}`)}),[r,n],[a,e])}const hN=_i((()=>{const{t}=Ii("PlayScreen.outOfStorageModal"),n="pop-up-modal-outOfStorageModal",a=Li();return e.createElement(Ld,{onOverlayClick:a,defaultFocusAlias:n},e.createElement(Ld.Header,{onClose:a},t(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:t(".body"),gamepadIndex:0},t(".body"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:n,inputLegend:t(".closeInputLegend"),variant:"secondary",onClick:a},t(".close"))))})),bN=_i((()=>{const{t}=Ii("PlayScreen.copyingWorldModal"),n=t(".body"),a=t(".title");return e.createElement(Ld,null,e.createElement(Ld.Header,null,a),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:n,center:!0},n),e.createElement(Ld.Spinner,null)))})),vN=_i((({onCopyWorldAndContinue:n,onContinue:a})=>{const{t:r}=Ii("PlayScreen.updateWorldModal"),l=Li(),o="pop-up-modal-updateWorld",[i,c]=(0,t.useFacetState)(!0),s=(0,t.useFacetCallback)((e=>()=>{e?n():a(),l()}),[n,a,l],[i]);return e.createElement(Ld,{defaultFocusAlias:o},e.createElement(Ld.Header,{onClose:l},r(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:r(".body"),gamepadIndex:0},r(".body"))),e.createElement(Ld.Buttons,{header:e.createElement(Ld.Checkbox,{value:i,onChange:c,title:r(".checkboxTitle")})},e.createElement(Pu,{gamepadAlias:o,gamepadIndex:1,inputLegend:r(".action"),variant:"primary",onClick:s},r(".action"))))})),FN=_i((({onHandleStorage:n})=>{const{t:a}=Ii("PlayScreen.insufficientDiskSpaceModal"),r="pop-up-modal-insufficientDiskSpaceModal",l=(0,t.useFacetCallback)((e=>()=>{e.backupThenStartLocalWorld.clear()}),[],[(0,t.useSharedFacet)(cE)]);return e.createElement(Ld,{defaultFocusAlias:r},e.createElement(Ld.Header,{onClose:l},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:a(".body"),gamepadIndex:0},a(".body"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:r,inputLegend:a(".action"),variant:"primary",onClick:l},a(".action")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:a(".secondaryAction"),variant:"secondary",onClick:()=>{n(),l()}},a(".secondaryAction"))))})),yN=_i((()=>{const n="pop-up-modal-unknown-error",{t:a}=Ii("PlayScreen.unknownErrorModal"),r=(0,t.useSharedFacet)(cE),l=(0,t.useFacetMap)((e=>{var t;const n=(null===(t=e.backupThenStartLocalWorld.result)||void 0===t?void 0:t.backupResult)===iE.IncorrectWorldId?iE.IncorrectWorldId:iE.UnknownError;return a(".errorCode",[`${n}`])}),[a],[r]),o=(0,t.useFacetCallback)((e=>()=>{e.backupThenStartLocalWorld.clear()}),[],[r]),i=a(".body");return e.createElement(Ld,{defaultFocusAlias:n},e.createElement(Ld.Header,{onClose:o},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Paragraphs,{center:!0,narrationText:(0,t.useFacetMap)((e=>[i,e].join(" . ")),[i],[l]),spaceBetweenParagraphs:2,gamepadIndex:0},e.createElement(zs,{type:"captionLong"},i),e.createElement(zs,{type:"captionLong"},l))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:n,inputLegend:a(".action"),variant:"secondary",onClick:o},a(".action"))))}));function SN(){return(0,t.useFacetMap)(((e,t,n)=>{const a=e.currentInputType===je.TOUCH,r=t.showTouchControlSelectionScreen,l=n.platform===Ve.NX_HANDHELD;return a&&r&&!l}),[],[(0,t.useSharedFacet)(Bn),(0,t.useSharedFacet)(Wp),(0,t.useSharedFacet)(el)])}const CN=_i((({onContinue:t,onChangeSkin:n})=>{const{t:a}=Ii("PlayScreen.nonMultiplayerSkinModal"),r="pop-up-modal-nonMultiplayerSkinModal",l=Li();return e.createElement(Ld,{defaultFocusAlias:r},e.createElement(Ld.Header,{onClose:l},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:a(".body"),gamepadIndex:0,center:!0},a(".body"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:r,gamepadIndex:0,inputLegend:a(".continueAction"),variant:"primary",onClick:()=>{l(),t()}},a(".continueAction")),e.createElement(Pu,{gamepadIndex:1,inputLegend:a(".changeAction"),variant:"secondary",onClick:()=>{l(),n()}},a(".changeAction"))))})),MN=_i((({onLoadWorld:t})=>{const{t:n}=Ii("PlayScreen.experimentalWorldLoadingModal"),a=Li(),r="pop-up-modal-experimentalWorldLoadingModal";return e.createElement(Ld,{defaultFocusAlias:r},e.createElement(Ld.Header,{onClose:a},n(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Paragraphs,{narrationText:`${n(".bodyFirstParagraph")}. ${n(".bodySecondParagraph")}`,gamepadIndex:0},e.createElement(zs,{type:"captionLong"},n(".bodyFirstParagraph")),e.createElement(zs,{type:"captionLong"},n(".bodySecondParagraph")))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:r,inputLegend:n(".back"),variant:"primary",onClick:a},n(".goBackButtonText")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:n(".action"),gamepadIndex:1,variant:"secondary",onClick:()=>{a(),t()}},n(".loadWorld"))))}));function wN(){const e=(0,t.useSharedFacet)(cE),n=(0,t.useSharedFacet)(Lp),a=(0,t.useFacetMap)((e=>e.startLocalWorldTaskState),[],[e]);return oM(((e,t)=>function*(n){e.clearStartLocalWorldResult(),t.doNotShowOldWorldsWarning=!0,e.startLocalWorld(n),yield a,e.startLocalWorldResult===oE.Ok&&e.clearStartLocalWorldResult()}),[a],[e,n])}function kN(){const e=(0,t.useSharedFacet)(cE),n=(0,t.useSharedFacet)(lE),a=(0,t.useSharedFacet)(EE),r=(0,t.useFacetMap)((e=>e.packDownloadTaskState),[],[n]),l=(0,t.useFacetMap)((e=>e.downloadingTaskState),[],[a]),o=(0,t.useFacetMap)((e=>e.missingPacksToStart.length>0),[],[e]),i=(0,t.useFacetMap)((e=>""!==e.missingTemplateToStart),[],[e]),c=wN(),s=oM(((e,t,n,a,o)=>function*(i,s){if(!i)return;let u=!0;if(a){const t=n.missingPacksToStart.map((e=>e.id));e.downloadPacks(i,t),yield r,u=e.packDownloadTaskState===rM.DONE,e.cancelPackDownload()}o&&u&&(t.downloadWorldTemplate(n.missingTemplateToStart),yield l,u=t.downloadingTaskState===rM.DONE,t.cancelDownload(),t.resetDownloadTask()),u&&(null==s||s(),c(i))}),[r,l,c],[n,a,e,o,i]);return{downloadAssetsAndStartWorld:s,hasMissingPacks:o,hasMissingTemplate:i}}const TN={major:1,minor:18,patch:0,revision:0,isBeta:!1};function xN(e){const n=Hr(),a=(0,t.useSharedFacet)(cE),r=(0,t.useSharedFacet)(xm),l=(0,t.useSharedFacet)(Dg),o=(0,t.useSharedFacet)(el),i=(0,t.useSharedFacet)(jg),c=CN.useShowModal(),s=vN.useShowModal(),u=hN.useShowModal(),d=MN.useShowModal(),m=wN(),p=SN(),f=(0,t.useFacetMap)(((e,t)=>{if(null==e)return!1;const n=e.isTemplateCompatibleWithAnyVersion||Nm(e.templateVersion,TN)>=0,a=Nm(e.gameVersion,TN)<0&&Nm(t.currentGameVersion,TN)>=0;return n&&a}),[],[e,r]),g=(0,t.useFacetMap)(((e,t)=>{if(null==e)return!1;const n=Nm(e.gameVersion,t.currentGameVersion)<0;return e.isExperimental&&n}),[],[e,r]),E=(0,t.useFacetCallback)(((e,t)=>()=>{null!=t&&e.backupThenStartLocalWorld.run(t.id)}),[],[a,e]),h=(0,t.useFacetMap)((e=>e.syncWorldTaskState),[],[i]),b=oM(((e,t)=>function*(){if(null==t)return;const n=t.id;e.syncWorld(n),yield h,e.clearSyncWorldTaskState(),m(n)}),[m,h],[i,e]);return(0,t.useFacetCallback)(((e,t,a,r,l,o)=>()=>{if(null==e)return;const i=e.id,p=()=>m(i);r?n.push(`/play/touch-control-selection/${encodeURIComponent(i)}`):a.isStorageLow?u():t.hasValidCrossPlatformSkin?l?d({onLoadWorld:p}):o?s({onContinue:p,onCopyWorldAndContinue:E}):e.requiresCloudSync?b():p():c({onContinue:p,onChangeSkin:()=>{n.push("/persona")}})}),[n,m,E,u,c,d,s,b],[e,l,o,p,g,f])}function IN(e){const n=(0,t.useSharedFacet)(Rp),a=(0,t.useFacetMap)((e=>e.joinLANServerTaskState),[],[n]),r=oM((e=>function*(t){e.joinLanServer(t),yield a,e.clearJoinLANServerTaskState()}),[a],[n]);return(0,t.useFacetCallback)((e=>()=>{r(e)}),[r],[e])}function PN({worldsPerPage:e,localWorlds:n,lanWorlds:a,totalAmountOfPages:r}){const l=u(),o=f(),i=(0,t.useFacetMap)((e=>{var t;return Number(null!==(t=e.get("page"))&&void 0!==t?t:"1")}),[],[o]),c=(0,t.useFacetMemo)(((t,n,a)=>{const r=(a-1)*e,l=function({rangeStart:e,rangeEnd:t,lanWorlds:n,localWorlds:a}){const r=[],l=[],o=n.length+a.length;for(let i=e;i<Math.min(t,o);i++)i<n.length?r.push(n[i]):l.push(a[i-n.length]);return{lanWorlds:r,localWorlds:l}}({rangeStart:r,rangeEnd:r+e,lanWorlds:t,localWorlds:n});return l}),[e],[a,n,i]),s=(0,t.useFacetMap)((e=>e.lanWorlds),[],[c]),d=(0,t.useFacetMap)((e=>e.localWorlds),[],[c]),m=(0,t.useFacetMap)((e=>e.length),[],[s]);return(0,t.useFacetEffect)(((e,t)=>{e<t&&setTimeout((()=>{l.replace("/play/all")}),1)}),[l],[r,i]),{numberOfLanWorldsIndexOffset:m,currentLanWorldData:s,currentLocalWorldData:d,changeWorldGridPage:(0,t.useFacetCallback)((e=>t=>{e!=t&&l.replace(`/play/all/?page=${t}`)}),[l],[i])}}const ON=(0,e.createContext)({getSelectedWorldId:()=>(0,t.createFacet)({initialValue:""}),setSelectedWorldId:()=>{}}),AN=()=>(0,e.useContext)(ON);function NN({world:n,index:a,indexOffset:r,totalNrOfWorlds:l,onWorldClick:o}){const i=(0,t.useFacetMap)((e=>e.id),[],[n]),c=(0,t.useFacetMap)((e=>e.name),[],[n]),s=(0,t.useFacetMap)((e=>e.isMultiplayerEnabled),[],[n]),u=qA(n,XA.LIST),d=(0,t.useFacetMap)((e=>e.previewImgPath),[],[n]),m=(0,t.useFacetMap)((e=>e.requiresCloudSync),[],[n]),p=(0,t.useFacetMap)((e=>e+a+1),[a],[r]),f=(0,t.useFacetMap)((e=>e.isHardcore),[],[n]),g=(0,t.useFacetMap)((e=>e.playerHasDied),[],[n]),E=function(e){const n=(0,t.useFacetMap)((e=>e.fileSize),[],[e]),a=(0,t.useFacetMap)((e=>e.lastSaved),[],[e]),r=function(e){const{t:n}=Ii("WorldListItem.narration");return(0,t.useFacetMap)((e=>null==e?[]:[{displayText:e,narrationText:n(".worldSize",[e])}]),[n],[e])}(n),l=function(e){const{f:n}=Ii("WorldListItem"),{t:a}=Ii("WorldListItem.narration");return(0,t.useFacetMap)((e=>{if(null==e||e<1)return[];const t=n.formatDate(e);return[{displayText:t,narrationText:a(".lastSaved",[t])}]}),[n,a],[e])}(a);return(0,t.useFacetMap)(((e,t)=>[...e,...t]),[],[r,l])}(n),h=xN(n),b=(0,t.useFacetCallback)((e=>()=>{o(e),h()}),[h,o],[i]);return e.createElement(fN,{id:i,title:c,tags:u,imageSrc:d,requiresCloudSync:m,containerListLength:l,narrationIndex:p,onEdit:EN(n),onWorldClick:b,isMultiplayerWorld:s,isHardcore:f,playerHasDied:g,metadataList:E})}function RN({lanWorld:n,index:a,numberOfWorlds:r,onWorldClick:l}){const{t:o}=Ii("WorldList"),i=(0,t.useFacetMap)((e=>e.id),[],[n]),c=(0,t.useFacetMap)((e=>e.name),[],[n]),s=(0,t.useFacetMap)((e=>e.ownerName?o(".lanWorldOwner",[e.ownerName]):void 0),[o],[n]),u=YA(n,XA.LIST),d=(0,t.useFacetMap)((e=>e.playerCount),[],[n]),m=(0,t.useFacetMap)((e=>e.capacity>0&&e.capacity===e.playerCount),[],[n]),p=IN(i),f=(0,t.useFacetCallback)((e=>()=>{l(e),p()}),[p,l],[i]);return e.createElement(fN,{testId:`lan-world-list-item-${a}`,id:i,title:c,subtitle:s,tags:u,containerListLength:r,narrationIndex:a+1,onWorldClick:f,amountOfPlayersOnline:d,worldFull:m,isMultiplayerWorld:(0,t.useFacetWrap)(!0)})}function LN({localWorlds:n,lanWorlds:a,onPagination:r}){const{setSelectedWorldId:l}=AN(),o=(0,e.useCallback)((e=>{l(e)}),[l]),i=(0,t.useFacetMap)((e=>e.length),[],[a]),c=(0,t.useFacetMap)(((e,t)=>e.length+t),[],[n,i]),s=(0,t.useFacetMap)((e=>Math.ceil(e/12)),[],[c]),{delegationEventFacet:u,delegateFocus:d}=yc(),m=(0,e.useRef)(null),p=(0,e.useRef)(null),g=f(),E=(0,t.useFacetMap)((e=>{var t;return Number(null!==(t=e.get("page"))&&void 0!==t?t:"1")}),[],[g]),{numberOfLanWorldsIndexOffset:h,currentLanWorldData:b,currentLocalWorldData:v,changeWorldGridPage:F}=PN({worldsPerPage:12,lanWorlds:a,localWorlds:n,totalAmountOfPages:s});return(0,t.useFacetEffect)((()=>{r(),d.first()}),[d,r],[g]),e.createElement(e.Fragment,null,e.createElement(Cc,{delegationEvent:u},e.createElement(Pc,{containerRef:m,delegateFocusFromMemory:!0},e.createElement("div",{ref:m},e.createElement(t.Map,{array:b},((t,n)=>e.createElement(e.Fragment,null,n>0&&e.createElement(Yc,{size:2}),e.createElement(RN,{lanWorld:t,index:n,numberOfWorlds:c,onWorldClick:o})))),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e>0),[],[h])},e.createElement(Yc,{size:2})),e.createElement(t.Map,{array:v},((t,n)=>e.createElement(e.Fragment,null,n>0&&e.createElement(Yc,{size:2}),e.createElement(NN,{world:t,indexOffset:h,index:n,totalNrOfWorlds:c,onWorldClick:o})))),e.createElement(Yc,{size:3})))),e.createElement(Pc,{containerRef:p},e.createElement("div",{ref:p},e.createElement(GI,{totalPages:s,currentPage:E,onChange:F}))))}const _N="TNfRf",DN="erzs4",BN="axbWu";function WN({children:t,className:n,containerRef:a}){return e.createElement("div",{ref:a,className:Or()("pKg2u",n)},t)}WN.Action=function({children:n,onClick:a,inputLegend:r,onFocusChanged:l,onHoverChanged:o,narrationText:i,gamepadAlias:c,disabled:s=!1,testId:u,className:d}){const m=hr("neutral"),p=(0,t.useFacetMap)((e=>!0===e),[],[(0,t.useFacetWrap)(s)]),f=(0,t.useFacetWrap)(!1===r?"":r),g=(0,t.useFacetMap)(((e,t)=>!t&&e),[],[f,p]),E=(0,t.useFacetMap)(((e,t)=>Or()("XQG9h","IVlBD",t,{Hn3l0:e})),[],[p,(0,t.useFacetWrap)(null!=d?d:void 0)]),h=(0,t.useFacetMap)((e=>!0===e?void 0:m.press),[m],[p]),b=(0,t.useFacetCallback)((e=>()=>{e||a()}),[a],[p]);return e.createElement(ic,{className:E,classNameHovered:DN,classNameFocused:BN,classNamePressed:_N,classNameDisabled:Ha.pressed,gamepadAlias:c,inputLegend:g,narrationText:i,onClick:b,onFocusChanged:l,onHoverChanged:o,soundEffectPressed:h,"data-testid":u},n)},WN.Information=function({children:t,innerRef:n,narrationText:a,role:r="inherit",spacingSize:l=3,className:o}){NA(a);const i=gr(r),c=Or()("uUjC2",i.text.base,i.border.base,o);return e.createElement("div",{className:c,ref:n},e.createElement(Yc,{size:l}),t)},WN.AdditionalAction=function({children:n,onClick:a,onMouseDown:r,inputLegend:l,narrationText:o,gamepadAlias:i,hidden:c=!1,focusGridIndex:s,innerRef:u,touchDetectionDelay:d,soundEffectPressed:m,disabled:p}){const f=hr("neutral");return e.createElement(t.Mount,{when:(0,t.useFacetWrap)(c),condition:!1},e.createElement(ic,{innerRef:u,className:"VETse",classNameHovered:DN,classNameFocused:BN,classNamePressed:_N,focusGridIndex:s,gamepadAlias:i,inputLegend:l,onClick:a,onMouseDown:r,narrationText:o,touchDetectionDelay:d,soundEffectHovered:f.hover,soundEffectFocused:f.focus,soundEffectPressed:null!=m?m:f.press,disabled:p},n))};function UN({tags:n,className:a,fixedHeight:r}){return e.createElement("div",{style:{height:`${r}rem`},className:Or()("JsUBN",a)},e.createElement(t.Map,{array:n},(t=>e.createElement(zN,{tag:t}))))}function zN({tag:n}){const a=(0,t.useFacetMap)((e=>e.role),[],[n]),r=(0,t.useFacetMap)((e=>e.label),[],[n]);return e.createElement(ux,{role:a},r)}function jN({id:n,title:a,subtitle:r,imageSrc:l,requiresCloudSync:o,tags:i,onWorldClick:c,narrationIndex:s,onEdit:u,containerListLength:d,amountOfPlayersOnline:m,worldFull:p,isMultiplayerWorld:f,isHardcore:g,playerHasDied:E,className:h,testId:b,innerRef:v}){const{t:F}=Ii("WorldCard"),{t:y}=Ii("WorldCard.narration"),S=(0,t.useFacetWrap)(null!=o&&o),C=(0,t.useFacetWrap)(null!=m?m:0),M=(0,t.useFacetWrap)(null!=p&&p),w=(0,t.useFacetMap)((e=>e>0),[],[C]),k=(0,t.useFacetWrap)(null!=g&&g),T=(0,t.useFacetWrap)(null!=E&&E),x=(0,t.useFacetMap)((e=>null!=e?e:""),[],[(0,t.useFacetWrap)(null!=r?r:"")]),[I,P]=(0,t.useFacetState)(!1),O=null!=u,A=et(),N=(0,t.useFacetMap)((e=>O&&!e),[O],[A]),R=(0,t.useFacetMap)((e=>O&&e),[O],[A]),L=(0,t.useFacetMap)((e=>Or()({MltQY:!O&&!e,S3i1t:O&&e})),[O],[A]),_=(0,t.useFacetWrap)(s),D=(0,t.useFacetMap)(((e,t,n,a)=>[e,y(".componentRole"),t>0?y(".gridAmountContext",[`${a}`,`${t}`]):void 0,,n.map((e=>e.label)).join(", ")].filter(Boolean).join(" . ")),[y],[a,d,i,_]),B=(0,t.useFacetMap)(((e,t)=>t?ZA:null!=e&&e.length>0?e:JA),[],[(0,t.useFacetWrap)(l),S]),U=(0,t.useFacetCallback)((e=>()=>u&&u(e)),[u],[n]),z=(0,t.useFacetMap)((e=>e?[y(".play"),y(".buttonSiblings",["1","2"])].join(" . "):[y(".play"),F(".button")].join(" . ")),[F,y],[N]),j=(0,t.useFacetMap)((e=>e.length>0),[],[x]),H=hP(),V=(0,t.useFacetMap)(((e,t)=>t&&e),[],[f,H]),G=pN.useModal(),$=uN.useModal(),K=rO(),X=(0,t.useFacetMap)(((e,t,n)=>e&&(t||n)),[],[f,H,K]),Y=(0,t.useFacetMap)(((e,t)=>t&&e),[],[f,K]),q=(0,t.useFacetCallback)(((e,t)=>()=>{t?$.show():e?G.show():c()}),[c,G,$],[V,Y]),Q=(0,e.useRef)(null),J=v||Q;return e.createElement(Wr,null,e.createElement(Ps,{text:D},e.createElement(WN,{containerRef:J,className:h},e.createElement(WN.Action,{testId:(0,t.useFacetMap)(((e,t,n)=>null!=n?n:e?"multiplayer-world-card-primary-action-"+(t-1):"world-card-primary-action-"+(t-1)),[],[f,_,(0,t.useFacetWrap)(b)]),inputLegend:F(".play"),narrationText:z,onClick:q,onFocusChanged:P,onHoverChanged:P,gamepadAlias:(0,t.useFacetMap)((e=>`world-card-${e}`),[],[n]),className:L},e.createElement("div",{className:"q5c9z"},e.createElement(Rc,{src:B,isGrayscale:X,aspectRatio:Rc.AspectRatio["16:9"]}),e.createElement(t.Mount,{when:X},e.createElement("div",{className:"vli08"},e.createElement(ux,{role:"destructiveTint"},F(".multiplayerDisabled")))),e.createElement(t.Mount,{when:S},e.createElement(aN,null)),e.createElement(t.Mount,{when:k},e.createElement(zv,{className:"eQDHb",animate:I,startFrame:8,dead:T})),e.createElement(t.Mount,{when:k},e.createElement(dN,{className:"Je5Dc",useGreyBorder:T})),e.createElement(t.Mount,{when:w},e.createElement(cN.Panel,{className:"Mj7So"},e.createElement(cN,{amountOfPlayersOnline:C,full:M})))),e.createElement(WN.Information,{narrationText:a},e.createElement(zs,{type:"body",overflowEllipsis:!0},a),e.createElement(t.Mount,{when:j},e.createElement(zs,{type:"body",variant:"dimmer",overflowEllipsis:!0},x)),e.createElement(UN,{fixedHeight:4.4,tags:i,className:"quia1"}))),e.createElement(t.Mount,{when:N},e.createElement(WN.AdditionalAction,{narrationText:[y(".edit"),y(".buttonSiblings",["2","2"])].join(" . "),inputLegend:F(".edit"),onClick:U,gamepadAlias:(0,t.useFacetMap)((e=>`world-button-${e}`),[],[n])},e.createElement("div",{className:"UzBDX"},e.createElement(Rc,{src:QA,className:"lE4AL",imageRendering:"pixelated"}),e.createElement(zs,{type:"body",role:"inherit",verticalAlign:"center"},F(".edit"))))),e.createElement(t.Mount,{when:R},e.createElement(Ts,{options:{button:W.X,inputLegend:F(".edit")},onClick:U})),e.createElement(t.Mount,{when:$.isVisible},e.createElement(uN.Component,{onClose:$.hide})),e.createElement(t.Mount,{when:G.isVisible},e.createElement(pN.Component,{onClose:G.hide})))))}const HN="NBehJ",VN="clff8";function GN({localWorld:n,index:a,indexOffset:r,totalNrOfWorlds:l,onWorldClick:o}){const i=(0,t.useFacetMap)((e=>e.isMultiplayerEnabled),[],[n]),c=(0,t.useFacetMap)((e=>e.id),[],[n]),s=(0,t.useFacetMap)((e=>e.name),[],[n]),u=qA(n,XA.GRID),d=(0,t.useFacetMap)((e=>e.previewImgPath),[],[n]),m=(0,t.useFacetMap)((e=>e.requiresCloudSync),[],[n]),p=(0,t.useFacetMap)((e=>e+a+1),[a],[r]),f=(0,t.useFacetMap)((e=>e.isHardcore),[],[n]),g=(0,t.useFacetMap)((e=>e.playerHasDied),[],[n]),E=xN(n),h=(0,t.useFacetCallback)((e=>()=>{o(e),E()}),[o,E],[c]),b=(0,e.useRef)(null);return e.createElement("div",{ref:b,className:HN},e.createElement(jN,{id:c,className:VN,title:s,imageSrc:d,requiresCloudSync:m,tags:u,containerListLength:l,narrationIndex:p,isHardcore:f,playerHasDied:g,onEdit:EN(n),onWorldClick:h,isMultiplayerWorld:i,innerRef:b}))}function $N({lanWorld:n,index:a,totalNrOfWorlds:r,onWorldClick:l}){const{t:o}=Ii("WorldGrid"),i=(0,t.useFacetMap)((e=>e.id),[],[n]),c=(0,t.useFacetMap)((e=>e.name),[],[n]),s=(0,t.useFacetMap)((e=>e.ownerName?o(".lanWorldOwner",[e.ownerName]):void 0),[o],[n]),u=YA(n,XA.GRID),d=(0,t.useFacetMap)((e=>e.playerCount),[],[n]),m=(0,t.useFacetMap)((e=>e.capacity>0&&e.capacity===e.playerCount),[],[n]),p=IN(i),f=(0,t.useFacetCallback)((e=>()=>{l(e),p()}),[l,p],[i]),g=(0,e.useRef)(null);return e.createElement("div",{ref:g,className:HN},e.createElement(jN,{testId:`lan-world-card-${a}`,id:i,className:VN,title:c,subtitle:s,tags:u,amountOfPlayersOnline:d,worldFull:m,containerListLength:r,narrationIndex:a+1,onWorldClick:f,isMultiplayerWorld:(0,t.useFacetWrap)(!0),innerRef:g}))}function KN({localWorlds:n,lanWorlds:a,onPagination:r}){const{setSelectedWorldId:l}=AN(),o=(0,t.useFacetMap)((e=>e.length),[],[a]),i=(0,t.useFacetMap)(((e,t)=>e.length+t),[],[n,o]),c=(0,e.useCallback)((e=>{l(e)}),[l]),s=(0,t.useFacetMap)((e=>Math.ceil(e/12)),[],[i]),{delegationEventFacet:u,delegateFocus:d}=yc(),m=(0,e.useRef)(null),p=(0,e.useRef)(null),g=f(),E=(0,t.useFacetMap)((e=>{var t;return Number(null!==(t=e.get("page"))&&void 0!==t?t:"1")}),[],[g]),{numberOfLanWorldsIndexOffset:h,currentLanWorldData:b,currentLocalWorldData:v,changeWorldGridPage:F}=PN({worldsPerPage:12,lanWorlds:a,localWorlds:n,totalAmountOfPages:s});return(0,t.useFacetEffect)((()=>{r(),d.first()}),[d,r],[g]),e.createElement(e.Fragment,null,e.createElement(Cc,{delegationEvent:u},e.createElement(Pc,{containerRef:m,delegateFocusFromMemory:!0},e.createElement("div",{className:"wbcmd",ref:m},e.createElement(t.Map,{array:b},((t,n)=>e.createElement($N,{lanWorld:t,index:n,totalNrOfWorlds:i,onWorldClick:c}))),e.createElement(t.Map,{array:v},((t,n)=>e.createElement(GN,{localWorld:t,index:n,indexOffset:h,totalNrOfWorlds:i,onWorldClick:c})))),e.createElement(Yc,{size:3}))),e.createElement(Pc,{containerRef:p,delegateFocusFromMemory:!0},e.createElement("div",{ref:p},e.createElement(GI,{totalPages:s,currentPage:E,onChange:F}))))}const XN=n.p+"assets/no-worlds-yet-art-446b1.png";function YN({gamepadIndex:n,navigationButtons:a}){const{t:r}=Ii("PlayScreen.allWorlds"),l=(0,t.useSharedFacet)(Bg),o=(0,t.useFacetMap)((e=>r(e?".emptyStateText.trialMode":".emptyStateText")),[r],[l]),i=fh({wide:8,narrow:6,width:224});return e.createElement(GE,{gamepadIndex:n,title:r(".emptyStateTitle"),text:o,imgSrc:XN,imgClass:i?"zvmmk":"kcpRz",buttons:a})}const qN=_i((()=>{const{t:n}=Ii("PlayScreen.unexpectedLaunchErrorModal"),a="pop-up-modal-unexpectedLaunchErrorModal",r=(0,t.useSharedFacet)(cE),l=(0,t.useFacetCallback)((e=>()=>{e.clearStartLocalWorldResult()}),[],[r]),o=(0,t.useFacetMap)((e=>{var t;const a=`${null!==(t=e.startLocalWorldResult)&&void 0!==t?t:"n/a"}`;return n(".body2",[a])}),[n],[r]);return e.createElement(Ld,{defaultFocusAlias:a},e.createElement(Ld.Header,{onClose:l},n(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Paragraphs,{narrationText:(0,t.useFacetMap)((e=>`${n(".body")} . ${e}`),[n],[o]),gamepadIndex:0},e.createElement(zs,{type:"captionLong",align:"center"},n(".body")),e.createElement(zs,{type:"captionLong",align:"center"},o))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:a,inputLegend:n(".close"),variant:"secondary",onClick:l},n(".close"))))})),QN=_i((()=>{const{t:n}=Ii("PlayScreen.worldMissingEntitlementModal"),a="pop-up-modal-worldMissingEntitlementModal",r=(0,t.useSharedFacet)(xp),l=Li(),[o,i]=(0,t.useFacetState)(!1),c=(0,t.useFacetMap)((e=>e.localWorlds.filter((e=>!e.allContentOwned))),[],[r]),s=(0,t.useFacetMap)((e=>e.length),[],[c]),u=(0,t.useFacetMemo)((e=>e.map((({name:e})=>e))),[],[c]),d=(0,t.useFacetMap)((e=>n(".body",[`${e}`])),[n],[s]),m=(0,t.useFacetCallback)(((e,t)=>()=>{e.doNotShowEntitlementsWarning=t,l()}),[l],[(0,t.useSharedFacet)(Lp),o]);return e.createElement(Ld,{onOverlayClick:l,defaultFocusAlias:a},e.createElement(Ld.Header,{onClose:l},(0,t.useFacetMap)((e=>n(".title",[`${e}`])),[n],[s])),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:d},d),e.createElement(Ld.List,{items:u,gamepadIndex:1}),e.createElement(Yc,{size:4})),e.createElement(Ld.Buttons,{header:e.createElement(Ld.Checkbox,{value:o,onChange:e=>i(!!e),title:n(".doNotShowAgain")})},e.createElement(Pu,{gamepadAlias:a,inputLegend:n(".close"),variant:"secondary",onClick:m},n(".close"))))})),JN=_i((()=>{const n="pop-up-modal-cloudSyncWorldConnectionError",{t:a}=Ii("PlayScreen.cloudSyncWorldConnectionError"),r=(0,t.useSharedFacet)(jg),l=Li(),o=(0,t.useFacetCallback)((e=>()=>{e.clearSyncWorldTaskState(),l()}),[l],[r]),i=a(".text");return e.createElement(Ld,{onOverlayClick:o,defaultFocusAlias:n},e.createElement(Ld.Header,{onClose:o},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:n,inputLegend:a(".close"),variant:"secondary",onClick:o},a(".close"))))})),ZN=_i((()=>{const{t}=Ii("PlayScreen.cloudSyncWorldProgressModal");return e.createElement(Ld,null,e.createElement(Ld.Header,null,t(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Spinner,null)))}));function eR(e){switch(e){case Ap.BlockedByVersionError:return".blockedByVersion";case Ap.InvalidUserError:case Ap.UserNeedsToBeSignedInError:case Ap.BlockedByPlatformError:case Ap.BlockedByXBLError:case Ap.ThirdPartyBadIPError:case Ap.ThirdPartyNoServerOrServerLockedError:case Ap.UnknownError:default:return".UnknownError"}}const tR=_i((()=>{const n=(0,t.useSharedFacet)(Rp),{t:a}=Ii("FriendsDrawer.joinFriendServerErrorModal"),r=(0,t.useFacetMap)((e=>e.joinFriendServerResult),[],[n]),l=(0,t.useFacetCallback)((e=>()=>{e.clearJoinFriendServerTaskState()}),[],[n]),o=(0,t.useFacetMap)((e=>a(`${eR(null!=e?e:void 0)}.title`)),[a],[r]),i=(0,t.useFacetMap)((e=>a(`${eR(null!=e?e:void 0)}.message`)),[a],[r]);return e.createElement(Ld,null,e.createElement(Ld.Header,null,o),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:1,inputLegend:a(".cancel"),variant:"secondary",onClick:l},a(".cancel"))))})),nR=_i((({onClose:t})=>{const{t:n}=Ii("PlayScreen.templateScreenNotAvailableInPreview"),a="backButton";return e.createElement(Ld,{defaultFocusAlias:a},e.createElement(Ld.Header,{onClose:t},n(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{center:!0,gamepadIndex:0,narrationText:n(".text")},n(".text"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{delayedClick:!0,onClick:t,autofocus:!0,gamepadAlias:a,inputLegend:n(".close"),variant:"primary"},n(".close")),e.createElement(Yc,{size:1})))})),aR="missing-dependency-modal-accept",rR=_i((({onClose:n,onAccept:a,hasMissingPacks:r,hasMissingTemplate:l})=>{const{t:o}=Ii("PlayScreen.missingDependenciesModal"),i=(0,t.useSharedFacet)(lE),c=(0,t.useSharedFacet)(EE),s=(0,t.useFacetMap)((e=>e.packDownloadStatus===nE.Downloading||e.packDownloadStatus===nE.Importing),[],[i]),u=(0,t.useFacetMap)((e=>e.downloadingStatus===pE.Downloading||e.downloadingStatus===pE.Importing||e.downloadingStatus===pE.Initialising),[],[c]),d=(0,t.useFacetMap)(((e,t)=>e.packDownloadStatus===nE.Importing||t.downloadingStatus===pE.Importing),[],[i,c]),m=(0,t.useFacetMap)(((e,t,n,a,r)=>{const l=r?.5:0;return n?.5*e.packDownloadProgress+l:a?.5*t.downloadingProgressPercent+l:0}),[],[i,c,s,u,d]),p=(0,t.useFacetMap)(((e,t)=>e.packDownloadTaskState===rM.RUNNING||t.downloadingTaskState===rM.RUNNING||e.packDownloadStatus===nE.Completed||t.downloadingStatus===pE.Success),[],[i,c]),f=(0,t.useFacetMap)((e=>o(e?".title.downloading":".title")),[o],[p]),g=(0,t.useFacetMap)(((e,t,n,a)=>{if(n&&a){return o(e?".body.importingMultiple":".body.downloadingMultiple",[t?"2":"1","2"])}return o(e?".body.importing":".body.downloading")}),[o],[d,u,r,l]),E=(0,t.useFacetMap)(((e,t)=>e?t:o(".body")),[o],[p,g]),h=(0,t.useFacetCallback)(((e,t)=>()=>{t.cancelDownload(),t.resetDownloadTask(),e.cancelPackDownload(),n()}),[n],[i,c]);return e.createElement(Ld,{defaultFocusAlias:aR},e.createElement(Ld.Header,{hideCloseButton:d,onClose:h},f),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:E,center:p},E),e.createElement(t.Mount,{when:p},e.createElement(Ld.Progress,{percentage:m}))),e.createElement(t.Mount,{when:p,condition:!1},e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:aR,inputLegend:o(".primary"),onClick:a,variant:"primary","data-testid":"start-download-dependencies-button"},o(".primary")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:o(".close"),onClick:h,"data-testid":"close-download-dependencies-button"},o(".close")))))})),lR=_i((()=>{const{t:n}=Ii("PlayScreen.importWorldProgressModal"),a=(0,t.useSharedFacet)(uE),r=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.importWorld.progress)&&void 0!==t?t:0}),[],[a]),l=n(".body");return e.createElement(Ld,null,e.createElement(Ld.Header,null,n(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:l,center:!0},l),e.createElement(Ld.Progress,{percentage:r})))})),oR=_i((()=>{const{t:n}=Ii("PlayScreen.importWorldErrorModal"),a=(0,t.useSharedFacet)(uE),r="import-world-error-button-focus",l=(0,t.useFacetCallback)((e=>()=>{e.importWorld.clear()}),[],[a]),o=n(".close"),i=n(".unknownError.body");return e.createElement(Ld,{defaultFocusAlias:r},e.createElement(Ld.Header,{onClose:l},n(".unknownError.title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{variant:"secondary",inputLegend:o,onClick:l,gamepadAlias:r},o)))})),iR="missing-active-resources-modal-accept",cR=_i((()=>{const{t:n}=Ii("PlayScreen.unownedPacksModal"),a=u(),r=(0,t.useFacetCallback)((e=>()=>e.clearStartLocalWorldResult()),[],[(0,t.useSharedFacet)(cE)]),l=(0,e.useCallback)((()=>{a.push("/marketplace"),r()}),[a,r]);return e.createElement(Ld,{onOverlayClick:r,defaultFocusAlias:iR},e.createElement(Ld.Header,{onClose:r},n(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:n(".body"),gamepadIndex:0},n(".body"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{inputLegend:n(".confirm"),variant:"primary",onClick:l,"data-testid":"confirm-redirect-martketplace",gamepadAlias:iR},n(".confirm")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:n(".decline"),variant:"secondary",onClick:r},n(".decline"))))}));function sR(){const{t:n}=Tp("PlayScreen"),{getSelectedWorldId:a,setSelectedWorldId:r}=AN(),l=u(),o=(0,t.useSharedFacet)(cE),i=(0,t.useSharedFacet)(jg),c=(0,t.useSharedFacet)(uE),s=(0,t.useSharedFacet)(xp),d=(0,t.useSharedFacet)(cE),m=(0,t.useSharedFacet)(Lp),p=(0,t.useSharedFacet)(_p),f=(0,t.useSharedFacet)(lE),g=(0,t.useFacetMap)((e=>{var t;return e.importWorld.state===Mg.InProgress&&(null!==(t=e.importWorld.progress)&&void 0!==t?t:0)>0}),[],[c]),E=(0,t.useFacetMap)((e=>null!=e.importWorld.result&&e.importWorld.result!==sE.Success&&e.importWorld.result!==sE.InterruptedByUser),[],[c]),h=(0,t.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&t===oE.HasUnownedPacks}),[],[o]),b=(0,t.useFacetMap)(((e,{doNotShowEntitlementsWarning:t})=>{const n=e.localWorlds.filter((e=>!e.allContentOwned)).length>0;return!t&&n}),[],[s,m]),v=(0,t.useFacetMap)((e=>null!=e.packDownloadError||null!=e.lastConsultedPackSizesError),[],[f]),F=(0,t.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&(t===oE.WorldNotInLevelList||t===oE.UnknownError)}),[],[o]),y=(0,t.useFacetMap)((e=>e.syncWorldTaskState===rM.RUNNING),[],[i]),S=(0,t.useFacetMap)((e=>e.syncWorldTaskState===rM.FAILED),[],[i]),C=(0,t.useFacetMap)((e=>e.backupThenStartLocalWorld.state===Mg.InProgress),[],[o]),M=(0,t.useFacetMap)((e=>{var t,n;return(null===(t=e.backupThenStartLocalWorld.result)||void 0===t?void 0:t.backupResult)===iE.IncorrectWorldId||(null===(n=e.backupThenStartLocalWorld.result)||void 0===n?void 0:n.backupResult)===iE.UnknownError}),[],[o]),w=(0,t.useFacetMap)((e=>{var t;return(null===(t=e.backupThenStartLocalWorld.result)||void 0===t?void 0:t.backupResult)===iE.InsufficientDiskSpace}),[],[o]),k=(0,t.useFacetMap)((e=>null!=e.joinFriendServerResult&&e.joinFriendServerResult!==Ap.OK&&e.joinFriendServerResult!==Ap.UserBannedError&&e.joinFriendServerResult!==Ap.NoInternetError),[],[(0,t.useSharedFacet)(Rp)]),T=(0,t.useFacetMap)((e=>e.startLocalWorldTaskState===rM.RUNNING),[],[o]),x=a(),{downloadAssetsAndStartWorld:I,hasMissingPacks:P,hasMissingTemplate:O}=kN(),A=(0,t.useFacetCallback)(((e,t)=>()=>{null!=e&&I(encodeURI(e),(()=>{t.queueSnackbar(n(".missingDependenciesModal.downloadComplete"))}))}),[I,n],[x,p]),N=(0,t.useFacetCallback)((e=>()=>{r(null),e.clearStartLocalWorldResult()}),[r],[d]),R=(0,t.useFacetMap)(((e,t)=>null!=e&&t.startLocalWorldResult===oE.MissingDependencies),[],[x,d]),L=(0,t.useFacetMap)((e=>e.startLocalWorldResult===oE.DlcMissingContentKey),[],[d]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:F},e.createElement(qN.Component,null)),e.createElement(t.Mount,{when:h},e.createElement(cR.Component,null)),e.createElement(t.Mount,{when:b},e.createElement(QN.Component,null)),e.createElement(t.Mount,{when:y},e.createElement(ZN.Component,null)),e.createElement(t.Mount,{when:S},e.createElement(JN.Component,null)),e.createElement(t.Mount,{when:C},e.createElement(bN.Component,null)),e.createElement(t.Mount,{when:w},e.createElement(FN.Component,{onHandleStorage:()=>l.push("/settings/storage")})),e.createElement(t.Mount,{when:v},e.createElement(gw.Component,null)),e.createElement(t.Mount,{when:M},e.createElement(yN.Component,null)),e.createElement(t.Mount,{when:k},e.createElement(tR.Component,null)),e.createElement(t.Mount,{when:T},e.createElement(jO.Component,{title:n(".startLocalWorldModal.title")})),e.createElement(t.Mount,{when:g},e.createElement(lR.Component,null)),e.createElement(t.Mount,{when:E},e.createElement(oR.Component,null)),e.createElement(t.Mount,{when:L},e.createElement(bw.Component,null)),e.createElement(t.Mount,{when:R},e.createElement(rR.Component,{onClose:N,onAccept:A,hasMissingPacks:P,hasMissingTemplate:O})))}function uR(){const e=(0,t.useSharedFacet)(xp),n=(0,t.useFacetMemo)((({localWorlds:e})=>e.filter((e=>e.allContentOwned))),[],[e]);return{data:n,isEmpty:(0,t.useFacetMap)((e=>e.length<1),[],[n]),alternativeStorageHasWorlds:(0,t.useFacetMap)((e=>e.otherStorageTypeHasWorlds),[],[e])}}function dR(t="Play"){const n=u(),a=LS();return(0,e.useCallback)((()=>{a({button:"CreateNewWorld",screen:t}),n.push("/create-new-world")}),[a,t,n])}const mR=n.p+"assets/import-world-icon-4e8aa.png";let pR,fR;function gR(){const n=(0,e.useRef)(null);return(0,t.useFacetLayoutEffect)((e=>{!e&&n.current&&(n.current.scrollTop=0)}),[],[d()]),n}!function(e){e.Featured="Featured Creators",e.MarketplacePass="Marketplace Pass",e.OwnedByMe="Owned by me"}(pR||(pR={})),function(e){e.Featured="featured-creators",e.MarketplacePass="marketplace-pass",e.OwnedByMe="owned-by-me"}(fR||(fR={}));function ER(){}function hR({item:n,index:a,numberOfButtons:r,t:l,breakpoint:o}){const i=(0,t.useFacetMap)((({narrationSuffix:e},t)=>[l(".buttonSiblings",[`${a+1}`,`${t}`]),e].join(" . ")),[l,a],[n,r]),c=(0,t.useFacetMap)((({text:e})=>e),[],[n]),s=(0,t.useFacetMap)((({imgSrc:e})=>e),[],[n]),u=(0,t.useFacetMap)((({gamepadAlias:e})=>e),[],[n]),d=(0,t.useFacetMap)((({inputLegend:e,text:t})=>null!=e?e:t),[],[n]),m=(0,t.useFacetMap)((e=>a<e-1),[a],[r]),p=(0,t.useFacetCallback)((({onClick:e})=>null!=e?e:ER),[],[n]),f=(0,t.useFacetMap)((({variant:e})=>e),[],[n]);return e.createElement(Fl,{data:f},(n=>e.createElement(e.Fragment,null,e.createElement("div",{className:"ggKnk"},e.createElement(Pu,{inputLegend:d,narrationSuffix:i,variant:null!=n?n:"secondary",onClick:p,imgSrc:s,gamepadAlias:u},c)),e.createElement(t.Mount,{when:m},e.createElement(Yc,{size:"narrow"===o?2:4})))))}function bR({navigationButtons:n,layoutButton:a,filterButton:r}){const{t:l}=Ii("PlayScreen.ButtonHeader.narration"),o=Ko(),i=(0,t.useFacetMap)((e=>e.length),[],[n]),c="narrow"===Ko(102);return e.createElement(vR,{layoutButton:c?null:a,filterButton:r},e.createElement("div",{className:"VnFi8"},e.createElement(t.Map,{array:n},((t,n)=>e.createElement(hR,{t:l,breakpoint:o,item:t,index:n,numberOfButtons:i})))))}function vR({layoutButton:t,filterButton:n,children:a}){return null==t&&null==n?e.createElement(e.Fragment,null,a):e.createElement("div",{className:"V1L_f"},e.createElement("div",{className:"eDRrP"},null!=t&&e.createElement(e.Fragment,null,t,e.createElement(Yc,{size:2})),null!=n&&e.createElement(e.Fragment,null,n,e.createElement(Yc,{size:2})),e.createElement(Yc,{size:2})),e.createElement("div",{className:"OLABa"},a))}function FR({text:t,link:n,onClose:a=(()=>{}),onCloseTestId:r}){const l=u();return e.createElement(KS,{"close-button-test-id":r,role:"neutral100",onClose:a},e.createElement(KS.Text,null,t),e.createElement(Yc,{size:1}),e.createElement(KS.Link,{onClick:()=>l.push("/settings/storage")},n))}const yR=n.p+"assets/settings-icon-af819.png",SR=[".bytes",".kilobytes",".megabytes",".gigabytes",".terabytes",".petabytes"];function CR({gamepadIndex:n,role:a="inherit"}){const{t:r}=Ii("StorageIndicator"),l=(0,t.useSharedFacet)(el),o=Hr(),i=(0,t.useFacetMap)((({storageUsed:e,storageSize:t})=>t<=0?1:e/t),[],[l]),c=function(){const{t}=Ii("StorageIndicator");return(0,e.useCallback)((e=>function(e,t){if(e<=0)return t(SR[0],["0"]);const n=Math.floor(Math.log(e)/Math.log(1024)),a=parseFloat((e/Math.pow(1024,n)).toFixed(2)).toString(),r=Math.max(0,Math.min(n,SR.length-1));return t(SR[r],[a])}(e,t)),[t])}(),s=(0,t.useFacetMap)((({storageSize:e,storageUsed:t})=>r(".storageSpace",[c(Math.max(0,t)),c(Math.max(0,e))])),[r,c],[l]),u=(0,t.useFacetMap)((({isStorageFull:e,storageSize:t,storageUsed:n})=>e||t<=0||n>=t),[],[l]),d=gr(a),m=Er("success"),p=Er("notice"),f=Er("destructive"),g=(0,t.useFacetMap)((({isStorageLow:e},t)=>{var n,a,r;return t?null!==(n=f.background.default)&&void 0!==n?n:"var(--red50)":e?null!==(a=p.background.default)&&void 0!==a?a:"var(--orange20)":null!==(r=m.background.default)&&void 0!==r?r:"var(--green50)"}),[m,p,f],[l,u]);return e.createElement(ja,{role:a},e.createElement("div",{className:Or()("LtuVe",d.border.base,d.background.base)},e.createElement("div",{className:"M6QIX"},e.createElement("div",{className:"Mm3Zd"},e.createElement(zs,{type:"secondaryButton"},e.createElement("fast-text",{text:s}),e.createElement(Yc,{size:2}),e.createElement(t.Mount,{when:u},e.createElement(ux,{role:"destructiveTint"},r(".fullStorageTag")))),e.createElement(Yc,{size:3}),e.createElement(ju,{percentage:i,fillColor:g})),e.createElement(sc,{className:"XUQjt",gamepadIndex:n,inputLegend:r(".settings"),narrationText:r(".settings"),onClick:()=>{o.push("/settings/storage")},role:a},e.createElement(Rc,{src:yR,className:"jf7d7",imageRendering:"pixelated"}),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionTiny"},r(".settings"))))))}function MR({onClose:t,variant:n,onCloseTestId:a}){const r=u(),{t:l}=Ii(`PlayScreen.outdatedOrRetailWorldsBanner.${n}`),{t:o}=Ii("PlayScreen.outdatedOrRetailWorldsBanner");return e.createElement(KS,{role:"informative",onClose:t,"close-button-test-id":a},e.createElement(KS.Text,null,l(".text")),e.createElement(Yc,{size:1}),e.createElement(KS.Link,{onClick:()=>r.push("/settings/storage")},o(".link")))}function wR(){const n=(0,t.useSharedFacet)(el),a=(0,t.useSharedFacet)(Lp),{t:r}=Ii("PlayScreen.storageBanner"),l=(0,t.useFacetMap)((({platform:e,isStorageFull:t,isStorageLow:n})=>RM(e)&&(t||n)),[],[n]),o=function(){const e=uR(),n=(0,t.useSharedFacet)(el),a=(0,t.useFacetMap)((e=>e.storageType),[],[n]),r=(0,t.useFacetMap)(((e,t,n)=>!n&&!t.doNotShowOldWorldsWarning&&RM(e.platform)),[],[n,(0,t.useSharedFacet)(Lp),(0,t.useSharedFacet)(Om)]),l=(0,t.useFacetMap)(((e,t,n)=>n&&!t.doNotShowOldWorldsWarning&&RM(e.platform)&&e.platform!==Ve.PS5),[],[n,(0,t.useSharedFacet)(Lp),(0,t.useSharedFacet)(Om)]),o=(0,t.useFacetMap)(((e,t,n)=>n&&!t.doNotShowOldWorldsWarning&&e.platform===Ve.PS5),[],[n,(0,t.useSharedFacet)(Lp),(0,t.useSharedFacet)(Om)]),i=(0,t.useFacetMap)(((e,t,n)=>!t&&e&&!n.doNotShowHiddenAlternativeStorageWorldsWarning),[],[e.alternativeStorageHasWorlds,e.isEmpty,(0,t.useSharedFacet)(Lp)]),c=(0,t.useFacetMap)(((e,t,n)=>e===Zr.EXTERNAL&&!t&&!n.doNotShowUsingExternalStorageWarning),[],[a,e.alternativeStorageHasWorlds,(0,t.useSharedFacet)(Lp)]),s=(0,t.useFacetMap)(((e,t,n)=>e===Zr.EXTERNAL&&t&&!n.doNotShowHiddenLocalWorldsWarning),[],[a,i,(0,t.useSharedFacet)(Lp)]),u=(0,t.useFacetMap)(((e,t)=>e===Zr.APPDATA&&t),[],[a,i]),d=(0,t.useFacetMap)(((e,t,n)=>e&&n&&!t.doNotShowAlternativeStorageHasWorlds),[],[e.isEmpty,(0,t.useSharedFacet)(Lp),e.alternativeStorageHasWorlds]);return{possiblyOldWorldsAvailableRetail:r,possiblyRetailWorldsAvailablePreview:l,possiblyOldWorldsAndRetailWorldsAvailablePreviewOnPS5:o,worldsOnAlternativeStorageAndCurrentStorage:i,alternativeStorageHasWorlds:e.alternativeStorageHasWorlds,worldsOnlyOnAlternativeStorageWhenOnRegular:d,worldsUsingAlternativeStorage:c,worldsOnBothStoragesUsingAlternativeStorage:s,worldsOnBothStoragesUsingRegularStorage:u}}(),i=(0,t.useFacetCallback)((e=>()=>{e.doNotShowOldWorldsWarning=!0}),[],[a]),c=(0,t.useFacetCallback)((e=>()=>{e.doNotShowHiddenLocalWorldsWarning=!0}),[],[a]),s=(0,t.useFacetCallback)((e=>()=>{e.doNotShowHiddenAlternativeStorageWorldsWarning=!0}),[],[a]),u=(0,t.useFacetCallback)((e=>()=>{e.doNotShowUsingExternalStorageWarning=!0}),[],[a]),d=(0,t.useFacetCallback)((e=>()=>{e.doNotShowAlternativeStorageHasWorlds=!0}),[],[(0,t.useSharedFacet)(Lp)]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:l},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(CR,{gamepadIndex:0}))),e.createElement(t.Mount,{when:o.worldsUsingAlternativeStorage},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(FR,{onCloseTestId:"worlds-using-alternative-storage",onClose:u,text:r(".externalStorageWarningText"),link:r(".manageStorageLink")}))),e.createElement(t.Mount,{when:o.worldsOnlyOnAlternativeStorageWhenOnRegular},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(FR,{onCloseTestId:"worlds-only-on-alternative-storage-when-on-regular",text:r(".changeStorageText"),link:r(".changeStorageLink"),onClose:d}))),e.createElement(t.Mount,{when:o.worldsOnBothStoragesUsingRegularStorage},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(FR,{onCloseTestId:"worlds-on-both-storages-using-regular-storage",text:r(".alternativeStorageWorldsHiddenText"),link:r(".changeStorageLink"),onClose:s}))),e.createElement(t.Mount,{when:o.worldsOnBothStoragesUsingAlternativeStorage},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(FR,{onCloseTestId:"worlds-on-both-storages-using-alternative-storage",text:r(".localWorldsHiddenText"),link:r(".changeStorageLink"),onClose:c}))),e.createElement(t.Mount,{when:o.possiblyOldWorldsAvailableRetail},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(MR,{onCloseTestId:"possibly-old-worlds-available-retail",onClose:i,variant:"retail"}))),e.createElement(t.Mount,{when:o.possiblyRetailWorldsAvailablePreview},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(MR,{onCloseTestId:"possibly-retail-worlds-available-preview",onClose:i,variant:"preview"}))),e.createElement(t.Mount,{when:o.possiblyOldWorldsAndRetailWorldsAvailablePreviewOnPS5},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(MR,{onCloseTestId:"possibly-retail-and-old-worlds-available-preview",onClose:i,variant:"previewPS5"}))))}function kR(){const e=(0,t.useSharedFacet)(kp),n=gP();return(0,t.useFacetMap)(((e,t)=>null==e.lanWorlds||t?[]:e.lanWorlds),[],[e,n])}const TR="O7QQp";function xR({isListLayout:n,onClick:a}){const{t:r}=Ii("PlayScreen.layoutButton"),l=`${r(".toggleGrid")} . ${r(".componentRole")} . ${r(".toggleGridHint")}`,o=`${r(".toggleList")} . ${r(".componentRole")} . ${r(".toggleListHint")}`,i=`${r(".toggledLayout")} . ${r(".worldsInGrid")} . ${r(".pressToList")}`,c=`${r(".toggledLayout")} . ${r(".worldsInList")} . ${r(".pressToGrid")}`,{narrateText:s}=Fs();return e.createElement(Mv,{inputLegend:(0,t.useFacetMap)((e=>r(e?".toggleGrid":".toggleList")),[r],[n]),narrationText:(0,t.useFacetMap)((e=>e?l:o),[l,o],[n]),onClick:(0,t.useFacetCallback)((e=>()=>{a(),s(e?i:c)}),[a,s,i,c],[n]),height:4.4,variant:"neutral60",reflection:"bevel",className:TR,"data-testid":"all-worlds-layout-button"},e.createElement(kS.Grid,{width:24,height:24,style:{display:(0,t.useFacetMap)((e=>e?"flex":"none"),[],[n])}}),e.createElement(kS.List,{width:24,height:24,style:{display:(0,t.useFacetMap)((e=>e?"none":"flex"),[],[n])}}))}function IR({onClick:n,isShowingLanWorlds:a}){const{t:r}=Ii("PlayScreen.filterButton"),l=(0,t.useFacetMap)((e=>r(e?".hideLanWorlds":".showLanWorlds")),[r],[a]),o=(0,t.useFacetMap)((e=>e?`${r(".hideLanWorlds")} . ${r(".componentRole")}`:`${r(".showLanWorlds")} . ${r(".componentRole")}`),[r],[a]),i=(0,t.useFacetCallback)(((e,t)=>()=>{n(),e.queueSnackbar(r(t?".hideLanWorldsNotification":".showLanWorldsNotification"))}),[n,r],[(0,t.useSharedFacet)(_p),a]);return e.createElement(Mv,{inputLegend:l,narrationText:o,onClick:i,height:4.4,className:TR,variant:"neutral60",reflection:"bevel","data-testid":"all-worlds-filter-lan-button"},e.createElement(kS.LanHidden,{width:24,height:24,style:{display:(0,t.useFacetMap)((e=>e?"flex":"none"),[],[a])}}),e.createElement(kS.Lan,{width:24,height:24,style:{display:(0,t.useFacetMap)((e=>e?"none":"flex"),[],[a])}}))}function PR(){const[n,a]=(0,t.useFacetState)(null),r=e.useMemo((()=>({getSelectedWorldId:()=>n,setSelectedWorldId:e=>a(e)})),[a,n]),l=(0,t.useSharedFacet)(ag),o=(0,t.useSharedFacet)(Bg),i=uR(),c=kR(),s=gP(),d=(0,t.useFacetMap)((e=>e.playScreenShowLanWorlds),[],[l]),m=(0,t.useFacetMap)(((e,t)=>e?t:[]),[],[d,c]),p=nR.useModal(),f=function(e){const{t:n}=Ii("PlayScreen.AllWorldsTab.ButtonHeader"),a=LS(),r=(0,t.useSharedFacet)(el),l=(0,t.useSharedFacet)(uE),o=(0,t.useSharedFacet)(Bg),i=bE("vanilla.ab.newPlayScreenB"),c=bE(Qm),s=bE(rp),d=(0,t.useFacetMap)((e=>e&&s),[s],[o]),m=(0,t.useFacetMap)((e=>e||i||c),[i,c],[d]),p=dR(),f=function({templatesNotAvailableInPreview:e}){const n=u(),a=(0,t.useSharedFacet)(el),r=(0,t.useSharedFacet)(EE),l=LS();return(0,t.useFacetCallback)(((t,a)=>()=>{if(l({button:"CreateFromTemplate",screen:"Play"}),!a.isTemplateScreenAvailable)return void e();const r=`/start-from-template/${t.isOnline?fR.MarketplacePass:fR.OwnedByMe}`;n.push(r)}),[l,n,e],[a,r])}(e),g=(0,t.useFacetCallback)((({importWorld:e})=>()=>{a({button:"ImportWorld",screen:"Play"}),e.run()}),[a],[l]),E=(0,t.useFacetMap)((e=>_M(e.platform,e.arvrPlatform)),[],[r]),h=(0,t.useFacetMemo)(((e,t,a)=>{const r=t?[{variant:"primary",text:n(".createNewWorld"),narrationSuffix:n(".createNewWorldNarration"),onClick:a?p:f,gamepadAlias:"play-cnw-button"}]:[{variant:"primary",text:n(".createNewWorld"),narrationSuffix:n(".createNewWorldNarration"),onClick:p,gamepadAlias:"play-cnw-button"},{variant:"secondary",text:n(".createFromTemplate"),narrationSuffix:n(".createFromTemplateNarration"),onClick:f}];if(e&&!a){const e={text:n(".importWorld"),variant:"secondary",narrationSuffix:n(".importWorldNarration"),onClick:g,imgSrc:mR};r.push(e)}return r}),[n,p,f,g],[E,m,d]);return h}({templatesNotAvailableInPreview:p.show});!function(){const e=(0,t.useSharedFacet)(uE),n=(0,t.useFacetCallback)((e=>()=>{e.importWorld.clear()}),[],[e]),a=(0,t.useFacetMap)((e=>e.importWorld.result),[],[e]);(0,t.useFacetEffect)((e=>{(e===sE.Success||sE.InterruptedByUser)&&n()}),[n],[a])}();const g="narrow"===Ko(102),E=(0,e.useRef)(!0),h=(0,t.useFacetMap)((e=>E.current&&e.playScreenWorldLayoutMode===ng.Default?g:e.playScreenWorldLayoutMode===ng.List),[g],[l]),b=(0,t.useFacetCallback)(((e,t)=>()=>{E.current=!1,e.playScreenWorldLayoutMode=t?ng.Grid:ng.List}),[],[l,h]),v=(0,t.useFacetCallback)(((e,t)=>()=>e.playScreenShowLanWorlds=!t),[],[l,d]),F=(0,t.useFacetMap)(((e,t)=>e&&t.length<1),[],[i.isEmpty,m]),y=(0,t.useFacetMap)(((e,t,n)=>!e&&!t&&!n),[],[s,i.isEmpty,o]),S=gR(),C=(0,e.useCallback)((()=>{S.current&&(S.current.scrollTop=0)}),[S]),M=(0,e.useRef)(null),w=(0,t.useFacetMap)(((e,t)=>e?"no-worlds":t?"list-layout":"grid-layout"),[],[F,h]);return e.createElement(ON.Provider,{value:r},e.createElement(Fl,{data:w},(n=>"no-worlds"===n?e.createElement(AR,{navigationButtons:f}):e.createElement(OR,{innerRef:S,allwaysVisibleChildren:e.createElement(Pc,{containerRef:M,delegateFocusFromMemory:!0,alias:"play-screen-button-headers",delegateFocusByAlias:"play-cnw-button"},e.createElement("div",{ref:M},e.createElement(wR,null),e.createElement(Yc,{size:2}),e.createElement(bR,{layoutButton:e.createElement(xR,{isListLayout:h,onClick:b}),filterButton:e.createElement(t.Mount,{when:y},e.createElement(IR,{isShowingLanWorlds:d,onClick:v})),navigationButtons:f}),e.createElement(Yc,{size:2})))},"list-layout"===n?e.createElement(LN,{onPagination:C,localWorlds:i.data,lanWorlds:m}):e.createElement(KN,{onPagination:C,localWorlds:i.data,lanWorlds:m})))),e.createElement(t.Mount,{when:p.isVisible},e.createElement(nR.Component,{onClose:p.hide})),e.createElement(sR,null),e.createElement(dh,{type:"contentful",renderingCompleted:!0}))}function OR({children:n,allwaysVisibleChildren:a,innerRef:r}){const l=(0,t.useIsPaused)();return e.createElement(ys,{alwaysVisibleChildren:a,loading:l,innerRef:r,gamepadAlias:"content-wrapper",delegateFocusByAlias:"play-screen-button-headers",delegateFocusFromMemory:!0,renderTracker:t=>e.createElement(dh,{renderingCompleted:t,type:"meaningful"})},n,e.createElement(Yc,{size:2}),e.createElement(LP,{tab:"all"}),e.createElement(Yc,{size:1}))}function AR({navigationButtons:t}){return e.createElement(ys,{floating:!0,renderTracker:t=>e.createElement(Dr,{renderingCompleted:t,type:"meaningful"})},e.createElement(wR,null),e.createElement(Yc,{size:2}),e.createElement(YN,{navigationButtons:t}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}),e.createElement(Yc,{size:3}),e.createElement(LP,{tab:"all"}))}function NR(){return NR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},NR.apply(this,arguments)}function RR({title:n,isOpen:a,items:r,onClose:l,onItemSelect:o,itemTypeNarration:i,closeButtonNarrationSuffix:c}){const{t:s}=Ii("ModalMenu"),u=(0,t.useFacetWrap)(a),d=(0,t.useFacetWrap)(r),m=gr("neutral50"),p=(0,e.useRef)(null),f=(0,t.useFacetWrap)(!1),g=(0,t.useFacetMap)((e=>({index:1,disabled:e,bounded:!0})),[],[f]),[E,h]=function(e){const[n,a]=(0,t.useFacetState)(""),r=$o(4.8);return[n,(0,t.useFacetCallback)((t=>()=>{var n;const r=null==e?void 0:e.current,l=null==e||null===(n=e.current)||void 0===n?void 0:n.parentElement;if(!r||!l)return;const o=r.getBoundingClientRect().height,i=l.getBoundingClientRect().height;if(i<o){const e=Math.floor(i/t)*t-t/2;a(`${e}px`)}}),[e,a],[r])]}(p);return Qo(p,h),e.createElement(t.Mount,{when:u},e.createElement(Ld,{defaultFocusAlias:"modal-menu",onOverlayClick:l,modalTypeNarrationHint:s(".modalTypeHint")},e.createElement(Ld.Header,{onClose:l,closeButtonNarrationSuffix:c},n),e.createElement(Ld.Content,{role:"neutral100",scrollbarBackgroundRole:"neutral80",scrollbarClassName:"c0ycF",className:"iXek1"},e.createElement(Is,{options:g,scrollRef:p},e.createElement("fast-div",{ref:p,className:"wZqdF",style:{maxHeight:E}},e.createElement(ja,{role:"neutral60"},e.createElement(t.Map,{array:d},((t,n)=>e.createElement(LR,{key:n,item:t,gamepadIndex:n,onChange:o,itemTypeNarration:null!=i?i:s(".elementType")}))),e.createElement("div",{className:Or()("NrdmD",m.background.base)})))))))}const LR=n=>{let{item:a}=n,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["item"]);const l=hr("neutral"),o=(0,t.useFacetWrap)(a),i=(0,t.useFacetMap)((({disabled:e})=>!!e),[],[o]);return e.createElement(t.DeferredMount,null,e.createElement(MC,NR({},r,{item:o,currentValue:-1,isSelectable:(0,t.useFacetMap)((e=>!0===e.isSelectable),[],[o]),soundEffectPressed:l.press,soundEffectHovered:l.hover,disabled:i,testId:(0,t.useFacetMap)((e=>e.testId),[],[o])})))},_R=n.p+"assets/enter-icon-31b5a.png";function DR(){return DR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},DR.apply(this,arguments)}const BR=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("iWBnu",n);return e.createElement(Rc,DR({},a,{className:r,src:_R,imageRendering:"pixelated"}))},WR=n.p+"assets/icon-info-5845d.png";function UR(){return UR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},UR.apply(this,arguments)}const zR=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("CBnkY",n);return e.createElement(Rc,UR({},a,{className:r,src:WR,imageRendering:"pixelated"}))},jR=n.p+"assets/icon-plus-48f3d.png";function HR(){return HR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},HR.apply(this,arguments)}const VR=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("ks93w",n);return e.createElement(Rc,HR({},a,{className:r,src:jR,imageRendering:"pixelated"}))};var GR;!function(e){e[e.ADD=0]="ADD",e[e.JOIN=1]="JOIN",e[e.LEARN=2]="LEARN"}(GR||(GR={}));const $R=_i((({onClose:n,onAddRealmSubscription:a,onJoinExistingRealm:r})=>{const{t:l}=Ii("PlayScreen.realmsTab.joinRealmOptionsModalMenu"),o=u(),i=e.useCallback((e=>{e===GR.ADD&&(a(),n()),e===GR.JOIN&&(r(),n()),e===GR.LEARN&&(o.push("/realms-pdp"),n())}),[a,r,n,o]),c=(0,t.useFacetMap)((e=>e.isPreviewBuild?[{enumeration:l(".optionsEnumeration",["1","1"]),gamepadAlias:"join",label:l(".joinRealm"),value:GR.JOIN,Icon:BR,testId:"realm-join-existing-button"},{enumeration:l(".optionsEnumeration",["2","2"]),gamepadAlias:"learn",label:l(".learnMore"),value:GR.LEARN,Icon:zR,testId:"realm-learn-more-button"}]:[{enumeration:l(".optionsEnumeration",["1","3"]),gamepadAlias:"sub",label:l(".addRealm"),value:GR.ADD,Icon:VR,testId:"realm-add-subscription-button"},{enumeration:l(".optionsEnumeration",["2","3"]),gamepadAlias:"join",label:l(".joinRealm"),value:GR.JOIN,Icon:BR,testId:"realm-join-existing-button"},{enumeration:l(".optionsEnumeration",["3","3"]),gamepadAlias:"learn",label:l(".learnMore"),value:GR.LEARN,Icon:zR,testId:"realm-learn-more-button"}]),[l],[(0,t.useSharedFacet)(xm)]);return e.createElement(RR,{onClose:n,onItemSelect:i,isOpen:!0,title:l(".title"),items:c})}));function KR(e){return{label:e.world.realmName,value:`${e.world.id}`,expired:e.world.expired,closed:e.world.closed,full:e.world.full,amountOfPlayersOnline:null==e.world.onlinePlayers?0:e.world.onlinePlayers.filter((e=>e.isOnline)).length,playersOnline:null!=e.world.onlinePlayers&&e.world.onlinePlayers.filter((e=>e.isOnline)).length>0,ownsRealm:e.isOwner,ownerXuid:e.world.ownerXuid,areStoriesNotificationsEnabled:e.areStoriesNotificationsEnabled,storiesUnreadCount:e.unreadStoryCount}}function XR(e){if(null==e.realms)return{ownedRealms:{realms:[]},joinedRealms:{realms:[]}};const t=(n=e.realms.map(KR),[...n].sort(YR));var n;const[a,r]=t.reduce((([e,t],n)=>(n.ownsRealm?e.push(n):t.push(n),[e,t])),[[],[]]);return{ownedRealms:{realms:a},joinedRealms:{realms:r}}}function YR(e,t){return e.expired&&!t.expired?1:!e.expired&&t.expired?-1:e.closed&&!t.closed?1:!e.closed&&t.closed?-1:!e.ownsRealm&&t.ownsRealm?1:e.ownsRealm&&!t.ownsRealm?-1:!e.playersOnline&&t.playersOnline?1:e.playersOnline&&!t.playersOnline?-1:0}const qR=()=>(0,t.useFacetMemo)((e=>function(e){const t=XR(e);return null!=t.ownedRealms.realms&&0!==t.ownedRealms.realms.length?t.ownedRealms.realms[0].value:0===t.ownedRealms.realms.length&&null!=t.joinedRealms.realms&&0!==t.joinedRealms.realms.length?t.joinedRealms.realms[0].value:""}(e)),[],[(0,t.useSharedFacet)(Uf)]);function QR(){const e=(0,t.useFacetMap)((e=>AM(e.platform)||NM(e.platform)),[],[(0,t.useSharedFacet)(el)]);return(0,t.useFacetMap)(((e,t)=>e.userPermissions.multiplayer.denyReasons.includes(Lg.XboxLive)||t&&!e.hasPremiumNetworkAccess),[],[(0,t.useSharedFacet)(Dg),e])}function JR(){return JR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},JR.apply(this,arguments)}function ZR(n){let{children:a,imgSrc:r,Icon:l,linebreak:o=!1,disabledTextOverride:i,disabled:c,variant:s="secondary",narrationPrefix:u,showBadge:d=!0,badgeRole:m,badgeCount:p,badgeOverflowCount:f}=n,g=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["children","imgSrc","Icon","linebreak","disabledTextOverride","disabled","variant","narrationPrefix","showBadge","badgeRole","badgeCount","badgeOverflowCount"]);const E=(0,t.useFacetWrap)(c),h=(0,t.useFacetMap)((e=>"hero"===s&&!e),[s],[E]),b="hero"===s?"primary":s,v=(0,t.useFacetWrap)(d);return e.createElement(xu,JR({disabled:c,variant:s,narrationPrefix:null!=u?u:a},g),e.createElement(e.Fragment,null,e.createElement(Iu,{buttonVariant:s,imgSrc:r,Icon:l,linebreak:o,disabledTextOverride:i,role:b,hasShadow:h},a),e.createElement(t.Mount,{when:v},e.createElement("div",{className:"qZsib"},e.createElement(kh,{role:m,overflowCount:f},p)))))}const eL="RealmsTabList",tL="RealmsTabListOptions";function nL({item:n}){const a=LS(),r=(0,t.useFacetMap)((e=>e.value),[],[n]),l=(0,t.useFacetMap)((e=>e.label),[],[n]),o=(0,t.useFacetMap)((e=>e.expired),[],[n]),i=(0,t.useFacetMap)((e=>e.closed),[],[n]),c=(0,t.useFacetMap)((e=>e.full),[],[n]),s=(0,t.useFacetMap)((e=>e.ownerXuid),[],[n]),d=(0,t.useFacetMap)((e=>e.ownsRealm),[],[n]),p=(0,t.useFacetMap)((e=>e.playersOnline),[],[n]),f=(0,t.useFacetMap)((e=>e.amountOfPlayersOnline),[],[n]),g=(0,t.useFacetMap)((e=>e.areStoriesNotificationsEnabled&&e.storiesUnreadCount>0),[],[n]),E=m(),h=u(),{t:b}=Ii("PlayScreen.realmsTab.sideMenu"),{t:v}=Ii("PlayScreen.realmsTab.sideMenu.narration"),F=function(e){const{t:n}=Ii("RealmTag");return(0,t.useFacetMap)(((e,t)=>e.expired?{label:n(".expired"),role:"destructiveTint"}:!e.expired&&e.closed?{label:n(".closed"),role:"destructiveTint"}:e.full&&e.ownerXuid!==t.currentXuid?{label:n(".full"),role:"noticeTint"}:void 0),[n],[e,(0,t.useSharedFacet)(Dg)])}(n),y=(0,t.useFacetMap)(((e,t,n,a,r,l,o)=>{const i=[];return e&&!t?b(".closed"):e&&t||t?b(".expired"):l&&!o?b(".full"):n?1===a?v(".onePlayerOnline",["1"]):v(".playersOnlineAmount",[`${a}`]):(r&&i.push(v(".hasNotification")),i.join(" . "))}),[b,v],[i,o,p,f,g,c,d]),S=(0,t.useFacetMap)(((e,t)=>e||t),[],[i,o]),C=(0,t.useFacetCallback)((e=>t=>{e.subscribeToProfile(t,"")}),[],[(0,t.useSharedFacet)(nf)]);(0,t.useFacetEffect)((e=>{C(e)}),[C],[s]);const M=(0,t.useFacetMap)(((e,t)=>`${t.id}`===e.value),[],[n,E]),w=WP((0,t.useFacetMap)((e=>({xuid:e,platformId:""})),[],[s])),k=(0,t.useFacetMap)((e=>{if(null!=e){if(""!==e.data.xblProfilePic)return e.data.xblProfilePic;if(""!==e.data.platformProfilePic)return e.data.platformProfilePic}return""}),[],[w]),T=(0,t.useFacetMap)((e=>{if(null!=e){if(""!==e.data.xblName)return e.data.xblName;if(""!==e.data.platformName)return e.data.platformName}return""}),[],[w]),x=(0,t.useFacetMap)((e=>e?"online":"offline"),[],[p]),I=(0,t.useFacetCallback)(((e,t)=>()=>{e.value!==t.id&&(a({button:"SelectRealm",screen:eL,details:{realmId:e.value}}),h.replace(`/play/realms/${e.value}`))}),[h,a],[n,E]);return e.createElement(t.DeferredMount,null,e.createElement(vv.ListItem,{narrationText:l,narrationSuffix:y,selected:M,value:r,onSelect:I,inputLegend:b(".inputLegend"),hasSubtitle:!0,testId:(0,t.useFacetMap)((e=>e?"realm-list-item-your-realm":"realm-list-item-joined-realm"),[],[d])},e.createElement(vv.ItemCell,null,e.createElement(QI,{grayscaleAvatar:S,variant:"large",src:k,status:x})),e.createElement(vv.ItemMain,null,e.createElement(zs,{type:"body"},e.createElement(ru,null,l)),e.createElement(zs,{type:"captionShort",variant:"dimmer",role:"neutral"},e.createElement(ru,null,T))),e.createElement(vv.ItemCell,null,e.createElement(Fl,{data:F},(t=>null!=t&&null!=t.role?e.createElement(ux,{role:t.role},t.label):e.createElement(e.Fragment,null)))),e.createElement(t.Mount,{when:g},e.createElement(vv.ItemCell,null,e.createElement(kh,null)))))}const aL=(0,t.createStaticFacet)(!1);function rL({loading:n=aL}){return e.createElement(t.DeferredMountProvider,null,e.createElement(lL,{loading:n}))}function lL({loading:n}){const a=(0,t.useSharedFacet)(Uf),r=LS(),l=Ko(),o="neutralAlpha60",{t:i}=Ii("PlayScreen.realmsTab.sideMenu"),{t:c}=Ii("PlayScreen.realmsTab.sideMenu.narration"),s=u(),d=QR(),m=(0,t.useSharedFacet)(Fp),p=(0,t.useFacetMap)((e=>bp(e.categoryData,Ep.INVITES)),[],[m]),f=(0,t.useFacetMap)((e=>c(".buttonSiblings",["1","2"])+" . "+c(".invitationsAmount",[`${e}`])),[c],[p]),g=(0,t.useFacetMap)((e=>e>0),[],[p]),E=e.createElement(Yc,{size:"narrow"===l?1:2}),h=$R.useModal(),b=(0,t.useFacetMap)((e=>e?c(".buttonSiblings",["2","2"]):""),[c],[g]),v=(0,t.useFacetMap)((e=>e.isPreviewBuild?i(".joinRealm"):i(".addOrJoinRealm")),[i],[(0,t.useSharedFacet)(xm)]),F=e.useCallback((()=>{r({screen:eL,button:"AddJoinRealmServer"}),h.show()}),[r,h]),y=e.useCallback((()=>{r({screen:eL,button:"InvitationsPending"}),s.push("/inbox/"+Ep.INVITES)}),[r,s]),S=e.useCallback((()=>{r({screen:tL,button:"JoinExistingRealm"}),s.push("/join-realms-server")}),[r,s]),C=e.useCallback((()=>{r({screen:tL,button:"AddRealmSubscription"}),s.push("/realms-plan-picker")}),[r,s]),M=(0,t.useFacetMap)((e=>XR(e)),[],[a]),w=(0,t.useFacetMap)((e=>null!=e.ownedRealms.realms&&e.ownedRealms.realms.length>0),[],[M]),k=(0,t.useFacetMap)((e=>null!=e.joinedRealms.realms&&e.joinedRealms.realms.length>0),[],[M]),T=(0,t.useFacetMap)((e=>i(".ownedRealms",[`${e.ownedRealms.realms.length}`])),[i],[M]),x=(0,t.useFacetMap)((e=>i(".joinedRealms",[`${e.joinedRealms.realms.length}`])),[i],[M]),I=(0,t.useFacetMap)((e=>e.joinedRealms.realms),[],[M]);return e.createElement(ja,{role:o},e.createElement(Ps,{text:c(".context")},e.createElement(vv,{loading:(0,t.useFacetMap)(((e,t)=>e||t),[],[n,(0,t.useIsDeferring)()]),spacingAroundSideMenu:E,autofocus:!0,delegateFocusByAlias:"remember",role:o},e.createElement(t.Mount,{when:g},e.createElement(e.Fragment,null,e.createElement(vv.Item,null,e.createElement(ZR,{inputLegend:i(".invitations"),narrationPrefix:c(".invitations"),narrationSuffix:f,variant:"secondary",onClick:y,"data-testid":"realm-invitations-button",showBadge:!0,badgeRole:"neutral",badgeCount:p},i(".invitations"))))),e.createElement(t.Mount,{when:w},e.createElement(e.Fragment,null,e.createElement(vv.Divider,{label:e.createElement("fast-text",{text:T})}),e.createElement(Ps,{text:T},e.createElement(vv.ItemList,{items:(0,t.useFacetMap)((e=>e.ownedRealms.realms),[],[M]),renderItem:nL})))),e.createElement(t.Mount,{when:k},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(vv.Divider,{label:e.createElement("fast-text",{text:x})}),e.createElement(Ps,{text:x},e.createElement(vv.ItemList,{items:I,renderItem:nL})))),e.createElement(Yc,{size:2}),e.createElement(vv.Item,null,e.createElement(Pu,{Icon:kS.Plus,inputLegend:v,narrationSuffix:b,variant:"secondary",onClick:F,"data-testid":"realm-add-join-button",disabled:d},v)),e.createElement(t.Mount,{when:h.isVisible},e.createElement($R.Component,{onClose:h.hide,onJoinExistingRealm:S,onAddRealmSubscription:C})))))}const oL=n.p+"assets/Realms_Default_Thumbnail_3840-998f3.jpg",iL="_xrZ0",cL="TvFNm",sL="Twwes",uL="_NSWj",dL="XwAx9";function mL(e){switch(e){case yg.ADVENTURE:return".adventure";case yg.SURVIVAL:return".survival";case yg.CREATIVE:return".creative";default:return".unknown"}}let pL;!function(e){e.REALMS_INFORMATION="realms-information-focus-alias",e.REALMS_PLAY_BUTTON="realms-play-button-focus-alias"}(pL||(pL={}));const fL="realmsLeaveRealmModalCancel",gL=_i((({realmName:n,onClose:a,onLeaveRealm:r})=>{const{t:l}=Ii("PlayScreen.realmsTab.realmsLeaveRealmModal"),o=(0,t.useFacetMap)((e=>l(".description",[e])),[l],[(0,t.useFacetWrap)(null!=n?n:"")]),i=(0,e.useCallback)((()=>{a(),r()}),[a,r]);return e.createElement(Ld,{defaultFocusAlias:fL},e.createElement(Ld.Header,null,l(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:o},o)),e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{gamepadAlias:fL,inputLegend:l(".cancelAction"),horizontal:!0,onClick:a},l(".cancelAction")),e.createElement(Yc,{size:4}),e.createElement(Pu,{onClick:i,inputLegend:l(".leaveRealmAction"),variant:"destructive",horizontal:!0,"data-testid":"confirm-leave-realm-button"},l(".leaveRealmAction"))))})),EL="realmsLeaveRealErrormModalClose",hL=_i((({onClose:t})=>{const{t:n}=Ii("PlayScreen.realmsTab.realmsLeaveRealmErrorModal");return e.createElement(Ld,{defaultFocusAlias:EL},e.createElement(Ld.Header,{onClose:t},n(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:n(".description"),center:!0},n(".description"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{variant:"secondary",inputLegend:n(".closeAction"),onClick:t,gamepadAlias:EL},n(".closeAction"))))})),bL="renewRealmsInPreviewModalCancel",vL=_i((({onClose:t})=>{const{t:n}=Ii("PlayScreen.realmsTab.renewRealmsInPreviewModal");return e.createElement(Ld,{defaultFocusAlias:bL},e.createElement(Ld.Header,null,n(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:n(".description")},n(".description"))),e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{"data-testid":"close",gamepadAlias:bL,inputLegend:n(".closeAction"),horizontal:!0,onClick:t},n(".closeAction"))))})),FL=n.p+"assets/icon-edit-56235.png";function yL(){return yL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yL.apply(this,arguments)}const SL=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("wSJF7",n);return e.createElement(Rc,yL({},a,{className:r,src:FL,imageRendering:"pixelated"}))},CL=n.p+"assets/icon-settings-37025.png";function ML(){return ML=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ML.apply(this,arguments)}const wL=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("hBf62",n);return e.createElement(Rc,ML({},a,{className:r,src:CL,imageRendering:"pixelated"}))};var kL;!function(e){e[e.EDIT=0]="EDIT",e[e.REALM_SETTINGS=1]="REALM_SETTINGS"}(kL||(kL={}));const TL=_i((({onClose:n,realmId:a})=>{const{t:r}=Ii("PlayScreen.realmsTab.realmOptionsModalMenu"),l=u(),o=(0,t.useFacetCallback)((e=>t=>{l.push(`/${t}/${e}`),n()}),[l,n],[a]);return e.createElement(RR,{onClose:n,onItemSelect:e=>{e===kL.EDIT&&o("edit-realm-world"),e===kL.REALM_SETTINGS&&o("realm-settings")},isOpen:!0,title:r(".title"),items:[{enumeration:r(".optionsEnumeration",["1","2"]),gamepadAlias:"sub",label:r(".edit"),value:kL.EDIT,Icon:SL,testId:"edit"},{enumeration:r(".optionsEnumeration",["2","2"]),gamepadAlias:"join",label:r(".realmSettings"),value:kL.REALM_SETTINGS,Icon:wL,testId:"realmSettings"}]})})),xL=n.p+"assets/generic-error-art-8fa35.png";function IL({context:t}){const{t:n}=Ii(`PlayScreen.genericError.${t}`),a=n(".title"),r=n(".description"),l=fh({wide:8,narrow:6,width:256});return e.createElement(e.Fragment,null,e.createElement(GE,{title:a,text:r,imgSrc:xL,imgClass:l?"oP9Hk":"cOYNE"}),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))}const PL="join-realms-error-modal-back",OL="join-realms-error-primary-action",AL=_i((({worldId:n})=>{const{t:a}=Ii("JoinRealmsServerError"),r=u(),l=(0,t.useSharedFacet)(Rp),o=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.joinRealmResult)&&void 0!==t?t:Np.UnknownError}),[],[l]),i=(0,t.useFacetCallback)((e=>()=>e.clearJoinRealmTaskState()),[],[l]),c=(0,t.useFacetMap)((e=>e===Np.UnassignedDevVersion),[],[o]),s=(0,t.useFacetCallback)(((e,t)=>()=>{r.push(`/realms-slot-settings/${t}/dev-options`),e.clearJoinRealmTaskState()}),[r],[l,(0,t.useFacetWrap)(n)]),d=(0,t.useFacetMap)((e=>{switch(e){case Np.UnassignedDevVersion:return{title:"Realm version is unassigned",firstParagraph:"A non-retail Realm world must be manually assigned a game version to use.",secondParagraph:"To assign a version, go to the developer options tab in the Realm world settings.",primaryActionText:"Go to settings"};case Np.MemberOfTooManyRealms:return{title:a(".memberOfTooManyRealms.title"),firstParagraph:a(".memberOfTooManyRealms.message"),secondParagraph:""};case Np.CannotConnectToRealm:return{title:a(".cannotConnectToRealm.title"),firstParagraph:a(".cannotConnectToRealm.message"),secondParagraph:""};case Np.JoinRealmAlreadyInProgress:case Np.RealmIDConversionFailed:case Np.RealmsNotInitialized:case Np.RealmsApiNotAvailable:case Np.MobileDataBlockedAndNoWifi:case Np.UnknownError:default:return{title:a(".unknown.title"),firstParagraph:a(".unknown.message"),secondParagraph:a(".unknown.errorCode",[`${e}`])}}}),[a],[o]),m=(0,t.useFacetMap)((e=>e.title),[],[d]),p=(0,t.useFacetMap)((e=>e.firstParagraph),[],[d]),f=(0,t.useFacetMap)((e=>e.secondParagraph),[],[d]),g=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.primaryActionText)&&void 0!==t?t:""}),[],[d]),E=(0,t.useFacetMap)((e=>""!=e.secondParagraph),[],[d]),h=(0,t.useFacetMap)((e=>e?OL:PL),[],[c]);return e.createElement(Ld,{onOverlayClick:i,defaultFocusAlias:h},e.createElement(Ld.Header,{onClose:i},m),e.createElement(Ld.Content,null,e.createElement(t.Mount,{when:E,condition:!1},e.createElement(Ld.Text,{narrationText:p,center:!0},p)),e.createElement(t.Mount,{when:E,condition:!0},e.createElement(Ld.Paragraphs,{narrationText:`${p}. ${f}`,spaceBetweenParagraphs:5},e.createElement(zs,{type:"captionLong",align:"center"},p),e.createElement(zs,{type:"captionLong",align:"center"},f)))),e.createElement(Ld.Buttons,null,e.createElement(t.Mount,{when:c},e.createElement(e.Fragment,null,e.createElement(Pu,{gamepadAlias:OL,inputLegend:g,variant:"primary",onClick:s},g),e.createElement(Yc,{size:1}))),e.createElement(Pu,{gamepadAlias:PL,inputLegend:a(".closeButton"),variant:"secondary",onClick:i},a(".closeButton"))))}));function NL(e){switch(e){case Sg.External:return"external";case Sg.ThirdParty:return"third-party";case Sg.Realm:return"realm"}}let RL;function LL(){const t=u(),{t:n}=Ii("PlayScreen.realmsTab.claimPreviewRealm");return e.createElement(ar,{collection:HO},e.createElement(KS,{role:"informative"},e.createElement(KS.Text,null,n(".text")),e.createElement(Yc,{size:1}),e.createElement(KS.Link,{"data-testId":"realms-tab-claim-preview-realm-banner-link",onClick:()=>t.push("/realms-choose-realm/realm-subscriptions")},n(".link"))))}!function(e){e.SERVER_SIDE_MENU="server-side-menu-focus-alias",e.SERVER_DESCRIPTION="server-description-focus-alias"}(RL||(RL={}));const _L={wrapper:"wjq_6",right:"EIsfR",additionalPlayers:"t3B_O",transitionLoadingOpacity:"ydLu4",animateOpacity:"UlVBz",retriggeredAnimateOpacity:"gDaOM",hiddenContent:"eILwi",content:"OqLfI"},DL=(0,e.createContext)(null);function BL({full:n,amountOfPlayersOnline:a,visibleAvatarsOverride:r,playerAvatars:l,hideOnCollapse:o=!1,loading:i=(0,t.createFacet)({initialValue:!1}),worldId:c,alignment:s="left"}){const{t:u}=Ii("PlayerAvatarsOnlineInWorld"),d=(0,t.useFacetWrap)(null!=l?l:[]),m=(0,e.useRef)(null),p=(0,e.useRef)(null),f=(0,t.useFacetMap)((({width:e})=>e),[],[qo(m)]),g=(0,t.useFacetMap)((({width:e})=>e),[],[qo(p)]),E=$o(QI.VARIANT_SIZES.medium),h=(0,e.useContext)(DL),b=(0,t.useFacetMemo)(((e,t,n)=>{const a=Math.ceil(e),r=(null!=h?h:Math.ceil(t))-(2*a+n);return Math.max(Math.floor(r/e),0)}),[h],[E,f,g]),v=(0,t.useFacetMap)(((e,t)=>null!=r?e.slice(0,r):e.slice(0,t)),[r],[d,b]),F=(0,t.useFacetMap)(((e,t)=>function({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:n}){if(null!=n){if(e>0&&e>n&&0!=n)return"+"+(e-n);if(e===n)return""}else if(e>0&&e>t&&0!=t)return"+"+(e-t);return e===t||0===e?"":`${e}`}({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:r})),[r],[a,b]),y=(0,t.useFacetMap)(((e,t)=>null!=t&&null!=e&&0!=e.length),[],[v,F]),S=(0,t.useFacetMap)(((e,t)=>function({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:n,hideOnCollapse:a=!1}){return(!a||0!==t)&&e!==n&&e!==t&&(!a&&0!=e&&0===t||(null!=n?0!==n&&e>n:null==n&&0!==t&&e>t))}({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:r,hideOnCollapse:o})),[r,o],[a,b]),C=(0,t.useFacetMap)(((e,t)=>{if(null==r)return e&&0!=t}),[r],[i,b]);return e.createElement("div",{className:Or()(_L.wrapper,{[_L.right]:"right"===s}),ref:m},e.createElement("fast-div",{key:c,className:(0,t.useFacetMap)(((e,t)=>Or()(_L.content,_L.animateOpacity,{[_L.hiddenContent]:e,[_L.transitionLoadingOpacity]:t})),[],[i,Ql()])},e.createElement(t.Mount,{when:y},e.createElement(Fl,{data:v},(t=>e.createElement(e.Fragment,null,t.map(((n,a)=>e.createElement(e.Fragment,{key:`${n.id}`},e.createElement(QI,{variant:"medium",src:n.img,status:"online"}),a<t.length-1&&e.createElement(Yc,{size:1})))))))),e.createElement(t.Mount,{when:S},e.createElement("div",{className:_L.additionalPlayers},e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionShort"},F))),e.createElement("div",{className:_L.tagWrapper,ref:p},e.createElement(t.Mount,{when:(0,t.useFacetWrap)(null!=n&&n)},e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement(ux,{role:"destructiveTint"},u(".full")))))),e.createElement(t.Mount,{when:C},e.createElement(vs,null)))}const WL="uDCOj",UL="UzDgx";function zL({amountOfPlayersOnline:n,maxPlayers:a,realmId:r,realmOwner:l,realmOwnerName:o,playersOnlineIds:i}){const{t:c}=Ii("PlayScreen.realmsTab"),{border:s}=gr("neutral"),u=(0,t.useFacetMap)(((e,t)=>!e&&t.length>0?c(".playersOnline.realmOwner",[t]):c(".playersOnline")),[c],[(0,t.useFacetWrap)(null==l||l),(0,t.useFacetWrap)(null!=o?o:"")]),d=(0,t.useFacetMap)(((e,t)=>`${e}/${t}`),[],[n,a]),m=(0,t.useSharedFacet)(nf),p=(0,e.useRef)(null),f=(0,e.useRef)(null),g=(0,t.useFacetCallback)((e=>t=>{e.subscribeToProfile(t,"")}),[],[m]);(0,t.useFacetEffect)((e=>{e.map((e=>{g(e.xuid)}))}),[g],[i]);const E=(h=i,(0,t.useFacetMap)(((e,t)=>t.map((t=>{const{xuid:n,platformId:a}=t;return""===n&&""===a?e.playerProfiles.find((e=>""===e.data.platformId&&""===e.data.xuid))||null:""!==a?e.playerProfiles.find((e=>e.data.platformId===a))||null:e.playerProfiles.find((e=>e.data.xuid===n))||null}))),[],[(0,t.useSharedFacet)(nf),h]));var h;const b=(0,t.useFacetMap)((e=>null==e||0===e.length?[]:e.map((e=>{if(null!=e){if(""!==e.data.xblProfilePic)return{img:e.data.xblProfilePic,id:e.data.xuid};if(""!==e.data.platformProfilePic)return{img:e.data.platformProfilePic,id:e.data.platformId}}return{img:"",id:"placeholder"}})).filter((e=>null!=e))),[],[E]),v=(0,t.useFacetMap)((e=>null!=e&&0!==e.length&&e.map((e=>null!=e&&null!=e.data.xuid&&e.state.xblState===ef.Loading)).some((e=>e))),[],[E]),F=(0,t.useFacetMap)((e=>!e),[],[v]),y=Eh(F,1e4),S=(0,t.useFacetMap)(((e,t,n)=>e&&null!=n&&n.length>0?"avatars":0===n.length||t?"no-avatars":"loading"),[],[F,y,b]),C=(0,t.useFacetMap)((e=>"loading"===e),[],[S]);return e.createElement("div",{ref:p,className:Or()(s.base,"mIETu")},e.createElement("div",{className:"wZ8gp",ref:f},e.createElement(zs,{type:"body"},u),e.createElement(Yc,{size:4}),e.createElement(Fl,{data:n},(t=>e.createElement(e.Fragment,null,e.createElement("div",{className:Or()(WL,{[UL]:t})},e.createElement(iN,{variant:"dimmer"})),e.createElement("div",{className:Or()(WL,{[UL]:!t})},e.createElement(kS.Player,{role:"neutral",variant:"dimmer",width:24,height:24}))))),e.createElement(Yc,{size:3}),e.createElement(zs,{type:"body",variant:"dimmer"},d),e.createElement(Yc,{size:3})),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>"no-avatars"!=e),[],[S])},e.createElement(Fl,{data:r},(t=>e.createElement("div",{className:"PIbYc"},e.createElement(BL,{alignment:"right",worldId:t,hideOnCollapse:!0,loading:C,amountOfPlayersOnline:n,playerAvatars:b}))))))}const jL=_i((({onClose:t,onChangeSkin:n,text:a})=>{const{t:r}=Ii("JoinRealmsServerError.invalidMultiplayerSkin"),l="non-multiplayer-skin-modal-button",o=null!=a?a:r(".body");return e.createElement(Ld,{defaultFocusAlias:l},e.createElement(Ld.Header,{onClose:t},r(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:o,center:!0},o)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:l,inputLegend:r(".changeSkin"),variant:"primary",onClick:()=>{n(),t()}},r(".changeSkin")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:r(".close"),variant:"secondary",onClick:t},r(".close"))))})),HL=e.createContext({});function VL({loading:n}){const{t:a,f:r}=Ii("PlayScreen.realmsTab"),l=LS(),o=gr("neutral80"),i=u(),c=m(),s=(0,t.useSharedFacet)(_p),d=(0,t.useSharedFacet)(Uf),p=(0,t.useSharedFacet)(jf),f=(0,t.useFacetMap)(((e,t)=>{var n;return null===(n=e.realms)||void 0===n?void 0:n.find((e=>`${e.world.id}`===t.id))}),[],[d,c]),g=(0,t.useFacetMap)((e=>e),[],[(0,t.useFacetWrap)(null!=n&&n)]),E=(0,t.useFacetMap)((e=>null!=e?"defined":"undefined"),[],[f]),h=(0,t.useFacetMap)((e=>null!=e?e.world.id.toString():""),[],[f]),b=(0,t.useFacetMap)((e=>null!=e?e.world.realmName:""),[],[f]),v=(0,t.useFacetMap)((e=>null!=e?e.world.slotName:""),[],[f]),F=(0,t.useFacetMap)((e=>null!=e&&null!=e.world&&e.world.expired),[],[f]),y=(0,t.useFacetMap)((e=>null!=e&&null!=e.world&&e.world.closed),[],[f]),S=(0,t.useFacetMap)((e=>null!=e&&e.isOwner),[],[f]),C=(0,t.useFacetMap)(((e,t)=>{if(null!=e){if(t)return!1;if(null!=e.world)return e.world.full}return!1}),[],[f,S]),M=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.world.description)&&void 0!==t?t:"-"}),[],[f]),w=(0,t.useFacetMap)((e=>{var t;return null!=e&&""!=(null===(t=e.world)||void 0===t?void 0:t.description)}),[],[f]),k=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.areStoriesNotificationsEnabled)&&void 0!==t&&t}),[],[f]),T=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.unreadStoryCount)&&void 0!==t?t:0}),[],[f]),x=(0,t.useFacetMap)((e=>null!=e&&null!=e.world.ownerName?e.world.ownerName:""),[],[f]),I=(0,t.useFacetMap)((e=>null!=e&&null!=e.world.maxPlayers?e.world.maxPlayers:0),[],[f]),P=(0,t.useFacetMap)((e=>function(e,t){const n=[];for(let e=0;e<t.length;e++)n.push(t[e]);return n}(0,null!=e&&null!=e.world.onlinePlayers?e.world.onlinePlayers:[])),[],[f]),O=(0,t.useFacetMap)(((e,t)=>{{const n=null==t||null==t.world.ownerXuid?"":t.world.ownerXuid;return e.filter((e=>e.xuid!==n)).length}}),[],[P,f]),A=(0,t.useFacetMap)(((e,t)=>!t&&!e),[],[F,y]),N=(0,t.useFacetMap)((e=>0===e.length?[]:e.map((e=>({xuid:e.xuid,platformId:""})))),[],[P]),R=TL.useModal(),L=gL.useModal(),_=hL.useModal(),D=(0,t.useSharedFacet)(Rp),B=(0,t.useFacetMap)((e=>null!=e.joinRealmResult&&e.joinRealmResult!==Np.Ok&&e.joinRealmResult!==Np.InvalidCrossPlatformMultiplayerSkin),[],[D]),W=(0,t.useFacetMap)((e=>null!=e.joinRealmResult&&e.joinRealmResult===Np.InvalidCrossPlatformMultiplayerSkin),[],[D]),U=(0,t.useFacetCallback)((e=>()=>{e.clearJoinRealmTaskState()}),[],[D]),z=(0,t.useSharedFacet)(Nf),j=(0,t.useFacetMap)((e=>e.leaveRealmProgress),[],[z]),H=(0,t.useFacetMap)((e=>e==rM.RUNNING),[],[j]),V=u(),G=oM(((e,t,n,r,o)=>function*(){if(""===r)return;l({screen:"RealmsTabContent",button:"LeaveRealm",details:{realmId:r}});const i=function(e,t){const n=1===e.realms.length,a=e.realms[0].world.id===Number(t);return n?"":a?e.realms[1].world.id.toString():e.realms[0].world.id.toString()}(e,r);t.clearLeaveRealm(),t.leaveRealm(Number(r)),yield j,t.leaveRealmResult===Af.Success?(n.queueSnackbar(a(".leaveRealmNotification",[o])),V.replace(`/play/realms/${i}`)):t.leaveRealmResult!==Af.Unknown&&_.show()}),[j,V,_,l,a],[d,z,s,h,b]),$=(0,t.useSharedFacet)(Om),K=function(e,n){const{t:a}=Ii("RealmTag");return(0,t.useFacetMap)(((e,t)=>{var n;const r=[];return null==e?[]:(e.isOwner?r.push({label:a(t?".previewRealmOwner":".realmOwner"),role:"primaryTint"}):r.push({label:a(t?".invitedToPreviewRealm":".invitedToRealm"),role:"primaryTint"}),r.push({label:a(".maxPlayers",[`${e.world.maxPlayers}`]),role:"neutral100",narrationString:a(".maxPlayersNarration",[`${e.world.maxPlayers}`])}),r.push({label:a(mL(null!==(n=e.world.gameMode)&&void 0!==n?n:yg.UNKNOWN)),role:"neutral100"}),r)}),[a],[e,n])}(f,$),X=(0,t.useIsPaused)(),Y=(0,t.useFacetMap)((e=>X||e),[X],[g]),q=(0,t.useFacetUnwrap)(Ql()),Q=Ko(),J=(0,e.useMemo)((()=>({realmOwner:S,expired:F,closed:y,full:C,realmId:h,realmName:b,realmOwnerName:x,areStoriesNotificationsEnabled:k,storiesUnreadCount:T})),[S,F,y,C,h,b,x,k,T]),Z=(0,t.useFacetMap)((e=>null!=e&&null!=e.world.lastSaved?r.formatDate(e.world.lastSaved):"-"),[r],[(0,t.useFacetWrap)(null!=f?f:void 0)]),ee=(0,t.useFacetCallback)(((e,t)=>()=>{l({button:"Stories",screen:"RealmsTabContent",details:{realmId:e}}),t.clearRealmUnreadCount(e),i.push(`/realms-story-entry-route/feed/${e}`)}),[i,l],[h,p]),te=(0,t.useFacetMap)(((e,t)=>Or()({f5yw7:e||t})),[],[y,F]),ne=(0,t.useFacetMap)(((e,t)=>e&&null!=t.realms&&0!=t.realms.length),[],[$,(0,t.useSharedFacet)(Ng)]),ae=(0,t.useFacetMap)((e=>[a(".realmsDescription"),e].join(" . ")),[a],[M]),re=(0,t.useFacetMap)(((e,t)=>e&&!t),[],[y,F]);return e.createElement(HL.Provider,{value:J},e.createElement(ys,{alwaysVisibleChildren:e.createElement(Yc,{size:"narrow"===Q?1:2}),floating:"desktop"!==Q,loading:Y,defaultFocusedChildBehavior:"remember",spinnerBackgroundColor:!0===q?void 0:"#48494A"},e.createElement(t.Mount,{when:ne},e.createElement(e.Fragment,null,e.createElement(LL,null),e.createElement(Yc,{size:2}))),e.createElement(Fl,{data:E},(n=>"defined"===n?e.createElement("div",{className:Or()("qssbx",o.background.base,o.border.base)},e.createElement(ar,{collection:VO},e.createElement(t.Mount,{when:F},e.createElement("div",{className:iL},e.createElement(KS,{role:"destructiveTint"},e.createElement(KS.Text,null,a(".bannerExpired"))))),e.createElement(t.Mount,{when:re},e.createElement("div",{className:iL},e.createElement(KS,{role:"destructiveTint"},e.createElement(KS.Text,null,a(".bannerClosed"))))),e.createElement(t.Mount,{when:C},e.createElement("div",{className:iL},e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,a(".bannerFull"))))),e.createElement("div",{className:"_pK5F"},e.createElement(Rc,{aspectRatio:Rc.AspectRatio["10:3"],src:oL,className:te}),e.createElement(t.Mount,{when:A},e.createElement("div",{className:"tL28i"},e.createElement(zL,{realmId:h,realmOwner:S,realmOwnerName:x,amountOfPlayersOnline:O,playersOnlineIds:N,maxPlayers:I})))),e.createElement(GL,{realmName:b,slotName:v,tags:K}),e.createElement(KL,{lastPlayedString:Z},e.createElement(XL,{onLeaveRealm:L.show,navigateToRealmsStories:ee,showSettingsModal:R.show})),e.createElement(t.Mount,{when:B},e.createElement(AL.Component,{worldId:h})),e.createElement(t.Mount,{when:W},e.createElement(jL.Component,{onClose:U,onChangeSkin:()=>{V.push("/persona")}})),e.createElement(t.Mount,{when:w},e.createElement(du,{focusable:!0,role:"neutral80",narrationText:ae},e.createElement(pu,null,a(".realmsDescription")),e.createElement(Yc,{size:2}),e.createElement(fu,null,M))),e.createElement(t.Mount,{when:R.isVisible},e.createElement(TL.Component,{onClose:R.hide,realmId:h})))):e.createElement(IL,{context:"realmDetails"}))),e.createElement(Yc,{size:"narrow"===Q?1:2}),e.createElement(LP,{tab:"realms"}),e.createElement(Yc,{size:"narrow"===Q?1:2})),e.createElement(t.Mount,{when:H},e.createElement(jO.Component,{title:a(".leaveRealmProgressMessage")})),e.createElement(t.Mount,{when:L.isVisible},e.createElement(gL.Component,{onClose:L.hide,onLeaveRealm:G,realmName:b})),e.createElement(t.Mount,{when:_.isVisible},e.createElement(hL.Component,{onClose:_.hide})))}function GL({realmName:n,slotName:a,tags:r}){const{realmOwner:l,expired:o,closed:i,full:c}=(0,e.useContext)(HL),s=(0,t.useFacetMap)(((e,t,n,a)=>(t||n||a)&&!e),[],[(0,t.useFacetWrap)(null!=l&&l),(0,t.useFacetWrap)(null!=o&&o),(0,t.useFacetWrap)(null!=i&&i),(0,t.useFacetWrap)(null!=c&&c)]),{t:u}=Ii("PlayScreen.realmsTab.narration"),d=(0,t.useFacetMap)((e=>e.map(((t,n)=>{const a=e.length>n;return null!=t.narrationString?a?t.narrationString+" . ":t.narrationString:a?t.label+" . ":t.label}))),[],[r]),m=(0,t.useFacetMap)(((e,t,n)=>[u(".realmInformation"),e,t,n.join(" . ")].join(" . ")),[u],[n,a,d]);return e.createElement(du,{focusable:s,role:"neutral80",narrationText:m},e.createElement("div",{className:cL},e.createElement("div",{className:sL},e.createElement(pu,null,n),e.createElement(Yc,{size:2}),e.createElement(fu,null,a),e.createElement(Yc,{size:2}),e.createElement(UN,{tags:r})),e.createElement(Yc,{size:3}),e.createElement("div",{className:Or()(sL,"WmmWc")},e.createElement($L,null))))}function $L(){const{t:n}=Ii("PlayScreen.realmsTab"),{t:a}=Ii("PlayScreen.realmsTab.narration"),{realmOwner:r,expired:l,closed:o,full:i,realmId:c}=(0,e.useContext)(HL),s=(0,t.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[(0,t.useSharedFacet)(Lp)]),d=(0,t.useFacetMap)(((e,t,n,a)=>t||n||a?t&&e?"renew":n&&e?"re-open":"disabled-play":"play"),[],[(0,t.useFacetWrap)(null!=r&&r),(0,t.useFacetWrap)(null!=l&&l),(0,t.useFacetWrap)(null!=o&&o),(0,t.useFacetWrap)(null!=i&&i)]),m=(0,t.useFacetWrap)(null!=c?c:""),p=iM(m,"RealmsTabContent","PlayRealm"),f=u(),g=QR(),E=dP.useModal(),h=(0,t.useFacetCallback)(((e,t,n)=>()=>{n.onlyCellularAvailable&&n.showCellularDataFee?E.show():e?p():f.push(`/online-play-warning/${NL(Sg.Realm)}/${t}`)}),[p,f,E],[s,m,(0,t.useSharedFacet)(el)]),b=(0,t.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0,p()}),[p],[(0,t.useSharedFacet)(Wp)]),v=vL.useModal(),F=u(),y=(0,t.useFacetCallback)((e=>()=>{e.isPreviewBuild?v.show():F.push("/settings/view_subscriptions")}),[v,F],[(0,t.useSharedFacet)(xm)]),S=(0,t.useFacetCallback)(((e,t)=>()=>{e.openRealm(parseInt(t))}),[],[(0,t.useSharedFacet)(hf),m]);return e.createElement("div",{className:uL},e.createElement(Fl,{data:d},(t=>{switch(t){case"play":return e.createElement(Pu,{gamepadAlias:pL.REALMS_PLAY_BUTTON,inputLegend:n(".play"),variant:"hero",delayedClick:!0,horizontal:!0,onClick:h,narrationSuffix:a(".buttonSiblings",["1","3"]),"data-testid":"play-realm-button",disabled:g},n(".play"));case"renew":return e.createElement(Pu,{"data-testid":"renew-realm-button",inputLegend:n(".renew"),variant:"primary",delayedClick:!0,horizontal:!0,onClick:y,narrationSuffix:a(".buttonSiblings",["1","3"]),disabled:g},n(".renew"));case"re-open":return e.createElement(Pu,{"data-testid":"reopen-realm-button",inputLegend:n(".reOpen"),variant:"primary",delayedClick:!0,horizontal:!0,onClick:S,narrationSuffix:a(".buttonSiblings",["1","3"]),disabled:g},n(".reOpen"));case"disabled-play":return e.createElement(Pu,{inputLegend:n(".play"),variant:"hero",delayedClick:!0,horizontal:!0,onClick:()=>{},narrationSuffix:a(".buttonSiblings",["1","3"]),disabled:!0},n(".play"))}})),e.createElement(t.Mount,{when:v.isVisible},e.createElement(vL.Component,{onClose:v.hide})),e.createElement(t.Mount,{when:E.isVisible},e.createElement(dP.Component,{onClose:E.hide,joinServer:b})))}function KL({lastPlayedString:n,children:a}){const{t:r}=Ii("PlayScreen.realmsTab");return e.createElement(du,{role:"neutral80",narrationText:(0,t.useFacetMap)((e=>[r(".lastPlayed"),e].join(" . ")),[r],[n])},e.createElement("div",{className:cL},e.createElement("div",{className:"SDIhK"},e.createElement("div",{className:dL},e.createElement(zs,{type:"body"},r(".lastPlayed"))),e.createElement(Yc,{size:1}),e.createElement("div",{className:dL},e.createElement(zs,{type:"captionShort",variant:"dimmer"},n))),e.createElement(Yc,{size:3}),e.createElement("div",{className:uL},e.createElement("div",{className:"XFiAt"},a))))}function XL({onLeaveRealm:n,navigateToRealmsStories:a,showSettingsModal:r}){const{t:l}=Ii("PlayScreen.realmsTab"),{t:o}=Ii("PlayScreen.realmsTab.narration"),{realmOwner:i,areStoriesNotificationsEnabled:c,storiesUnreadCount:s}=(0,e.useContext)(HL),u=Ko(),d=QR(),m=(0,t.useFacetMap)((e=>e?"options":"leave-realm"),[],[(0,t.useFacetWrap)(null!=i&&i)]),p=(0,t.useFacetWrap)(null!=s?s:0),f=(0,t.useFacetWrap)(null!=c&&c),g=(0,t.useFacetMap)((e=>e>0),[],[p]),E=(0,t.useFacetMap)(((e,t)=>e&&t),[],[f,g]),h=(0,t.useFacetMap)(((e,t)=>{const n=[o(".buttonSiblings",["2","3"])];if(e){const e=1===t?o(".realmInformation.storiesUnreadBadgeCount.single"):o(".realmInformation.storiesUnreadBadgeCount.multiple",[`${t}`]);n.push(e)}return n.join(" . ")}),[o],[E,p]);return e.createElement(e.Fragment,null,e.createElement("div",{className:uL},e.createElement(ZR,{Icon:()=>e.createElement(Fl,{data:E},(t=>e.createElement(e.Fragment,null,t?e.createElement(kS.RealmsStoriesUnread,{disabled:d,role:"inherit",width:24,height:24}):e.createElement(kS.RealmsStories,{disabled:d,role:"inherit",width:24,height:24}),e.createElement(Yc,{size:1})))),inputLegend:l(".realmsStories"),variant:"secondary",delayedClick:!0,horizontal:!0,onClick:a,narrationSuffix:h,"data-testid":"realm-stories-button",disabled:d,showBadge:E,badgeRole:"neutral",badgeCount:p},l(".realmsStories"))),e.createElement(Yc,{size:2}),e.createElement(Fl,{data:m},(t=>{switch(t){case"options":return e.createElement("div",{className:uL},e.createElement(Pu,{Icon:kS.Options,"data-testid":"realm-options-button",inputLegend:l(".options"),variant:"secondary",delayedClick:!0,horizontal:!0,onClick:r,narrationSuffix:o(".buttonSiblings",["3","3"]),disabled:d},l(".options")));case"leave-realm":return e.createElement("div",{className:uL},e.createElement(Pu,{inputLegend:l(".leaveRealm"),variant:"destructive",delayedClick:!0,horizontal:!0,onClick:n,narrationSuffix:[o(".buttonSiblings",["3","3"]),l(".options")].join(" . "),Icon:"narrow"!==u?BR:void 0,"data-testid":"leave-realm-button",disabled:d},l(".leaveRealm")));default:return null}})))}const YL=n.p+"assets/parental-online-safety-8fad2.png",qL=n.p+"assets/online-safety-dc71d.png",QL=n.p+"assets/external-link-b22bb.png";function JL({variant:n}){const{t:a}=Ii("PlayScreen.xboxPermissionMessage"),r=gh({wide:8,narrow:6,width:256}),l=(0,t.useFacetCallback)((e=>()=>{e.openLink(Wg.ParentPermissionHelpPage)}),[],[(0,t.useSharedFacet)(Ug)]),o=(0,t.useFacetCallback)((e=>()=>{e.openLink(Wg.TroubleshootingMultiplayerDisabled)}),[],[(0,t.useSharedFacet)(Ug)]);return e.createElement(ys,{floating:!0,gamepadIndex:1,flexShrinkWrapper:!0},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(GE,{title:a(".title"),text:a("parental"===n?".parentalText":".text"),imgSrc:"parental"===n?YL:qL,imgClass:(0,t.useFacetMap)((e=>e?"Sr6mB":"tcql5"),[],[r]),buttons:[{text:a(".learnMore"),imgSrc:QL,inputLegend:a(".learnMore"),onClick:"parental"===n?l:o,buttonTestId:"help-button"}]})))}const ZL={container:"q2Ws5"};function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},e_.apply(this,arguments)}function t_(n){let{minWidth:a,minHeight:r,minBorderWidth:l=0,className:o,style:i}=n,c=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["minWidth","minHeight","minBorderWidth","className","style"]);const s=(0,e.useRef)(null),[u,d]=(0,t.useFacetState)(1),m=(0,t.useFacetMap)((e=>[ZL.container,e].filter(Boolean).join(" ")),[],[(0,t.useFacetWrap)(o)]);Qo(s,(({width:e})=>{const t=Math.max(1,Math.floor(e/(a+2*l)));"number"==typeof t&&t>0&&d(t)}));const p=(0,t.useFacetMap)((e=>(a+2*l)*e+"px"),[a,l],[u]),f=(0,t.useFacetMap)((e=>(r+2*l)*e+"px"),[r,l],[u]),g=(0,t.useFacetMap)((e=>l*e+"px solid transparent"),[l],[u]);return e.createElement("fast-div",{ref:s,className:m,style:i},0===l?e.createElement("fast-img",e_({},c,{style:{imageRendering:"pixelated",width:p,height:f}})):e.createElement("fast-img",e_({},c,{style:{imageRendering:"pixelated",width:p,height:f,border:g}})))}function n_({minWidth:n,minHeight:a,minBorderWidth:r,containerClassName:l,frameClassName:o}){const i=(0,e.useRef)(null),[c,s]=(0,t.useFacetState)(1),u=(0,t.useFacetWrap)(o),d=(0,t.useFacetWrap)(l);Qo(i,(({width:e})=>{const t=Math.max(1,Math.floor(e/(n+2*r)));"number"==typeof t&&s(t)}));const m=(0,t.useFacetMap)((e=>(n+2*r)*e+"px"),[n,r],[c]),p=(0,t.useFacetMap)((e=>(a+2*r)*e+"px"),[a,r],[c]),f=(0,t.useFacetMap)((e=>r*e+"px"),[r],[c]);return e.createElement("fast-div",{ref:i,className:d},e.createElement("fast-div",{className:u,style:{width:m,height:p,borderWidth:f}}))}function a_({title:n,text:a,image:r,index:l,maxIndex:o}){const i=(0,t.useFacetWrap)(n),c=(0,t.useFacetWrap)(a),s=(0,t.useFacetWrap)(r),u=(0,t.useFacetWrap)(null!=l?l:-1),d=(0,t.useFacetWrap)(null!=o?o:-1),m=gr("neutral"),{t:p}=Ii("PromoListItem"),f=(0,t.useFacetMap)(((e,t,n,a)=>{const r=[e,p(".role")];return-1!==n&&-1!==a&&r.push(p(".enumeration",[(n+1).toString(),a.toString()])),r.push(t),r.join(" . ")}),[p],[i,c,u,d]);return e.createElement(ic,{inputLegend:!1,narrationText:f,classNameFocused:ji,className:Or()("Zm7Sl",m.border.base)},e.createElement(zi,null),e.createElement("div",{className:Or()("jE15U","rPJhf",m.background.base)},e.createElement(hc,{effect:"specular"}),e.createElement("div",{className:"WigYd"},e.createElement(t_,{src:s,minWidth:128,minHeight:72,className:"Wlb5R"})),e.createElement(Yc,{size:2}),e.createElement("div",{className:"Vd5Ax"},e.createElement(zs,{type:"header5B"},i),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionLong",variant:"dimmer"},c))))}const r_=n.p+"assets/RealmsSplashImage-b1b92.jpg",l_=n.p+"assets/RealmsTitleImage-517ec.png";function o_({title:n,text:a,showRealmsTitleImage:r=!1,buttonProps:l}){const o=(0,t.useFacetWrap)(null!=l?l:{text:"",onClick:()=>{},tokenCollection:"realms",gamepadAlias:""}),i=Xo(70),c=gr("neutral"),s=gr("informative"),{t:u}=Ii("Splash"),d=(0,t.useFacetMap)((e=>[e.text,u(".enumeration",["1","1"])].join(" . ")),[u],[o]),m=[n,u(".role"),a].join(" . ");return e.createElement("div",{className:Or()("kMLDV",s.background.base,c.border.base)},e.createElement("div",{className:Or()("aCOtA",{FQ8u9:!r,Kx1FU:!i,imZ4D:!i,JY0nO:i})},r&&e.createElement("div",{className:"yM3Ag"},e.createElement(Rc,{src:l_})),e.createElement(ar,{collection:VO},e.createElement(zs,{type:"header4A",role:"PDPPlus",variant:"stronger"},n)),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"captionLong"},a),l&&e.createElement("div",{className:"Jl3IV"},e.createElement(Yc,{size:4}),e.createElement(Fl,{data:o},(t=>e.createElement(ar,{collection:"realms"===t.tokenCollection?VO:HO},e.createElement(Pu,{inputLegend:u(".select"),narrationPrefix:d,narrationSuffix:m,onClick:t.onClick,variant:"primary",gamepadAlias:t.gamepadAlias,"data-testid":t["data-testid"]},t.text)))))),!i&&e.createElement("div",{className:"rUfVf"},e.createElement(Rc,{src:r_,aspectRatio:Rc.AspectRatio["16:9"]})))}function i_({header:n,title:a,text:r,image:l}){const o=(0,t.useFacetWrap)(null!=n?n:""),i=(0,t.useFacetMap)((e=>""!==e),[],[o]),c=(0,t.useFacetWrap)(a),s=(0,t.useFacetWrap)(r),u=(0,t.useFacetWrap)(null!=l?l:""),d=(0,t.useFacetMap)((e=>""!==e),[],[u]),m=gr("neutral"),p=gr("neutral80"),{t:f}=Ii("HeroItem"),g=(0,t.useFacetMap)(((e,t,n)=>[e,f(".role"),t,n].join(" . ")),[f],[o,c,s]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:i},e.createElement(nb,{role:"primary",label:o})),e.createElement(ic,{inputLegend:!1,narrationText:g,classNameFocused:ji,className:Or()("rxLsf",m.border.base)},e.createElement(zi,null),e.createElement("div",{className:Or()("_UW1E",m.background.base)},e.createElement(zs,{type:"header4A"},c),e.createElement(Yc,{size:4}),e.createElement(zs,{type:"captionLong",variant:"dimmer"},s)),e.createElement(t.Mount,{when:d},e.createElement("div",{className:Or()("ThJlB",p.shadow.base)},e.createElement(Rc,{src:u,aspectRatio:Rc.AspectRatio["16:9"]})))))}const c_=n.p+"assets/PersistentMultiplayerWorlds-880a4.png",s_=n.p+"assets/MembersPlayFree-265a9.png",u_=n.p+"assets/EasyAndSafe-18a17.png",d_=n.p+"assets/AdditionalContentWithRealmsPlus-2567d.jpg",m_=n.p+"assets/AdditionalPerksIncludedWithRealms-1153c.jpg",p_="realms-pdp-scrollview",f_="realms-pdp-splash-button";function g_({data:n,index:a,length:r,screenAnalyticsId:l}){const{t:o}=Ii("RealmsPDPFAQAccordion"),i=LS(),c=(0,t.useFacetMap)((e=>[o(".enumeration",[`${a+1}`,`${e}`]),o(".clickToExpand")].join(" . ")),[a,o],[r]),s=(0,t.useFacetMap)((e=>[o(".textBlock"),...e.text].join(" . ")),[o],[n]),u=(0,t.useFacetMap)((e=>e.title),[],[n]),d=(0,t.useFacetMap)((e=>e.text),[],[n]),m=(0,t.useFacetMap)((e=>a<e-1),[a],[r]),p=gr("neutral"),f=e.useCallback((e=>{e&&i({button:"FAQItem",screen:l,details:{index:a.toString()}})}),[i,l,a]);return e.createElement(e.Fragment,null,e.createElement(ox,{label:u,narrationHint:c,onExpandNarrationHint:"",onChange:f},e.createElement(ic,{inputLegend:!1,narrationText:s,classNameFocused:ji,className:Or()("I25h3",p.border.base,p.background.base)},e.createElement(zi,null),e.createElement(t.Map,{array:d},(t=>e.createElement(zs,{type:"captionLong",variant:"dimmer"},t))))),e.createElement(t.Mount,{when:m},e.createElement(Yc,{size:2})))}function E_({header:n,footer:a,hideUpsellButton:r=!1,screenAnalyticsId:l="RealmsPDP",shouldShowDesignPreview:o=!1}){const{t:i}=Ii("RealmsPDPScreen"),c=LS(),s=(0,t.useSharedFacet)(Dp),d=(0,t.useFacetMap)((e=>!e.isFinishedQueryingProducts),[],[s]),m=Xo(70),p=u(),f=(0,t.useSharedFacet)(Rf),g=(0,t.useFacetMap)(((e,t)=>!(t.isFinishedQueryingProducts&&(t.isRealmsTrialOfferAvailable&&e.isRealmsTrialAvailable||t.isRealmsCoreOfferAvailable||t.isRealmsPlusOfferAvailable))),[],[f,s]),E=(0,t.useFacetMap)(((e,t,n)=>e.isRealmsTrialAvailable&&t.isRealmsTrialOfferAvailable?i(".splash.tryFree"):t.isRealmsCoreOfferAvailable||t.isRealmsPlusOfferAvailable?NM(n.platform)?i(".splash.subscribeNow"):i(".splash.buyNow"):""),[i],[f,s,(0,t.useSharedFacet)(el)]),h=(0,t.useFacetMap)((e=>({text:e,onClick:()=>{c({button:"Upsell",screen:l}),p.push("/realms-plan-picker")},tokenCollection:"realms",gamepadAlias:f_,"data-testid":f_})),[p,c,l],[E]),b=(0,t.useFacetWrap)(null!=r&&r),v=(0,t.useFacetMap)(((e,t,n)=>e||n||t),[],[b,g,d]),F=(0,t.useFacetMap)((e=>{const t=[],n=e.coreSubscriptionPrice,a=e.plusSubscriptionPrice;return t.push({title:i(".FAQ.Realms.title"),text:[i(".FAQ.Realms.description")]}),t.push({title:i(".FAQ.PersonalServer.title"),text:[i(".FAQ.PersonalServer.description")]}),""!=n&&""!=a&&t.push({title:i(".FAQ.Cost.title"),text:[i(".FAQ.Cost.description1"),i(".FAQ.Cost.description2",[n]),i(".FAQ.Cost.description3",[a])]}),t.push({title:i(".FAQ.Friends.title"),text:[i(".FAQ.Friends.description")]}),t.push({title:i(".FAQ.Expiry.title"),text:[i(".FAQ.Expiry.description")]}),t.push({title:i(".FAQ.HowMany.title"),text:[i(".FAQ.HowMany.description")]}),t}),[i],[s]),y=(0,t.useFacetMap)((e=>e.length),[],[F]);return e.createElement(ar,{collection:VO},e.createElement(ys,{gamepadAlias:p_,delegateFocusByAlias:f_},n,e.createElement(Fl,{data:v},(t=>e.createElement(o_,{title:i(".splash.title"),text:i(".splash.text"),buttonProps:t?void 0:h}))),e.createElement(Yc,{size:2}),e.createElement(nb,{role:"primary",label:i(".promos.header")}),e.createElement(Ps,{text:i(".promos.header")},e.createElement(a_,{image:c_,title:i(".promos.persistent.title"),text:i(".promos.persistent.description"),index:0,maxIndex:3}),e.createElement(Yc,{size:2}),e.createElement(a_,{image:s_,title:i(".promos.free.title"),text:i(".promos.free.description"),index:1,maxIndex:3}),e.createElement(Yc,{size:2}),e.createElement(a_,{image:u_,title:i(".promos.easy.title"),text:i(".promos.easy.description"),index:2,maxIndex:3})),e.createElement(Yc,{size:2}),e.createElement(i_,{image:m?void 0:d_,header:i(".hero.content.header"),title:i(".hero.content.title"),text:i(".hero.content.text")}),e.createElement(Yc,{size:2}),e.createElement(i_,{image:m?void 0:m_,header:i(".hero.perks.header"),title:i(".hero.perks.title"),text:i(".hero.perks.text")}),e.createElement(Yc,{size:2}),e.createElement(nb,{role:"primary",label:i(".FAQ.header")}),e.createElement(Ps,{text:i(".FAQ.header")},e.createElement(t.Map,{array:F},((t,n)=>e.createElement(g_,{data:t,index:n,length:y,screenAnalyticsId:l})))),a,o&&e.createElement(LP,{tab:"realms"})))}const h_="eb379";function b_(){return(0,t.useFacetMap)(((e,t)=>e.isDevBuild&&t.platform===Ve.WIN32),[],[(0,t.useSharedFacet)(xm),(0,t.useSharedFacet)(el)])}function v_(e){return(0,t.useFacetMap)(((t,n,a,r,l,o)=>r.isOnline?t?"trial-mode":n.isSignedInPlatformNetwork||n.isLoggedInWithMicrosoftAccount||!NM(r.platform)?n.isSignedInPlatformNetwork||n.isLoggedInWithMicrosoftAccount||!AM(r.platform)?!n.isSignedInPlatformNetwork&&NM(r.platform)?"platform-guest-nintendo":!n.isSignedInPlatformNetwork&&AM(r.platform)?"platform-guest-playstation":!n.isLoggedInWithMicrosoftAccount&&NM(r.platform)?"msa-guest-nintendo":!n.isLoggedInWithMicrosoftAccount&&AM(r.platform)?"msa-guest-playstation":a?"not-signed-in":n.userPermissions.multiplayer.denyReasons.includes(Lg.XboxLive_Parental)?"parental-online-safety":n.isBanned?"banned":n.userPermissions.multiplayer.denyReasons.includes(Lg.XboxLive)?"multiplayer-disabled":!n.hasPremiumNetworkAccess&&AM(r.platform)?"no-online-subscription-playstation":!n.hasPremiumNetworkAccess&&NM(r.platform)?"no-online-subscription-nintendo":e!==AI.SERVERS||l.fetchThirdPartyWorldsTaskState!==rM.DONE||null!=l.thirdPartyWorlds&&0!==l.thirdPartyWorlds.length||o?"content":"no-content":"msa-and-platform-guest-playstation":"msa-and-platform-guest-nintendo":"offline"),[e],[(0,t.useSharedFacet)(Bg),(0,t.useSharedFacet)(Dg),NI(e),(0,t.useSharedFacet)(el),(0,t.useSharedFacet)(gg),b_()])}const F_=n.p+"assets/Realms-Missing-84884.png",y_=n.p+"assets/Realms-Empty-714f9.png",S_=n.p+"assets/preproduction-access-art-realms-7007a.png";function C_({realmsListError:n,realmsCompatibility:a=_f.Compatible,realmsFetchRetry:r}){const l=(0,t.useSharedFacet)(Hf),o=(0,t.useFacetWrap)(n),i=(0,t.useFacetWrap)(a),c=(0,t.useFacetMap)(((e,t)=>e===_f.UserNotAllowed&&t.isRealmsPreproductionEnvironment),[],[i,l]);return e.createElement(ys,{floating:!0,flexShrinkWrapper:!0},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(Fl,{data:o},(n=>{switch(n){case Df.ServiceError:return e.createElement(k_,{realmsFetchRetry:r});case Df.RateLimit:return e.createElement(w_,null);case Df.Compatibility:return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:c},e.createElement(T_,null)),e.createElement(t.Mount,{when:c,condition:!1},e.createElement(IL,{context:"realms"})));case Df.RealmsBan:case Df.NetworkError:case Df.Unknown:default:return e.createElement(IL,{context:"realms"})}}))))}function M_({title:n,text:a,imgSrc:r,borderless:l=!1,buttons:o}){const i=gh({wide:8,narrow:6,width:256}),c=(0,t.useFacetMap)((e=>e?"ww0Eb":"Mo38I"),[],[i]);return e.createElement(e.Fragment,null,e.createElement(GE,{borderless:l,title:n,text:a,imgSrc:r,imgClass:c,buttons:o}),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))}function w_(){const{t}=Tp("PlayScreen.realmsTab.realmsTabErrorStates.realmsRateLimitError");return e.createElement(M_,{title:t(".title"),text:t(".text"),imgSrc:F_})}function k_({realmsFetchRetry:t}){const{t:n}=Tp("PlayScreen.realmsTab.realmsTabErrorStates.realmsServiceError");return e.createElement(M_,{title:n(".title"),text:n(null!=t?".text.tryAgain":".text.wait"),imgSrc:y_,buttons:t?[{text:n(".button.text"),inputLegend:n(".button.inputLegend"),onClick:t}]:void 0})}function T_(){const{t:n}=Tp("PlayScreen.realmsTab.realmsTabErrorStates.realmsPreprodError"),a=(0,t.useFacetCallback)((e=>()=>{e.openLink(Wg.PreproductionRealmsGuide)}),[],[(0,t.useSharedFacet)(Ug)]);return e.createElement(M_,{title:n(".title"),text:n(".text"),imgSrc:S_,buttons:[{text:n(".button.text"),imgSrc:aw,inputLegend:n(".button.inputLegend"),onClick:a}]})}let x_,I_,P_,O_;function A_({accountAndPlatform:t=0,location:n}){const{t:a}=Ii("PlayScreen.guestAccountMessage"),r=LS();let l="",o="";switch(t){case x_.MsaPlaystation:case x_.MsaNintendo:l=n===P_.ServersTab?a(".serversNoMicrosoftAccount"):a(".realmsNoMicrosoftAccount"),o=a(".bannerLogInMicrosoft");break;case x_.PlatformPlaystation:l=n===P_.ServersTab?a(".serversNoPlatformAccountPlaystation"):a(".realmsNoPlatformAccountPlaystation");break;case x_.PlatformNintendo:l=n===P_.ServersTab?a(".serversNoPlatformAccountNintendo",["Servers"]):a(".realmsNoPlatformAccountNintendo",["Realms"])}const i=u();return e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,l),e.createElement(Yc,{size:1}),t!==x_.PlatformPlaystation&&t!==x_.PlatformNintendo&&e.createElement(KS.Link,{"data-testId":`log-in-link-${n}`,gamepadIndex:1,onClick:()=>{r({screen:`${N_(n)}`,button:"SignIn"}),i.replace("/sign-in?signInSource=PlayScreen_NotLoggedInWarning_OreUI")}},o))}function N_(e){return e===P_.ServersTab?"ServersTab":"RealmsTab"}function R_({platform:n,location:a}){const{t:r}=Ii("PlayScreen.noPremiumSubscriptionMessage");let l="",o="";switch(n){case I_.Playstation:l=a===P_.ServersTab?r(".serversPlaystation"):r(".realmsPlaystation"),o=r(".learnMore");break;case I_.Nintendo:l=a===P_.ServersTab?r(".serversNintendo"):r(".realmsNintendo"),o=r(".learnMore");break;case I_.Xbox:l=a===P_.ServersTab?r(".serversXbox"):r(".realmsXbox")}const i=(0,t.useFacetCallback)((e=>()=>e.showPremiumNetworkUpsellModal()),[],[(0,t.useSharedFacet)(Dg)]);return""===l?null:e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,l),e.createElement(KS.Link,{onClick:i},o))}function L_({location:t}){const{t:n}=Ii("notLoggedInWarning"),a=Hr(),r=LS();return e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,function(e){const{t}=Ii("notLoggedInWarning.playScreen.message"),{t:n}=Ii("notLoggedInWarning.startFromTemplateScreen.message");switch(e){case O_.PlayScreen_Realms:return t(".realms");case O_.PlayScreen_Servers:return t(".servers");case O_.TemplatesScreen_MarketplacePass:return n(".marketplacePass");case O_.TemplatesScreen_Featured:return n(".featured")}}(t)),e.createElement(Yc,{size:1}),e.createElement(KS.Link,{"data-testId":`log-in-link-${t}`,onClick:()=>{r({screen:`${__(t)}`,button:"SignIn"}),a.replace(`/sign-in?signInSource=${function(e){switch(e){case O_.PlayScreen_Realms:case O_.PlayScreen_Servers:return"PlayScreen";case O_.TemplatesScreen_MarketplacePass:case O_.TemplatesScreen_Featured:return"TemplatesScreen"}}(t)}_NotLoggedInWarning_OreUI`)}},n(".loginLink")))}function __(e){switch(e){case O_.PlayScreen_Realms:return"RealmsTab";case O_.PlayScreen_Servers:return"ServersTab";case O_.TemplatesScreen_MarketplacePass:case O_.TemplatesScreen_Featured:return"TemplatesScreen"}}function D_(){const{t:n}=Ii("PlayScreen.BannerMultiplayerDisabled"),a=(0,t.useFacetCallback)((e=>()=>e.openLink(Wg.TroubleshootingMultiplayerDisabled)),[],[(0,t.useSharedFacet)(Ug)]);return e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,n(".text")),e.createElement(KS.Link,{"data-testId":"multiplayer-link",onClick:a},n(".learnMore")))}function B_({tab:n}){const a=(0,t.useFacetMap)(((e,t)=>{const{isSignedInPlatformNetwork:n,isLoggedInWithMicrosoftAccount:a,hasPremiumNetworkAccess:r}=e,l=NM(t.platform),o=AM(t.platform);return a||n||!l?a||n||!o?a&&!n&&l?"platform-guest-nintendo":a&&!n&&o?"platform-guest-playstation":!a&&n&&r&&o?"msa-guest-with-premium-playstation":!a&&n&&r&&l?"msa-guest-with-premium-nintendo":!a&&n&&l&&!r?"msa-guest-nintendo":!a&&n&&o&&!r?"msa-guest-playstation":a&&e.userPermissions.multiplayer.denyReasons.includes(Lg.XboxLive)?"multiplayer-disabled":a&&!r&&l?"no-premium-subscription-nintendo":a&&!r&&o?"no-premium-subscription-playstation":"not-signed-in":"msa-and-platform-guest-playstation":"msa-and-platform-guest-nintendo"}),[],[(0,t.useSharedFacet)(Dg),(0,t.useSharedFacet)(el)]),r=n===P_.ServersTab?O_.PlayScreen_Servers:O_.PlayScreen_Realms;return e.createElement("div",null,e.createElement(Fl,{data:a},(t=>{switch(t){case"msa-guest-nintendo":case"msa-and-platform-guest-nintendo":case"msa-guest-with-premium-nintendo":return e.createElement(A_,{accountAndPlatform:x_.MsaNintendo,location:n});case"msa-guest-playstation":case"msa-and-platform-guest-playstation":case"msa-guest-with-premium-playstation":return e.createElement(A_,{accountAndPlatform:x_.MsaPlaystation,location:n});case"platform-guest-nintendo":return e.createElement(A_,{accountAndPlatform:x_.PlatformNintendo,location:n});case"platform-guest-playstation":return e.createElement(A_,{accountAndPlatform:x_.PlatformPlaystation,location:n});case"no-premium-subscription-nintendo":return e.createElement(R_,{platform:I_.Nintendo,location:n});case"no-premium-subscription-playstation":return e.createElement(R_,{platform:I_.Playstation,location:n});case"multiplayer-disabled":return e.createElement(D_,null);case"not-signed-in":return e.createElement(L_,{location:r});default:return null}})))}function W_({disableHeaderButtons:n=!1}){const a=(0,t.useSharedFacet)(Uf),r=(0,t.useFacetMap)((e=>e.state===Bf.Loading||e.state===Bf.Unknown),[],[a]),l=(0,t.useFacetMap)((e=>e.state===Bf.Error),[],[a]),o=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.error)&&void 0!==t?t:Df.None}),[],[a]),i=(0,t.useFacetMap)((e=>e.compatibility),[],[a]),c=(0,t.useFacetMap)((e=>null==e.realms||0==e.realms.length),[],[a]),s=(0,t.useFacetMap)((({id:e})=>e),[],[m()]),u=(0,t.useFacetMap)(((e,t,n,a)=>n?"realms-fetch-failed":a||!t&&e?!t&&e?"no-realms":"content":"no-id"),[],[c,r,l,s]),d=(0,e.useRef)(null),p=(0,e.useRef)(null),f=(0,t.useFacetMap)(((e,t)=>e&&null!=t.realms&&0!=t.realms.length),[],[(0,t.useSharedFacet)(Om),(0,t.useSharedFacet)(Ng)]);return e.createElement(ar,{collection:VO},e.createElement(Fl,{data:u},(a=>{switch(a){case"realms-fetch-failed":return e.createElement(C_,{realmsListError:o,realmsCompatibility:i});case"no-id":return e.createElement(H_,null);case"content":return e.createElement(Pc,{containerRef:d,delegateFocusByAlias:pL.REALMS_INFORMATION,delegateFocusFromMemory:!0},e.createElement(UE.Row,{innerRef:d},e.createElement(UE.Column,{wideSize:4,narrowSize:3},e.createElement(rL,{loading:r})),e.createElement(Pc,{containerRef:p,delegateFocusByAlias:pL.REALMS_PLAY_BUTTON,alias:pL.REALMS_INFORMATION},e.createElement(UE.Column,{innerRef:p,wideSize:8,narrowSize:5},e.createElement(VL,{loading:r})))));default:return e.createElement(E_,{hideUpsellButton:!0,header:e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:f},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(LL,null))),e.createElement(Yc,{size:2}),e.createElement(z_,{disabled:n}),e.createElement(Yc,{size:2})),footer:e.createElement(Yc,{size:2}),screenAnalyticsId:"RealmsTabPDP",shouldShowDesignPreview:!0})}})))}function U_(){const t=v_(AI.REALMS),{t:n}=Tp("PlayScreen.realmsTab");return e.createElement(e.Fragment,null,e.createElement(Fl,{data:t},(t=>{switch(t){case"banned":return e.createElement(oO.InTab,null);case"offline":return e.createElement(j_,null,e.createElement(YP,{text:n(".noInternetMessage")}));case"parental-online-safety":return e.createElement(JL,{variant:"parental"});case"trial-mode":return e.createElement(_w,{context:Lw.REALMS});case"no-online-subscription-nintendo":case"no-online-subscription-playstation":case"multiplayer-disabled":return e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(B_,{tab:P_.RealmsTab}),e.createElement(W_,{disableHeaderButtons:!0}));case"msa-guest-playstation":case"msa-guest-nintendo":case"msa-and-platform-guest-nintendo":case"msa-and-platform-guest-playstation":case"platform-guest-nintendo":case"platform-guest-playstation":case"not-signed-in":return e.createElement(E_,{hideUpsellButton:!0,header:e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(B_,{tab:P_.RealmsTab}),e.createElement(Yc,{size:2}),e.createElement(z_,{disabled:!0}),e.createElement(Yc,{size:2})),footer:e.createElement(Yc,{size:2}),screenAnalyticsId:"RealmsTabPDP",shouldShowDesignPreview:!0});case"content":return e.createElement(W_,null);default:return e.createElement(C_,{realmsListError:Df.Unknown})}})),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))}function z_({disabled:n=!1}){const a=u(),r=(0,t.useSharedFacet)(Fp),{t:l}=Tp("PlayScreen.realmsTab.buttonHeader"),{t:o}=Tp("PlayScreen.realmsTab.buttonHeader.narration"),i=(0,t.useSharedFacet)(Om),c=(0,t.useFacetMap)((e=>e?2:3),[],[i]),s=(0,t.useFacetMap)((e=>bp(e.categoryData,Ep.INVITES)),[],[r]),d=(0,t.useFacetMap)((e=>NM(e.platform)?l(".subscribeNowUpsell"):l(".buyNowUpsell")),[l],[(0,t.useSharedFacet)(el)]),m=(0,t.useFacetMap)((()=>o(".buttonSiblings",["1","3"])),[o],[]),p=(0,t.useFacetMap)(((e,t,n)=>o(".buttonSiblings",[n?"1":"2",`${t}`])+" . "+o(".invitationsAmount",[`${e}`])),[o],[s,c,i]),f=(0,t.useFacetMap)(((e,t)=>o(".buttonSiblings",[t?"2":"3",`${e}`])),[o],[c,i]),g=(0,t.useFacetMap)(((e,t,n,a)=>e?"no-upsell":n.isRealmsTrialAvailable?"free-trial":t||!n.isRealmsTrialAvailable?NM(a.platform)?"subscribe-now":"buy-now":"no-upsell"),[],[i,(0,t.useSharedFacet)(Bg),(0,t.useSharedFacet)(Rf),(0,t.useSharedFacet)(el)]),E=(0,t.useFacetMap)((e=>!e.isLoggedInWithMicrosoftAccount),[],[(0,t.useSharedFacet)(Dg)]);return e.createElement("div",{className:"Ci4ry"},e.createElement(Fl,{data:g},(t=>{switch(t){case"free-trial":return e.createElement("div",{className:h_},e.createElement(Pu,{inputLegend:l(".freeTrialUpsell"),narrationSuffix:m,variant:"primary",onClick:()=>a.push("/realms-plan-picker"),disabled:n},l(".freeTrialUpsell")));case"buy-now":return e.createElement("div",{className:h_},e.createElement(Pu,{inputLegend:d,narrationSuffix:m,variant:"primary",onClick:()=>a.push("/realms-plan-picker"),disabled:n},d));case"subscribe-now":return e.createElement("div",{className:h_},e.createElement(Pu,{inputLegend:l(".subscribeNowUpsell"),narrationSuffix:m,variant:"primary",onClick:()=>a.push("/realms-plan-picker"),disabled:n},l(".subscribeNowUpsell")));default:return e.createElement(e.Fragment,null)}})),e.createElement(Yc,{size:2}),e.createElement("div",{className:h_},e.createElement(ZR,{inputLegend:l(".invitations"),narrationSuffix:p,variant:"secondary",onClick:()=>a.push("/inbox/invites"),disabled:E,showBadge:(0,t.useFacetMap)(((e,t)=>!t&&null!=e&&0!=e),[],[s,E]),badgeRole:"neutral",badgeCount:s},l(".invitations"))),e.createElement(Yc,{size:2}),e.createElement("div",{className:h_},e.createElement(Pu,{inputLegend:l(".joinRealm"),narrationSuffix:f,variant:"secondary",onClick:()=>a.push("/join-realms-server"),disabled:n,"data-testid":"pdp-header-join-realm-button"},l(".joinRealm"))))}function j_({children:t}){return e.createElement(ys,{floating:!0},e.createElement(Yc,{size:2}),t)}!function(e){e[e.MsaPlaystation=0]="MsaPlaystation",e[e.MsaNintendo=1]="MsaNintendo",e[e.PlatformPlaystation=2]="PlatformPlaystation",e[e.PlatformNintendo=3]="PlatformNintendo"}(x_||(x_={})),function(e){e[e.Playstation=0]="Playstation",e[e.Nintendo=1]="Nintendo",e[e.Xbox=2]="Xbox"}(I_||(I_={})),function(e){e.ServersTab="servers",e.RealmsTab="realms"}(P_||(P_={})),function(e){e.PlayScreen_Realms="play-realms",e.PlayScreen_Servers="play-servers",e.TemplatesScreen_MarketplacePass="templates-marketplace-pass",e.TemplatesScreen_Featured="templates-featured"}(O_||(O_={}));const H_=()=>{const n=u();return(0,t.useFacetEffect)((e=>{n.replace(`/play/realms/${e}`)}),[n],[qR()]),e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(ys,{loading:!0},e.createElement(e.Fragment,null)),e.createElement(Yc,{size:2}))};function V_(){return e.createElement(G_,{tab:"servers",imgSrc:$w,imgClassNarrow:Kw,imgClassWide:Xw})}function G_({imgSrc:t,imgClassNarrow:n,imgClassWide:a,tab:r,text:l,isLoading:o}){const{t:i}=Ii("PlayScreen"),c=_P(r),s=BP(r),u=fh({wide:8,narrow:6,width:260});return e.createElement(e.Fragment,null,e.createElement(ys,{gamepadIndex:0,floating:!0,loading:o},e.createElement(Yc,{size:2}),e.createElement(GE,{gamepadIndex:0,title:i(".underConstructionTitle"),text:null!=l?l:i(".underConstructionMessage"),imgSrc:t,imgClass:u?n:a,buttons:[{imgSrc:aw,text:i(".feedbackButton"),onClick:c},{text:i(".optOutButton"),onClick:s}]}),e.createElement(Yc,{size:3})),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))}n.p;function $_({activity:n,narration:a}){const r=(0,t.useFacetMap)((e=>e.title),[],[n]),l=(0,t.useFacetMap)((e=>e.subtitle),[],[n]),o=(0,t.useFacetMap)((e=>e.description),[],[n]),i=(0,t.useFacetMap)((e=>e.imagePath),[],[n]),c=gr("neutral");return e.createElement(du,{compact:!0,narrationText:a,className:"F5nsF",focusable:!0},e.createElement(t.Mount,{when:(0,t.useFacetMap)(Boolean,[],[i])},e.createElement(e.Fragment,null,e.createElement("div",{className:"PRLig"},e.createElement(Yc,{size:3}),e.createElement(Rc,{className:Or()(c.border.base,"KFDUD"),aspectRatio:Rc.AspectRatio["1:1"],src:i}),e.createElement(Yc,{size:3})),e.createElement(Yc,{size:3}))),e.createElement("div",{className:"DsnFG"},e.createElement(Yc,{size:3}),e.createElement(pu,null,r),e.createElement(zs,{type:"captionLong",variant:"dimmer"},l),e.createElement(Yc,{size:2}),e.createElement(fu,null,o),e.createElement(Yc,{size:3})))}function K_(){const{t:n}=Ii("PlayScreen.serverTab.ServerNotifications"),a=(0,t.useFacetMap)((e=>e.networkDetails.pingStatus===Cg.High),[],[(0,t.useSharedFacet)(Op)]),r=(0,t.useFacetMap)(((e,t)=>t?"win32-build":e?"high-ping":void 0),[],[a,b_()]);return e.createElement(e.Fragment,null,e.createElement(Fl,{data:r},(t=>{switch(t){case"high-ping":return e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,n(".highPingWarning")));case"win32-build":return e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,"Third party servers are not available in Win32 builds, to access this type of servers use an UWP build"));default:return e.createElement(e.Fragment,null)}})))}function X_({playerCount:n,maximumCapacity:a}){const r=(0,t.useFacetMap)(((e,t)=>0!==e&&e===t),[],[n,a]),{t:l}=Ii("PlayScreen.serverCapacity");return e.createElement("div",{className:"mSFBx"},e.createElement(iN,null),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"body",variant:"dimmer"},n),e.createElement(t.Mount,{when:r},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(ux,{role:"destructiveTint"},l(".fullLabel")))))}function Y_({loading:n,emptyMessage:a,header:r,renderItem:l,data:o,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,itemSeparator:s,footer:u,renderTracker:d,horizontal:m=!1,padSpinnerVertically:p,scrollViewRef:f,gamepadAlias:g,delegateFocusByAlias:E,delegateFocusFromMemory:h,defaultFocusedChildBehavior:b}){const v=(0,t.useIsPaused)(),F=(0,t.useFacetWrap)(o),y=(0,t.useFacetMap)((e=>e.length),[],[F]),S=(0,t.useFacetUnwrap)(y),C=(0,t.useFacetUnwrap)(n),M=C!==t.NO_VALUE&&C;return e.createElement(t.DeferredMountProvider,null,e.createElement(q_,{padSpinnerVertically:p,loading:M,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,renderTracker:d,horizontal:m,scrollViewRef:f,gamepadAlias:g,delegateFocusFromMemory:h,delegateFocusByAlias:E,defaultFocusedChildBehavior:b},null!=r&&e.createElement(e.Fragment,null,r,s),!1===v&&e.createElement(t.Map,{array:F},((t,n)=>e.createElement(e.Fragment,null,n>0&&s,l({itemFacet:t,index:n,listLengthFacet:y})))),null!=S&&0===S&&e.createElement(t.DeferredMount,null,e.createElement(e.Fragment,null,a)),null!=u&&e.createElement(e.Fragment,null,s,u)))}function q_({loading:n,children:a,scrollIntoViewAlign:r,scrollIntoViewSpeedFactor:l,renderTracker:o,horizontal:i,padSpinnerVertically:c,scrollViewRef:s,gamepadAlias:u,delegateFocusByAlias:d,delegateFocusFromMemory:m,defaultFocusedChildBehavior:p}){const f=(0,t.useIsDeferring)(),g=(0,t.useIsPaused)(),E=(0,t.useFacetMap)((e=>n||e||g),[n,g],[f]);return e.createElement(ys,{padSpinnerVertically:c,loading:E,scrollIntoViewAlign:r,scrollIntoViewSpeedFactor:l,renderTracker:o,horizontal:i,innerRef:s,gamepadAlias:u,delegateFocusByAlias:d,delegateFocusFromMemory:m,defaultFocusedChildBehavior:p},a)}function Q_(){const e=(0,t.useFacetMap)((e=>AM(e.platform)||NM(e.platform)),[],[(0,t.useSharedFacet)(el)]);return(0,t.useFacetMap)(((e,t,n)=>!n&&(!e.isLoggedInWithMicrosoftAccount||e.userPermissions.multiplayer.denyReasons.includes(Lg.XboxLive)||t&&!e.hasPremiumNetworkAccess)),[],[(0,t.useSharedFacet)(Dg),e,b_()])}function J_(){const n=(0,t.useSharedFacet)(Op),a=(0,t.useFacetMap)((e=>e.networkDetails),[],[n]),r=u(),l=(0,t.useFacetMap)((e=>[{fieldData:e.name,fieldName:"name"},{fieldData:e.address,fieldName:"address"},{fieldData:e.port.toString(),fieldName:"port"}]),[],[a]),o=(0,t.useFacetMap)((e=>e.id),[],[a]),i=(0,t.useFacetCallback)((e=>()=>{r.push(`/play/servers/${e}/${NL(Sg.External)}/edit`)}),[r],[o]),c="narrow"===Ko(),s=Q_();return e.createElement(e.Fragment,null,e.createElement(Y_,{data:l,renderItem:Z_,footer:!c&&e.createElement(eD,{handleOnClick:i,disabled:s})}),c&&e.createElement(eD,{handleOnClick:i,disabled:s}))}function Z_({itemFacet:n}){const a=ta(),{t:r}=Ii("PlayScreen.serverTab.externalServerDetails"),l=(0,t.useFacetMap)((e=>e.fieldData),[],[n]),o=(0,t.useFacetMap)((e=>r(`.${e.fieldName.toLowerCase()}`)),[r],[n]),i=(0,t.useFacetMap)((e=>r(`.${e.fieldName.toLowerCase()}`)+" . "+e.fieldData),[r],[n]);return e.createElement(t.DeferredMount,null,e.createElement(du,{role:"neutral80",focusable:a,narrationText:i},e.createElement(pu,null,l),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"captionShort",variant:"dimmer"},o)))}function eD({handleOnClick:t,disabled:n}){const a=gr("neutral"),{t:r}=Ii("PlayScreen.serverTab.externalServerDetails");return e.createElement("div",{className:Or()("BLVBU","icxbw",a.background.base,a.border.base)},e.createElement(hc,{effect:"bevel",left:!1,right:!1}),e.createElement(Pu,{inputLegend:r(".editButton"),onClick:t,narrationSuffix:r(".editBtnHint"),disabled:n,"data-testid":"edit-server-button"},r(".editButton")))}function tD(){const{t:n}=Ii("PlayScreen.serverTab"),a=(0,t.useSharedFacet)(Op),r=(0,t.useFacetMap)((e=>e.networkDetails.newsTitle),[],[a]),l=(0,t.useFacetMap)((e=>e.networkDetails.newsDescription),[],[a]),o=(0,t.useFacetMap)(((e,t)=>`${n(".newsTitle")} . ${e} . ${t}`),[n],[r,l]);return e.createElement(du,{role:"neutral80",focusable:!0,narrationText:o},e.createElement(Yc,{size:3}),e.createElement(pu,null,n(".newsTitle")),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"captionShort",variant:"dimmer"},r),e.createElement(Yc,{size:3}),e.createElement(fu,null,l),e.createElement(Yc,{size:6}))}const nD="ccXBo";function aD(e){switch(e){case Ap.NoInternetError:return".NoInternetError";case Ap.ThirdPartyBadIPError:return".ThirdPartyBadIPError";case Ap.InvalidUserError:case Ap.UserNeedsToBeSignedInError:case Ap.BlockedByPlatformError:case Ap.BlockedByVersionError:case Ap.BlockedByXBLError:case Ap.UserBannedError:case Ap.ThirdPartyNoServerOrServerLockedError:case Ap.UnknownError:default:return".UnknownError"}}const rD=_i((({onClose:n})=>{const a=(0,t.useSharedFacet)(Rp),[r,l]=(0,t.useFacetState)(null),{t:o}=Ii("PlayScreen.serverTab.joinServerErrorModal"),i=(0,t.useFacetMap)((e=>e.joinThirdPartyServerResult),[],[a]),c=(0,t.useFacetMap)((e=>e.joinExternalServerResult),[],[a]);(0,t.useFacetEffect)(((e,t)=>{const n=null!=e&&e!==Ap.OK,a=null!=t&&t!==Ap.OK;(n||a)&&l(n?e:t)}),[l],[i,c]);const s=(0,t.useFacetMap)((e=>o(`${aD(e)}.title`)),[o],[r]),u=(0,t.useFacetMap)((e=>o(`${aD(e)}.message`)),[o],[r]);return e.createElement(Ld,null,e.createElement(Ld.Header,null,s),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:u,center:!0},u)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:1,inputLegend:o(".cancel"),variant:"secondary",onClick:n},o(".cancel"))))}));let lD;!function(e){e.ServerTab="ServerTab"}(lD||(lD={}));const oD=n.p+"assets/pingAnimation-4d7a0.png",iD=()=>e.createElement("div",{className:"JEokF"},e.createElement(wv,{src:oD,frames:6,duration:700,width:11.2,height:2,repeat:"infinite",imageRendering:"pixelated"})),cD=t=>{switch(t){case Cg.Low:return e.createElement(Ub,null);case Cg.High:return e.createElement(Hb,null);case Cg.Medium:return e.createElement($b,null);default:return e.createElement(iD,null)}};function sD({pingStatus:t}){const n=uD(t);return e.createElement("div",{className:"J_ke4"},e.createElement(Fl,{data:t,children:cD}),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"body",variant:"dimmer"},n))}const uD=e=>{const{t:n}=Ii("PlayScreen.ServerPing");return(0,t.useFacetMap)((e=>{switch(e){case Cg.Low:return n(".lowPing");case Cg.Medium:return n(".mediumPing");case Cg.High:return n(".highPing");default:return n(".loadingPing")}}),[n],[e])};sD.useLabel=uD;const dD=()=>{const e=LS(),n=(0,t.useSharedFacet)(Rp),a=(0,t.useSharedFacet)(Op),r=(0,t.useFacetMap)((e=>e.joinThirdPartyServerTaskState),[],[n]),l=(0,t.useFacetMap)((e=>e.joinExternalServerTaskState),[],[n]),o=oM(((t,n)=>function*(){const a={joinedServerName:n.networkDetails.name};e({button:"PlayThirdPartyServer",screen:lD.ServerTab,details:a}),t.joinThirdPartyServer(n.networkDetails.id),yield r,t.clearJoinThirdPartyServerTaskState()}),[e,r],[n,a]),i=oM(((t,n)=>function*(a){e({button:"PlayExternalServer",screen:lD.ServerTab}),t.joinExternalServer(null!=a?a:n.networkDetails.id),yield l,t.clearJoinExternalServerTaskState()}),[e,l],[n,a]);return{thirdParty:o,external:i}};function mD({loading:n,showServerDetails:a=!1}){const r=(0,t.useSharedFacet)(Op),l=(0,t.useSharedFacet)(Lp),o=(0,t.useSharedFacet)(Rp),i=rD.useModal(),c=u(),s=$M(),d=dD(),m=gr("neutral100"),{t:p}=Ii("PlayScreen.serverTab"),f="narrow"===Ko(),g=(0,t.useFacetMap)((e=>e.networkDetails.playerCount),[],[r]),E=(0,t.useFacetMap)((e=>e.networkDetails.capacity),[],[r]),h=(0,t.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[l]),b=(0,t.useFacetMap)((e=>e.doNotShowMultiplayerIpSafetyWarning),[],[l]),v=(0,t.useFacetMap)((e=>e.joinThirdPartyServerResult),[],[o]),F=(0,t.useFacetMap)((e=>e.joinExternalServerResult),[],[o]),y=(0,t.useFacetMap)((e=>e.networkDetails.type),[],[r]);(0,t.useFacetEffect)(((e,t)=>{const n=null!=e&&e!==Ap.OK,a=null!=t&&t!==Ap.OK;if(n||a){let r;i.show(),null!=e&&n?r={modalReason:Ap[e]}:null!=t&&a&&(r={modalReason:Ap[t]}),s({modal:n?"JoinThirdPartyError":"JoinExternalError",screen:lD.ServerTab,details:r})}}),[i,s],[v,F]);const S=(0,t.useFacetCallback)((e=>()=>{e.clearJoinThirdPartyServerTaskState(),e.clearJoinExternalServerTaskState(),i.hide()}),[i],[o]),C=(0,t.useFacetCallback)((e=>()=>{e.networkDetails.type===Sg.ThirdParty&&d.thirdParty(),e.networkDetails.type===Sg.External&&d.external()}),[d],[r]),M=(0,t.useFacetCallback)(((e,t,n)=>()=>{const a=n===Sg.ThirdParty;a&&e||!a&&t?C():c.push(`/online-play-warning/${NL(n)}`)}),[C,c],[h,b,y]),w=(0,t.useFacetMap)((e=>e.networkDetails.pingStatus),[],[r]),k=(0,t.useFacetMap)(((e,t)=>e.networkDetails.type===Sg.External?function(e,t,n){const a=n(1===t?".PlaySuffixExtServerOnePlayer":".PlaySuffixExtServerManyPlayers",[String(t)]);return`${function(){switch(e){case Cg.Low:return n(".PlaySuffixExtServerLowPing");case Cg.Medium:return n(".PlaySuffixExtServerMediumPing");case Cg.High:return n(".PlaySuffixExtServerHighPing");default:return n(".PlaySuffixExtServerUnavailablePing")}}()} ${a}`}(t,e.networkDetails.playerCount,p):p(".PlaySuffix")),[p],[r,w]),T=(0,e.useRef)(null),x=Q_(),I=(0,t.useFacetMap)(((e,t)=>e||t),[],[n,x]);return e.createElement(e.Fragment,null,a?e.createElement(Pc,{containerRef:T},e.createElement("div",{className:Or()("ZpESj",m.background.base),ref:T},e.createElement("div",{className:f?"_4N24":"XmeST"},e.createElement(sD,{pingStatus:w}),e.createElement(Yc,{size:f?1:6}),e.createElement(X_,{playerCount:g,maximumCapacity:E})),e.createElement(Yc,{size:4}),e.createElement("div",{className:nD},e.createElement(Pu,{inputLegend:p(".Play"),variant:"hero",delayedClick:!0,horizontal:!0,onClick:M,narrationSuffix:k,gamepadAlias:RL.SERVER_DESCRIPTION,disabled:I,"data-testid":"server-play-button"},p(".Play"))))):e.createElement("div",{className:nD},e.createElement(Pu,{inputLegend:p(".Play"),variant:"hero",delayedClick:!0,horizontal:!0,onClick:M,narrationSuffix:k,gamepadAlias:RL.SERVER_DESCRIPTION,disabled:I,"data-testid":"server-play-button"},p(".Play"))),e.createElement(t.Mount,{when:i.isVisible},e.createElement(rD.Component,{onClose:S})))}function pD({loading:n}){const a=(0,t.useSharedFacet)(Op),r=(0,t.useFacetMap)((e=>e.networkDetails.activities.length>0),[],[a]),l=(0,t.useFacetMap)((e=>null!=e.networkDetails.newsTitle||""!=e.networkDetails.newsTitle),[],[a]),o=gr("neutral80");return e.createElement("div",{className:Or()("DB6Vm",o.border.base)},e.createElement(fD,{loading:n}),e.createElement(t.Mount,{when:r},e.createElement(gD,null)),e.createElement(t.Mount,{when:l},e.createElement(tD,null)))}function fD({loading:n}){const{t:a}=Ii("PlayScreen.serverTab"),r=(0,t.useSharedFacet)(Op),l=gr("neutral80"),o=(0,t.useFacetMap)((e=>e.networkDetails.name),[],[r]),i=(0,t.useFacetMap)((e=>e.networkDetails.imagePath),[],[r]),c=(0,t.useFacetMap)((e=>e.networkDetails.description),[],[r]),s=(0,t.useFacetMap)(((e,t)=>[e,a(".narrationRoleTextBlock"),t].join(" . ")),[a],[o,c]),u="narrow"===Ko(),d=(0,t.useFacetMap)((e=>e.networkDetails.playerCount),[],[r]),m=(0,t.useFacetMap)((e=>e.networkDetails.capacity),[],[r]),p=(0,t.useFacetMap)((e=>e.networkDetails.pingStatus),[],[r]);return e.createElement("div",{className:l.background.base},e.createElement("div",{className:"rBz7Y"},e.createElement(Rc,{aspectRatio:Rc.AspectRatio["10:3"],src:i,className:Or()(l.border.base,"nsb24")}),e.createElement("div",{className:Or()("NZJkw","O0TDv",{_RFBD:u,VI3Uu:!u})},e.createElement(sD,{pingStatus:p}),e.createElement(Yc,{size:u?1:6}),e.createElement(X_,{playerCount:d,maximumCapacity:m}))),e.createElement(du,{role:"neutral80"},e.createElement("div",{className:"dVrp0"},e.createElement("div",{className:"L9VZO"},e.createElement(pu,null,o)),e.createElement(Yc,{size:1}),e.createElement(mD,{loading:n}))),e.createElement(du,{focusable:!0,role:"neutral80",narrationText:s},e.createElement(pu,null,a(".ServerDescription.title")),e.createElement(Yc,{size:2}),e.createElement(fu,null,c)))}function gD(){const{t:n}=Ii("PlayScreen.serverTab"),{background:a}=gr("neutral80"),r=(0,t.useSharedFacet)(Op),l=(0,t.useFacetMap)((e=>e.networkDetails.activities),[],[r]),o=(0,t.useFacetMap)((e=>e.length),[],[l]),i=[n(".narrationTitleActivities"),n(".narrationRoleGroup")].join(" . ");return e.createElement(Ps,{text:i},e.createElement(du,{role:"neutral80",className:Or()("Mmwj7",a.base)},e.createElement(Yc,{size:3}),e.createElement(pu,{className:"yr8qL"},n(".Activities")),e.createElement(Yc,{size:3}),e.createElement(t.Map,{array:l},((t,n)=>e.createElement(ED,{activity:t,index:n,activitiesCount:o})))))}const ED=({index:n,activitiesCount:a,activity:r})=>{const{t:l}=Ii("PlayScreen.serverTab"),o=(0,t.useFacetMap)(((e,t)=>{const{title:a,subtitle:r,description:o}=e;return[a,r,o,l(".sectionEnumeration",[String(n+1),String(t)])].join(" . ")}),[l,n],[r,a]);return e.createElement($_,{activity:r,narration:o})};function hD({loading:n,scrollViewRef:a}){const{t:r}=Ii("PlayScreen.serverTab"),l=(0,t.useSharedFacet)(Op),o=(0,t.useFacetMap)((e=>e.networkDetails.type===Sg.External),[],[l]),i=(0,t.useFacetMap)((e=>Boolean(e.networkDetails.id)),[],[l]),c=(0,t.useFacetMap)((e=>e.networkDetails.name),[],[l]),s=(0,t.useFacetMap)((e=>e.networkDetails.pingStatus),[],[l]),u=(0,t.useFacetMap)((e=>e.networkDetails.playerCount),[],[l]),d=Ko(),m=e.createElement(e.Fragment,null,"narrow"===d&&e.createElement(Yc,{size:1}),("desktop"===d||"tablet"===d)&&e.createElement(Yc,{size:2})),p=(0,t.useFacetMap)(((e,t,n)=>[r(".narrationScreen",[String(e)]),r(`.ServerDescription.${bD(t)}`),r(".ServerDescription."+(1===n?"personPlaying":"peoplePlaying"),[String(n)])].join(" . ")),[r],[c,s,u]);return e.createElement(e.Fragment,null,m,e.createElement(Ps,{text:p},e.createElement(K_,null),e.createElement(t.Mount,{when:i},e.createElement(e.Fragment,null,e.createElement(ys,{loading:n,innerRef:a,floating:!0},e.createElement(t.Mount,{when:o,condition:!1},e.createElement(e.Fragment,null,e.createElement(pD,{loading:n}),e.createElement(Yc,{size:"narrow"===d?1:2}),e.createElement(LP,{tab:"servers"}),e.createElement(Yc,{size:"narrow"===d?1:2}))),e.createElement(t.Mount,{when:o,condition:!0},e.createElement(e.Fragment,null,e.createElement(mD,{loading:n,showServerDetails:!0}),e.createElement(J_,null))))))))}function bD(e){switch(e){case Cg.Low:return"lowPing";case Cg.Medium:return"mediumPing";case Cg.High:return"highPing";default:return"unavailablePing"}}function vD({label:n,value:a,image:r,subtitle:l,inputLegend:o,selected:i,onSelect:c}){const s=(0,t.useFacetWrap)(null!=l?l:""),u=(0,t.useFacetWrap)(null!=r?r:""),d=(0,t.useFacetMap)((e=>Boolean(e)),[],[u]),m=(0,t.useFacetMap)((e=>Boolean(e)),[],[s]),p=(0,t.useFacetMap)(((e,t)=>[e,t].filter((e=>null!=e&&""!==e)).join(" . ")),[],[n,s]);return e.createElement(vv.ListItem,{narrationText:p,selected:i,value:a,onSelect:c,inputLegend:o,hasSubtitle:!0},e.createElement(t.Mount,{when:d},e.createElement(t.DeferredMount,null,e.createElement(vv.ItemCell,null,e.createElement(Lv,{variant:"large",border:!0,iconSrc:u,selected:i})))),e.createElement(vv.ItemMain,null,e.createElement(zs,{type:"body"},e.createElement(ru,null,n)),e.createElement(t.Mount,{when:m},e.createElement(zs,{type:"captionShort",variant:"dimmer",role:"neutral"},e.createElement(ru,null,s)))))}function FD({item:n}){const a=u(),r=(0,t.useSharedFacet)(Op),{t:l}=Ii("PlayScreen.serverTab"),o=(0,t.useFacetMap)((e=>e.label),[],[n]),i=(0,t.useFacetMap)((e=>e.value),[],[n]),c=(0,t.useFacetMap)((e=>null!=e.message?e.message:""),[],[n]),s=(0,t.useFacetMap)((e=>null!=e.image?e.image:t.NO_VALUE),[],[n]),d=(0,t.useFacetMap)(((e,t)=>e===t.networkDetails.id),[],[i,r]),m=(0,t.useFacetMap)((e=>e.type===Sg.ThirdParty),[],[n]),p=LS(),f=(0,t.useFacetCallback)((e=>()=>{switch(e.type){case Sg.ThirdParty:p({button:"SelectThirdPartyServer",screen:lD.ServerTab});break;case Sg.External:p({button:"SelectExternalServer",screen:lD.ServerTab})}a.replace(`/play/servers/${e.value}/${NL(e.type)}`)}),[a,p],[n]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:m},e.createElement(vD,{label:o,value:i,image:s,subtitle:c,inputLegend:l(".sideMenuInputLegend"),selected:d,onSelect:f})),e.createElement(t.Mount,{when:m,condition:!1},e.createElement(vv.ListItem,{value:i,onSelect:f,selected:d,narrationText:o,inputLegend:l(".sideMenuInputLegend")},e.createElement(vv.ItemMain,null,e.createElement(zs,{type:"body"},e.createElement(ru,null,o))))))}function yD({loading:n}){const{t:a}=Ii("PlayScreen.serverTab"),{t:r}=Ii("PlayScreen.serverTab.narration"),l=(0,t.useSharedFacet)(gg),o=(0,t.useSharedFacet)(Ym),i=(0,t.useSharedFacet)(el),c=a(".addServer"),s=u(),d=LS(),m="neutralAlpha60",p=Ko(),f=Q_(),g=(0,e.useCallback)((()=>{d({button:"AddServer",screen:lD.ServerTab}),s.push("/play/servers/add")}),[s,d]),E=(0,t.useFacetMap)((e=>e.thirdPartyWorlds.map((e=>({message:e.msgOfTheDay,image:e.image,label:e.name,type:Sg.ThirdParty,value:e.id})))),[],[l]),h=(0,t.useFacetMap)((e=>a(".featuredServer",[e.thirdPartyWorlds.length.toString()])),[a],[l]),b=(0,t.useFacetMap)((e=>e.externalServerWorlds.map((e=>({label:e.name,value:e.id,type:Sg.External})))),[],[o]),v=(0,t.useFacetMap)((e=>a(".externalServer",[e.externalServerWorlds.length.toString()])),[a],[o]),F=(0,t.useFacetMap)((e=>e.externalServerWorlds.length>0),[],[o]),y=(0,t.useFacetMap)((e=>e.supportsManualAddedServers),[],[i]),S=e.createElement(Yc,{size:"narrow"===p?1:2});return e.createElement(ja,{role:m},e.createElement(Ps,{text:r(".context")},e.createElement(vv,{spacingAroundSideMenu:S,loading:n,gamepadAlias:RL.SERVER_SIDE_MENU,delegateFocusByAlias:"remember",role:m},e.createElement(t.Mount,{when:y},e.createElement(vv.Item,null,e.createElement(Pu,{onClick:g,Icon:kS.Plus,inputLegend:c,variant:"secondary",disabled:f},c))),e.createElement(Ps,{text:h},e.createElement(vv.Divider,{label:e.createElement("fast-text",{text:h})}),e.createElement(vv.ItemList,{items:E,renderItem:FD})),e.createElement(t.Mount,{when:F},e.createElement(Ps,{text:v},e.createElement(vv.Divider,{label:e.createElement("fast-text",{text:v})}),e.createElement(vv.ItemList,{items:b,renderItem:FD}))),e.createElement(Yc,{size:4}))))}const SD=n.p+"assets/error-9e281.png";function CD(){const n=(0,t.useSharedFacet)(Op),a=(0,t.useSharedFacet)(xm),r=(0,t.useSharedFacet)(Ym),l=(0,t.useSharedFacet)(gg),o=(0,e.useRef)(null),i=(0,e.useRef)(null),c=(0,t.useFacetMap)((e=>e.fetchThirdPartyWorldsTaskState===rM.DONE),[],[l]),s=(0,t.useFacetMap)((e=>e.isDevBuild),[],[a]),u=(0,t.useFacetMap)(((e,t)=>!e&&!t),[],[c,s]),d=(0,t.useFacetMap)(((e,t)=>!e.hasLoadedDetails||t),[],[n,u]),p=(0,e.useRef)(null),f=m(),g=(0,t.useFacetMap)((e=>null==e?void 0:e.id),[],[f]),E=(0,t.useFacetMap)((e=>(null==e?void 0:e.type)===NL(Sg.External)?Sg.External:Sg.ThirdParty),[],[f]),h=(0,t.useFacetCallback)((e=>(t,n)=>{e.loadNetworkWorldDetails(t,n),p.current&&(p.current.scrollTop=0)}),[],[n]),b=(0,t.useFacetMap)((e=>e.externalServerWorlds),[],[r]),v=(0,t.useFacetMap)((e=>e.thirdPartyWorlds.length>0?e.thirdPartyWorlds[0].id:""),[],[l]);return(0,t.useFacetEffect)(((e,t,n,a)=>{null==t||null==n||n===Sg.External&&!a.some((e=>e.id===t))?h(e,Sg.ThirdParty):h(t,n)}),[h],[v,g,E,b]),e.createElement(Pc,{containerRef:o,delegateFocusByAlias:RL.SERVER_SIDE_MENU,delegateFocusFromMemory:!0},e.createElement(UE.Row,{innerRef:o},e.createElement(UE.Column,{wideSize:4,narrowSize:3},e.createElement(yD,{loading:u})),e.createElement(Pc,{containerRef:i,delegateFocusByAlias:RL.SERVER_DESCRIPTION},e.createElement(UE.Column,{wideSize:8,narrowSize:5,innerRef:i},e.createElement(hD,{loading:d,scrollViewRef:p})))))}function MD(){const{t}=Ii("PlayScreen.serverTab"),n=v_(AI.SERVERS);return e.createElement(e.Fragment,null,e.createElement(Fl,{data:n},(n=>{switch(n){case"banned":return e.createElement(oO.InTab,null);case"offline":return e.createElement(kD,null,e.createElement(YP,{text:t(".noInternetMessage")}));case"no-content":return e.createElement(kD,null,e.createElement(IL,{context:"servers"}));case"parental-online-safety":return e.createElement(JL,{variant:"parental"});case"online-safety":return e.createElement(JL,{variant:"online"});case"no-online-subscription-playstation":case"no-online-subscription-nintendo":case"multiplayer-disabled":case"msa-guest-playstation":case"msa-guest-nintendo":case"not-signed-in":return e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(B_,{tab:P_.ServersTab}),e.createElement(CD,null));case"platform-guest-nintendo":case"platform-guest-playstation":return e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(B_,{tab:P_.ServersTab}),e.createElement(wD,{t}));case"msa-and-platform-guest-nintendo":case"msa-and-platform-guest-playstation":return e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(B_,{tab:P_.ServersTab}),e.createElement(kD,null,e.createElement(IL,{context:"servers"})));case"content":return e.createElement(CD,null);case"trial-mode":return e.createElement(_w,{context:Lw.SERVERS});default:return e.createElement(V_,null)}})),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))}function wD({t:n}){const a=gh({wide:8,narrow:6,width:256});return e.createElement(kD,null,e.createElement(e.Fragment,null,e.createElement(GE,{title:n(".platformSignInPrompt"),imgSrc:SD,imgClass:(0,t.useFacetMap)((e=>e?"N3Pb2":"GZ7ZK"),[],[a])}),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0})))}function kD({children:t}){return e.createElement(ys,{floating:!0},e.createElement(Yc,{size:2}),t)}const TD=n.p+"assets/UI_Menu_ServerTab-e7c3c.png",xD=n.p+"assets/UI_Menu_RealmsTab-c7419.png",ID=n.p+"assets/UI_Menu_WorldsTab-dfd40.png",PD=n.p+"assets/UI_Menu_WorldsTab_Alt01-1d8f1.png",OD=n.p+"assets/UI_Menu_WorldsTab_Alt02-cc2f9.png",AD="Play";var ND;!function(e){e.All="all",e.Realms="realms",e.Servers="servers"}(ND||(ND={}));const RD={[ND.All]:"AllWorldsTab",[ND.Servers]:"ServersTab",[ND.Realms]:"RealmsTab"},LD=()=>{const{t}=Ii("PlayScreen");return e.createElement(NO,{debugDrawer:["create-test-world"],friendsDrawer:!0,gamepadAlias:"play-layout-content",delegateByAlias:"play-screen-tab-bar-wrapper",screenAnalyticsId:AD,title:t(".title")},(({isAnyDrawerOpen:t})=>e.createElement(e.Fragment,null,e.createElement(UE,null,e.createElement(UE.Row,{gamepadIndex:0},e.createElement(UE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(Yc,{size:2}),e.createElement(BD,{disableShortcuts:t}))),e.createElement(ph,{route:"all",Component:PR,wideSize:12,narrowSize:8}),e.createElement(ph,{route:"realms",Component:U_,wideSize:12,narrowSize:8}),e.createElement(ph,{route:"servers",Component:MD,wideSize:12,narrowSize:8}),e.createElement(wd.Space,null)))))},_D=Math.ceil(100*Math.random()),DD=9600===Math.ceil(9600*Math.random())?OD:10===_D?PD:ID,BD=({disableShortcuts:n})=>{const a=ve(),r="play-screen",{t:l}=Ii("PlayScreen"),o=Hr(),i=Vr(),c=LS(),s=(0,t.useFacetMap)((e=>!e),[],[n]),u=(0,t.useFacetCallback)((e=>t=>{c({button:RD[t],screen:AD}),"realms"===t&&null!=e?o.replace(`/play/realms/${e}`):o.replace(`/play/${t}`),a(HA.getFocusAlias(r,t))}),[o,a,c],[qR()]),d=uR(),m=kR(),p=(0,t.useFacetMap)(((e,t)=>LM(e.platform)&&!t?[l(".narration.title"),l(".friendsDrawerShortcut",["Y"])].join(" . "):DM(e.inputMethods)?[l(".narration.title"),l(".mobileFriendsDrawerNarration")].join(" . "):""),[l],[(0,t.useSharedFacet)(el),et()]),f=function(e,n){const a=(0,t.useSharedFacet)(ag);return(0,t.useFacetMap)(((e,t,n)=>{const a=n.playScreenShowLanWorlds?t.length:0;return e.length+a}),[],[e,n,a])}(d.data,m),g=(0,t.useFacetMap)((e=>l(".allWorlds",[`${e}`])),[l],[f]),E=(0,t.useFacetMap)((t=>[{label:t,value:ND.All,icons:{selected:e.createElement(Lv,{iconSrc:DD,selected:!0}),unselected:e.createElement(Lv,{iconSrc:DD,selected:!1})},"data-testid":"play-screen-tab-bar-all"},{label:l(".realms"),value:ND.Realms,icons:{selected:e.createElement(Lv,{iconSrc:xD,selected:!0}),unselected:e.createElement(Lv,{iconSrc:xD,selected:!1})},"data-testid":"play-screen-tab-bar-realms"},{label:l(".servers"),value:ND.Servers,icons:{selected:e.createElement(Lv,{iconSrc:TD,selected:!0}),unselected:e.createElement(Lv,{iconSrc:TD,selected:!1})},"data-testid":"play-screen-tab-bar-servers"}]),[l],[g]);return e.createElement(HA,{gamepadAliasNamespace:r,value:i.tab?i.tab:ND.All,onChange:u,tabs:E,enableGamepadShortcuts:s,narrationTitle:p})};let WD;!function(e){e.Feed="feed",e.Members="members",e.Timeline="timeline"}(WD||(WD={}));const UD="gzWC5",zD=e=>(0,t.useFacetMemo)((e=>{const t=[],n=[],a=[],r=[];return e.forEach((e=>{e.isOnline&&n.push(e),e.hasOptedIn?a.push(e):r.push(e),t.push(e)})),{allMembers:t,onlinePlayers:n,optedInPlayers:a,optedOutPlayers:r}}),[],[e]),jD=(e,n,a)=>(0,t.useFacetMemo)(((e,t)=>{if(t.length<=a)return t;const n=op(t);let r=0;const l=n.findIndex((t=>t.xuid===e.ownerXuid));if(l>=0&&HD(n,l,r++),e.userXuid!==e.ownerXuid){const t=n.findIndex((t=>t.xuid===e.userXuid));t>=0&&HD(n,t,r++)}const o=op(n,r).sort(((e,t)=>Number(t.hasOptedIn)-Number(e.hasOptedIn)));return n.splice(r,n.length,...o),op(n,0,a)}),[a],[e,n]),HD=(e,t,n)=>[e[t],e[n]]=[e[n],e[t]];function VD(){const e=Ko(70,100);return Or()({CTk4I:"narrow"==e,zZ1HH:"tablet"===e,mp4eP:"desktop"===e})}const GD=n.p+"assets/gamer-icon-villager-7de8b.png";function $D({realmPlayer:n,index:a,role:r="neutral",isSimpleLayout:l=!1,totalPlayers:o}){const{t:i}=Ii("RealmsStories"),c=(0,t.useFacetMap)((e=>e.gamerTag),[],[n]),s=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.gamerIcon)&&void 0!==t?t:GD}),[],[n]),d=u(),m=(0,t.useFacetCallback)((e=>()=>d.push(mP(e.xuid))),[d],[n]),p=(0,t.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[n]),f=(0,t.useFacetMap)((e=>{switch(e.role){case bf.OWNER:return"";case bf.OPERATOR:return i(".members.operator");case bf.MEMBER:return i(".members.member");case bf.VISITOR:default:return i(".members.visitor")}}),[i],[n]),g=(0,t.useFacetMap)((e=>e.isOnline?i(".feed.online"):i(".feed.offline")),[i],[n]),E=(0,t.useFacetMap)(((e,t,n,r)=>[e,i(".RealmPlayerListItem.role"),t,l?void 0:n,null!=r?i(".narrationPlayerXOfY",[a.toString(),r.toString()]):void 0,i(".RealmPlayerListItem.hint")].filter((e=>e)).join(" . ")),[i,a,l],[c,g,f,(0,t.useFacetWrap)(o)]),h=(0,t.useFacetMap)((e=>e.role!==bf.OWNER&&!1===l),[l],[n]),b=(0,t.useFacetMap)((e=>e.role===bf.VISITOR?"neutral100":"primaryTint"),[],[n]),v=e.createElement(ux,{role:b},f),F=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.role===bf.OPERATOR),[],[n])),y=F!=t.NO_VALUE&&F?HO:VO;return e.createElement(Yb,null,e.createElement(Yb.Action,{narrationText:E,inputLegend:i(".RealmPlayerListItem.viewProfile"),onClick:m,role:r},e.createElement(Yb.Cell,null,e.createElement(QI,{src:s,variant:"large",status:p})),e.createElement(Yb.Main,null,e.createElement(zs,{type:"body"},c),!l&&e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement(zs,{type:"body",variant:"dimmer"},e.createElement(ru,null,g)))),e.createElement(t.Mount,{when:h},e.createElement(Yb.Cell,null,e.createElement(ar,{collection:y},v)))))}const KD=n.p+"assets/no-internet-art-53f29.png";function XD(){const{t}=Ii("RealmsStories");return e.createElement(GE,{title:t(".messages.title"),text:t(".messages.noInternetBody"),imgSrc:KD,imgClass:VD()})}const YD=n.p+"assets/GenericError-d5224.png";function qD({onClick:n,pageName:a}){const{t:r}=Ii("RealmsStories"),l=(0,t.useFacetWrap)(null!=a?a:""),o=(0,t.useFacetMap)((e=>""!==e?r(".messages.titleWithArg",[e]):r(".messages.title")),[r],[l]);return e.createElement(GE,{title:o,text:r(".messages.unknownErrorBody"),imgSrc:YD,imgClass:VD(),buttons:[{text:r(".messages.button"),onClick:n,inputLegend:r(".messages.button")}]})}function QD({forOptedOutMembers:t}){const{t:n}=Ii("RealmsStories");return e.createElement(KS,{role:"noticeTint"},e.createElement("div",{className:"KP8Xp"},e.createElement(kS.Warning,{color:"#1e1e1f"})),e.createElement(KS.Text,null,n(t?".members.warning.optedOut":".members.warning")))}const JD="cPc6K",ZD="aeQm5",eB=n.p+"assets/timeline-opt-in-cf8ce.png";let tB;function nB(e){const n=m(),a=(0,t.useSharedFacet)(fg),r=(0,t.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[(0,t.useSharedFacet)(pf)]);return(0,t.useFacetCallback)(((t,n,a)=>r=>{a.fireEventRealmsStoriesOptIn(e,r,n.realmId,t)}),[e],[r,n,a])}function aB(){const n=m(),{t:a}=Ii("RealmsStories.messages.timelineOptIn"),r=gr("neutral80"),l=d(),o=Yo(70),i=(0,t.useSharedFacet)(vf),c=(0,t.useSharedFacet)(mf),s=(0,t.useSharedFacet)(Xf),u=`${Math.floor(1e9*Math.random())}`,p=(0,t.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[(0,t.useSharedFacet)(pf)]),f=(0,t.useFacetMap)((e=>gM(e.players,(e=>e.role!==bf.NONMEMBER))),[],[i]),g=zD(f),E=(0,t.useFacetMap)((e=>[e.optedInPlayers.length.toString(),e.allMembers.length.toString()]),[],[g]),h=(0,t.useFacetMap)((e=>a(".members",e)),[a],[E]),b=(0,t.useFacetMap)((e=>[a(".title"),a(".textblock"),a(".body"),a(".membersNarration",e)].join(" . ")),[a],[E]),v=(0,t.useFacetCallback)(((e,t,n)=>()=>{e.setPlayerOptInStatusAndPostWithOptInTelemetry(n.realmId,Kf.OptedIn,u,tB.OptIn_Success,t)}),[u],[c,p,n]),F=(0,t.useFacetMap)((e=>e?"RuWS1":""),[],[o]),y=(0,t.useFacetMap)(((e,t)=>e&&(t.currentPostState===xg.InputInvalid||t.currentPostState===xg.InternalError||t.currentPostState===xg.UploadFailed||t.currentPostState===xg.PostingFailed)),[],[l,s]),S=(0,t.useFacetMap)(((e,t)=>e&&t.currentPostState===xg.RateLimit),[],[l,s]),C=(0,t.useFacetMap)(((e,t,n,a)=>e&&!n&&!a&&(t.currentPostState===xg.InProgress||t.currentPostState===xg.Uploading)),[],[l,s,y,S]),M=(0,t.useFacetCallback)(((e,t,n)=>()=>{t||(e.clearSettingsStatus(),e.fetchSettings(n.realmId))}),[],[c,C,n]),w=e.createElement(e.Fragment,null,e.createElement(zs,{type:"header5A",align:"center"},a(".title")),e.createElement(Yc,{size:2}),e.createElement("fast-div",{className:F},e.createElement(Rc,{src:eB,aspectRatio:Rc.AspectRatio["16:9"]})));return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:C},e.createElement(cA,null)),e.createElement(t.Mount,{when:y},e.createElement(sA.Component,{onClickClose:M})),e.createElement(t.Mount,{when:S},e.createElement(mA.Component,{onClickClose:M})),e.createElement(ys,{gamepadAlias:"timeline-opt-in-scrollview",delegateFocusByAlias:"timeline-opt-in-button"},e.createElement(UE,{noGutters:!0},e.createElement(Ps,{text:b},e.createElement(UE.Row,null,e.createElement(t.Mount,{when:o,condition:!1},e.createElement(UE.Column,{wideSize:6,narrowSize:0},e.createElement("div",{className:Or()(JD,ZD,r.background.base,r.border.base)},w))),e.createElement(UE.Column,{wideSize:6,narrowSize:8},e.createElement("div",{className:Or()(JD,ZD,r.background.base,r.border.base)},e.createElement(t.Mount,{when:o},e.createElement(e.Fragment,null,w,e.createElement(Yc,{size:4}))),e.createElement("div",{className:"Q_Y5h"},e.createElement(zs,{type:"paragraphs",align:"left"},a(".body")),e.createElement(Yc,{size:4}),e.createElement(zs,{type:"paragraphs",align:"left",role:"neutral80",variant:"dimmest"},e.createElement("fast-text",{text:h})),e.createElement(Yc,{size:4})),e.createElement(Pu,{inputLegend:a(".button"),variant:"primary",gamepadAlias:"timeline-opt-in-button",onClick:v},a(".button")))))))))}!function(e){e.OptIn_Success="OptIn_Success",e.OptIn_WaitingOnOwner="OptIn_WaitingOnOwner",e.OptIn_BadAccountSettings="OptIn_BadAccountSettings",e.OptOut_InfoDialog="OptOut_InfoDialog",e.OptOut_Settings="OptOut_Settings",e.CancelOptOut_InfoDialog="CancelOptOut_InfoDialog",e.CancelOptOut_Settings="CancelOptOut_Settings",e.BackOut_InfoDialog="BackOut_InfoDialog",e.LearnMore="LearnMore"}(tB||(tB={}));const rB=n.p+"assets/members-empty-32029.png";function lB({title:n,options:a,value:r,onItemSelect:l,placeholderText:o,buttonRole:i="secondary",dropdownOptionRoleHint:c,dropdownEnumeration:s,dropdownNarrationSuffix:u,itemTypeNarration:d,hideDownArrow:m=!1,buttonTestId:p,closeButtonNarrationSuffix:f,matchButtonHeight:g=!1,gamepadAlias:E}){const{t:h}=Ii("ModalMenuDropdown"),b=(0,t.useFacetWrap)(a),v=(0,t.useFacetWrap)(r),F=(0,t.useFacetWrap)(null!=o?o:h(".dropdown.placeholder")),y=(0,t.useFacetWrap)(c),S=(0,t.useFacetWrap)(s),C=(0,t.useFacetWrap)(u),M=(0,t.useFacetMap)(((e,t,n)=>{const a=hC()(gC()("value",t))(e);return null!=a?a.label:n}),[],[b,v,F]),w=(0,t.useFacetMap)(((e,t)=>[e,h(".dropdown.role"),t,h(".dropdown.collapsed")].filter(Boolean).join(" . ")),[h],[y,S]),k=(0,t.useFacetMemo)(((e,t,n,a)=>{const r=hC()(gC()("value",t))(e);let l;return l=null!=r?null!=r.narrationText?r.narrationText:r.label:n,[l,h(".dropdown.label.role"),h(".dropdown.label.selected"),a].filter(Boolean).join(" . ")}),[h],[b,v,F,C]),T=oB.useModal();return e.createElement(e.Fragment,null,e.createElement(Ps,{text:w},e.createElement(yu,{reflection:"specular",variant:i,narrationText:k,onClick:T.show,inputLegend:h(".dropdown.inputLegend"),height:g?4:4.2,isElevated:!0,"data-testid":p,gamepadAlias:E},e.createElement(AC.ToggleInnerWrapper,{hideDownArrow:m},M))),e.createElement(t.Mount,{when:T.isVisible},e.createElement(oB.Component,{title:n,items:b,isOpen:T.isVisible,onClose:T.hide,onItemSelect:e=>{l(e),T.hide()},itemTypeNarration:d,closeButtonNarrationSuffix:f})))}const oB=_i((function({title:t,items:n,isOpen:a,onClose:r,onItemSelect:l,itemTypeNarration:o,closeButtonNarrationSuffix:i}){return e.createElement(RR,{title:t,items:n,isOpen:a,onClose:r,onItemSelect:l,itemTypeNarration:o,closeButtonNarrationSuffix:i})}));function iB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function cB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iB(Object(n),!0).forEach((function(t){sB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sB(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uB({isStoriesRouteActive:n,maximumDisplayedMembers:a}){const r=null!=a?a:300,l=(0,t.useSharedFacet)(Ef),o=(0,t.useSharedFacet)(vf),i=(0,t.useSharedFacet)(pf),c=(0,t.useSharedFacet)(el),s=(0,t.useSharedFacet)(mf),d=Ko(),{t:p}=Ii("RealmsStories"),{t:f}=Ii("RealmsStories.members"),{t:g}=Ii("Realms.LoadingModals"),{t:E}=Ii("TextField"),h=(0,t.useFacetMap)((e=>e.userXuid),[],[i]),b=(0,t.useFacetMap)((e=>e.ownerXuid),[],[i]),v=(0,t.useFacetMap)(((e,t)=>e===t),[],[h,b]),F=(0,t.useFacetMap)((e=>e.currentMemberFilterOption),[],[l]),y=(0,t.useFacetMap)((e=>e.currentMemberSearchText),[],[l]),S=(0,t.useFacetMap)((e=>e.currentMemberSortOption),[],[l]),[C,M]=(0,t.useFacetState)(!1),w=(0,t.useFacetMemo)((e=>{const t=[];return t.push({label:f(".allMembers"),value:ff.All},{label:f(".onlineMembers"),value:ff.Online}),t.map(((t,n,a)=>cB(cB({},t),{},{enumeration:f(".enumeration",[`${n+1}`,`${a.length}`]),gamepadAlias:`gamepad-alias-filter-${t.label}`,isSelectable:!0,isSelected:t.value===e})))}),[f],[F]),k=(0,t.useFacetMemo)(((e,t)=>{const n=[];return t!==ff.Online&&n.push({label:f(".recentlyPlayed"),value:gf.MostRecent},{label:f(".leastRecentlyPlayed"),value:gf.LeastRecent}),n.push({label:f(".fromAtoZ"),value:gf.AlphabeticalAscending},{label:f(".fromZtoA"),value:gf.AlphabeticalDescending}),n.map(((t,n,a)=>cB(cB({},t),{},{enumeration:f(".enumeration",[`${n+1}`,`${a.length}`]),gamepadAlias:`gamepad-alias-sort-${t.label}`,isSelectable:!0,isSelected:t.value===e})))}),[f],[S,F]),T=(0,t.useFacetCallback)((e=>()=>{e.currentMemberSortOption=gf.AlphabeticalAscending}),[],[l]),x=(0,t.useFacetMap)(((e,t)=>gM(e.players,(e=>e.xuid!=t&&e.role!==bf.NONMEMBER))),[],[o,b]),I=(0,t.useFacetMap)(((e,t)=>0===t.length?e:gM(e,(e=>e.gamerTag.toLowerCase().includes(t.toLowerCase())))),[],[x,y]),P=jD(i,I,r-1),O=jD(i,P,r-1),A=zD(P),N=(0,t.useFacetMemo)(((e,t,n)=>{let a=e.allMembers;if(null==a)return a;t===ff.Online&&(a=e.onlinePlayers);let r=[];switch(n){case gf.AlphabeticalAscending:r=a.sort(Ff);break;case gf.AlphabeticalDescending:r=a.sort(yf);break;case gf.LeastRecent:r=function(e){return e.sort(Mf)}(a);break;case gf.MostRecent:default:r=Sf(a)}return r}),[],[A,F,S,P]);(0,t.useFacetEffect)(((e,t)=>{!e&&t&&M(!1)}),[M],[n,C]),(0,t.useFacetEffect)(((e,t)=>{e!==ff.Online||t!==gf.LeastRecent&&t!==gf.MostRecent||T()}),[T],[F,S]);const R=(0,t.useFacetMap)((e=>e.length),[],[N]),L=(0,t.useFacetMap)((e=>e.length>0),[],[N]),_=(0,t.useFacetMap)((e=>null!=om(e,(e=>e.fetchProfileStatus===Tg.InProgress))),[],[N]),D=(0,t.useFacetMap)(((e,t)=>e.fetchMembersStatus===Tg.InProgress||e.fetchOnlineMembersStatus===Tg.InProgress||t),[],[o,_]),B=(0,t.useFacetMap)(((e,t)=>om(e.players,(e=>e.xuid===t))),[],[o,b]),W=(0,t.useFacetMap)(((e,t,n)=>null!=e&&!(t===ff.Online&&!e.isOnline)&&(0===n.length||e.gamerTag.toLowerCase().includes(n.toLowerCase()))),[],[B,F,y]),U=(0,t.useFacetMap)(((e,t)=>e||t),[],[L,W]),{narrateText:z}=Fs({interruptible:!1}),[j,H]=(0,t.useFacetState)(!1),V=(0,t.useFacetCallback)(((e,t,n,a,l)=>()=>{if(!e)return;H(!1);let o=a.length,i=l.length;n&&(o+=1,i+=1);const c=[f(".searchResult.name"),f(".searchResult.role")];""===t.currentMemberSearchText?c.push(f(".searchResult.hint.cleared")):0===i?c.push(f(".searchResult.hint.noResult")):1===i?c.push(f(".searchResult.hint.oneResult")):i<r?c.push(f(".searchResult.hint.multiResult",[`${o}`])):(c.push(f(".warning")),c.push(f(".searchResult.hint.multiResultTooManyPlayers",[`${i}`,`${o}`]))),z(c.join(" . "))}),[H,z,f,r],[j,l,W,I,N,O]);(0,t.useFacetEffect)((()=>{V()}),[V],[O]);const G=(0,t.useFacetMap)((e=>{const t=[f(".search"),E(".narrationComponentType"),f(".enumeration",["1","3"])];return e.currentMemberSearchText&&t.push(e.currentMemberSearchText),t.join(" . ")}),[f,E],[l]),[$,K]=(0,t.useFacetState)(!1),X=(0,t.useFacetCallback)(((e,t,n)=>a=>{H(!0),e.currentMemberSearchText=a,t&&z(n)}),[z,H],[l,$,G]),Y=(0,t.useFacetMap)((e=>[f(".realmOwner"),f(".section"),f(".enumeration",["1",e?"2":"1"])].join(" . ")),[f],[L]),q=(0,t.useFacetMap)((e=>[f(".realmMembers"),f(".section"),f(".enumeration",e?["2","2"]:["1","1"])].join(" . ")),[f],[W]),Q=(0,t.useIsDeferring)(),J=(0,t.useIsPaused)(),Z=(0,t.useFacetMap)(((e,t)=>t||e||J),[J],[Q,D]),ee=(0,t.useFacetMap)((e=>!e.isOnline),[],[c]),te=(0,t.useFacetMap)(((e,t)=>(e.fetchMembersStatus===Tg.InternalError||e.fetchMembersStatus===Tg.FetchFailed||e.fetchMembersStatus===Tg.RateLimit)&&!t),[],[o,ee]),ne=(0,t.useFacetMap)(((e,t)=>e||t),[],[ee,te]),ae=(0,t.useFacetCallback)((e=>()=>{e.fetchMembers()}),[],[s]),re=m(),le=u(),oe=(0,t.useSharedFacet)(wp),ie=(0,t.useFacetCallback)(((e,t)=>()=>{le.push(`/${t.isInGame?"game-settings":"settings"}/members/${e.realmId}`),M(!0)}),[le,M],[re,oe]),ce=(0,t.useFacetMap)((e=>e.players.length>r),[r],[o]);return e.createElement(t.DeferredMountProvider,null,e.createElement(UE,{noGutters:!0},e.createElement(t.Mount,{when:ne},e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:1,narrowSize:0}),e.createElement(UE.Column,{wideSize:10,narrowSize:8},e.createElement(t.Mount,{when:ee},e.createElement(XD,null)),e.createElement(t.Mount,{when:te},e.createElement(qD,{onClick:ae,pageName:p(".members")}))),e.createElement(UE.Column,{wideSize:1,narrowSize:0}))),e.createElement(t.Mount,{when:ne,condition:!1},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:ce},e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:12,narrowSize:8},e.createElement(QD,null)),e.createElement(Yc,{size:4}))),e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:4,narrowSize:8},e.createElement(cu,{"data-testid":"member-search-field-id",placeholder:f(".search"),narrationText:G,onSelectedChange:K,placeholderIcon:iu.MagnifyingGlass,value:y,onBlur:X,maxLength:20,shouldBlurOnEscape:!0,shouldBlurOnEnter:!0})),e.createElement(UE.Column,{wideSize:4,narrowSize:4},e.createElement("div",{className:UD},e.createElement(Yc,{size:"narrow"===d?2:0}),e.createElement(lB,{title:f(".filter.title"),options:w,value:F,onItemSelect:(0,t.useFacetCallback)((e=>t=>{e.currentMemberFilterOption=t}),[],[l]),buttonTestId:"realms-members-filter-dropdown-button",dropdownOptionRoleHint:f(".filter.title"),dropdownEnumeration:f(".enumeration",["2","3"])}))),e.createElement(UE.Column,{wideSize:4,narrowSize:4},e.createElement("div",{className:UD},e.createElement(Yc,{size:"narrow"===d?2:0}),e.createElement(lB,{title:f(".sort.title"),options:k,value:S,onItemSelect:(0,t.useFacetCallback)((e=>t=>{e.currentMemberSortOption=t}),[],[l]),buttonTestId:"realms-members-sort-dropdown-button",dropdownOptionRoleHint:f(".sort.title"),dropdownEnumeration:f(".enumeration",["3","3"])})))),e.createElement(Yc,{size:3}),e.createElement(t.Mount,{when:v,condition:!1},e.createElement("div",{className:"po8FX"},e.createElement(hv,{role:"neutral80",reversed:!1}))),e.createElement(dB,{isOwner:v,onManageMembers:ie},e.createElement(t.Mount,{when:v},e.createElement(hv,{role:"neutral80",reversed:!1})),e.createElement(ys,{loading:Z,delegateFocusFromMemory:!0},e.createElement(Yc,{size:2}),e.createElement(t.Mount,{when:U},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:W},e.createElement(e.Fragment,null,e.createElement(Ps,{text:Y},e.createElement(nb,{role:"primary",label:f(".realmOwner")}),e.createElement(t.With,{data:B},(t=>e.createElement($D,{realmPlayer:t,index:0})))),e.createElement(Yc,{size:2}))),e.createElement(t.Mount,{when:L},e.createElement(e.Fragment,null,e.createElement(Ps,{text:q},e.createElement(nb,{role:"primary",label:f(".realmMembers")}),!1===J&&e.createElement(t.Map,{array:N},((t,n)=>e.createElement($D,{realmPlayer:t,index:n+1,totalPlayers:R})))))))),e.createElement(t.Mount,{when:U,condition:!1},e.createElement(t.DeferredMount,null,e.createElement(GE,{title:f(".noMembersFound"),imgSrc:rB,imgClass:VD()}))),e.createElement(Yc,{size:1}))))),e.createElement(t.Mount,{when:C},e.createElement(jO.Component,{title:g(".loading")}))))}function dB({children:n,isOwner:a,onManageMembers:r}){const{t:l}=Ii("RealmsStories.members");return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:a},e.createElement(UE.Row,{fullHeight:!0},e.createElement(UE.Column,{wideSize:4,narrowSize:3},e.createElement(Pu,{inputLegend:l(".manage"),variant:"secondary",gamepadAlias:"manage-members-button",onClick:r},l(".manage"))),e.createElement(UE.Column,{wideSize:8,narrowSize:5},n))),e.createElement(t.Mount,{when:a,condition:!1},e.createElement(UE.Row,{fullHeight:!0},e.createElement(UE.Column,{wideSize:1,narrowSize:0}),e.createElement(UE.Column,{wideSize:10,narrowSize:8},n),e.createElement(UE.Column,{wideSize:1,narrowSize:0}))))}const mB={"250HostileMobs":n.p+"assets/250HostileMobs-141ad.png",AllMobNameEasterEggs:n.p+"assets/AllMobNameEasterEggs-4b8ed.png",CookEverything:n.p+"assets/CookEverything-fc277.png",DefeatEnderdragon:n.p+"assets/DefeatEnderdragon-cc8e0.png",DefeatWither:n.p+"assets/DefeatWither-0783a.png",DiamondEverything:n.p+"assets/DiamondEverything-c4925.png",FirstAbandonedMineshaftFound:n.p+"assets/FirstAbandonedMineshaftFound-f9296.png",FirstAncientCityFound:n.p+"assets/FirstAncientCityFound-8d6da.png",FirstBadlandsFound:n.p+"assets/FirstBadlandsFound-0495e.png",FirstConduit:n.p+"assets/FirstConduit-4ce50.png",FirstDiamondFound:n.p+"assets/FirstDiamondFound-86296.png",FirstEnchantment:n.p+"assets/FirstEnchantment-6f488.png",FirstEnderDragonDefeated:n.p+"assets/FirstEnderDragonDefeated-7b89d.png",FirstEndPortal:n.p+"assets/FirstEndPortal-720f3.png",FirstFullyExploredMap:n.p+"assets/FirstFullyExploredMap-2e992.png",FirstMushroomFieldFound:n.p+"assets/FirstMushroomFieldFound-c9d4e.png",FirstNetherFortressFound:n.p+"assets/FirstNetherFortressFound-5990a.png",FirstCraftedNetherite:n.p+"assets/FirstCraftedNetherite-26887.png",FirstNetherPortalLit:n.p+"assets/FirstNetherPortalLit-9b93d.png",FirstPeakMountainFound:n.p+"assets/FirstPeakMountainFound-77bba.png",FirstPillagerOutpostFound:n.p+"assets/FirstPillagerOutpostFound-87eef.png",FirstPoweredBeacon:n.p+"assets/FirstPoweredBeacon-886be.png",FirstWitherDefeated:n.p+"assets/FirstWitherDefeated-a95d8.png",FirstWoodlandMansionFound:n.p+"assets/FirstWoodlandMansionFound-a6812.png",NamedMob:n.p+"assets/NamedMob-5a8fd.png",NamedMobDies:n.p+"assets/NamedMobDies-b5ee3.png",NewMember:n.p+"assets/NewMember-6422c.png",PillagerCaptainDefeated:n.p+"assets/PillagerCaptainDefeated-3a8ed.png",RealmCreated:n.p+"assets/RealmCreated-10a26.png",SlotSwitch:n.p+"assets/SlotSwitch-f6f21.png"},pB={xuid:"0UnknownPlayer",gamerTag:"unknownPlayer",gamerIcon:GD,role:bf.VISITOR,fetchProfileStatus:Tg.Success,lastSeenTime:0,isOnline:!1,hasOptedIn:!1};function fB(e){return mB[e]}let gB;!function(e){e[e.List=0]="List",e[e.NoGamertag=1]="NoGamertag"}(gB||(gB={}));const EB={full:11,narrow:5},hB={full:5,narrow:2};function bB(e,t,n){if(0===t.length)return console.log("Error in newMemberGroupedText: playerData is empty"),e(".invalid");if(2===t.length)return e(".eventText.list.twoMembers",[t[0].gamerTag,t[1].gamerTag]);const a=Math.min(t.length,n);let r=t[0].gamerTag;for(let n=1;n<a-1;n++)r=e(".eventText.list",[r,t[n].gamerTag]);if(t.length<=n)return e(".eventText.list.end",[r,t[t.length-1].gamerTag]);{r=e(".eventText.list",[r,t[a-1].gamerTag]);const l=t.length-n;return 1===l?e(".eventText.list.overflow.single",[r]):e(".eventText.list.overflow.multi",[r,`${l}`])}}const vB=new Map([["FirstEnderDragonDefeated",{treatmentSize:"large"}],["FirstWitherDefeated",{treatmentSize:"large"}],["250HostileMobs",{treatmentSize:"medium",groupType:gB.List}],["AllMobNameEasterEggs",{treatmentSize:"medium",groupType:gB.List}],["CookEverything",{treatmentSize:"medium"}],["DefeatEnderdragon",{treatmentSize:"medium",groupType:gB.NoGamertag}],["DefeatWither",{treatmentSize:"medium",groupType:gB.NoGamertag}],["DiamondEverything",{treatmentSize:"medium",groupType:gB.List}],["FirstAbandonedMineshaftFound",{treatmentSize:"medium"}],["FirstAncientCityFound",{treatmentSize:"medium"}],["FirstBadlandsFound",{treatmentSize:"medium"}],["FirstConduit",{treatmentSize:"medium"}],["FirstDiamondFound",{treatmentSize:"medium"}],["FirstEnchantment",{treatmentSize:"medium",groupType:gB.List}],["FirstEndPortal",{treatmentSize:"medium"}],["FirstFullyExploredMap",{treatmentSize:"medium"}],["FirstMushroomFieldFound",{treatmentSize:"medium"}],["FirstNetherFortressFound",{treatmentSize:"medium"}],["FirstCraftedNetherite",{treatmentSize:"medium",groupType:gB.List}],["FirstNetherPortalLit",{treatmentSize:"medium"}],["FirstPeakMountainFound",{treatmentSize:"medium"}],["FirstPillagerOutpostFound",{treatmentSize:"medium"}],["FirstPoweredBeacon",{treatmentSize:"medium"}],["FirstWoodlandMansionFound",{treatmentSize:"medium"}],["NamedMob",{treatmentSize:"medium",metadataTransform:e=>[e]}],["NamedMobDies",{treatmentSize:"medium"}],["NewMember",{treatmentSize:"medium",groupType:gB.List}],["PillagerCaptainDefeated",{treatmentSize:"medium"}],["RealmCreated",{treatmentSize:"medium"}],["SlotSwitch",{treatmentSize:"medium"}]]);function FB(e){const t=vB.get(e);return t||console.log(`Error in getRealmEventInfo: ${e} not found`),t}function yB(e){const t=vB.get(e);if(t)return t.treatmentSize;console.log(`Error in getRealmEventTreatmentSize: ${e} not found`)}const SB=({t:e,eventId:t,playerData:n,maxDisplayedPlayers:a,eventMetadata:r})=>{const l=FB(t);if(!l)return e(".invalid");const o=l.metadataTransform?l.metadataTransform(r):[];return n.length>1&&null!=l.groupType?l.groupType===gB.List?e(`.${l.treatmentSize}.${t}.grouped`,[bB(e,n.slice().reverse(),a),...o]):e(`.${l.treatmentSize}.${t}.grouped`,o):"medium"===l.treatmentSize&&n.length>=1?e(`.${l.treatmentSize}.${t}`,[n[0].gamerTag,...o]):e(`.${l.treatmentSize}.${t}`,o)},CB="OMEzJ",MB="_KSgM",wB="dS6f5",kB=n.p+"assets/comments_light-88de7.png",TB=n.p+"assets/heart_sprite-03fc4.png",xB=n.p+"assets/heart_outline-84139.png",IB=n.p+"assets/options-9456a.png";function PB({index:n,content:a,totalComments:r="",totalLikes:l,hasLiked:o,hideLikes:i,openCommentsCallback:c=(()=>{}),toggleLikeCallback:s,openOptionsCallback:u}){const{t:d}=Ii("RealmsStories.feedPost"),m=Ko(),p=ta(),f=""===r,g=f?"comment-entry-":"story-entry-",E=(0,t.useFacetWrap)(r),h=(0,t.useFacetMap)(((e,t)=>{let n=3;return e||n++,""!=t&&(n++,"narrow"!=m&&n++),n}),[m],[i,E]),b=(0,t.useFacetMap)(((e,t)=>{let n=3;return t||n++,"narrow"!=m&&n++,[d(".comments"),d(".role.button"),d(".enumeration",[`${n}`,`${e}`]),d(".commentsHint")].join(" . ")}),[d,m],[h,i]),v=(0,t.useFacetMap)(((e,t,n)=>[d(".commentsNarration"),d(".role.button"),d(".enumeration",[t?"2":"3",`${e}`]),n,d(".commentsHint")].join(" . ")),[d],[h,i,E]),F=(0,t.useFacetMap)(((e,t,n,a)=>{let r,l=2;return t||l++,""!=n&&"narrow"!=m&&l++,r=d(""!=n?a?".unlikeHint":".likeHint":a?".unlikeCommentHint":".likeCommentHint"),[d(".like"),d(".role.button"),d(".enumeration",[`${l}`,`${e}`]),r].join(" . ")}),[d,m],[h,i,E,o]),y=(0,t.useFacetMap)(((e,t)=>[d(".likesNarration"),d(".role.textBlock"),d(".enumeration",["2",`${e}`]),t].join(" . ")),[d],[h,l]),S=(0,t.useFacetMap)((e=>[d(".options"),d(".role.button"),d(".collapsed"),d(".enumeration",[`${e}`,`${e}`]),d(".optionsHint")].join(" . ")),[d],[h]),C=(0,t.useFacetMap)((e=>d(e?".liked":".like")),[d],[o]),M=(0,t.useFacetMap)((e=>e?TB:xB),[],[o]),w=(0,t.useFacetUnwrap)(o),k=w!==t.NO_VALUE&&w,T=k?"primary":"neutral",x=gr("neutral");return e.createElement(e.Fragment,null,e.createElement(Wr,null,a),e.createElement(Wr,null,e.createElement(Yb,null,e.createElement("div",{className:Or()(CB,"fvA94",x.background.base,x.bevel.base)},e.createElement(Yb.Main,null,e.createElement(t.Mount,{when:i,condition:!1},e.createElement(ic.Maybe,{isInteractive:p,narrationText:y,classNameFocused:ji},e.createElement(zi,null),e.createElement("div",{className:"sfaY_"},e.createElement(Rc,{src:TB,className:MB,imageRendering:"pixelated"}),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"body",align:"left",role:"neutral"},e.createElement(ru,null,l)))))),"narrow"!==m&&!f&&e.createElement(Yb.Cell,null,e.createElement(ic,{narrationText:v,inputLegend:d(".viewComments"),classNameFocused:ji,className:Or()("E004f",x.border.disable),onClick:c},e.createElement(zi,null),e.createElement(zs,{type:"body",align:"right",role:"neutral"},r)))),e.createElement(Ps,{text:[d(".postActions"),d(".postActionsRole")].join(" . ")},e.createElement(Yb.AdditionalAction,{gamepadAlias:g+"like-"+n,narrationText:F,inputLegend:d(".like"),onClick:s,role:T,isSelected:k,extraWide:!0},e.createElement(Rc,{src:M,className:MB,imageRendering:"pixelated"}),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionTiny",role:T},C)),!f&&e.createElement(Yb.AdditionalAction,{narrationText:b,inputLegend:d(".viewComments"),onClick:c,extraWide:!0},e.createElement(Rc,{src:kB,className:MB,imageRendering:"pixelated"}),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionTiny"},d(".comments"))),e.createElement(Yb.AdditionalAction,{narrationText:S,inputLegend:d(".options"),onClick:u,extraWide:!0},e.createElement(Rc,{src:IB,className:MB,imageRendering:"pixelated"}),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionTiny"},d(".options")))))))}function OB({body:n,timePosted:a,timePostedNarration:r,storyFeedElementCount:l,hasViewed:o,image:i=(0,t.createStaticFacet)(""),author:c,commentPostType:s=!1,onContentClicked:u}){const{t:d}=Ii("RealmsStories.feedPost"),m=Ko(),p=(0,t.useFacetMap)((e=>e.gamerTag),[],[c]),f=(0,t.useFacetMap)((e=>e.gamerIcon),[],[c]),g=(0,t.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[c]),E=(0,t.useFacetMap)((e=>""!==e),[],[i]),h=(0,t.useFacetMap)(((e,t,n,a,r,l)=>{const o=[];return s?o.push(d(".storyComment")):o.push(d(".storyPost")),o.push(d(".role.textBlock")),a&&o.push(d(".unread")),o.push(d(".enumeration",["1",`${l}`])),s?o.push(d(".storyCommentDetails",[t,n])):o.push(d(".storyPostDetails",[t,n])),o.push(e),r&&o.push(d(".hasImage")),o.join(" . ")}),[d,s],[n,p,r,o,E,l]),b=gr("neutral"),v=gr("neutral80"),F=(0,t.useFacetCallback)((e=>()=>{u&&""!=e&&u({image:e})}),[u],[i]),y=(0,t.useFacetMap)((e=>!!e&&d(".viewScreenshot")),[d],[E]);return e.createElement(ic,{inputLegend:y,narrationText:h,className:Or()("yj3gN",b.border.base,v.background.base),classNameFocused:ji,onClick:F},e.createElement(zi,null),e.createElement(Yc,{size:4}),e.createElement("div",{className:"Ut00y"},e.createElement("div",null,e.createElement(QI,{src:f,status:g,variant:"large"})),e.createElement(Yc,{size:4}),e.createElement("div",{className:"AiExz"},e.createElement("div",{className:"nfvoC"},e.createElement("div",{className:Or()({sGhk5:"narrow"!==m,uAyem:"narrow"===m})},e.createElement(zs,{type:"body",align:"left",role:"neutral80"},e.createElement(ru,null,p))),e.createElement("div",{className:Or()("tyngs",{i5oiR:"narrow"===m})},e.createElement(zs,{type:"captionShort",align:"narrow"===m?"left":"right",role:"neutral80",variant:"dimmer"},a))),e.createElement(t.Mount,{when:E},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement("div",{className:wB},e.createElement("div",{className:Or()(CB,b.border.base)},e.createElement(Rc,{src:i,aspectRatio:Rc.AspectRatio["16:9"]}))))),e.createElement(Yc,{size:2}),e.createElement("div",{className:wB},e.createElement(zs,{type:"paragraphs",role:"neutral80",overflowWrap:"break-word",whiteSpace:"preWrap"},n)))),e.createElement(t.Mount,{when:o,condition:!1},e.createElement("div",{className:"PknE8"},e.createElement(kh,{role:"secondary"}))))}function AB({playerData:n,iconSize:a}){const r=(0,t.useFacetMap)((e=>e.gamerIcon),[],[n]);return e.createElement(QI,{src:r,status:"offline",variant:a})}function NB({players:n,normalIconCount:a=5,narrowIconCount:r=1,iconSize:l="medium"}){const o="narrow"===Ko()?r:a,i=(0,t.useFacetMap)((e=>e.length>o),[o],[n]),c=(0,t.useFacetMap)(((e,t)=>t?e.slice(e.length-o,e.length).reverse():e.slice().reverse()),[o],[n,i]),s=(0,t.useFacetMap)((e=>"+"+(e.length-o)),[o],[n]);return e.createElement("div",{className:"hAhlq"},e.createElement(t.Map,{array:c},((t,n)=>e.createElement(e.Fragment,null,e.createElement(AB,{playerData:t,iconSize:l}),n<o-1&&e.createElement(Yc,{size:1})))),e.createElement(t.Mount,{when:i},e.createElement("div",{className:"QI6i_"},e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionShort",variant:"dimmer"},s))))}const RB=n.p+"assets/realms_milestone_blank_medium-595d0.png",LB=n.p+"assets/realms_no_player_icon-215e2.png";function _B({eventId:n,timePosted:a,timePostedNarration:r,storyFeedElementCount:l,hasViewed:o,image:i,involvedPlayers:c,coordinates:s,eventMetadata:u}){const d=Yo(70),{t:m}=Ii("RealmsStories.feedEvent"),p=(0,t.useSharedFacet)(Xf),f=(0,t.useFacetMap)((e=>0==e.length?[{gamerTag:"",gamerIcon:LB,hasOptedIn:!0}]:e),[],[c]),g=(0,t.useFacetWrap)(null!=i?i:RB),E=(0,t.useFacetMap)(((e,t)=>!!t.realmCoordinatesStatus&&e.length>0),[],[s,p]),h=(0,t.useFacetMap)(((e,t)=>e?m(".coordinatePrefix")+" "+t.join(", ").toString():""),[m],[E,s]),b=m(".title"),v=(0,t.useFacetWrap)(null!=u?u:""),F=(0,t.useFacetMap)(((e,t,n,a)=>SB({t:m,eventId:e,playerData:t,maxDisplayedPlayers:n?hB.narrow:hB.full,eventMetadata:a})),[m],[n,f,d,v]),y=(0,t.useFacetMap)(((e,t,n,a)=>[b,m(".narration.textblock"),m(".enumeration",["1",`${a}`]),e,t,n].join(" . ")),[m,b],[r,F,h,l]),S=gr("neutral"),C=gr("neutral80"),M=gr("informative");return e.createElement(ic,{inputLegend:!1,narrationText:y,className:Or()(S.border.base,M.background.base),classNameFocused:ji},e.createElement("div",{className:Or()("fQjeY",S.border.base)},e.createElement(Yc,{size:2}),e.createElement("div",{className:"qjmCL"},e.createElement("div",null,e.createElement(NB,{players:f,normalIconCount:hB.full,narrowIconCount:hB.narrow,iconSize:"small"})),e.createElement(Yc,{size:3}),e.createElement("div",{className:"hGxlk"},e.createElement("div",{className:"I6squ"},e.createElement(zs,{verticalAlign:"center",type:"body",align:"left",role:"neutral80"},e.createElement(ru,null,b))),e.createElement("div",{className:"sT_ZL"},e.createElement(zs,{verticalAlign:"center",type:"captionShort",align:"right",role:"neutral80",variant:"dimmer"},a)))),e.createElement(t.Mount,{when:o,condition:!1},e.createElement("div",{className:"YFFzb"},e.createElement(kh,{role:"secondary"})))),e.createElement("div",{className:Or()("oMEKj",S.border.base,C.background.base)},e.createElement(Yc,{size:2}),e.createElement("div",{className:"j4Tsq"},e.createElement(t.Mount,{when:d,condition:!1},e.createElement(e.Fragment,null,e.createElement("div",{className:"DUQsW"},e.createElement("div",{className:"SjM9I"}),e.createElement(Rc,{className:"szNOn",src:g,imageRendering:"pixelated"})),e.createElement(Yc,{size:4}))),e.createElement("div",{className:"jcPqX"},e.createElement(zs,{verticalAlign:"center",type:"body",role:"neutral80"},F),e.createElement(t.Mount,{when:E},e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement(ux,{role:"neutral100"},h)))))),e.createElement(zi,null))}function DB({eventId:n,timePosted:a,timePostedNarration:r,storyFeedElementCount:l,hasViewed:o,image:i,involvedPlayers:c,eventMetadata:s}){const{t:u}=Ii("RealmsStories.feedEvent"),d=u(".title"),m=Yo(70),p=gr("neutral"),f=gr("informative"),g=gr("neutral80"),[E,h]=(0,t.useFacetState)("0px"),b=(0,e.useRef)(null);Qo(b,(({width:e})=>{h(e/1.778+"px")}));const v=(0,t.useFacetWrap)(i),F=(0,t.useFacetWrap)(null!=s?s:""),y=(0,t.useFacetMap)(((e,t,n,a)=>SB({t:u,eventId:e,playerData:t,maxDisplayedPlayers:n?EB.narrow:EB.full,eventMetadata:a})),[u],[n,c,m,F]),S=(0,t.useFacetMap)(((e,t,n,a)=>{const r=n.map((e=>e.gamerTag));return[d,u(".narration.textblock"),u(".enumeration",["1",`${a}`]),e,t,u(".playersInvolved"),r].join(" . ")}),[u,d],[r,y,c,l]);return e.createElement(ic,{inputLegend:!1,narrationText:S,className:Or()(p.border.base,f.background.base),classNameFocused:ji},e.createElement("div",{className:Or()("SiIZ7",p.border.base,f.background.base)},e.createElement("div",{className:"TPnZd"},e.createElement(zs,{type:"body",align:"left",role:"neutral80"},e.createElement(ru,null,d))),e.createElement("div",{className:"F62qB"},e.createElement(zs,{type:"captionShort",align:"right",role:"neutral80",variant:"dimmer"},a)),e.createElement(t.Mount,{when:o,condition:!1},e.createElement("div",{className:"eMxqg"},e.createElement(kh,{role:"secondary"})))),e.createElement("fast-div",{ref:b,className:Or()("MW5xI",g.background.base),style:{height:E}},e.createElement("div",{className:"xs3XP"},e.createElement(Rc,{aspectRatio:Rc.AspectRatio["16:9"],src:v})),e.createElement("div",{className:"ZOpN_"},e.createElement(Yc,{size:4}),e.createElement(zs,{type:"header5B",align:"center",role:"neutral80"},y),e.createElement(Yc,{size:2}),e.createElement(NB,{players:c,normalIconCount:EB.full,narrowIconCount:EB.narrow,iconSize:"medium"}),e.createElement(Yc,{size:4}))),e.createElement(zi,null))}var BB;!function(e){e[e.DELETE=0]="DELETE",e[e.NOTIFY=1]="NOTIFY",e[e.REPORT=2]="REPORT"}(BB||(BB={}));const WB=_i((({isAuthor:n,isRealmOwner:a,isCommentOptions:r=!1,isEvent:l=!1,onClose:o,onDelete:i,onNotify:c,onReport:s})=>{const{t:u}=Ii("RealmsStories.feedPost"),d=u(r?".options.comment.delete":".options.delete"),m=(0,t.useFacetMap)(((e,t,n)=>{const a=[{isVisible:t||e&&!n,gamepadAlias:"OPTION-DELETE",label:d,value:BB.DELETE},{isVisible:!t,gamepadAlias:"OPTION-NOTIFY",label:u(".options.notify"),value:BB.NOTIFY},{isVisible:!e&&!n,gamepadAlias:"OPTION-REPORT",label:u(".options.report"),value:BB.REPORT}].filter((e=>e.isVisible)),r=a.length;return a.map(((e,t)=>({enumeration:u(".options.enumeration",[`${t+1}`,`${r}`]),gamepadAlias:e.gamepadAlias,label:e.label,value:e.value})))}),[u,d],[(0,t.useFacetWrap)(n),(0,t.useFacetWrap)(a),(0,t.useFacetWrap)(l)]),p=(0,e.useCallback)((e=>{switch(e){case BB.DELETE:i();break;case BB.NOTIFY:c();break;case BB.REPORT:s()}}),[i,c,s]);return e.createElement(RR,{onClose:o,onItemSelect:p,isOpen:!0,title:u(".options"),items:m})})),UB="confirm-delete-story-modal",zB=_i((({onConfirm:t,onCancel:n,isCommentOptions:a})=>{const{t:r}=Ii(a?"RealmsStories.feedPost.options.comment":"RealmsStories.feedPost.options");return e.createElement(Ld,{defaultFocusAlias:UB},e.createElement(Ld.Header,{onClose:n},r(".delete.title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:r(".delete.message.narration"),gamepadIndex:0},r(".delete.message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,gamepadAlias:UB,inputLegend:r(".delete"),variant:"destructive",onClick:t},r(".delete")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,inputLegend:r(".delete.cancel"),variant:"secondary",onClick:n,narrationSuffix:r(".delete.cancel.description")},r(".delete.cancel"))))})),jB="confirm-notify-story-modal",HB=_i((({onConfirm:t,onCancel:n,isCommentOptions:a})=>{const{t:r}=Ii("RealmsStories.feedPost.options.notify"),l=r(a?".message.comment":".message"),o=r(a?".message.comment.narration":".message.narration");return e.createElement(Ld,{defaultFocusAlias:jB},e.createElement(Ld.Header,{onClose:n},r(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:o,gamepadIndex:0},l)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,gamepadAlias:jB,inputLegend:r(".confirm"),variant:"destructive",onClick:t},r(".confirm")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,inputLegend:r(".cancel"),variant:"secondary",onClick:n,narrationSuffix:r(".cancel.description")},r(".cancel"))))})),VB="delete-failed-modal",GB=_i((({onClose:t,isCommentOptions:n})=>{const{t:a}=Ii(n?"RealmsStories.feedPost.options.failed.comment":"RealmsStories.feedPost.options.failed");return e.createElement(Ld,{defaultFocusAlias:VB},e.createElement(Ld.Header,{onClose:t},a(".deleteTitle")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:a(".deleteMessage"),gamepadIndex:0},a(".deleteMessage"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,gamepadAlias:VB,inputLegend:a(".close"),variant:"secondary",onClick:t},a(".close"))))})),$B="notify-failed-modal",KB=_i((({onClose:t})=>{const{t:n}=Ii("RealmsStories.feedPost.options.failed");return e.createElement(Ld,{defaultFocusAlias:$B},e.createElement(Ld.Header,{onClose:t},n(".notifyTitle")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:n(".notifyMessage"),gamepadIndex:0},n(".notifyMessage"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,gamepadAlias:$B,inputLegend:n(".close"),variant:"secondary",onClick:t},n(".close"))))})),XB="report-failed-modal",YB=(_i((({onClose:t})=>{const{t:n}=Ii("RealmsStories.feedPost.options.failed");return e.createElement(Ld,{defaultFocusAlias:XB},e.createElement(Ld.Header,{onClose:t},n(".reportTitle")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:n(".reportMessage"),gamepadIndex:0},n(".reportMessage"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,gamepadAlias:XB,inputLegend:n(".close"),variant:"secondary",onClick:t},n(".close"))))})),"timeline-information-learn-more"),qB=_i((({closeModal:t,learnMore:n})=>{const{t:a}=Ii("RealmsStories.Timeline.Information"),r=(0,e.useCallback)((()=>{t(),n()}),[n,t]);return e.createElement(Ld,{onOverlayClick:t,defaultFocusAlias:YB},e.createElement(Ld.Header,{onClose:t},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:a(".message")},a(".message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:YB,variant:"primary",inputLegend:a(".select"),onClick:r,narrationSuffix:a(".enumeration",["1","2"])},a(".learnMore")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:a(".select"),onClick:t,narrationSuffix:a(".enumeration",["2","2"])},a(".close"))))})),QB="confirm-delete-story-modal",JB=_i((({reportStatus:n,onClose:a})=>{const{t:r}=Ii("RealmsStories.ReportResultModal"),l=(0,t.useFacetMap)((e=>e===xg.Success),[],[n]),o=(0,t.useFacetMap)((e=>r(e?".title.success":".title.fail")),[r],[l]),i=(0,t.useFacetMap)((e=>r(e?".text.success":".text.fail")),[r],[l]),c=(0,t.useFacetMap)((e=>[r(".text.role"),e].join(" . ")),[r],[i]);return e.createElement(Ld,{defaultFocusAlias:QB},e.createElement(Ld.Header,{onClose:a},o),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:c},i)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:QB,inputLegend:r(".button.inputLegend"),onClick:a},r(".button.close"))))}));let ZB;function eW({sender:n,timestamp:a,image:r,content:l,containerType:o}){const i=gr("neutral"),c=(0,t.useFacetWrap)(null!=r?r:""),s=(0,t.useFacetMap)((e=>""!==e),[],[c]),{t:u}=Ii("SideStoryPostContainer"),d=(0,t.useFacetMap)(((e,t,n)=>[u(".hint",[e]),t,n].join(" . ")),[u],[n,a,l]);return e.createElement(vv,{gamepadIndex:0,narrationPrefix:u(".name"),narrationRole:u(".role"),narrationSuffix:d,spacingAroundSideMenu:e.createElement(Yc,{size:2})},e.createElement(t.Mount,{when:s},e.createElement(e.Fragment,null,e.createElement(vv.Item,null,e.createElement("div",{className:"cp2HY"},e.createElement(Fl,{data:o},(t=>{switch(t){case ZB.LARGE_EVENT:return e.createElement(Rc,{src:c,aspectRatio:Rc.AspectRatio["16:9"]});case ZB.MEDIUM_EVENT:return e.createElement(e.Fragment,null,e.createElement(n_,{minWidth:64,minHeight:36,minBorderWidth:3,containerClassName:"XJPHZ",frameClassName:"BAWlI"}),e.createElement(t_,{src:c,minWidth:64,minHeight:36,minBorderWidth:3,className:"qMd49"}));case ZB.STORY:return e.createElement(Rc,{src:c,aspectRatio:Rc.AspectRatio["16:9"],className:Or()("LDTnm",i.border.base)});default:return null}})))),e.createElement(Yc,{size:2}))),e.createElement(vv.Item,null,e.createElement(zs,{type:"captionShort"},n),e.createElement(zs,{type:"captionShort",variant:"dimmer"},a),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"captionLong",overflowWrap:"break-word",whiteSpace:"preWrap"},l)))}!function(e){e[e.STORY=0]="STORY",e[e.MEDIUM_EVENT=1]="MEDIUM_EVENT",e[e.LARGE_EVENT=2]="LARGE_EVENT"}(ZB||(ZB={}));function tW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function nW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tW(Object(n),!0).forEach((function(t){aW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aW(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let rW;!function(e){e.Post="story",e.Comment="comment"}(rW||(rW={}));var lW,oW,iW;!function(e){e[e.FeedItem=0]="FeedItem",e[e.Comment=1]="Comment",e[e.Gamertag=2]="Gamertag"}(lW||(lW={})),function(e){e[e.SexuallyInappropriate=0]="SexuallyInappropriate",e[e.Violence=1]="Violence",e[e.Harassment=2]="Harassment",e[e.Spam=3]="Spam",e[e.TerroristContent=4]="TerroristContent",e[e.SomethingElse=5]="SomethingElse"}(oW||(oW={})),function(e){e[e.ImminentHarm=0]="ImminentHarm",e[e.HateSpeech=1]="HateSpeech",e[e.Fraud=2]="Fraud",e[e.Cheating=3]="Cheating",e[e.ChildAbuse=4]="ChildAbuse",e[e.DrugsOrAlcohol=5]="DrugsOrAlcohol",e[e.Profanity=6]="Profanity",e[e.SelfHarm=7]="SelfHarm",e[e.Other=8]="Other"}(iW||(iW={}));const cW={[lW.FeedItem]:"feedItem",[lW.Comment]:"comment",[lW.Gamertag]:"gamertag"},sW={[oW.SexuallyInappropriate]:"sexuallyinappropriate",[oW.Violence]:"violenceorgore",[oW.Harassment]:"harassment",[oW.Spam]:"spamoradvertising",[oW.TerroristContent]:"terroristorviolentextremist",[oW.SomethingElse]:"somethingElse"},uW={[iW.ImminentHarm]:"imminentharmpersonsorproperty",[iW.HateSpeech]:"hatespeech",[iW.Fraud]:"fraud",[iW.Cheating]:"cheating",[iW.ChildAbuse]:"csam",[iW.DrugsOrAlcohol]:"drugsoralcohol",[iW.Profanity]:"profanity",[iW.SelfHarm]:"selfharmorsuicide",[iW.Other]:"other"};function dW(){const n=(0,t.useSharedFacet)(Gf),a=(0,t.useSharedFacet)(Yf),r=(0,t.useSharedFacet)(vf),l=(0,t.useSharedFacet)(mf),{t:o}=Ii("RealmsStories.ReportFeedItem"),i=gr("inherit"),c=u(),s=m(),d=f(),p=c.goBack,g=(0,t.useFacetMap)((e=>{if(null!=e.postType){if(e.postType==rW.Post)return rW.Post;if(e.postType==rW.Comment)return rW.Comment}}),[],[s]),E=(0,t.useFacetMap)((e=>e.get("postId")),[],[d]),h=(0,t.useFacetMap)(((e,t,n,a)=>{if(null!=t&&null!=e)return t===rW.Post?n.stories.find((t=>t.id===e)):a.comments.find((t=>t.id===e))}),[],[E,g,n,a]),b=(0,t.useFacetMap)(((e,t)=>{if(e){const n=t.players.find((t=>t.xuid===e.authorXuid));return n?n.gamerTag:void 0}}),[],[h,r]),v=(0,t.useFacetMap)(((e,t,n)=>null!=e&&null!=t&&null!=n?{postId:t.id,parentPostId:e===rW.Comment?t.parentId:"",authorGamertag:n,timePosted:t.timePosted,timePostedNarration:t.timePostedNarration,image:e===rW.Post?t.image:"",body:t.body}:{postId:"",parentPostId:"",authorGamertag:"",timePosted:"",timePostedNarration:"",image:"",body:""}),[],[g,h,b]),F=(0,t.useFacetMap)(((e,t,n,a)=>null!=e&&null!=t&&null!=n&&null!=a),[],[g,E,h,b]),y=(0,t.useFacetMap)(((e,t,n)=>e?t===rW.Post?o(".screenTitle.feedItem",[n.authorGamertag]):o(".screenTitle.comment",[n.authorGamertag]):o(".error.title")),[o],[F,g,v]),S=o(".hideContent"),[C,M]=(0,t.useFacetState)(!1),w=(0,t.useFacetMap)((e=>e.authorGamertag),[],[v]),k=(0,t.useFacetMap)((e=>e.timePosted),[],[v]),T=(0,t.useFacetMap)((e=>e.body),[],[v]),x=(0,t.useFacetMap)((e=>e.image),[],[v]),I=(0,t.useFacetWrap)(ZB.STORY),P=(0,t.useFacetMap)((e=>o(".targetPanel.title",[e])),[o],[w]),O=o(".targetPanel.description"),A=(0,t.useFacetMap)((e=>[e,O].join(" . ")),[O],[P]),[N,R]=(0,t.useFacetState)(lW.FeedItem);(0,t.useFacetEffect)((e=>e===rW.Post?R(lW.FeedItem):R(lW.Comment)),[R],[g]);const L=(0,t.useFacetMemo)(((e,t)=>{const n=[];return n.push(e===rW.Post?{value:lW.FeedItem,label:o(`.targetOption.${cW[lW.FeedItem]}`),gamepadAlias:cW[lW.FeedItem]}:{value:lW.Comment,label:o(`.targetOption.${cW[lW.Comment]}`),gamepadAlias:cW[lW.Comment]}),n.push({value:lW.Gamertag,label:o(`.targetOption.${cW[lW.Gamertag]}`),gamepadAlias:cW[lW.Gamertag]}),n.map(((e,n,a)=>{const r=e.value===t;return nW(nW({},e),{},{enumeration:o(".enumeration",[`${n+1}`,`${a.length+1}`]),isSelected:r,isSelectable:r})}))}),[o],[g,N]),_=(0,t.useFacetMap)((e=>o(".enumeration",[`${e.length+1}`,`${e.length+1}`])),[o],[L]),D=(0,t.useFacetMap)((e=>o(`.targetPanel.description.${cW[e]}`)),[o],[N]),[B,W]=(0,t.useFacetState)(void 0),U=(0,t.useFacetMemo)((e=>[{value:oW.SexuallyInappropriate,label:o(`.reasonOption.${sW[oW.SexuallyInappropriate]}`),gamepadAlias:sW[oW.SexuallyInappropriate]},{value:oW.Violence,label:o(`.reasonOption.${sW[oW.Violence]}`),gamepadAlias:sW[oW.Violence]},{value:oW.Harassment,label:o(`.reasonOption.${sW[oW.Harassment]}`),gamepadAlias:sW[oW.Harassment]},{value:oW.Spam,label:o(`.reasonOption.${sW[oW.Spam]}`),gamepadAlias:sW[oW.Spam]},{value:oW.TerroristContent,label:o(`.reasonOption.${sW[oW.TerroristContent]}`),gamepadAlias:sW[oW.TerroristContent]},{value:oW.SomethingElse,label:o(`.reasonOption.${sW[oW.SomethingElse]}`),gamepadAlias:sW[oW.SomethingElse]}].map(((t,n,a)=>{const r=t.value===e;return nW(nW({},t),{},{enumeration:o(".enumeration",[`${n+1}`,`${a.length+1}`]),isSelected:r,isSelectable:r})}))),[o],[B]),z=(0,t.useFacetMap)((e=>o(".enumeration",[`${e.length+1}`,`${e.length+1}`])),[o],[U]),j=(0,t.useFacetMap)((e=>e===oW.SomethingElse),[],[B]),[H,V]=(0,t.useFacetState)(void 0),G=(0,t.useFacetMemo)((e=>[{value:iW.ImminentHarm,label:o(`.somethingElseOption.${uW[iW.ImminentHarm]}`),gamepadAlias:uW[iW.ImminentHarm]},{value:iW.HateSpeech,label:o(`.somethingElseOption.${uW[iW.HateSpeech]}`),gamepadAlias:uW[iW.HateSpeech]},{value:iW.Fraud,label:o(`.somethingElseOption.${uW[iW.Fraud]}`),gamepadAlias:uW[iW.Fraud]},{value:iW.Cheating,label:o(`.somethingElseOption.${uW[iW.Cheating]}`),gamepadAlias:uW[iW.Cheating]},{value:iW.ChildAbuse,label:o(`.somethingElseOption.${uW[iW.ChildAbuse]}`),gamepadAlias:uW[iW.ChildAbuse]},{value:iW.DrugsOrAlcohol,label:o(`.somethingElseOption.${uW[iW.DrugsOrAlcohol]}`),gamepadAlias:uW[iW.DrugsOrAlcohol]},{value:iW.Profanity,label:o(`.somethingElseOption.${uW[iW.Profanity]}`),gamepadAlias:uW[iW.Profanity]},{value:iW.SelfHarm,label:o(`.somethingElseOption.${uW[iW.SelfHarm]}`),gamepadAlias:uW[iW.SelfHarm]},{value:iW.Other,label:o(`.somethingElseOption.${uW[iW.Other]}`),gamepadAlias:uW[iW.Other]}].map(((t,n,a)=>{const r=t.value===e;return nW(nW({},t),{},{enumeration:o(".enumeration",[`${n+1}`,`${a.length+1}`]),isSelected:r,isSelectable:r})}))),[o],[H]),$=(0,t.useFacetMap)((e=>o(".enumeration",[`${e.length+1}`,`${e.length+1}`])),[o],[G]),[K,X]=(0,t.useFacetState)(""),Y=(0,t.useFacetMap)((e=>[o(`.commentPanel.description.${cW[e]}`),o(".commentPanel.description.addComment")].join(" ")),[o],[N]),q=(0,t.useFacetMap)(((e,t)=>null==e||e===oW.SomethingElse&&null==t),[],[B,H]),Q=(0,t.useFacetMap)((e=>{const t=o(".enumeration",["1","2"]);return e?[t,o(".reportPanel.report.disabledHint")].join(" . "):t}),[o],[q]),J=(0,t.useFacetCallback)(((e,t,n,a,r,l,o)=>()=>{let i="";r&&null!=l?i=uW[l]:null==a||r||(i=sW[a]),e===lW.Gamertag?t.reportGamertagToXbox(n.authorGamertag,n.postId,n.parentPostId,i,o):t.reportFeedItemToXbox(n.postId,n.parentPostId,i,o),c.goBack()}),[c],[N,l,v,B,j,H,K]);return e.createElement(NO,{onBack:p,title:y,screenAnalyticsId:"RealmsStoriesReportFeedItem",gamepadAlias:"realms-stories-report-feed-item"},(()=>e.createElement(UE,null,e.createElement(Yc,{size:4}),e.createElement(UE.Row,null,e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:F,condition:!1},e.createElement(UE.Column,{wideSize:12,narrowSize:8},e.createElement(GE,{title:o(".error.title"),text:o(".error.text"),buttons:[{text:o(".error.buttonText"),onClick:p,inputLegend:o(".buttonLegend")}]}))),e.createElement(t.Mount,{when:F},e.createElement(e.Fragment,null,e.createElement(UE.Column,{wideSize:4,narrowSize:0},e.createElement("div",{className:Or()("uHQQt",i.border.base)},e.createElement(iC,{title:S,value:C,onChange:M})),e.createElement(t.Mount,{when:C,condition:!1},e.createElement(eW,{sender:w,timestamp:k,content:T,image:x,containerType:I}))),e.createElement(UE.Column,{wideSize:8,narrowSize:8},e.createElement(ys,{floating:!0,delegateFocusFromMemory:!0},e.createElement("div",{className:Or()("gSWtr",i.border.base)},e.createElement(du,{narrationText:A},e.createElement(pu,null,P),e.createElement(fu,null,O),e.createElement(Yc,{size:2}),e.createElement(lB,{title:o(".targetOptions.title"),options:L,value:N,onItemSelect:R,buttonTestId:"target-dropdown-button",closeButtonNarrationSuffix:_,dropdownNarrationSuffix:D}),e.createElement(Yc,{size:4}),e.createElement(fu,null,D)),e.createElement(du,{narrationText:[o(".reasonPanel.title"),o(".reasonPanel.description")].join(" . ")},e.createElement(pu,null,o(".reasonPanel.title")),e.createElement(fu,null,o(".reasonPanel.description")),e.createElement(Yc,{size:2}),e.createElement(lB,{title:o(".reasonOptions.title"),options:U,value:B,onItemSelect:W,placeholderText:o(".reasonOptions.placeholder"),buttonTestId:"reason-dropdown-button",closeButtonNarrationSuffix:z}),e.createElement(t.Mount,{when:j},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(lB,{title:o(".reasonOptions.title"),options:G,value:H,onItemSelect:V,placeholderText:o(".reasonOptions.placeholder"),buttonTestId:"something-else-dropdown-button",closeButtonNarrationSuffix:$})))),e.createElement(Uu,{label:o(".commentPanel.title"),description:Y,placeholder:o(".commentPanel.placeholder"),value:K,maxLength:350,rows:6,onChange:X}),e.createElement(YS,{title:o(".reportPanel.title"),description:o(".reportPanel.description"),stackedButtons:!0,buttons:e.createElement(e.Fragment,null,e.createElement(Pu,{variant:"destructive",inputLegend:o(".buttonLegend"),onClick:J,narrationSuffix:Q,disabled:q},o(".reportPanel.report")),e.createElement(YS.ButtonSpacing,null),e.createElement(Pu,{variant:"secondary",inputLegend:o(".buttonLegend"),onClick:p,narrationSuffix:o(".enumeration",["2","2"])},o(".reportPanel.cancel")))})))))))),e.createElement(Yc,{size:4}),e.createElement(wd.Space,null))))}const mW=e=>{const n=Ko(),a=(0,t.useFacetMap)((e=>0===e.totalLikes),[],[e]);return(0,t.useFacetMap)((e=>{let t=4;return e||t++,"narrow"!=n&&t++,t}),[n],[a])};function pW({realmStory:n,onContentClicked:a}){const r=(0,t.useSharedFacet)(vf),l=(0,t.useSharedFacet)(pf),o=(0,t.useFacetMap)((e=>e.body),[],[n]),i=(0,t.useFacetMap)((e=>e.timePosted),[],[n]),c=(0,t.useFacetMap)((e=>e.timePostedNarration),[],[n]),s=(0,t.useFacetMap)((e=>e.image),[],[n]),u=(0,t.useFacetMap)((e=>e.authorXuid),[],[n]),d=(0,t.useFacetMap)((e=>e.players),[],[r]),m=(0,t.useFacetMap)(((e,t)=>{const n=om(t,(t=>t.xuid===e));return null!=n?n:pB}),[],[u,d]),p=(0,t.useFacetMap)((e=>e.hasViewed),[],[n]),f=(0,t.useFacetMap)(((e,t,n)=>e||t===n.userXuid),[],[p,u,l]),g=mW(n);return e.createElement(OB,{body:o,timePosted:i,timePostedNarration:c,storyFeedElementCount:g,hasViewed:f,image:s,author:m,onContentClicked:a})}function fW({realmStory:n}){const a=(0,t.useSharedFacet)(vf),r=(0,t.useFacetMap)((e=>e.players),[],[a]),l=(0,t.useFacetMap)((e=>e.body),[],[n]),o=(0,t.useFacetMap)((e=>e.timePosted),[],[n]),i=(0,t.useFacetMap)((e=>e.timePostedNarration),[],[n]),c=(0,t.useFacetMap)((e=>e.hasViewed),[],[n]),s=(0,t.useFacetMap)((e=>vB.has(e.body)?fB(e.body):""),[],[n]),u=(0,t.useFacetMap)((e=>{const t=[];if(e.isEvent&&e.isEventLoaded)for(let n=0;n<e.eventPlayerXuids.length;n++)t.push(e.eventPlayerXuids[n]);return t}),[],[n]),d=(0,t.useFacetMap)(((e,t)=>t.filter((t=>e.includes(t.xuid))).map((e=>null!=e?e:pB))),[],[u,r]),m=(0,t.useFacetMap)((e=>e.isEventLoaded&&e.isEvent&&e.eventHasCoordinates?[e.eventXCoordinate,e.eventYCoordinate,e.eventZCoordinate]:[]),[],[n]),p=(0,t.useFacetMap)((e=>{var t;return null!==(t=yB(e.body))&&void 0!==t?t:"medium"}),[],[n]),f=(0,t.useFacetMap)((e=>e.eventMetadata),[],[n]),g=mW(n);return e.createElement(Fl,{data:p},(t=>{switch(t){case"medium":return e.createElement(_B,{eventId:l,timePosted:o,timePostedNarration:i,storyFeedElementCount:g,hasViewed:c,image:s,involvedPlayers:d,coordinates:m,eventMetadata:f});case"large":return e.createElement(DB,{eventId:l,timePosted:o,timePostedNarration:i,storyFeedElementCount:g,hasViewed:c,image:s,involvedPlayers:d,eventMetadata:f});default:return null}}))}function gW({realmStory:n,index:a,numberOfStories:r,deleteStory:l,onContentClicked:o}){const i=(0,t.useSharedFacet)(mf),c=(0,t.useSharedFacet)(Ef),s=(0,t.useSharedFacet)(pf),{t:d}=Ii("RealmsStories.feedPost"),p=u(),f=m();!function(e){const n=(0,t.useSharedFacet)(mf),a=(0,t.useFacetMap)((e=>e.id),[],[e]),r=(0,t.useFacetMap)((e=>e.toggleLikeStatus),[],[e]);(0,t.useFacetEffect)(((e,t,n)=>{e===xg.Success&&t.clearToggleLikeStatus(n)}),[],[r,n,a])}(n),function(e){const n=(0,t.useSharedFacet)(mf),a=(0,t.useFacetMap)((e=>e.id),[],[e]),r=(0,t.useFacetMap)((e=>e.imageStatus),[],[e]);(0,t.useFacetEffect)(((e,t,n)=>{e===Tg.Idle&&t.fetchStoryImage(n)}),[],[r,n,a])}(n),function(e){const n=(0,t.useSharedFacet)(mf),a=(0,t.useFacetCallback)((e=>t=>{e.setViewed(t,"")}),[],[n]);(0,t.useFacetEffect)((e=>{e.setViewedStatus===xg.Idle&&a(e.id)}),[a],[e])}(n);const g=(0,t.useFacetMap)((e=>1===e.totalComments?d(".totalComment",[e.totalComments.toString()]):d(".totalComments",[e.totalComments.toString()])),[d],[n]),E=(0,t.useFacetMap)((e=>1===e.totalLikes?d(".totalLike",[e.totalLikes.toString()]):d(".totalLikes",[e.totalLikes.toString()])),[d],[n]),h=(0,t.useFacetMap)((e=>e.hasLiked),[],[n]),b=(0,t.useFacetMap)((e=>0===e.totalLikes),[],[n]),v=(0,t.useSharedFacet)(Gf),F=m(),y=(0,t.useFacetMap)((e=>e.realmId),[],[F]),S=(0,t.useFacetCallback)(((e,t,n,a)=>()=>{t.currentStoryId=e.id,$f(n.stories),p.push(`/realms-story-comments/${encodeURIComponent(e.id)}/${a}`)}),[p],[n,c,v,y]),C=(0,t.useFacetCallback)(((e,t)=>()=>{e.toggleLikeStatus===xg.Idle&&t.toggleLike(e.id,"")}),[],[n,i]),M=WB.useModal(),w=(0,t.useFacetMap)((e=>e.authorXuid),[],[n]),k=(0,t.useFacetMap)(((e,t)=>e===t.userXuid),[],[w,s]),T=(0,t.useFacetMap)((e=>e.ownerXuid===e.userXuid),[],[s]),x=(0,t.useFacetMap)((e=>e.isEventLoaded&&e.isEvent),[],[n]),I=(0,t.useFacetMap)((e=>!e.isEvent||e.isEventLoaded),[],[n]),P=zB.useModal(),O=(0,e.useCallback)((()=>{P.hide(),M.hide()}),[P,M]),A=(0,t.useFacetCallback)((e=>()=>{l(e.id),O()}),[l,O],[n,i]),N=HB.useModal(),R=(0,e.useCallback)((()=>{N.hide(),M.hide()}),[N,M]),L=(0,t.useFacetCallback)(((e,t)=>()=>{t.reportToClubOwner(e.id,""),R()}),[R],[n,i]),_=(0,t.useFacetMap)((e=>e.reportToClubOwnerStatus==xg.InputInvalid||e.reportToClubOwnerStatus==xg.InternalError||e.reportToClubOwnerStatus==xg.UploadFailed||e.reportToClubOwnerStatus==xg.PostingFailed),[],[n]),D=(0,t.useFacetCallback)(((e,t)=>()=>t.clearReportToClubOwnerStatus(e.id)),[],[n,i]),B=(0,t.useFacetCallback)(((e,t)=>()=>{M.hide(),p.push(`/realms-stories-report-feed-item/${rW.Post}/${e.realmId}?postId=${t.id}`)}),[p,M],[f,n]),W=(0,t.useFacetMap)((e=>e.reportToXboxStatus),[],[n]),U=(0,t.useFacetMap)((e=>e!==xg.Idle&&e!==xg.InProgress&&e!==xg.RateLimit),[],[W]),z=(0,t.useFacetCallback)(((e,t)=>()=>{e.clearReportToXboxStatus(t.id)}),[],[i,n]),j=(0,t.useSharedFacet)(_p);(0,t.useFacetEffect)(((e,t,n)=>{e.reportToClubOwnerStatus===xg.Success&&(t.queueSnackbar(d(".options.notify.toast")),n.clearReportToClubOwnerStatus(e.id))}),[d],[n,j,i]);const H=(0,t.useFacetMap)((e=>e.reportToClubOwnerStatus==xg.RateLimit||e.reportToXboxStatus==xg.RateLimit),[],[n]),V=(0,t.useFacetCallback)((e=>()=>{e.reportToClubOwnerStatus==xg.RateLimit&&D(),e.reportToXboxStatus==xg.RateLimit&&z()}),[D,z],[n]),G=(0,t.useFacetMap)((e=>[d(".storyPostGroup"),d(".postGroupRole"),d(".postGroupEnumeration",[`${a+1}`,`${e}`])].join(" . ")),[a,d],[r]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:I},e.createElement(Ps,{text:G},e.createElement(PB,{content:e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:x},e.createElement(fW,{realmStory:n})),e.createElement(t.Mount,{when:x,condition:!1},e.createElement(pW,{realmStory:n,onContentClicked:o}))),index:a,totalComments:g,totalLikes:E,hasLiked:h,hideLikes:b,openCommentsCallback:S,toggleLikeCallback:C,openOptionsCallback:M.show}))),e.createElement(t.Mount,{when:M.isVisible},e.createElement(WB.Component,{isAuthor:k,isRealmOwner:T,isEvent:x,onClose:M.hide,onDelete:P.show,onNotify:N.show,onReport:B})),e.createElement(t.Mount,{when:P.isVisible},e.createElement(zB.Component,{onConfirm:A,onCancel:O,isCommentOptions:!1})),e.createElement(t.Mount,{when:N.isVisible},e.createElement(HB.Component,{onConfirm:L,onCancel:R,isCommentOptions:!1})),e.createElement(t.Mount,{when:_},e.createElement(KB.Component,{onClose:D})),e.createElement(t.Mount,{when:H},e.createElement(mA.Component,{onClickClose:V})),e.createElement(t.Mount,{when:U},e.createElement(JB.Component,{reportStatus:W,onClose:z})))}let EW;!function(e){e[e.IDLE=0]="IDLE",e[e.DELETING_POST=1]="DELETING_POST",e[e.SWAPING_PAGE=2]="SWAPING_PAGE",e[e.ERROR=3]="ERROR"}(EW||(EW={}));const hW=_i((({src:n,isLoading:a=!1,onClose:r,narrationText:l,closeNarration:o,closeInputLegend:i})=>{const c=(0,e.useRef)(null),s=(0,t.useFacetWrap)(a);return e.createElement("div",{className:"WlzXz"},e.createElement("div",{className:"HbJ0B"},e.createElement(Ps,{text:l},e.createElement("div",{ref:c,className:"mLVo_"},e.createElement(Pc,{containerRef:c,shouldBindFocus:!0,delegateFocusFromMemory:!0},e.createElement(t.Mount,{when:s},e.createElement("div",{className:"VpoQp"},e.createElement(vs,null))),e.createElement(t.Mount,{when:s,condition:!1},e.createElement(Rc,{src:n,className:"qKD_a",cover:!0})),e.createElement(Ts,{onClick:r,options:{button:W.B,inputLegend:i}}),e.createElement("div",{className:"MksnB"},e.createElement(Pu,{inputLegend:i,narrationPrefix:o,Icon:ME,onClick:r,"data-testid":"fullImageModalCloseButtonTestId"})))))),e.createElement(wd.Space,null))}));function bW(){const n=Yo(102.3),a=(0,t.useSharedFacet)(Gf),r=(0,t.useSharedFacet)(vf),l=(0,t.useSharedFacet)(mf),o=(0,t.useSharedFacet)(Lf),i=(0,t.useSharedFacet)(el),c=(0,t.useSharedFacet)(Ef),{t:s}=Ii("RealmsStories"),{t:d}=Ii("RealmsStories.feed"),p="story-entry-like-0",f=u(),g=ve(),E=Ko(70,100);let h=1,b=4,v=6,F=10;"narrow"===E?(h=0,b=3,v=5,F=8):"tablet"===E&&(h=0,v=8,F=12);const y=(0,e.useRef)(!0);(0,t.useFacetEffect)(((e,t)=>{y.current&&(e.loadStoriesSlice(0,t.pageLength),y.current=!1)}),[],[l,a]);const S=(0,t.useFacetMap)((e=>e?2:7),[],[n]),C=(0,t.useFacetMap)((e=>!e.storiesFirstPageReady),[],[a]),M=(0,t.useFacetMap)((e=>e.stories),[],[a],(()=>()=>!1)),w=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.stories.length)&&void 0!==t?t:0}),[],[a]),[k,T]=(0,t.useFacetState)(1),x=(0,e.useRef)(null),I=(0,t.useFacetMap)((e=>Math.ceil(e.totalStories/e.pageLength)),[],[a]),P=(0,t.useFacetCallback)(((e,t)=>n=>{$f(t.stories),T(n);const a=(n-1)*t.pageLength,r=a+t.pageLength;e.loadStoriesSlice(a,r),x.current&&(x.current.scrollTop=0),g(p)}),[T,g],[l,a]),O=function(e,n){const[a,r]=(0,t.useFacetState)(EW.IDLE),[l,o]=(0,t.useFacetState)(""),[i,c]=(0,t.useFacetState)(0),[s,u]=(0,t.useFacetState)(xg.Idle),d=(0,t.useSharedFacet)(Gf),m=(0,t.useSharedFacet)(mf),p=(0,t.useFacetCallback)(((e,t)=>n=>{e===EW.IDLE&&(o(n),r(EW.DELETING_POST),t.delete(n,""))}),[r,o],[a,m]),f=(0,t.useFacetCallback)(((e,t,n)=>()=>{e!==EW.IDLE&&(e===EW.ERROR&&(t.clearDeleteStatus(n),u(xg.Idle)),o(""),c(0),r(EW.IDLE))}),[o,c,r,u],[a,m,l]);return(0,t.useFacetEffect)(((e,t,a,l)=>{if(e!==EW.DELETING_POST)return;const o=a.stories.find((e=>e.id===t));o?o.deleteStatus!==xg.InputInvalid&&o.deleteStatus!==xg.InternalError&&o.deleteStatus!==xg.UploadFailed&&o.deleteStatus!==xg.PostingFailed&&o.deleteStatus!==xg.RateLimit||(u(o.deleteStatus),r(EW.ERROR)):a.totalStories>0&&0===a.stories.length&&l>1?(c(l),r(EW.SWAPING_PAGE),n(l-1)):f()}),[u,r,f,c,n],[a,l,d,e]),(0,t.useFacetEffect)(((e,t,n,a)=>{e===EW.SWAPING_PAGE&&t!==n&&0!==a.stories.length&&f()}),[n,e,f],[a,e,i,d]),{state:a,error:s,delete:e=>p(e),reset:f}}(k,P),A=(0,t.useFacetMap)((e=>e===xg.InputInvalid||e===xg.InternalError||e===xg.UploadFailed||e===xg.PostingFailed),[],[O.error]),N=(0,t.useFacetMap)((e=>e===xg.RateLimit),[],[O.error]),R=(0,t.useFacetMap)(((e,t)=>0===e.length&&t===EW.IDLE),[],[M,O.state]),L=(0,t.useFacetMap)(((e,t)=>{const n=Sf(gM(e.players,(e=>0!==e.lastSeenTime))),a=Math.min(t,n.length),r=[];for(let e=0;e<a;e++)r.push({xuid:n[e].xuid,gamerTag:n[e].gamerTag,gamerIcon:n[e].gamerIcon,role:n[e].role,isOnline:n[e].isOnline,fetchProfileStatus:n[e].fetchProfileStatus,lastSeenTime:n[e].lastSeenTime,hasOptedIn:n[e].hasOptedIn});return r}),[],[r,S]),_=(0,t.useFacetMap)((e=>e.length),[],[L]),D=(0,t.useFacetMap)((e=>e.fetchMembersStatus!==Tg.Success),[],[r]),B=(0,t.useFacetMap)(((e,t,n)=>e||t.fetchSessionStatus!==Tg.Success||!n.every((e=>e.fetchProfileStatus===Tg.Success))),[],[D,o,L]),W=(0,t.useFacetMap)((e=>e.length>0),[],[L]),U=m(),z=(0,t.useFacetMap)((e=>e.realmId),[],[U]),j=(0,t.useFacetCallback)(((e,t)=>()=>{$f(e.stories),f.push(`/realms-new-story/${t}`)}),[f],[a,z]),H=(0,t.useFacetMap)((e=>!e.isOnline),[],[i]),V=(0,t.useFacetMap)(((e,t)=>(e.storiesStatus===Tg.InternalError||e.storiesStatus===Tg.FetchFailed||e.storiesStatus===Tg.RateLimit)&&!t),[],[a,H]),G=(0,t.useFacetMap)(((e,t)=>e||t),[],[H,V]),$=(0,t.useFacetMap)(((e,t)=>t.storiesFirstPageReady&&e),[],[R,a]),K=(0,t.useFacetCallback)((e=>()=>{e.clearStoryFeedStatus(),e.fetchStories()}),[],[l]);(0,t.useFacetEffect)((e=>{e.newPostAvailable&&(e.newPostAvailable=!1,P(1))}),[P],[c]);const X=(0,e.useRef)(null),[Y,q]=(0,t.useFacetState)(""),Q=hW.useModal(),J=(0,e.useCallback)((e=>{q(e.image),Q.show()}),[Q,q]),Z=(0,t.useFacetMap)((e=>[d(".fullImage",[e.name]),d(".fullImageRole")].join(" . ")),[d],[(0,t.useSharedFacet)(pf)]);return e.createElement(t.DeferredMountProvider,null,e.createElement(UE,{noGutters:!0},e.createElement(t.DeferredMount,null,e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:G},e.createElement(UE.Row,{gamepadIndex:0},e.createElement(UE.Column,{wideSize:h,narrowSize:h}),e.createElement(UE.Column,{wideSize:F,narrowSize:8},e.createElement(t.Mount,{when:H},e.createElement(XD,null)),e.createElement(t.Mount,{when:V},e.createElement(qD,{onClick:K,pageName:s(".storyFeed")}))),e.createElement(UE.Column,{wideSize:1,narrowSize:0}))),e.createElement(t.Mount,{when:Q.isVisible},e.createElement(hW.Component,{src:Y,onClose:Q.hide,narrationText:Z,closeNarration:d(".fullImageClose"),closeInputLegend:d(".fullImageClose")})),e.createElement(t.Mount,{when:G,condition:!1},e.createElement(UE.Row,{fullHeight:!0},e.createElement(UE.Column,{wideSize:h,narrowSize:h}),e.createElement(UE.Column,{wideSize:b,narrowSize:b},e.createElement(Pc,{containerRef:X,delegateFocusByAlias:"add-story-button"},e.createElement("div",{ref:X,className:"KDWqv"},e.createElement(Yc,{size:2}),e.createElement(Pu,{inputLegend:d(".addStory"),variant:"hero",gamepadAlias:"add-story-button",onClick:j},d(".addStory")),e.createElement(t.Mount,{when:W},e.createElement(Ps,{text:`${d(".recentlyPlayed")} . ${d(".recentlyPlayedComponentRole")}`},e.createElement(ys,{loading:B,delegateFocusFromMemory:!0},e.createElement(Yc,{size:2}),e.createElement(nb,{role:"primary",label:d(".recentlyPlayed")}),e.createElement(t.Map,{array:L},((t,n)=>e.createElement($D,{realmPlayer:t,index:n+1,isSimpleLayout:!0,totalPlayers:_}))))))))),e.createElement(UE.Column,{wideSize:v,narrowSize:v,gamepadIndex:1},e.createElement(t.DeferredMount,null,e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:$},e.createElement(GE,{autofocus:!0,title:d(".emptyStoryFeedTitle"),text:d(".emptyStoryFeedText")})),e.createElement(t.Mount,{when:A},e.createElement(GB.Component,{onClose:O.reset,isCommentOptions:!1})),e.createElement(t.Mount,{when:N},e.createElement(mA.Component,{onClickClose:O.reset})),e.createElement(ys,{innerRef:x,loading:C,scrollIntoViewAlign:"center",gamepadAlias:"story-feed-posts-wrapper",delegateFocusByAlias:p,delegateFocusFromMemory:!0,renderTracker:t=>e.createElement(dh,{renderingCompleted:t,type:"meaningful"})},e.createElement(Yc,{size:1}),e.createElement(t.Map,{array:M},((t,n)=>e.createElement(vW,{storyPost:t,totalStories:w,index:n,deleteStory:O.delete,onContentClicked:J}))),e.createElement(Yc,{size:3}),e.createElement(GI,{totalPages:I,currentPage:k,onChange:P}),e.createElement(Yc,{size:1})))))))))))}function vW({storyPost:n,totalStories:a,index:r,deleteStory:l,onContentClicked:o}){const i=Ko(),c=(0,t.useFacetMap)((e=>r===e-1),[r],[a]);return e.createElement(e.Fragment,null,0===r&&e.createElement(Yc,{size:1}),r>0&&e.createElement(Yc,{size:"narrow"===i?2:4}),e.createElement(gW,{realmStory:n,index:r,numberOfStories:a,deleteStory:l,onContentClicked:o}),e.createElement(t.Mount,{when:c},e.createElement(Yc,{size:1})))}const FW=n.p+"assets/generic-empty-fd3ea.png";function yW({headerSegmentData:n=(0,t.createStaticFacet)({text1:"text1",text2:"text2",narrationText:"",darkenLevel:0,size:1})}){const a=gr("neutral60"),r=gr("neutral"),l=gr("neutral80"),o=(0,t.useFacetMap)((e=>`gjyss ${r.border.base} ${0===e.darkenLevel?a.background.base:1===e.darkenLevel?r.background.base:l.background.base}`),[a,r,l],[n]),i=(0,t.useFacetMap)((e=>e.narrationText),[],[n]),c=(0,t.useFacetMap)((e=>e.text1),[],[n]),s=(0,t.useFacetMap)((e=>e.text2),[],[n]),u=(0,t.useFacetMap)((e=>""!==e.text2),[],[n]);return e.createElement("fast-div",{className:"T39Yg",style:{width:(0,t.useFacetMap)((e=>100*e.size+"%"),[],[n])}},e.createElement("fast-div",{className:o},e.createElement(zs,{type:"body",align:"center"},c),e.createElement(t.Mount,{when:u},e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement(zs,{type:"body",align:"center",variant:"dimmer"},s)))),ta()?e.createElement("div",{className:"xJB5s"},e.createElement(ic,{classNameFocused:Or()("B_L9o",r.outline.base),inputLegend:!1,narrationText:i,onClick:()=>{}},e.createElement("div",{className:"qtzpF"}))):null)}function SW({rowData:n}){return e.createElement("div",{className:"LOGEm"},e.createElement(t.Map,{array:n},(t=>e.createElement(yW,{headerSegmentData:t}))))}function CW({gamerIcon:n,gamerTag:a,onlineStatus:r,grayscaleAvatar:l=!1,onClick:o}){const i=(0,t.useFacetWrap)(r),c=(0,t.useFacetWrap)(n),s=gr("neutral"),{t:u}=Tp("PlayerTag"),d=(0,t.useFacetMap)((e=>[e,u(".role"),u(".hint")].join(" . ")),[u],[(0,t.useFacetWrap)(a)]);return e.createElement(ic,{inputLegend:u(".viewProfile"),narrationText:d,onClick:o,className:Or()("Mn3WO",s.background.base,s.border.base,s.background.interactive),classNameFocused:Or()("kDMn3",s.outline.base)},e.createElement(QI,{src:c,status:i,variant:"medium",grayscaleAvatar:l}),e.createElement("div",{className:"Nyd9S"},e.createElement(zs,{type:"body",align:"left"},e.createElement(ru,null,a))),e.createElement(hc,{effect:"bevel"}))}const MW="LnPiE";function wW({laneSegmentData:n}){const a=(0,t.useFacetWrap)(null!=n?n:{darkenLevel:0,narrationText:""}),r=gr("neutral80"),l=gr("neutral"),o=(0,t.useFacetMap)((e=>Or()(0===e.darkenLevel?l.background.base:2===e.darkenLevel?r.shadow.base:r.background.base,"om40F",l.border.base)),[l,r],[a]);return e.createElement("div",{className:MW},e.createElement("fast-div",{className:o}))}function kW({gamepadIndex:n,laneSegmentData:a}){const r=(0,t.useFacetWrap)(null!=a?a:{darkenLevel:0,narrationText:""}),l=(0,t.useFacetMap)((e=>e.narrationText),[],[r]),o=gr("neutral");return e.createElement("div",{className:MW},e.createElement(ic,{classNameFocused:Or()("XDSKv",o.outline.base),gamepadIndex:n,inputLegend:!1,narrationText:l,onClick:()=>{}},e.createElement("div",{className:"Lbfmj"})))}const TW=["dataViz01","dataViz02","dataViz03","dataViz04","dataViz05","dataViz06","dataViz07"];function xW({unitWidth:n,color:a,blockData:r}){const l=gr(TW[a%TW.length]),o=gr("neutral");return e.createElement("fast-div",{className:Or()("L6Bqq",l.background.base),style:{left:(0,t.useFacetMap)((e=>e.start*n*100+"%"),[n],[r]),width:(0,t.useFacetMap)((e=>e.size*n*100+"%"),[n],[r])}},e.createElement("div",{className:"yVc05"},e.createElement("div",{className:Or()("pxZ8Y",o.border.base)})))}function IW({isDarker:n=!1,numberOfSegments:a,maximumBlockCount:r,highlightedSegment:l=-1,blackenedSegmentBefore:o=-1,blackenedSegmentAfter:i=-1,gamepadIndex:c,blocks:s,blockColor:u,narrationText:d=(0,t.createStaticFacet)([])}){const m=1/r,p=(0,t.useFacetWrap)(l),f=(0,t.useFacetWrap)(o),g=(0,t.useFacetWrap)(i),E=(0,t.useFacetMap)(((e,t,r,l)=>{const o=[];for(let i=0;i<a;i++)o.push({darkenLevel:i===e?0:i<t&&-1!==t||i>r&&-1!==r||n?2:1,narrationText:i<l.length?l[i]:""});return o}),[a,n],[p,f,g,d]);return e.createElement(e.Fragment,null,e.createElement("div",{className:"mz7FL"},e.createElement(t.Map,{array:E},(t=>e.createElement(wW,{laneSegmentData:t}))),e.createElement(t.Map,{array:s},(t=>e.createElement(xW,{blockData:t,unitWidth:m,color:u}))),ta()?e.createElement("div",{className:"Afi7L"},e.createElement(t.Map,{array:E},((t,n)=>e.createElement(kW,{laneSegmentData:t,gamepadIndex:c+n})))):null))}const PW="ULZBU",OW="YayMK",AW="UGT5g",NW="bh4Vj",RW="VbtmA",LW="jUU1G",_W="c137S",DW="Ga8Si",BW=[".month00",".month01",".month02",".month03",".month04",".month05",".month06",".month07",".month08",".month09",".month10",".month11"],WW=[".monthShort00",".monthShort01",".monthShort02",".monthShort03",".monthShort04",".monthShort05",".monthShort06",".monthShort07",".monthShort08",".monthShort09",".monthShort10",".monthShort11"],UW=[".day0",".day1",".day2",".day3",".day4",".day5",".day6"],zW=[".dayShort0",".dayShort1",".dayShort2",".dayShort3",".dayShort4",".dayShort5",".dayShort6"],jW=1440,HW=864e5,VW=36e5,GW=n.p+"assets/timeline-options-20a5e.png";var $W;!function(e){e[e.ABOUT=0]="ABOUT",e[e.MEMBERS=1]="MEMBERS",e[e.OPT_OUT=2]="OPT_OUT"}($W||($W={}));const KW={[$W.ABOUT]:"OPTION-ABOUT",[$W.MEMBERS]:"OPTION-MEMBERS",[$W.OPT_OUT]:"OPTION-OPT_OUT"},XW=_i((({onClose:n,onClickAbout:a,onClickMembers:r,onClickOptOut:l})=>{const{t:o}=Ii("RealmsStories.Timeline.OptionsModal"),i=(0,t.useSharedFacet)(vf),c=(0,t.useFacetMap)((e=>gM(e.players,(e=>e.role!==bf.NONMEMBER))),[],[i]),s=zD(c),u=(0,t.useFacetMap)((e=>e.optedOutPlayers.length),[],[s]),d="3",m=(0,t.useFacetMap)((e=>[{enumeration:o(".options.enumeration",["1",d]),gamepadAlias:KW[$W.ABOUT],label:o(".options.about"),value:$W.ABOUT},{enumeration:o(".options.enumeration",["2",d]),gamepadAlias:KW[$W.MEMBERS],label:o(".options.members",[`${e}`]),value:$W.MEMBERS},{enumeration:o(".options.enumeration",["3",d]),gamepadAlias:KW[$W.OPT_OUT],label:o(".options.optOut"),value:$W.OPT_OUT}]),[o,d],[u]),p=(0,e.useCallback)((e=>{switch(e){case $W.ABOUT:a();break;case $W.MEMBERS:r();break;case $W.OPT_OUT:l()}}),[a,r,l]);return e.createElement(RR,{onClose:n,onItemSelect:p,isOpen:!0,title:o(".options"),items:m})})),YW=_i((({onOptInCompleted:t})=>{const n="Open-Realms-Stories-Button",{t:a}=Ii("RealmsStories"),{t:r}=Ii("RealmsStories.OptInModal"),l=Li(),o=(0,e.useCallback)((()=>{l(),t()}),[t,l]),i=r(".title"),c=r(".message");return e.createElement(Ld,{defaultFocusAlias:n},e.createElement(Ld.Header,null,i),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:c},c)),e.createElement(Ld.Buttons,null,e.createElement(ar,{collection:VO},e.createElement(Pu,{gamepadAlias:n,gamepadIndex:0,inputLegend:a(".select"),variant:"primary",onClick:o},r(".openStoriesButton")))))})),qW=_i((({onClose:t,onOptOutCompleted:n,onOptOutCancelled:a})=>{const r="Opt-Out-Button",{t:l}=Ii("RealmsStories"),{t:o}=Ii("RealmsStories.OptOutModal"),i=(0,e.useCallback)((()=>{t(),n()}),[t,n]),c=(0,e.useCallback)((()=>{t(),a()}),[t,a]),s=o(".title"),u=[o(".message"),o(".title")],d=u.join(" . ");return e.createElement(Ld,{defaultFocusAlias:r},e.createElement(Ld.Header,{onClose:t},s),e.createElement(Ld.Content,null,e.createElement(Ld.Paragraphs,{narrationText:d,spaceBetweenParagraphs:5},u.map(((t,n)=>e.createElement(zs,{key:n,type:"captionLong"},t))))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:r,inputLegend:l(".select"),variant:"destructive",onClick:i,narrationSuffix:o(".enumeration",["1","2"])},o(".confirm")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:l(".select"),variant:"secondary",onClick:c,narrationSuffix:o(".enumeration",["2","2"])},o(".cancel"))))}));function QW(){const n=(0,e.useRef)(!1),a=m(),r=(0,t.useFacetMap)((e=>e.realmId),[],[a]);(0,t.useFacetEffect)(((e,t)=>{n.current||(e.clearSettingsStatus(),e.init(t),e.fetchSettings(t),n.current=!0)}),[n],[(0,t.useSharedFacet)(mf),r])}const JW=_i((({playNow:t,openStories:n})=>{const a="Play-Realms-Button",{t:r}=Ii("RealmsStories"),{t:l}=Ii("RealmsStories.ShareLink"),o=l(".title"),i=l(".message");return e.createElement(Ld,{defaultFocusAlias:a},e.createElement(Ld.Header,null,o),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:i},i)),e.createElement(Ld.Buttons,null,e.createElement(ar,{collection:VO},e.createElement(Pu,{gamepadAlias:a,gamepadIndex:0,inputLegend:r(".select"),variant:"primary",onClick:t},l(".playNow")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:r(".select"),gamepadIndex:1,variant:"secondary",onClick:n},l(".openStories")))))}));function ZW(){const n=u(),a=m(),r=JW.useModal(!0),l=sM.useModal(!1),o=d(),i=(0,t.useSharedFacet)(pf),c=(0,t.useSharedFacet)(mf),s=(0,t.useSharedFacet)(Lp);QW();const p=(0,t.useFacetMap)(((e,t)=>e&&!t.isRealmWorldValid&&t.isFetchingRealmWorld),[],[o,i]),f=(0,e.useCallback)((()=>{n.goBack()}),[n]),g=(0,t.useFacetMap)(((e,t)=>e&&!t.isRealmWorldValid&&!t.isFetchingRealmWorld),[],[o,i]),E=(0,t.useFacetMap)(((e,t,n)=>e&&t.isRealmWorldValid&&!t.isFetchingRealmWorld&&n),[],[o,i,r.isVisible]),h=(0,t.useFacetMap)(((e,t)=>e&&t),[],[o,l.isVisible]),b=(0,t.useFacetCallback)(((e,t,n)=>()=>{t.isHardcore&&!n.doNotShowHardcoreModeWarning?(r.hide(),l.show()):(e.joinRealmFromInvite(),r.hide())}),[r,l],[c,i,s]),v=(0,t.useFacetCallback)((e=>()=>{r.hide(),n.replace(`/realms-story-entry-route/feed/${e.realmId}`)}),[n,r],[a]),F=(0,t.useFacetCallback)((e=>()=>{e.joinRealmFromInvite(),l.hide()}),[l],[c]),y=(0,e.useCallback)((()=>{l.hide(),n.replace("/play/all")}),[n,l]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:p},e.createElement(cA,{onClickClose:f})),e.createElement(t.Mount,{when:g},e.createElement(uA.Component,{onClickClose:f})),e.createElement(t.Mount,{when:h},e.createElement(sM.Component,{onSubmit:F,onCancel:y})),e.createElement(t.Mount,{when:E},e.createElement(JW.Component,{playNow:b,openStories:v})))}function eU({gamepadIndex:n,isDarker:a,numberOfSegments:r,maximumBlockCount:l,highlightedSegment:o,blackenedSegmentBefore:i,blockColor:c,playerData:s}){const d=Xo(),m=gr("neutral"),p=u(),f=(0,t.useFacetCallback)((e=>()=>p.push(mP(e.gamerXuid))),[p],[s]);return e.createElement("div",{className:Or()(PW,OW)},e.createElement("div",{className:Or()({[AW]:d},{[NW]:!d},"Qpo28",m.border.base)},e.createElement(CW,{gamerIcon:(0,t.useFacetMap)((e=>e.gamerIcon),[],[s]),gamerTag:(0,t.useFacetMap)((e=>e.gamerTag),[],[s]),onlineStatus:(0,t.useFacetMap)((e=>!0===e.gamerOnline?"online":"offline"),[],[s]),onClick:f})),e.createElement("div",{className:Or()({[RW]:d},{[LW]:!d},_W,m.border.base)},e.createElement(IW,{isDarker:a,blockColor:c,numberOfSegments:r,maximumBlockCount:l,highlightedSegment:o,blackenedSegmentBefore:i,gamepadIndex:n,blocks:(0,t.useFacetMap)((e=>e.blocks),[],[s]),narrationText:(0,t.useFacetMap)((e=>e.narrationText),[],[s])})))}const tU=({onChange:t,onInformation:n,totalPages:a,currentPage:r,isNarrow:l})=>{const{t:o}=Tp("Modal"),{t:i}=Tp("RealmsStories.Timeline");return e.createElement("div",{className:Or()(OW,{bu02g:l})},e.createElement(GI,{totalPages:a,currentPage:r,onChange:t,counterStyle:"hide-counter",middleSpacingsSize:2}),e.createElement(Yc,{size:4}),e.createElement("div",{className:"rViYP"},e.createElement(Pu,{"data-testid":"timeline-options-button",inputLegend:o(".select"),onClick:n,imgSrc:GW,narrationPrefix:i(".OptionsModal.narrationHint")})))};function nU(){const n=Xo(),a=ta(),r=n?5:7,l=r*jW,o=Math.ceil(28/r),i=(0,e.useRef)(null),c=(0,e.useRef)(null),s=(0,e.useRef)(null),p=(0,e.useRef)(null),f=(0,e.useRef)(null),g=u(),E=d(),[h,b]=(0,t.useFacetState)(o),v=m(),F=(0,t.useSharedFacet)(mf),y=(0,t.useSharedFacet)(pf),S=(0,t.useSharedFacet)(Xf),C=`${Math.floor(1e9*Math.random())}`,M=nB(C),w=(0,t.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[y]),k=(0,t.useFacetCallback)((e=>()=>{e>o&&b(o)}),[o,b],[h]);(0,e.useEffect)((()=>{const e=()=>{k()};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}));const T=function(){{const e=new Date;return e.setHours(13),e}}(),{t:x}=Tp("Timeline"),{t:I}=Tp("RealmsStories.Timeline"),P=((e,n,a,r,l)=>(0,t.useFacetMap)((e=>{const t=[];let o=-1;for(let i=0;i<a;i++){const c=a*(n-e)+(a-1-i),s=new Date(r.getTime()+0-c*HW),u=s.getMonth(),d=s.getFullYear().toString();u!==o?t.push({text1:l(WW[u]),text2:d,narrationText:[l(".monthYear",[l(BW[u]),d]),l(".date"),l(".monthAndTheYear")].join(" . "),darkenLevel:1,size:1/a}):(t[t.length-1].text1=l(BW[u]),t[t.length-1].size=(t[t.length-1].size*a+1)/a),o=u}return t}),[a,n,r,l],[e]))(h,o,r,T,x),O=((e,n,a,r,l)=>(0,t.useFacetMap)((e=>{const t=[];for(let o=0;o<a;o++){const i=a*(n-e)+(a-1-o),c=new Date(r.getTime()+0-i*HW),s=c.getDay(),u=c.getDate();t.push({text1:l(zW[s]),text2:("0"+u).slice(-2),narrationText:[l(".dayAndDate",[l(UW[s]),u.toString()]),l(".date"),l(".dayOfTheWeek"),l(".enumeration",[(o+1).toString(),a.toString()])].join(" . "),darkenLevel:0===i?0:i<28?1:2,size:1/a})}return t}),[a,n,r,l],[e]))(h,o,r,T,x),A=(0,t.useSharedFacet)(Lf),N=(e=>(0,t.useFacetMap)((e=>{const t=[];for(let n=0;n<e.sessions.length;n++)t.push(e.sessions[n]);return t.sort(((e,t)=>e.userXuid===t.userXuid?e.login-t.login:e.userXuid.localeCompare(t.userXuid)))}),[],[e]))(A),R=(0,t.useSharedFacet)(pf),L=(0,t.useSharedFacet)(vf),_=(0,t.useFacetMap)((e=>e.players),[],[L]),D=((e,n,a,r)=>(0,t.useFacetMemo)(((e,t,n)=>{const a=new Map;n.sessions.forEach((e=>{a.set(e.userXuid,e)}));const r=t.filter((e=>{const t=e.hasOptedIn||a.get(e.xuid);return e.role!==bf.NONMEMBER&&t})).sort(((t,n)=>{if(t.xuid===n.xuid)return 0;if(t.xuid===e.userXuid)return-1;if(n.xuid===e.userXuid)return 1;const r=a.get(t.xuid),l=a.get(n.xuid);return r&&l?t.lastSeenTime===n.lastSeenTime?t.gamerTag.localeCompare(n.gamerTag):n.lastSeenTime-t.lastSeenTime:r||l?r?-1:1:t.gamerTag.localeCompare(n.gamerTag)})),l=new Map;for(let e=0;e<Math.min(300,r.length);e++)l.set(r[e].gamerTag,e);return l}),[300],[n,a,e]))(A,R,_),B=(0,t.useFacetMap)((e=>e.players.length>300),[],[L]),W=((e,n,a,r,l,o,i,c)=>(0,t.useFacetMemo)(((e,t,n,a)=>{const r=[],s=new Set,u=1*Math.floor(Math.abs(0)/60),d=1*Math.floor(Math.abs(0)%60),m=o*(l-t),p=new Date(i.getTime()-m*HW);p.setHours(0-u,0-d,0,0),p.setTime(p.getTime()+HW-1);const f=o*(l-t+1)-1,g=Math.min(27,f),E=new Date(i.getTime()-g*HW);E.setHours(0-u,0-d,0,0);const h=function(e,t){let n=0,a=-1,r=0;for(let l=0;l<t;l++){const t=new Date(e.getTime()+HW*(l-.5));if(n=new Date(e.getTime()+HW*(l+.5)).getTimezoneOffset()-t.getTimezoneOffset(),0!==n){a=l;for(let t=0;t<24;t++){const n=new Date(e.getTime()+HW*l+VW*t),a=new Date(n.getTime()+VW),o=a.getHours()-n.getHours();if(n.getHours()===a.getHours()||o>1||-23===o&&1===a.getHours()||-22===o&&0===a.getHours()){r=t+1;break}}break}}return{dayLightSavingsOffset:n,dayLightSavingsSegment:a,dayLightSavingsHour:r}}(E,o),b=new Date(i.getTime()-f*HW);b.setHours(0-u,0-d,0,0);const v=new Map;n.forEach((e=>{v.set(e.xuid,e)}));let F="";for(let t=0;t<e.length;t++){const n=e[t].userXuid,l=v.get(n);if(null==l||l.role===bf.NONMEMBER||!a.has(l.gamerTag))continue;const o=new Date;o.setTime(1e3*e[t].login);const i=new Date;i.setTime(1e3*e[t].logout);const c={start:0,size:0};if(o.getTime()<=p.getTime()&&o.getTime()>=E.getTime()||i.getTime()<=p.getTime()&&i.getTime()>=E.getTime()){const e=new Date(Math.max(o.getTime(),E.getTime())).getTime(),t=new Date(Math.min(i.getTime(),p.getTime())).getTime(),n=h.dayLightSavingsOffset;let a=(e-b.getTime())/1e3/60,r=(t-e)/1e3/60;const l=new Date(E.getTime()+h.dayLightSavingsSegment*HW+h.dayLightSavingsHour*VW);n>0?(e>l.getTime()&&(a=(e-b.getTime()-Math.min(e-b.getTime(),VW))/1e3/60),e<=l.getTime()&&t>l.getTime()&&(r=(t-e-Math.min(t-l.getTime(),VW))/1e3/60)):n<0&&(e>=l.getTime()&&(a=(e-b.getTime()+VW)/1e3/60),e<l.getTime()&&t>=l.getTime()&&(r=t-e+Math.min(p.getTime()-i.getTime(),VW))),c.start=a,c.size=r}if(n!==F){const e=[];0!==c.size&&e.push(c),r.push({gamerXuid:l.xuid,gamerTag:l.gamerTag,gamerIcon:l.gamerIcon,gamerOnline:l.isOnline,gamerOptedIn:l.hasOptedIn,narrationText:[""],blocks:e}),s.add(l.gamerTag)}else 0!==c.size&&r[r.length-1].blocks.push(c);F=n}for(let e=0;e<n.length;e++){if(n[e].role===bf.NONMEMBER||!a.has(n[e].gamerTag))continue;const t=n[e].gamerTag;s.has(t)||(r.push({gamerXuid:n[e].xuid,gamerTag:t,gamerIcon:n[e].gamerIcon,gamerOnline:n[e].isOnline,gamerOptedIn:n[e].hasOptedIn,narrationText:[""],blocks:[]}),s.add(t))}for(let e=0;e<r.length;e++){const n=[];for(let a=0;a<o;a++){const s=a*jW,u=(a+1)*jW-1,d=[];for(let t=0;t<r[e].blocks.length;t++){const n=r[e].blocks[t].start,a=n+r[e].blocks[t].size;if(n>=s&&n<u||a>s&&a<=u){const e=Math.max(n,s)-s,t=Math.floor(e%60),r=Math.floor(e/60),l=Math.min(a,u)-s,o=Math.floor(l%60),i=Math.floor(l/60);d.push(c(".fromTo",[c(".timeFormat",[r.toString(),t.toString()]),c(".timeFormat",[i.toString(),o.toString()])]))}}const m=o*(l-t)+o-a-1,p=new Date;p.setDate(i.getDate()-m);const f=c(".onDayOfMonthYear",[c(UW[p.getDay()]),p.getDate().toString(),c(".monthYear",[c(BW[p.getMonth()]),p.getFullYear().toString()])]);if(0===d.length)n.push(c(".timeline")+" . "+c(".didNotPlay",[r[e].gamerTag,f]));else{let t="";for(let e=0;e<d.length;e++)t=0===e?d[e]:c(".and",[t,d[e]]);n.push([c(".timeline"),1===d.length?c(".timeblock"):c(".timeblocks"),c(".played",[r[e].gamerTag,t,f])].join(" . "))}}r[e].narrationText=n}return r}),[o,l,i,c],[n,e,a,r]))(h,N,_,D,o,r,T,x),U=(z=W,j=D,(0,t.useFacetMap)(((e,t)=>[...e].sort(((e,n)=>{var a,r;return(null!==(a=null==t?void 0:t.get(e.gamerTag))&&void 0!==a?a:0)-(null!==(r=null==t?void 0:t.get(n.gamerTag))&&void 0!==r?r:0)}))),[],[z,j]));var z,j;const H=(0,t.useFacetMap)((e=>o===e?r-1:-1),[o,r],[h]),V=(0,t.useFacetMap)((e=>1===e?r*o-28:-1),[o,r],[h]),G=gr("neutral"),[$,K]=(0,t.useFacetState)([]);(0,t.useFacetEffect)((e=>{K(e)}),[K],[U]);const X=(0,t.useFacetMap)((e=>e[0]),[],[$]),Y=(0,t.useFacetMap)((e=>0!==e.length&&!n),[n],[$]),q=XW.useModal(),Q=qB.useModal(),J=(0,e.useCallback)((()=>{q.hide(),g.push("/realms-stories-timeline-information")}),[g,q]),Z=(0,t.useFacetCallback)((e=>()=>{q.hide(),g.push(`/realms-stories-opted-out-members/${e.realmId}`)}),[q,g],[v]),ee=qW.useModal(),te=(0,t.useFacetCallback)(((e,t,n)=>()=>{e.setPlayerOptInStatusAndPostWithOptInTelemetry(n.realmId,Kf.OptedOut,C,tB.OptOut_Settings,t),q.hide()}),[q,C],[F,w,v]),ne=(0,t.useFacetMap)(((e,t)=>e&&(t.currentPostState===xg.InputInvalid||t.currentPostState===xg.InternalError||t.currentPostState===xg.UploadFailed||t.currentPostState===xg.PostingFailed)),[],[E,S]),ae=(0,t.useFacetMap)(((e,t)=>e&&t.currentPostState===xg.RateLimit),[],[E,S]),re=(0,t.useFacetMap)(((e,t,n,a)=>e&&!n&&!a&&(t.currentPostState===xg.InProgress||t.currentPostState===xg.Uploading)),[],[E,S,ne,ae]),le=(0,t.useFacetCallback)(((e,t,n)=>()=>{t||(e.clearSettingsStatus(),e.fetchSettings(n.realmId))}),[],[F,re,v]),oe=(0,t.useFacetMap)((e=>e.fetchSessionStatus===Tg.Success&&0===e.sessions.length),[],[(0,t.useSharedFacet)(Lf)]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:B},e.createElement(e.Fragment,null,e.createElement(QD,null),e.createElement(Yc,{size:2}))),e.createElement(t.Mount,{when:oe},e.createElement(e.Fragment,null,e.createElement(ar,{collection:HO},e.createElement(KS,{role:"informative"},e.createElement(KS.Text,null,I(".noDataBanner")))),e.createElement(Yc,{size:2}))),!n&&e.createElement(Pc,{containerRef:f},e.createElement("div",{ref:f},e.createElement("div",{className:Or()(PW,"nJCuE","mOhfQ")},e.createElement(tU,{totalPages:o,currentPage:h,onChange:b,isNarrow:n,onInformation:q.show})))),e.createElement("div",{className:Or()(PW,OW)},e.createElement("div",{className:Or()({[AW]:n},{[NW]:!n},_W,DW,G.border.base,"C0AEe")},n&&e.createElement(Pc,{containerRef:p},e.createElement("div",{ref:p},e.createElement(tU,{totalPages:o,currentPage:h,onChange:b,isNarrow:n,onInformation:q.show})))),e.createElement("div",{className:Or()({[RW]:n},{[LW]:!n},"dcgPW",_W,G.border.base)},e.createElement(Pc,{containerRef:c},e.createElement("div",{ref:c},e.createElement(SW,{rowData:P}))),e.createElement(Pc,{containerRef:s},e.createElement("div",{ref:s},e.createElement(SW,{rowData:O}))))),e.createElement(t.Mount,{when:q.isVisible},e.createElement(XW.Component,{onClose:q.hide,onClickAbout:Q.show,onClickMembers:Z,onClickOptOut:ee.show})),e.createElement(t.Mount,{when:Q.isVisible},e.createElement(qB.Component,{closeModal:Q.hide,learnMore:J})),e.createElement(t.Mount,{when:ee.isVisible},e.createElement(qW.Component,{onClose:ee.hide,onOptOutCompleted:te,onOptOutCancelled:()=>M(tB.CancelOptOut_Settings)})),e.createElement(t.Mount,{when:re},e.createElement(cA,null)),e.createElement(t.Mount,{when:ne},e.createElement(sA.Component,{onClickClose:le})),e.createElement(t.Mount,{when:ae},e.createElement(mA.Component,{onClickClose:le})),e.createElement(t.Mount,{when:Y},e.createElement(Pc,{containerRef:i,focusControlDisabled:a},e.createElement("div",{ref:i},e.createElement(eU,{gamepadIndex:0,isDarker:!1,numberOfSegments:r,maximumBlockCount:l,highlightedSegment:H,blackenedSegmentBefore:V,blockColor:0,playerData:X})))),e.createElement("div",{className:Or()(PW,"tx_2T",G.border.base)},e.createElement("div",{className:Or()({oH5v_:n},{q0DXQ:!n})},e.createElement(ys,{floating:!0,gamepadIndex:0,focusControlDisabled:!0},e.createElement("div",{className:Or()("x7BwQ",DW,G.border.base)},e.createElement(t.Map,{array:(0,t.useFacetMap)((e=>e.slice(n?0:1)),[n],[$])},((t,a)=>e.createElement(eU,{gamepadIndex:a,isDarker:a%2==(n?1:0),numberOfSegments:r,maximumBlockCount:l,highlightedSegment:H,blackenedSegmentBefore:V,blockColor:a+(n?0:1),playerData:t}))))))))}const aU=({children:t})=>e.createElement(UE.Row,{gamepadIndex:0},e.createElement(UE.Column,{wideSize:1,narrowSize:0}),e.createElement(UE.Column,{wideSize:10,narrowSize:8,gamepadIndex:1},t),e.createElement(UE.Column,{wideSize:1,narrowSize:0}));function rU(){const{t:n}=Tp("RealmsStories"),a=m(),r=VD(),l=gr("neutral"),o=gr("neutral80"),i=(0,t.useSharedFacet)(mf),c=(0,t.useSharedFacet)(Xf),s=(0,t.useFacetMap)(((e,t,n)=>e.isOnline?t.currentFetchState===Tg.InternalError||t.currentFetchState===Tg.FetchFailed||t.currentFetchState===Tg.RateLimit||n.fetchSessionStatus===Tg.InternalError||n.fetchSessionStatus===Tg.FetchFailed||n.fetchSessionStatus===Tg.RateLimit?"fetch-status-error-message":t.currentFetchState===Tg.InProgress?"settings-loading":t.realmTimelineStatus?t.playerOptIn!=Kf.OptedIn&&(t.currentPostState===xg.Idle||t.currentPostState===xg.Success)||t.playerOptIn==Kf.OptedIn&&t.currentPostState!==xg.Success&&t.currentPostState!==xg.Idle?"realms-opt-in-message":"no-message":"timeline-off-message":"no-internet-message"),[],[(0,t.useSharedFacet)(el),c,(0,t.useSharedFacet)(Lf)]),u=(0,t.useFacetMap)((e=>"no-message"!=e),[],[s]),d=(0,t.useFacetCallback)(((e,t)=>()=>{e.fetchSessions(),e.fetchSettings(t.realmId)}),[],[i,a]);return e.createElement(UE,{noGutters:!0},e.createElement(t.Mount,{when:u},e.createElement(Fl,{data:s},(t=>{switch(t){case"no-internet-message":return e.createElement(aU,null,e.createElement(XD,null));case"fetch-status-error-message":return e.createElement(aU,null,e.createElement(qD,{onClick:d,pageName:n(".timeline")}));case"timeline-off-message":return e.createElement(aU,null,e.createElement(GE,{title:n(".messages.timelineOff.title"),text:n(".messages.timelineOff.body"),imgSrc:FW,imgClass:r}));case"settings-loading":return e.createElement(UE.Row,{fullHeight:!0},e.createElement(UE.Column,{wideSize:12,narrowSize:8},e.createElement("div",{"data-testid":"timeline-fetching-spinner",className:Or()("a6yyu",l.border.base,o.overlay.base)},e.createElement(vs,null))));case"realms-opt-in-message":return e.createElement(aB,null);default:return e.createElement(e.Fragment,null)}}))),e.createElement(t.Mount,{when:u,condition:!1},e.createElement(UE.Row,{gamepadIndex:3,fullHeight:!0},e.createElement(UE.Column,{wideSize:12,narrowSize:8,gamepadIndex:0},e.createElement(nU,null)))))}function lU(){const n=(0,t.useSharedFacet)(mf),a=(0,t.useSharedFacet)(pf),r=u(),{t:l}=Ii("RealmsStories"),o=Vr(),i="realms-stories",c=ve(),s=(0,t.useFacetMap)((e=>`${l(".header",[e.name])}`),[l],[a]),m=(0,t.useFacetMap)((e=>`${l(".screen",[e])}`),[l],[s]),p=d(),f=(0,t.useFacetCallback)((e=>()=>{e&&r.goBack()}),[r],[p]),g=(0,t.useSharedFacet)(Gf),E=(0,t.useFacetMap)((e=>[{label:l(".storyFeed"),value:WD.Feed,hint:e.unreadStoryCount>0?e.unreadStoryCount>1?l(".unreadStoryHint",[e.unreadStoryCount.toString()]):l(".oneUnreadStoryHint"):"",badge:!e.mostRecentStoriesViewed&&e.unreadStoryCount>0?e.unreadStoryCount:void 0},{label:l(".timeline"),value:WD.Timeline},{label:l(".members"),value:WD.Members}]),[l],[g]),h=(0,t.useSharedFacet)(Gf),b=(0,t.useFacetCallback)((e=>t=>{$f(e.stories),r.replace(`/realms-stories/${t}/${o.realmId}`),c(Dh.getFocusAlias(i,t))}),[o.realmId,r,c],[h]),v=(0,t.useFacetCallback)((e=>()=>{$f(e.stories),r.push(`/realms-stories-settings/${o.realmId}`)}),[o.realmId,r],[h]),F=(0,t.useSharedFacet)(el),y=(0,t.useFacetMap)((e=>!e.isOnline),[],[F]),S=o.tab===WD.Feed,C=(0,t.useFacetCallback)(((e,t)=>()=>{t.fetchMembersStatus!==Tg.InProgress&&t.fetchOnlineMembersStatus!==Tg.InProgress&&(e.clearFetchMembersStatus(),e.fetchMembers())}),[],[n,(0,t.useSharedFacet)(vf)]),M=(0,t.useFacetCallback)(((e,t)=>()=>{t.fetchSessionStatus!==Tg.InProgress&&(e.clearFetchSessionsStatus(),e.fetchSessions())}),[],[n,(0,t.useSharedFacet)(Lf)]),w=(0,t.useFacetCallback)(((e,t)=>()=>{t.storiesStatus!==Tg.InProgress&&(e.clearStoryFeedStatus(),e.fetchStories()),t.eventsStatus!==Tg.InProgress&&(e.clearEventsStatus(),e.fetchEvents())}),[],[n,g]),[k,T]=(0,t.useFacetState)(!1);return(0,t.useFacetEffect)(((e,t)=>{!e&&t.isRealmWorldValid&&(T(!0),C(),w(),M())}),[C,w,M,T],[k,a]),e.createElement(ar,{collection:VO},e.createElement(vE,{role:"primary"},e.createElement(DE,{onBackButton:f,center:e.createElement(zs,{type:"header5A"},s),narrationText:m,right:e.createElement(DE.MenuButton,{onClick:v,type:"filter",gamepadIndex:1,narrationText:l(".narration.settings")}),gamepadAlias:"realms-stories-route",defaultFocusedChildBehavior:"remember"},e.createElement("div",{className:"lLbmU"},e.createElement(UE,null,e.createElement(t.Mount,{when:y,condition:!1},e.createElement(UE.Row,{gamepadIndex:0},e.createElement(UE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(Dh,{gamepadAliasNamespace:i,gamepadIndex:0,tabs:E,value:o.tab?o.tab:WD.Feed,enableGamepadShortcuts:!0,onChange:b,narrationTitle:l(".narration.title"),badgeRole:"secondary"}),!S&&e.createElement(Yc,{size:2})))),e.createElement(mh,{component:bW,tab:WD.Feed}),e.createElement(mh,{component:rU,tab:WD.Timeline}),e.createElement(mh,{component:(0,e.useCallback)((()=>e.createElement(uB,{isStoriesRouteActive:p})),[p]),tab:WD.Members}),e.createElement(wd.Space,{extraSpace:e.createElement(Yc,{size:1})}))))))}function oU(e=[]){const n=(0,t.useFacetWrap)(e),a=(0,t.useFacetMap)(((e,t)=>0===t.length?e.screenshots:t),[],[(0,t.useSharedFacet)(rg),n]);return(0,t.useFacetMap)((e=>({allScreenshots:e,featuredScreenshots:gM(e,(e=>e.featured)),showcasedScreenshots:gM(e,(e=>e.showcased)),unmarkedScreenshots:gM(e,(e=>!e.showcased&&!e.featured))})),[],[a])}const iU=_i((()=>{const{t}=Ii("RealmsNewStoryRoute.modals");return aA(t(".postingStoryTitle")),e.createElement(Ld,null,e.createElement(Ld.Header,null,t(".postingStoryTitle")),e.createElement(Ld.Content,null,e.createElement(Ld.Spinner,null)))})),cU=_i((()=>{const{t:n}=Ii("RealmsNewStoryRoute.modals"),a="pop-up-modal-postingStoryErrorModal",r=(0,t.useSharedFacet)(mf),l=(0,t.useFacetCallback)((e=>()=>{e.clearPostStoryStatus()}),[],[r]);return e.createElement(Ld,{defaultFocusAlias:a},e.createElement(Ld.Header,{onClose:l},n(".errorModalTitle")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:n(".errorModalBody"),gamepadIndex:0},n(".errorModalBody"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:a,inputLegend:n(".close"),variant:"secondary",onClick:l},n(".close"))))})),sU=n.p+"assets/add-image-dark-icon-7fb8f.png",uU=n.p+"assets/add-image-grey-icon-9de10.png",dU="juocW",mU="A6Wiz";var pU;function fU(){const n=(0,t.useSharedFacet)(mf),a=(0,t.useSharedFacet)(Ef),r=(0,t.useSharedFacet)(vf),l=(0,t.useSharedFacet)(pf),o=(0,t.useSharedFacet)(Gf),i=oU(),c=(0,t.useSharedFacet)(el),s=(0,t.useSharedFacet)(uf),d=Ko(70,100);let p=3,f=6;"narrow"===d?(p=1,f=7):"tablet"===d&&(p=2,f=8);const g=u(),{t:E}=Ii("RealmsNewStoryRoute"),h=(0,t.useFacetMap)((e=>e.players),[],[r]),b=(0,t.useFacetMap)(((e,{userXuid:t})=>{var n;return null!==(n=om(e,(e=>e.xuid===t)))&&void 0!==n?n:pB}),[],[h,l]),v=(0,t.useFacetMap)((e=>e.gamerIcon),[],[b]),F=(0,t.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[b]),y=(0,t.useFacetMap)((e=>!e.postInProgressBody.length&&!e.storyScreenshotSelectionFilePath.length),[],[a]),S=(0,t.useFacetMap)((e=>e.storyScreenshotSelectionFilePath.length>0),[],[a]),C=(0,t.useFacetMap)((e=>e.postStoryStatus),[],[o]),M=(0,t.useFacetMap)((e=>e===xg.InProgress||e===xg.Uploading||e===xg.Success),[],[C]),w=(0,t.useFacetMap)((e=>e===xg.InputInvalid||e===xg.InternalError||e===xg.PostingFailed||e===xg.UploadFailed),[],[C]),k=(0,t.useFacetMap)((e=>e===xg.RateLimit),[],[C]),T=(0,t.useFacetCallback)((e=>()=>{e.clearPostStoryStatus()}),[],[n]),x=(0,t.useFacetMap)(((e,t)=>{if(!t.storyScreenshotSelectionFilePath.length)return"";let n=null;return n=om(e.allScreenshots,(e=>e.filePath===t.storyScreenshotSelectionFilePath)),null!=n?n.image:""}),[],[i,a]),I=(0,t.useFacetCallback)((e=>()=>{e.storyScreenshotSelectionFilePath=""}),[],[a]),P=(0,t.useFacetMap)((e=>e.postInProgressBody),[],[a]),O=(0,t.useFacetCallback)((e=>t=>{e.postInProgressBody=t}),[],[a]),A=(0,t.useFacetCallback)((e=>t=>{t.keyCode===de.ENTER&&e.split("\n").length>=10&&t.preventDefault()}),[],[P]),[N,R]=ZM(!1),L=(0,t.useFacetCallback)(((e,t,n,a)=>()=>{t===xg.Idle&&(QM(n,a)?R.show():e.postStory())}),[R],[n,C,(0,t.useSharedFacet)(df),P]),_=(0,t.useFacetMap)(((e,t)=>{const n=[];return e?(n.push(pU.ChangeScreenshotButton),n.push(pU.RemoveScrenshotButton)):n.push(pU.AddScreenshotButton),n.push(pU.PostTextField),t||n.push(pU.PostStoryButton),n.push(pU.CancelPostButton),n}),[],[S,y]),D=(0,e.useCallback)(((e,t)=>{const n=e.indexOf(t);return-1===n?"":E(".enumeration",[`${n+1}`,`${e.length}`])}),[E]),B=(0,t.useFacetMap)((e=>D(e,pU.AddScreenshotButton)),[D],[_]),W=(0,t.useFacetMap)((e=>D(e,pU.ChangeScreenshotButton)),[D],[_]),U=(0,t.useFacetMap)((e=>D(e,pU.RemoveScrenshotButton)),[D],[_]),z=(0,t.useFacetMap)((e=>D(e,pU.PostTextField)),[D],[_]),j=(0,t.useFacetMap)((e=>D(e,pU.PostStoryButton)),[D],[_]),H=(0,t.useFacetMap)((e=>D(e,pU.CancelPostButton)),[D],[_]),V=(0,t.useFacetMap)(((e,t)=>e?[E(".disabled"),E(".postStoryHint")].join(" . "):t),[E],[y,j]),G=(0,t.useFacetMap)(((e,t)=>[E(".textBoxPlaceholder"),E(".inputField"),t,e.length>0?e:E(".inputFieldHint")].join(" . ")),[E],[P,z]),$=(0,t.useFacetMap)((e=>!e.getAllowCapturesResult),[],[s]),K=(0,t.useFacetMap)((e=>e?uU:sU),[],[$]),X=(0,t.useFacetCallback)((e=>()=>{e.openLink(Wg.RealmsSafetyPage)}),[],[(0,t.useSharedFacet)(Ug)]);!function(){const e=(0,t.useSharedFacet)(mf),n=(0,t.useSharedFacet)(Ef),a=(0,t.useSharedFacet)(Gf),r=u(),l=(0,t.useSharedFacet)(Sr),o=(0,t.useSharedFacet)(pf),{t:i}=Ii("RealmsStories"),c=(0,t.useFacetMap)((e=>e.postStoryStatus),[],[a]),s=(0,t.useFacetCallback)((e=>()=>e.clearPostStoryStatus()),[],[e]),d=(0,t.useFacetCallback)((e=>()=>{e.postInProgressBody="",e.storyScreenshotSelectionFilePath=""}),[],[n]),m=(0,t.useFacetCallback)((e=>()=>e.newPostAvailable=!0),[],[n]),p=(0,t.useFacetCallback)((e=>()=>{let t=0;for(;t<e.history.list.length&&(null===(n=e.history.list[t])||void 0===n||!n.pathname.includes("/post-to-realm-stories"));){var n;++t}t<e.history.list.length?r.go(t-e.history.list.length):r.goBack()}),[r],[l]),f=(0,t.useSharedFacet)(_p),g=(0,t.useFacetCallback)(((e,t,n)=>()=>{let a=0;for(;a<e.history.list.length&&(null===(r=e.history.list[a])||void 0===r||!r.pathname.includes("/post-to-realm-stories"));){var r;++a}a<e.history.list.length&&t.queueSnackbar(i(".postedTo",[n.name]))}),[i],[l,f,o]);(0,t.useFacetEffect)((e=>{e===xg.Success&&(g(),s(),d(),m(),p())}),[s,d,m,p,g],[c])}();const Y=m(),q=(0,t.useFacetMap)((e=>e.realmId),[],[Y]),Q=(0,t.useFacetCallback)((e=>()=>{g.push(`/realms-new-story/screenshot-gallery/${e}`)}),[g],[q]),J=gr("neutral"),Z=(0,t.useFacetMap)((e=>!e.isOnline),[],[c]);return e.createElement(ar,{collection:VO},e.createElement(vE,{role:"primary"},e.createElement(DE,{onBackButton:g.goBack,center:e.createElement(zs,{type:"header5A"},E(".addStory")),gamepadAlias:"realms-new-story-route"},e.createElement(t.Mount,{when:M},e.createElement(iU.Component,null)),e.createElement(t.Mount,{when:w},e.createElement(cU.Component,null)),e.createElement(t.Mount,{when:k},e.createElement(mA.Component,{onClickClose:T})),e.createElement(t.Mount,{when:R.isVisible},e.createElement(JM.Component,{onClose:R.hide})),e.createElement(UE,null,e.createElement(t.Mount,{when:Z},e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:p,narrowSize:0}),e.createElement(UE.Column,{wideSize:f,narrowSize:8},e.createElement(Yc,{size:4}),e.createElement(XD,null)))),e.createElement(t.Mount,{when:Z,condition:!1},e.createElement(UE.Row,{className:"v1A9Y"},e.createElement(UE.Column,{wideSize:p,narrowSize:p},e.createElement(Yc,{size:4}),e.createElement("div",{className:"QTomy"},e.createElement(QI,{status:F,src:v,variant:"large"}))),e.createElement(UE.Column,{wideSize:f,narrowSize:f},e.createElement(ys,null,e.createElement(Yc,{size:4}),e.createElement("div",{className:mU},e.createElement(HC,null,e.createElement(t.DeferredMount,null,e.createElement(t.Mount,{when:$},e.createElement(du,null,e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,E(".bannerText")),e.createElement(Yc,{size:1}),e.createElement(KS.Link,{onClick:X,gamepadIndex:0},E(".bannerLink")))))),e.createElement(t.DeferredMount,null,e.createElement(du,null,e.createElement(zs,{type:"body"},E(".selectScreenshot")),e.createElement(Yc,{size:2}),e.createElement(t.Mount,{when:S,condition:!1},e.createElement(mx,{shouldSkipLandmarkInVisual:!0},e.createElement(Pu,{onClick:Q,inputLegend:E(".addScreenshot"),imgSrc:K,narrationPrefix:E(".addScreenshot"),narrationSuffix:B,disabled:$},E(".addScreenshot")))),e.createElement(t.Mount,{when:S},e.createElement(e.Fragment,null,e.createElement("div",{className:Or()(mU,J.border.base)},e.createElement(Rc,{src:x,aspectRatio:Rc.AspectRatio["16:9"]})),e.createElement(Yc,{size:2}),e.createElement(mx,{shouldSkipLandmarkInVisual:!0},e.createElement("div",{className:dU},e.createElement(Pu,{inputLegend:E(".changeScreenshotImage"),onClick:Q,narrationPrefix:E(".changeScreenshotImage"),narrationSuffix:W,horizontal:!0},E(".change")),e.createElement(Yc,{size:4}),e.createElement(Pu,{inputLegend:E(".removeScreenshotImage"),onClick:I,narrationPrefix:E(".removeScreenshotImage"),narrationSuffix:U,horizontal:!0},E(".remove")))))))),e.createElement(t.DeferredMount,null,e.createElement(mx,{shouldSkipLandmarkInVisual:!0},e.createElement(nw,{"data-testid":"new-story-field-id",maxLength:350,rows:3,label:"",placeholder:E(".textBoxPlaceholder"),value:P,narrationOverride:G,onChange:O,onKeyDown:A,disabled:M,onBlur:N}))),e.createElement(du,null,e.createElement(mx,{shouldSkipLandmarkInVisual:!0},e.createElement("div",{className:dU},e.createElement(Pu,{inputLegend:E(".cancel"),onClick:g.goBack,horizontal:!0,narrationPrefix:E(".cancel"),narrationSuffix:H},E(".cancel")),e.createElement(Yc,{size:4}),e.createElement(Pu,{inputLegend:E(".postStory"),variant:"primary",onClick:L,disabled:(0,t.useFacetMap)(((e,t)=>t||e),[],[y,M]),horizontal:!0,narrationPrefix:E(".postStory"),narrationSuffix:V},E(".post"))))))),e.createElement(Yc,{size:2})),e.createElement(wd.Space,null))))))))}!function(e){e[e.AddScreenshotButton=0]="AddScreenshotButton",e[e.ChangeScreenshotButton=1]="ChangeScreenshotButton",e[e.RemoveScrenshotButton=2]="RemoveScrenshotButton",e[e.PostTextField=3]="PostTextField",e[e.PostStoryButton=4]="PostStoryButton",e[e.CancelPostButton=5]="CancelPostButton"}(pU||(pU={}));const gU="xWZPm",EU="FSvA8",hU="PDItc",bU="LSGI4",vU="WrOnV",FU="wcRjU";function yU(e){return`screenshot-${e}-in-gallery`}function SU({screenshot:n,index:a,length:r,onScreenshotClicked:l,variant:o,isSelected:i=!1,gamepadAlias:c="",imageAspectRatioOverride:s,narrationSuffix:u=""}){const{t:d}=Ii("ScreenshotGalleryItem"),{t:m}=Ii("ScreenshotGalleryItem.narration"),p=gr(),f=(0,t.useFacetWrap)(n),g=(0,t.useFacetWrap)(i),E=(0,t.useFacetWrap)(u),h=(0,t.useFacetMap)((e=>e.thumbnail),[],[f]),b=(0,t.useFacetMap)((e=>"manage"===o?d(".removeScreenshot"):e.captureTimeLabel),[o,d],[f]),v=(0,t.useFacetMap)(((e,t,n,r,l)=>{let i=[];return i="select"===o?[m(r?".checked":".notChecked"),m(".checkboxRole"),e.featured?m(".featured"):"",e.showcased?m(".showcased"):"",m(".enumeration",[(a+1).toString(),t.toString()]),l]:"manage"===o?[n,e.featured?m(".featured"):"",e.showcased&&!e.featured?m(".showcased"):"",m(".cardRole"),m(".enumeration",[(a+1).toString(),t.toString()]),l]:[n,m(".cardRole"),e.featured?m(".featured"):"",e.showcased?m(".showcased"):"",m(".enumeration",[(a+1).toString(),t.toString()]),l],i.filter((e=>null!=e&&""!==e)).join(" . ")}),[m,a,o],[f,r,b,g,E]),F=(0,t.useFacetMap)((e=>e.featured),[],[f]),y=(0,t.useFacetMap)((e=>e.showcased),[],[f]),S=bE(ap),C=(0,t.useFacetCallback)((e=>()=>{l(e)}),[l],[f]),M=(0,t.useFacetMap)((e=>"manage"===o||!NM(e.platform)),[o],[(0,t.useSharedFacet)(el)]),w=(0,t.useFacetMap)(((e,t)=>""!==t?t:yU(a)),[a],[r,(0,t.useFacetWrap)(c)]);return e.createElement(Wr,null,e.createElement(LA,{inputLegend:d(".screenshotInputLegend"),narrationTextOverride:v,onClick:C,gamepadAlias:w,fillShadow:!0},e.createElement("div",null,e.createElement(Rc,{src:h,aspectRatio:null!=s?s:Rc.AspectRatio["16:9"]}),S&&e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:y},e.createElement("div",{className:Or()(p.neutral.background.base,"_WNVA")},e.createElement(kS.Friends,{role:"neutral",width:24,height:24}))),e.createElement(t.Mount,{when:F},e.createElement("div",{className:gU},e.createElement(ux,{role:"primaryTint"},d(".featured"))))),"select"===o&&e.createElement("div",{className:"yePX7"},e.createElement(qs,{value:g,narrationText:!1,gamepad:{index:0},mountFocusBorder:!1}))),e.createElement(t.Mount,{when:M},e.createElement(LA.Information,{narrationText:v},e.createElement(zs,{variant:"dimmer",type:"body"},b))),e.createElement(t.Mount,{when:M,condition:!1},e.createElement(LA.Information,{narrationText:!1},e.createElement(Yc,{size:4})))))}function CU(e){return"desktop"===e?6:"narrow"===e?2:4}function MU({displayData:n,onScreenshotClicked:a,innerRef:r,changePage:l,totalPages:o,currentPage:i,paginationEnabled:c,selectionEnabled:s=!1,selectedScreenshots:u,isLoadingScreenshots:d=!1,disableHomeEnd:m=!1}){const p=(0,t.useFacetMap)((e=>e.length),[],[n]),f=Ko(),g=(0,e.useRef)(null),E=(0,t.useFacetWrap)(s),h=(0,t.useFacetMap)(((e,t,n)=>e?n.map((e=>t.includes(e.id))):null),[],[E,u,n]),b=ve(),v=(0,t.useFacetCallback)((e=>t=>{if(!t.repeat&&!m){if(t.keyCode==de.HOME)return void b(yU(0));if(t.keyCode==de.END)return void b(yU(e-1))}}),[m,b],[p]);return(0,e.useEffect)((()=>(window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)})),[v]),e.createElement(Fl,{data:h},(s=>e.createElement(kA,{loading:d,gamepadAlias:"screenshot-gallery-grid",data:n,columns:CU(f),firstRowSeparatorVertical:e.createElement(Yc,{size:2}),itemSeparatorHorizontal:e.createElement(Yc,{size:2}),itemSeparatorVertical:e.createElement(Yc,{size:2}),innerRef:r,footer:e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:c,condition:!0},e.createElement("div",null,e.createElement(Yc,{size:4}),e.createElement("div",null,e.createElement(Pc,{containerRef:g},e.createElement("div",{ref:g},e.createElement(GI,{totalPages:o,currentPage:i,onChange:l})))),e.createElement(Yc,{size:4}))),e.createElement(t.Mount,{when:c,condition:!1},e.createElement(Yc,{size:4})),e.createElement(wd.Space,null)),renderItem:({itemFacet:t,index:n})=>e.createElement(SU,{length:p,screenshot:t,onScreenshotClicked:a,index:n,variant:null!=s?"select":"view",isSelected:null!=s&&s[n]})})))}let wU,kU;SU.Empty=function({index:n,length:a,variant:r,imgSrc:l,onClick:o,gamepadAlias:i,narrationSuffix:c="",imageAspectRatioOverride:s,featured:u=!1}){const{t:d}=Ii("ScreenshotGalleryItem"),{t:m}=Ii("ScreenshotGalleryItem.narration"),p=gr("inherit"),f=gr("neutral80"),g=(0,t.useFacetWrap)(r),E=(0,t.useFacetWrap)(c),h=(0,t.useFacetMap)(((e,t,a)=>[d("manage"===t?".pickScreenshot":".emptyScreenshotSlot"),m(".cardRole"),m(".enumeration",[(n+1).toString(),e.toString()]),a].filter((e=>null!=e&&""!==e)).join(" . ")),[m,d,n],[a,g,E]),b=Rc.aspectRatioToPercentage(null!=s?s:Rc.AspectRatio["16:9"]),v=(0,t.useFacetMap)((e=>`url(${e})`),[],[(0,t.useFacetWrap)(l)]);return"manage"===r?e.createElement(Wr,null,e.createElement(LA,{inputLegend:d(".screenshotInputLegend"),narrationTextOverride:h,onClick:o,gamepadAlias:i,fillShadow:!0},e.createElement(Fl,{data:v},(t=>e.createElement(e.Fragment,null,e.createElement("div",{style:{paddingTop:b,backgroundImage:t},className:Or()(EU,hU,p.background.base)},e.createElement("div",{className:Or()(bU,u?FU:"")},e.createElement(kS.AddImage,{className:vU}))),u&&e.createElement("div",{className:gU},e.createElement(ux,{role:"primaryTint"},d(".featured")))))),e.createElement(LA.Information,{narrationText:h},e.createElement(zs,{variant:"dimmer",type:"body"},d(".pickScreenshot"))))):e.createElement("div",{className:"mb1eq"},e.createElement(ic,{inputLegend:!1,narrationText:h,className:Or()("F2PvF",f.border.base,f.background.base),classNameFocused:ji,gamepadAlias:i},e.createElement(zi,null),e.createElement(Fl,{data:v},(t=>e.createElement("div",{style:{paddingTop:b,backgroundImage:t},className:Or()(EU,hU,f.background.base)},e.createElement("div",{className:Or()(bU,u?FU:"")},e.createElement(kS.Image,{className:vU})))))))},function(e){e[e.NewestFirst=0]="NewestFirst",e[e.OldestFirst=1]="OldestFirst",e[e.None=2]="None"}(wU||(wU={})),function(e){e[e.ShowAll=0]="ShowAll",e[e.Showcased=1]="Showcased",e[e.Unmarked=2]="Unmarked",e[e.Featured=3]="Featured"}(kU||(kU={}));const TU="NzFL8",xU="S2wPa",IU=n.p+"assets/Not-Logged-In-02f5b.png",PU=n.p+"assets/iconCameraButton-db27c.png";function OU(){return OU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},OU.apply(this,arguments)}const AU=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("l3fYT",n);return e.createElement(Rc,OU({},a,{className:r,src:PU,imageRendering:"pixelated"}))};function NU(){const{t:n}=Ii("useCaptureScreenshotInfo"),a=(0,t.useSharedFacet)(el),r=et(),l=Ze();return(0,t.useFacetMap)(((t,a,r)=>{const l=n(".emptyGalleryTitle");if(_M(t.platform,t.arvrPlatform)&&!a){const t=n(".controlHint.keyboard");return{icon:e.createElement(Cd,{keyCode:de.F2}),text:t,narration:t,title:l}}if(r||DM(t.inputMethods)){const t=n(".controlHint.touchscreen");return{icon:e.createElement(AU,null),text:t,narration:t,title:l}}let o=n(".controlHint.xboxButtons");NM(t.platform)?o=n(".controlHint.switchButtons"):AM(t.platform)&&(o=n(".controlHint.playstationButtons"));const i=n(".controlHint.gamepad",[o]);return{icon:e.createElement(e.Fragment,null,e.createElement(Sd,{button:W.LEFT_BUMPER}),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionShort"},n(".plus")),e.createElement(Yc,{size:1}),e.createElement(Sd,{button:W.RIGHT_BUMPER})),text:i,narration:i,title:l}}),[n],[a,r,l])}function RU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function LU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RU(Object(n),!0).forEach((function(t){_U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _U(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let DU;function BU({errorType:n}){const{t:a}=Ii("ScreenshotGalleryError"),r=gr("neutral80"),l=u(),o=fh({wide:8,narrow:6,width:260}),i=(0,t.useFacetWrap)(n),c=(0,e.useCallback)((()=>{l.push("/sign-in?signInSource=ProfileScreen_OreUI")}),[l]),s=NU(),d=(0,t.useFacetMap)(((t,n)=>{switch(t){case DU.EmptyGallery:return LU(LU({},n),{},{button:null});case DU.NotSignedIn:return{icon:e.createElement(Rc,{className:o?"I7HUE":"O9q7X",imageRendering:"pixelated",src:IU}),text:a(".notLoggedInMessage"),title:a(".notLoggedInTitle"),button:{text:a(".signInWithMicrosoft"),onClick:c}};default:return{icon:e.createElement(e.Fragment,null),text:"",title:""}}}),[o,c,a],[i,s]);return e.createElement(Fl,{data:d},(t=>e.createElement("div",{className:Or()("OG8RP",r.background.base,r.border.base)},e.createElement(zs,{type:"secondaryButton",align:"center"},t.title),e.createElement(Yc,{size:4}),e.createElement("div",{className:"ap8Jq"},t.icon),e.createElement(Yc,{size:4}),e.createElement(zs,{type:"captionShort",variant:"dimmest",align:"center"},t.text),null!=t.button&&e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement("div",{className:"nuuVt"},e.createElement(Pu,{inputLegend:t.button.text,variant:"primary",onClick:t.button.onClick},t.button.text))))))}!function(e){e[e.NoError=0]="NoError",e[e.EmptyGallery=1]="EmptyGallery",e[e.NotSignedIn=2]="NotSignedIn"}(DU||(DU={}));const WU="filter-dropdown-alias",UU="sort-dropdown-alias";function zU({headerText:n,showHeaderNumbers:a=!1,onScreenshotClicked:r,screenshotLists:l,scrollViewRef:o,managementRowButtons:i,isLoadingScreenshots:c=!1,onSubmitSelection:s,onCancelSelection:u,selectionType:d="confirm",maxSelection:m=-1,onGoBack:p,selectionEnabled:f=!1,banner:g}){const{t:E}=Ii("ScreenshotGalleryContainer"),{t:h}=Ii("ScreenshotGalleryContainer.narration"),b=bE(ap),v=(0,t.useFacetWrap)(d),F=(0,t.useFacetWrap)(m),[y,S]=(0,t.useFacetState)(kU.ShowAll),C=(0,t.useSharedFacet)(rg),M=(0,t.useFacetWrap)(c),w=(0,t.useFacetWrap)(f),[k,T]=(0,t.useFacetState)(1),[x,I]=(0,t.useFacetState)(!1),P=ve(),O=(0,e.useCallback)((()=>{null!=o&&null!=o.current&&(o.current.scrollTop=0),P(yU(0))}),[o,P]),A=(0,e.useCallback)((e=>{I(e.target.scrollTop>0)}),[I]);(0,e.useEffect)((()=>{const e=null==o?void 0:o.current;return requestAnimationFrame((()=>{const e=null==o?void 0:o.current;null==e||e.addEventListener("scroll",A)})),()=>{null==e||e.removeEventListener("scroll",A)}}),[o,A]);const N=(0,e.useCallback)((e=>{T(e),O()}),[O,T]),[R,L]=(0,t.useFacetState)([]);(0,t.useFacetEffect)((e=>{e&&S(kU.ShowAll),N(1),L([])}),[N,S,L],[w]);const _=(0,t.useFacetMap)((e=>0===e.length),[],[R]),D=(0,t.useFacetCallback)((e=>n=>{L((a=>a===t.NO_VALUE?t.NO_VALUE:a.includes(n.id)?a.filter((e=>e!==n.id)):-1===e||a.length<e?[...a,n.id]:a))}),[L],[F]),B=(0,t.useFacetCallback)((e=>()=>{s&&s(e)}),[s],[R]),W=(0,t.useFacetMap)(((e,t)=>"delete"===e?E(1===t.length?".deleteButtonTextSingular":".deleteButtonText",[`${t.length}`]):E(".confirmButtonText")),[E],[v,R]),U=Ko(),[z,j]=(0,t.useFacetState)(wU.NewestFirst),H=(0,e.useCallback)((e=>{j(e),O(),N(1)}),[N,O,j]),V=(0,e.useCallback)((e=>{S(e),O(),N(1)}),[N,O,S]),G=(0,t.useFacetWrap)([{label:E(".newestFirst"),value:wU.NewestFirst,gamepadAlias:"screenshot-sort-menu-options1",enumeration:E(".optionsEnumeration",["1","2"])},{label:E(".oldestFirst"),value:wU.OldestFirst,gamepadAlias:"screenshot-sort-menu-options2",enumeration:E(".optionsEnumeration",["2","2"])}]),$=function(e){const{t:n}=Ii("ScreenshotGalleryContainer");return(0,t.useFacetMap)((e=>{const t=[{label:n(".showAll",[e.allScreenshots.length.toString()]),value:kU.ShowAll,gamepadAlias:"screenshot-filter-menu-options-1",enumeration:""}];e.showcasedScreenshots.length>0&&t.push({label:n(".showcased",[e.showcasedScreenshots.length.toString()]),value:kU.Showcased,gamepadAlias:`screenshot-filter-menu-options-${t.length+1}`,enumeration:""}),e.featuredScreenshots.length>0&&t.push({label:n(".featured",[e.featuredScreenshots.length.toString()]),value:kU.Featured,gamepadAlias:`screenshot-filter-menu-options-${t.length+1}`,enumeration:""}),e.unmarkedScreenshots.length>0&&t.push({label:n(".unmarked",[e.unmarkedScreenshots.length.toString()]),value:kU.Unmarked,gamepadAlias:`screenshot-filter-menu-options-${t.length+1}`,enumeration:""});for(let e=0;e<t.length;e++)t[e].enumeration=n(".optionsEnumeration",[`${e+1}`,`${t.length}`]);return t}),[n],[e])}(l),K=(0,t.useFacetWrap)(n),X=(0,t.useFacetWrap)(a),Y=(0,t.useFacetMap)(((e,t,n,a,r,l,o)=>t&&-1===l||!r?e:E(".headerTextWithNumbers",[e,`${t?n.length:a.allScreenshots.length}`,`${t?l:o.maxScreenshots}`])),[E],[K,w,R,l,X,F,C]),q=function(e,n,a,r=1){const l=(0,t.useFacetWrap)(r);return(0,t.useFacetMap)(((e,t,n,a)=>{let r=[];switch(n){case kU.Showcased:r=op(e.showcasedScreenshots);break;case kU.Featured:r=op(e.featuredScreenshots);break;case kU.Unmarked:r=op(e.unmarkedScreenshots);break;default:r=op(e.allScreenshots)}t===wU.NewestFirst?r=r.sort(((e,t)=>t.captureTime-e.captureTime)):t===wU.OldestFirst&&(r=r.sort(((e,t)=>e.captureTime-t.captureTime)));const l=r.slice(48*(a-1),48*a);return{fullData:r,pageData:l}}),[],[e,n,a,l])}(l,z,y,k),Q=(0,t.useFacetMap)((e=>e.pageData),[],[q]),J=(0,t.useFacetMap)((e=>e.fullData),[],[q]),[Z,ee]=(0,t.useFacetState)(!1),[te,ne]=(0,t.useFacetState)(1);(0,t.useFacetEffect)(((e,t)=>{const n=t.length>48,a=Math.ceil(t.length/48);ee(n),ne(a),0===e.length&&0!==t.length&&N(a)}),[N,ee,ne],[Q,J]);const ae=(0,t.useFacetCallback)(((e,t,n)=>a=>{n?D(a):r(a,e,t)}),[r,D],[z,y,w]),re=(0,t.useFacetMap)(((e,t,n)=>n.isLoggedInWithMicrosoftAccount?null!=e&&0!==e.length||t?DU.NoError:DU.EmptyGallery:DU.NotSignedIn),[],[J,M,(0,t.useSharedFacet)(Dg)]),le=(0,t.useFacetMap)(((e,t)=>e&&t===DU.NoError),[],[x,re]),oe=(0,t.useFacetMap)(((e,t)=>e===DU.NoError&&!t),[],[re,w]),ie=(0,t.useFacetMap)((e=>!NM(e.platform)),[],[(0,t.useSharedFacet)(el)]),ce=(0,t.useFacetMap)((e=>e?b?"both":"justSort":b?"justFilter":"empty"),[b],[ie]),se=(0,t.useFacetMap)((e=>"justSort"===e?UU:"empty"===e?void 0:WU),[],[ce]),ue=(0,t.useFacetMap)((e=>"narrow"===U&&"both"===e?"nM6wO":"ziqkT"),[U],[ce]),de=(0,t.useFacetMap)((e=>Or()("ewABs","narrow"===U?"":"both"===e?"ttXbT":"vnqNC")),[U],[ce]),me=(0,t.useFacetMap)((e=>"justFilter"===e||"both"===e),[],[ce]),pe=(0,t.useFacetMap)((e=>"justSort"===e||"both"===e),[],[ce]),fe=(0,t.useFacetMap)((e=>"empty"===e),[],[ce]),ge=(0,t.useFacetMap)(((e,t)=>[h(".screenshots"),h(".grid"),h(e?"confirm"===t?".selectionClickInstructions":".deletionClickInstructions":".screenshotClickInstructions")].join(" . ")),[h],[w,v]);return e.createElement(NO,{screenAnalyticsId:"ScreenshotGalleryContainer",title:Y,gamepadAlias:"screenshot-gallery-container",delegateByAlias:se,onBack:p},(()=>e.createElement(UE,null,e.createElement(Yc,{size:3}),e.createElement(t.Mount,{when:oe},e.createElement(UE.Row,null,e.createElement(Ps,{text:[h(".screenshotOptions"),h(".horizontalGroupChoice")].join(" . ")},e.createElement(UE.Column,{wideSize:12,narrowSize:8},e.createElement("fast-div",{className:ue},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:fe,condition:!1},e.createElement(e.Fragment,null,e.createElement("fast-div",{className:de},e.createElement(t.Mount,{when:me},e.createElement(e.Fragment,null,e.createElement("div",{className:TU},e.createElement(lB,{title:E(".filterOptions"),options:$,value:y,onItemSelect:V,buttonTestId:"filter-dropdown-button",matchButtonHeight:!0,gamepadAlias:WU})),e.createElement(Yc,{size:2}))),e.createElement(t.Mount,{when:pe},e.createElement("div",{className:TU},e.createElement(lB,{title:E(".sortOptions"),options:G,value:z,onItemSelect:H,buttonTestId:"sort-dropdown-button",matchButtonHeight:!0,gamepadAlias:UU})))),e.createElement(Yc,{size:2}))),i)),g)))),e.createElement(t.Mount,{when:w},e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:12,narrowSize:8},e.createElement("div",{className:"Lypqj"},e.createElement("div",{className:xU},e.createElement(Pu,{inputLegend:E(".cancel"),onClick:u,"data-testid":"cancel-selection"},E(".cancel"))),e.createElement(Yc,{size:2}),e.createElement("div",{className:xU},e.createElement(Fl,{data:v},(t=>e.createElement(Pu,{inputLegend:W,onClick:B,disabled:_,"data-testid":"submit-selection",variant:"confirm"===t?"primary":"destructive"},W)))))))),e.createElement(Yc,{size:3}),e.createElement(t.Mount,{when:le},e.createElement("div",{className:"cybQO","data-testid":"gallery-content-divider"},e.createElement(hv,{role:"neutral80",reversed:!1}))),e.createElement(UE.Row,{fullHeight:!0},e.createElement(Fl,{data:re},(t=>t===DU.NoError?e.createElement(UE.Column,{narrowSize:8,wideSize:12},e.createElement(Ps,{text:ge},e.createElement(MU,{displayData:Q,onScreenshotClicked:ae,changePage:N,currentPage:k,totalPages:te,paginationEnabled:Z,innerRef:o,selectedScreenshots:R,isLoadingScreenshots:M,selectionEnabled:w}))):e.createElement(e.Fragment,null,e.createElement(UE.Column,{narrowSize:0,wideSize:1}),e.createElement(UE.Column,{narrowSize:8,wideSize:10},e.createElement(BU,{errorType:t})),e.createElement(UE.Column,{narrowSize:0,wideSize:1}))))),e.createElement(wd.Space,null))))}function jU(){const{t:n}=Ii("RealmsStoriesScreenshotGalleryRoute"),a=(0,t.useSharedFacet)(Ef),r=(0,t.useSharedFacet)(rg),l=u(),o=(0,t.useFacetCallback)((e=>t=>{e.storyScreenshotSelectionFilePath=t.filePath,l.goBack()}),[l],[a]),i=(0,t.useFacetMap)((e=>e.isLoadingGallery),[],[r]),c=oU(),s=(0,e.useRef)(null);return e.createElement(zU,{onScreenshotClicked:o,headerText:n(".header"),screenshotLists:c,scrollViewRef:s,isLoadingScreenshots:i})}const HU=n.p+"assets/default-f0026.png";function VU(e,t){const n=function(e,t){for(let n=0;n<e.images.length;n++){const a=e.images[n];if((null==a?void 0:a.id)===t)return a}return null}(e,t);return n&&(null==n?void 0:n.url.length)>0?null==n?void 0:n.url:n&&n.isLoaded?HU:""}function GU(e,t){for(let n=0;n<e.buttons.length;n++){const a=e.buttons[n];if(null!=a&&a.id==t)return a}return null}function $U(e,t,n=""){const a=GU(e,t);return null!=a&&a.text.length>0?a.text:n}function KU(){const e=u();return(0,t.useFacetCallback)((t=>(n,a,r)=>{t.reportClick(n,a,r.id),r.action===Gp.EXTERNAL?r.openExternalLink():r.action==Gp.INTERNAL&&e.replace(r.link)}),[e],[(0,t.useSharedFacet)(Kp)])}function XU({errorMessage:t,messageID:n}){const{t:a}=Ii("AnnouncementModalRoute"),r=u();let l=String(a(".errorTitle"));const o=String(t);return null!=n&&(l+=" ID: "+n),e.createElement(Ps,{text:l+o},e.createElement(Ld,null,e.createElement(Ld.Header,null,l),e.createElement(Ld.Content,{focusableIfScrollable:!0},e.createElement(Ld.Text,{gamepadIndex:0,narrationText:o},e.createElement(zs,{type:"captionLong",align:"left"},o))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:1,inputLegend:a(".confirmInputLegend"),variant:"secondary",onClick:()=>{r.goBack()}},a(".continue")))))}function YU({button:t}){return(null==t?void 0:t.action)==Gp.EXTERNAL?e.createElement(e.Fragment,null,e.createElement(kS.ExternalLink,{role:"inherit"}),e.createElement(Yc,{size:2})):null}const qU="U_nrH",QU="CallToAction";function JU({announcement:n}){const{t:a}=Ii("AnnouncementModalRoute"),r=Hr(),l=(0,t.useFacetUnwrap)(n),o=KU(),i=(0,t.useFacetCallback)((e=>(t,n)=>{e(t,n)}),[],[(0,t.useSharedFacet)(Xp)]);if(l===t.NO_VALUE||null==l)return e.createElement(XU,{errorMessage:a(".errorNoMessage")});const c=l.header,s=l.body;if(null==s||null==c||!function(e){return"ImageThumbnailCTA"===e.template&&e.images.length>=2&&null!=GU(e,QU)}(l))return e.createElement(XU,{errorMessage:a(".errorInvalidTemplate")});const u=$U(l,"Dismiss",a(".continue")),d=GU(l,QU),m=$U(l,QU,a(".unlock")),p=VU(l,"Primary"),f=VU(l,"Secondary"),g=()=>{i(l.id,l.instanceId),r.goBack()};return e.createElement(Ld,null,e.createElement(Ld.Header,{onClose:g},c),e.createElement(Ld.Content,{focusableIfScrollable:!0},e.createElement("div",{className:"oSCgi"},e.createElement("div",{className:"j8BMW"},e.createElement("div",{className:"f2sqL"},e.createElement(Rc,{src:p,className:qU,aspectRatio:Rc.AspectRatio["16:9"]})),e.createElement(Yc,{size:2}),e.createElement("div",{className:"Fhcnq"},e.createElement("div",{className:"iDAT_"},e.createElement(Rc,{src:f,className:qU,aspectRatio:Rc.AspectRatio["16:9"]})),e.createElement("div",{className:"vfwUy"},e.createElement(Pu,{gamepadIndex:1,inputLegend:a(".confirmInputLegend"),variant:"primary",Icon:()=>e.createElement(YU,{button:d}),onClick:()=>{null!=d&&(o(l.id,l.instanceId,d),i(l.id,l.instanceId))}},m)))),e.createElement(Ld.Text,{gamepadIndex:2,narrationText:s},e.createElement("div",{className:"k1gtT"},e.createElement(zs,{type:"captionLong",align:"left",whiteSpace:"preWrap"},s))))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:3,inputLegend:a(".confirmInputLegend"),variant:"secondary",onClick:g},u)))}function ZU({announcement:n}){const{t:a}=Ii("AnnouncementModalRoute"),r=Hr(),l=(0,t.useFacetUnwrap)(n),o=(0,t.useFacetCallback)((e=>(t,n)=>{e(t,n)}),[],[(0,t.useSharedFacet)(Xp)]);if(l===t.NO_VALUE||null==l)return e.createElement(XU,{errorMessage:a(".errorNoMessage")});const i=l.header,c=l.body;if(null==c||null==i||!function(e){return"ImageText"===e.template&&e.images.length>=1}(l))return e.createElement(XU,{errorMessage:a(".errorInvalidTemplate")});const s=VU(l,"Primary"),u=$U(l,"Dismiss",a(".continue")),d=()=>{o(l.id,l.instanceId),r.goBack()};return e.createElement(Ld,null,e.createElement(Ld.Header,{onClose:d},i),e.createElement(Ld.Content,{focusableIfScrollable:!0},e.createElement("div",{className:"c2zWX"},e.createElement("div",{className:"NQe8O"},e.createElement(Rc,{src:s,className:"f9XJI",aspectRatio:Rc.AspectRatio["16:9"]})),e.createElement(Ld.Text,{gamepadIndex:0,narrationText:c},e.createElement("div",{className:"L5DW3"},e.createElement(zs,{type:"captionLong",align:"left",whiteSpace:"preWrap"},c))))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:1,inputLegend:a(".confirmInputLegend"),variant:"secondary",onClick:d},u)))}const ez="CallToAction";function tz({announcement:n}){const{t:a}=Ii("AnnouncementModalRoute"),r=u(),l=(0,t.useFacetUnwrap)(n),o=KU(),i=(0,t.useFacetCallback)((e=>(t,n)=>{e(t,n)}),[],[(0,t.useSharedFacet)(Xp)]);if(l===t.NO_VALUE||null==l)return e.createElement(XU,{errorMessage:a(".errorNoMessage")});const c=l.header,s=l.body;if(null==s||null==c||!function(e){return"HeroImageCTA"===e.template&&e.images.length>=1}(l))return e.createElement(XU,{errorMessage:a(".errorInvalidTemplate")});const d=$U(l,"Dismiss",a(".continue")),m=GU(l,ez),p=$U(l,ez,a(".unlock")),f=VU(l,"Primary"),g=()=>{i(l.id,l.instanceId),r.goBack()},E=()=>e.createElement(YU,{button:m});return e.createElement(Ld,null,e.createElement(Ld.Header,{onClose:g},c),e.createElement(Ld.Content,{focusableIfScrollable:!0},e.createElement("div",{className:"HGHq5"},e.createElement("div",{className:"taCiG"},e.createElement(Rc,{src:f,className:"CL2fS",aspectRatio:Rc.AspectRatio["16:9"]})),e.createElement(Ld.Text,{gamepadIndex:0,narrationText:s},e.createElement("div",{className:"FDtOo"},e.createElement(zs,{type:"captionLong",verticalAlign:"center",align:"left",role:"inherit",whiteSpace:"preWrap"},s))))),e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{gamepadIndex:1,inputLegend:a(".confirmInputLegend"),variant:"secondary",onClick:g,horizontal:!0},d),null!=m&&e.createElement(Yc,{size:4}),null!=m&&function(t,n){return e.createElement(Pu,{gamepadIndex:2,inputLegend:a(".confirmInputLegend"),variant:"primary",Icon:E,onClick:()=>{null!=m&&(o(t,n,m),i(t,n))},horizontal:!0},p)}(l.id,l.instanceId)))}function nz({template:n,message:a}){const{t:r}=Ii("AnnouncementModalRoute"),l=(0,t.useFacetUnwrap)(n),o=(0,t.useFacetUnwrap)(a);if(l==t.NO_VALUE||o==t.NO_VALUE)return null;switch(l){case"ImageText":return e.createElement(ZU,{announcement:o});case"ImageThumbnailCTA":return e.createElement(JU,{announcement:o});case"HeroImageCTA":return e.createElement(tz,{announcement:o});default:return e.createElement(XU,{errorMessage:r(".errorUnsupportedTemplate")})}}function az(){const{t:n}=Ii("AnnouncementModalRoute"),a=Vr(),r=(0,t.useSharedFacet)(qp(a.id)),l=(0,t.useFacetMap)((e=>e.message),[],[r]),o=(0,t.useFacetMap)(((e,t)=>e.isLoaded&&null!=t),[],[r,l]),i=(0,t.useFacetMap)(((e,t)=>e.isLoaded&&null==t),[],[r,l]),c=(0,t.useFacetMap)((e=>null==e?void 0:e.template),[],[l]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:o},e.createElement(nz,{template:c,message:l})),e.createElement(t.Mount,{when:i},e.createElement(XU,{errorMessage:n(".errorNoMessage")})))}const rz=(0,t.sharedFacet)("vanilla.playerBanned"),lz=()=>{var n;const a=Hr(),{t:r}=Ii("PlayerBannedModalRoute"),l=(0,t.useFacetCallback)((e=>()=>e.openBannedInfoPage()),[],[(0,t.useSharedFacet)(rz)]),o=(()=>{const e=(0,t.useFacetUnwrap)(f());return e===t.NO_VALUE?new s(""):e})(),i=r("."+(null!==(n=o.get("banReason"))&&void 0!==n?n:"unknownReportArea")),c=o.get("timeRemaining"),u="1"==o.get("isHours"),d="1"==o.get("isPermanent"),m=r(d?".permanent":".temporary"),p=r(".body",[m,i]),g=r(".close"),E=r(".body2",[g,m]),h=r(".title",[m]),b=function(e,t,n,a){return t?a(".body.forever"):null==e||"0"==e?"":"1"==e?a(n?".body.hour":".body.day"):a(n?".body.hours":".body.days",[e])}(c,d,u,r);return e.createElement(Ld,null,e.createElement(Ld.Header,{onClose:()=>a.goBack()},h),e.createElement(Ld.Content,null,e.createElement(Ld.Paragraphs,{narrationText:`${p}. ${E} . ${b}`,spaceBetweenParagraphs:4,gamepadIndex:0},e.createElement(zs,{type:"captionLong"},p),e.createElement(zs,{type:"captionLong"},E),""!=b&&e.createElement(zs,{type:"captionLong"},b)),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0})),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,autofocus:!0,inputLegend:g,variant:"primary",delayedClick:!0,onClick:l},g)))};function oz(){QW();const{t:n}=Ii("RealmsStories.settings"),a=d(),r=u(),l=(0,t.useSharedFacet)(Xf),o=(0,t.useSharedFacet)(mf),i=(0,t.useSharedFacet)(pf),c=(0,t.useSharedFacet)(el),s=(0,t.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[i]),p=(0,t.useFacetMap)((e=>n(".header",[e.name])),[n],[i]),f=(0,t.useFacetMap)((e=>n(e?".personalSettings.header":".personalSettings.member.header")),[n],[s]),g=(0,t.useFacetMap)((e=>!e.isOnline),[],[c]),E=(0,t.useFacetMap)(((e,t)=>(e.currentFetchState===Tg.InternalError||e.currentFetchState===Tg.FetchFailed||e.currentFetchState===Tg.RateLimit)&&!t),[],[l,g]),h=(0,t.useFacetMap)(((e,t)=>e||t),[],[g,E]),b=(0,t.useFacetMap)(((e,t)=>t&&(e.currentPostState===xg.InternalError||e.currentPostState===xg.InputInvalid||e.currentPostState===xg.UploadFailed||e.currentPostState===xg.PostingFailed)),[],[l,a]),v=(0,t.useFacetMap)(((e,t)=>e&&t.currentPostState===xg.RateLimit),[],[a,l]),F=(0,t.useFacetMap)(((e,t,n,a)=>t&&e.currentPostState===xg.InProgress&&!n&&!a),[],[l,a,b,v]),y=function(){const e=u();return(0,t.useFacetCallback)((t=>()=>{t.clearSettingsStatus(),e.go(-2)}),[e],[(0,t.useSharedFacet)(mf)])}(),S=(0,t.useFacetMap)(((e,t)=>e.currentFetchState!==Tg.Success&&!t),[],[l,h]),C=(0,t.useFacetMap)(((e,t)=>!e&&!t),[],[S,h]),M=m(),w=(0,t.useFacetCallback)(((e,t)=>()=>{e.postSettingsOnExit(t.realmId),r.goBack()}),[r],[o,M]),k=(0,t.useFacetCallback)(((e,t)=>()=>{e.setRealmNotificationStatus(!t.realmNotificationsStatus)}),[],[o,l]),T=(0,t.useFacetCallback)(((e,t)=>()=>{e.setRealmEventsStatus(!t.realmEventsStatus)}),[],[o,l]),x=(0,t.useFacetCallback)(((e,t)=>()=>{e.setRealmCoordinatesStatus(!t.realmCoordinatesStatus)}),[],[o,l]),I=(0,t.useFacetCallback)(((e,t)=>()=>{e.setRealmTimelineStatus(!t.realmTimelineStatus)}),[],[o,l]),P=(0,t.useFacetCallback)(((e,t)=>()=>{e.fetchSettings(t.realmId)}),[],[o,M]),O=[n(".personalSettings.member.header"),n(".personalSettings.description")].join(" . "),A=[n(".realmWideSettings.member.header"),n(".realmWideSettings.description")].join(" . "),N=(0,t.useFacetMap)((e=>e.realmNotificationsStatus),[],[l]),R=(0,t.useFacetMap)((e=>e.realmEventsStatus),[],[l]),L=(0,t.useFacetMap)((e=>e.realmCoordinatesStatus),[],[l]),_=(0,t.useFacetMap)((e=>e.realmTimelineStatus),[],[l]),D=gr("inherit");return e.createElement(NO,{onBack:w,title:p,gamepadAlias:"realms-stories-settings",screenAnalyticsId:"RealmsStoriesSettings"},(()=>e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:h},e.createElement(UE,null,e.createElement(UE.Row,{gamepadIndex:0},e.createElement(UE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(Yc,{size:4}),e.createElement(t.Mount,{when:g},e.createElement(XD,null)),e.createElement(t.Mount,{when:E},e.createElement(qD,{onClick:P,pageName:p})))))),e.createElement(t.Mount,{when:b},e.createElement(sA.Component,{onClickClose:w})),e.createElement(t.Mount,{when:v},e.createElement(mA.Component,{onClickClose:w})),e.createElement(t.Mount,{when:F},e.createElement(cA,{onClickClose:y})),e.createElement(t.Mount,{when:S},e.createElement("div",{className:Or()("mm198",D.overlay.base)},e.createElement(vs,null))),e.createElement(t.Mount,{when:C},e.createElement(UE,null,e.createElement(UE.Row,{gamepadIndex:0},e.createElement(UE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(ys,{floating:!0,gamepadIndex:0},e.createElement(Yc,{size:4}),e.createElement("div",{className:Or()("r8kuw",D.border.base)},e.createElement(Ps,{text:O},e.createElement(qS,{title:f,description:n(".personalSettings.description")}),e.createElement(iC,{title:n(".personalSettings.badgeNotifSwitch.title"),description:n(".personalSettings.badgeNotifSwitch.description"),value:N,onChange:k,gamepad:{index:1}})),e.createElement(t.Mount,{when:s},e.createElement(Ps,{text:A},e.createElement(qS,{title:n(".realmWideSettings.header"),description:n(".realmWideSettings.description")}),e.createElement(iC,{title:n(".realmWideSettings.realmEvents.title"),description:n(".realmWideSettings.realmEvents.description"),value:R,onChange:T,gamepad:{index:2}}),e.createElement(iC,{title:n(".realmWideSettings.storyCoordinates.title"),description:n(".realmWideSettings.storyCoordinates.description"),value:L,onChange:x,gamepad:{index:3}}),e.createElement(iC,{title:n(".realmWideSettings.playerTimeline.title"),description:n(".realmWideSettings.playerTimeline.description"),value:_,onChange:I,gamepad:{index:4}}))))),e.createElement(wd.Space,null))))))))}function iz({reportArea:n,onConfirm:a,onChangeReportArea:r,isSubmitDisabled:l}){const{t:o}=Ii("ReportPlayerRoute"),i=(0,t.sharedSelector)((e=>e.reportAreaOptions),[af]),c=(0,t.useFacetMap)((e=>e.map((e=>({label:o("."+e.label),value:e.value})))),[o],[(0,t.useSharedFacet)(i)]);return e.createElement(e.Fragment,null,e.createElement(Ld.Content,{scrollable:!1},e.createElement(Ld.Text,{gamepadIndex:0,narrationText:o(".whereReportDescription")},o(".whereReportDescription")),e.createElement(_C,{label:"",placeholder:o(".whereReport"),description:"",options:c,gamepadIndex:1,onChange:r,value:n})),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,autofocus:!0,inputLegend:o(".next"),variant:"primary",delayedClick:!0,onClick:a,disabled:l},o(".next"))))}function cz({gamertag:n,reportReason:a,onClickSendReport:r,onChangeReportReason:l,onChangeReportMessage:o,isSubmitDisabled:i}){const{t:c}=Ii("ReportPlayerRoute"),s=(0,t.sharedSelector)((e=>e.reportReasonOptions),[af]),u=(0,t.useFacetMap)((e=>e.map((e=>({label:c("."+e.label),value:e.value})))),[c],[(0,t.useSharedFacet)(s)]),d=(0,t.useFacetMap)((e=>1==e.length),[],[u]),m=(0,t.useFacetMap)(((e,t)=>t.length>1?e:t[0].value),[],[a,u]);(0,t.useFacetEffect)(((e,t)=>{e&&l(t[0].value)}),[l],[d,u]);const[p,f]=(0,t.useFacetState)(!1),g=(0,t.useFacetMap)(((e,t)=>e||!t),[],[i,p]),E=(0,t.useFacetMap)((e=>c(".whyReport",[e])),[c],[n]);return e.createElement(e.Fragment,null,e.createElement(Ld.Content,{scrollable:!1},e.createElement(_C,{label:"",placeholder:E,description:"",options:u,gamepadIndex:0,onChange:l,value:m,disabled:d}),e.createElement(nw,{gamepadIndex:1,rows:4,label:"",description:"",value:"",onChange:o,maxLength:500})),e.createElement(Ld.Buttons,{header:e.createElement(Ld.Checkbox,{value:p,onChange:f,title:c(".attestation")})},e.createElement(Pu,{gamepadIndex:2,autofocus:!0,inputLegend:c(".report"),variant:"primary",delayedClick:!0,onClick:r,disabled:g},c(".report"))))}function sz({index:n,gamepad:a,data:r,onChange:l,checkingDisabled:o}){const[i,c]=(0,t.useFacetState)(!1),s=(0,t.useFacetCallback)((e=>t=>{t&&e||(l(n,t),c(t))}),[l,n,c],[o]);return e.createElement(Js,{title:(0,t.useFacetMap)((e=>e.message),[],[r]),description:(0,t.useFacetMap)((e=>e.author),[],[r]),gamepad:a,value:i,onChange:s,disabled:(0,t.useFacetMap)((e=>!e.isAuthorBeingReported),[],[r])})}function uz({chatMessages:n,selectedMessages:a,onConfirm:r,setSelectedMessagesFacet:l}){const{t:o}=Ii("ReportPlayerRoute"),i=(0,t.useFacetWrap)(n),c=(0,t.useFacetWrap)(a),s=((e,n)=>(0,t.useFacetCallback)((e=>(t,a)=>{n((()=>{const n=[...e];if(a)n.length<4&&n.push(t);else{const e=n.findIndex((e=>e==t));e>-1&&n.splice(e,1)}return n}))}),[n],[e]))(c,l),u=(0,t.useFacetMap)((e=>e.length>=4),[],[c]);return e.createElement(e.Fragment,null,e.createElement(Ld.Content,null,e.createElement(t.Mount,{when:u},e.createElement(Ld.Text,{gamepadIndex:0,narrationText:o(".chatSelectionLimitReached")},o(".chatSelectionLimitReached"))),e.createElement(t.Map,{array:i},((t,n)=>e.createElement(sz,{index:n,gamepad:{index:n},data:t,onChange:s,checkingDisabled:u})))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:2,autofocus:!0,inputLegend:o(".confirmSelection"),variant:"primary",delayedClick:!0,onClick:r},o(".confirmSelection"))))}function dz({onConfirm:t}){const{t:n}=Ii("ReportPlayerRoute");return e.createElement(e.Fragment,null,e.createElement(Ld.Content,{scrollable:!1},e.createElement(Ld.Text,{gamepadIndex:0,narrationText:n(".reportConfirmation")},n(".reportConfirmation"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,autofocus:!0,inputLegend:n(".next"),variant:"primary",delayedClick:!0,onClick:t},n(".next"))))}function mz({onConfirm:n,onCancel:a,gamertag:r}){const{t:l}=Ii("ReportPlayerRoute"),o=(0,t.useFacetMap)((e=>l(".friendWarningText",[e])),[l],[r]);return e.createElement(e.Fragment,null,e.createElement(Ld.Content,{scrollable:!1},e.createElement(Ld.Text,{gamepadIndex:0,narrationText:l(".friendWarningText")},o)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{variant:"primary",gamepadIndex:0,autofocus:!0,inputLegend:l(".next"),delayedClick:!0,onClick:n},l(".warningReportAnyway")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:0,inputLegend:l(".next"),delayedClick:!0,onClick:a},l(".cancel"))))}function pz({onConfirm:t,onCancel:n}){const{t:a}=Ii("ReportPlayerRoute");return e.createElement(e.Fragment,null,e.createElement(Ld.Content,{scrollable:!1},e.createElement(Ld.Text,{gamepadIndex:0,narrationText:a(".reportLimitWarningText1")},a(".reportLimitWarningText1")),e.createElement(Ld.Text,{gamepadIndex:0,narrationText:a(".reportLimitWarningText2")},a(".reportLimitWarningText2"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{variant:"primary",gamepadIndex:0,autofocus:!0,inputLegend:a(".next"),delayedClick:!0,onClick:t},a(".warningReportAnyway")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:0,inputLegend:a(".next"),delayedClick:!0,onClick:n},a(".cancel"))))}var fz;!function(e){e[e.ReportAreaInput=0]="ReportAreaInput",e[e.ChatSelection=1]="ChatSelection",e[e.ReportReasonInputAndSubmission=2]="ReportReasonInputAndSubmission",e[e.WaitingForReportResponse=3]="WaitingForReportResponse",e[e.ReportComplete=4]="ReportComplete",e[e.FriendWarning=5]="FriendWarning",e[e.ReportLimitWarning=6]="ReportLimitWarning",e[e.Null=7]="Null"}(fz||(fz={}));const gz=()=>{const{t:n}=Ii("ReportPlayerRoute"),a=u(),r=f(),l=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.get("gamertag"))&&void 0!==t?t:n(".unknownGamertag")}),[n],[r]),o=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.get("xuid"))&&void 0!==t?t:""}),[],[r]),i=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.get("platformId"))&&void 0!==t?t:""}),[],[r]),c=(0,t.useFacetMap)((e=>"true"===e.get("isFriend")),[],[r]),s=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.get("galleryScreenshotId"))&&void 0!==t?t:""}),[],[r]),d=(0,t.useSharedFacet)(af),[m,p]=(0,t.useFacetState)(fz.Null),g=(0,e.useCallback)((()=>{p(fz.ReportAreaInput)}),[p]),E=(0,t.useFacetCallback)((e=>()=>{e.hasReachedReportLimit?p(fz.ReportLimitWarning):g()}),[p,g],[d]),h=(0,t.useFacetCallback)((e=>()=>{e?p(fz.FriendWarning):E()}),[p,E],[c]);(0,e.useEffect)((()=>{h()}),[h]);const b=(0,t.useFacetCallback)(((e,t,n,a)=>()=>{""!=a&&(e.galleryScreenshotId=a,e.reportArea=6,e.decideReportReasonOptions(),p(fz.ReportReasonInputAndSubmission)),e.startReport(t,n)}),[p],[d,o,i,s]);(0,t.useFacetEffect)((e=>{e===fz.ReportAreaInput&&b()}),[b],[m]);const[v,F]=(0,t.useFacetState)(-1),[y,S]=(0,t.useFacetState)(-1),[C,M]=(0,t.useFacetState)(""),[w,k]=(0,t.useFacetState)([]),T=(0,t.sharedSelector)((e=>e.reportableChatMessages),[af]),x=(0,t.sharedSelector)((e=>e.isChatAvailable()),[af]),I=(0,t.useFacetMap)((e=>e===fz.ReportAreaInput),[],[m]),P=(0,t.useFacetMap)((e=>-1==e),[],[v]),O=(0,t.useFacetMap)((e=>e===fz.ReportReasonInputAndSubmission),[],[m]),A=(0,t.useFacetMap)((e=>-1==e),[],[y]),N=(0,t.useFacetMap)((e=>e===fz.ChatSelection),[],[m]),R=(0,t.useFacetMap)((e=>e===fz.ReportComplete),[],[m]),L=(0,t.useFacetMap)((e=>e===fz.FriendWarning),[],[m]),_=(0,t.useFacetMap)((e=>e===fz.ReportLimitWarning),[],[m]),D=(0,t.useFacetCallback)(((e,t,n,a,r,l)=>()=>{n.reportReason=a,n.reportMessage=r,n.selectedChatMessages=l,n.xuid=e,n.platformId=t,n.finishReport()}),[],[o,i,d,y,C,w]),B=(0,t.useFacetCallback)(((e,t,n)=>()=>{e.reportArea=n,e.decideReportReasonOptions(),p(t&&0==n?fz.ChatSelection:fz.ReportReasonInputAndSubmission)}),[p],[d,(0,t.useSharedFacet)(x),v]),W=()=>{a.goBack()},U=(0,t.useFacetMap)(((e,t)=>t===fz.FriendWarning||t===fz.ReportLimitWarning?n(".warningTitle",[e]):n(".title",[e])),[n],[l,m]);return e.createElement(Ld,null,e.createElement(Ld.Header,{onClose:W},U),e.createElement(t.Mount,{when:L},e.createElement(mz,{gamertag:l,onConfirm:E,onCancel:W})),e.createElement(t.Mount,{when:_},e.createElement(pz,{onConfirm:g,onCancel:W})),e.createElement(t.Mount,{when:I},e.createElement(iz,{reportArea:v,onChangeReportArea:F,onConfirm:B,isSubmitDisabled:P})),e.createElement(t.Mount,{when:N},e.createElement(uz,{chatMessages:(0,t.useSharedFacet)(T),selectedMessages:w,onConfirm:()=>{p(fz.ReportReasonInputAndSubmission)},setSelectedMessagesFacet:k})),e.createElement(t.Mount,{when:O},e.createElement(cz,{gamertag:l,reportReason:y,onChangeReportReason:S,onClickSendReport:()=>{D(),p(fz.ReportComplete)},onChangeReportMessage:M,isSubmitDisabled:A})),e.createElement(t.Mount,{when:R},e.createElement(dz,{onConfirm:W})))},Ez=n.p+"assets/Sign-in_Prompts_Achievements-8e8d2.png",hz=n.p+"assets/Sign-in_Prompts_Achievements Animated-06cb0.gif";function bz(){const n=u(),a=f(),{t:r}=Ii("SignInAchievementsRoute"),l=LS(),o=bE(Zm),i=Ql(),c=(0,t.useFacetMap)((e=>e&&!o),[o],[i]),s=(0,t.useFacetMap)((e=>e?hz:Ez),[],[c]),d=bE(ep),m=r(d?".altSignInHeader":".signInHeader"),p=r(d?".altSignInPrompt":".signInPrompt"),g=(0,t.useFacetWrap)(d?[]:[r(".signInList1"),r(".signInList2"),r(".signInList3")]),E=(0,t.useFacetCallback)((e=>()=>{l({screen:"SignInAchievements",button:"SignIn"});const t=e.get("redirectTo"),a=null!=t?"&redirectTo="+encodeURIComponent(t):"";n.replace("/sign-in?signInSource=SignInAchievementsScreen_OreUI"+a)}),[n,l],[a]);return e.createElement(Ld,{defaultFocusAlias:"signInAchievementsButton"},e.createElement(Ld.Header,{onClose:()=>{l({screen:"SignInAchievements",button:"Close"}),n.goBack()}},m),e.createElement(Ld.Content,null,e.createElement(Yc,{size:4}),e.createElement(Rc,{src:s,className:"Ux__y",imageRendering:"pixelated"}),e.createElement(Ld.Text,{gamepadIndex:0,narrationText:p},e.createElement(zs,{type:"captionLong",align:"left"},p)),e.createElement(Ld.List,{items:g,gamepadIndex:1}),e.createElement(Yc,{size:4})),e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{gamepadIndex:0,inputLegend:r(".laterButton"),variant:"secondary",onClick:()=>{l({screen:"SignInAchievements",button:"MaybeLater"}),n.goBack()},horizontal:!0},r(".laterButton")),e.createElement(Yc,{size:4}),e.createElement(Pu,{gamepadIndex:1,gamepadAlias:"signInAchievementsButton",autofocus:!0,inputLegend:r(".signInButton"),variant:"primary",onClick:E,horizontal:!0},r(".signInButton"))))}const vz=n.p+"assets/Sign-in_Prompts_Friends-01fb9.png",Fz=n.p+"assets/Sign-in_Prompts_Friends Animated-0c355.gif";function yz(){const n=u(),{t:a}=Ii("SignInAddFriendRoute"),r=(0,t.useSharedFacet)(el),l=LS(),o=bE(Zm),i=Ql(),c=(0,t.useFacetMap)((e=>e&&!o),[o],[i]),s=(0,t.useFacetMap)((e=>e?Fz:vz),[],[c]),d=bE(ep),m=a(d?".altSignInHeader":".signInHeader"),p=a(d?".altSignInPrompt":".signInPrompt"),f=(0,t.useFacetMap)((e=>d?[]:e.platform==Ve.PS4||e.platform==Ve.PS5||e.platform==Ve.NX_HANDHELD||e.platform==Ve.NX_TV?[a(".signInList1NXPS"),a(".signInList3")]:[a(".signInList1"),a(".signInList2"),a(".signInList3")]),[a,d],[r]);return e.createElement(Ld,{defaultFocusAlias:"signInAddFriendButton"},e.createElement(Ld.Header,{onClose:()=>{l({screen:"SignInAddFriend",button:"Close"}),n.goBack()}},m),e.createElement(Ld.Content,null,e.createElement(Yc,{size:4}),e.createElement(Rc,{src:s,className:"MedW5",imageRendering:"pixelated"}),e.createElement(Ld.Text,{gamepadIndex:0,narrationText:p},e.createElement(zs,{type:"captionLong",align:"left"},p)),e.createElement(Ld.List,{items:f,gamepadIndex:1}),e.createElement(Yc,{size:4})),e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{gamepadIndex:0,inputLegend:a(".laterButton"),variant:"secondary",onClick:()=>{l({screen:"SignInAddFriend",button:"MaybeLater"}),n.goBack()},horizontal:!0},a(".laterButton")),e.createElement(Yc,{size:4}),e.createElement(Pu,{gamepadIndex:1,gamepadAlias:"signInAddFriendButton",autofocus:!0,inputLegend:a(".signInButton"),variant:"primary",onClick:()=>{l({screen:"SignInAddFriend",button:"SignIn"}),n.replace("/sign-in?signInSource=SignInAddFriendScreen_OreUI")},horizontal:!0},a(".signInButton"))))}const Sz=n.p+"assets/Sign-in_Prompts_Servers-cc10e.png",Cz=n.p+"assets/Sign-in_Prompts_Servers Animated-ab246.gif";function Mz(){const n=u(),{t:a}=Ii("SignInPlayOnServerRoute"),r=LS(),l=bE(Zm),o=Ql(),i=(0,t.useFacetMap)((e=>e&&!l),[l],[o]),c=(0,t.useFacetMap)((e=>e?Cz:Sz),[],[i]),s=bE(ep),d=a(s?".altSignInHeader":".signInHeader"),m=a(s?".altSignInPrompt":".signInPrompt"),p=(0,t.useFacetWrap)(s?[]:[a(".signInList1"),a(".signInList2"),a(".signInList3")]);return e.createElement(Ld,{defaultFocusAlias:"signInPlayOnServerButton"},e.createElement(Ld.Header,{onClose:()=>{r({screen:"SignInPlayOnServer",button:"Close"}),n.goBack()}},d),e.createElement(Ld.Content,null,e.createElement(Yc,{size:4}),e.createElement(Rc,{src:c,className:"nKl10",imageRendering:"pixelated"}),e.createElement(Ld.Text,{gamepadIndex:0,narrationText:m},e.createElement(zs,{type:"captionLong",align:"left"},m)),e.createElement(Ld.List,{items:p,gamepadIndex:1}),e.createElement(Yc,{size:4})),e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{gamepadIndex:0,inputLegend:a(".laterButton"),variant:"secondary",onClick:()=>{r({screen:"SignInPlayOnServer",button:"MaybeLater"}),n.goBack()},horizontal:!0},a(".laterButton")),e.createElement(Yc,{size:4}),e.createElement(Pu,{gamepadIndex:1,gamepadAlias:"signInPlayOnServerButton",autofocus:!0,inputLegend:a(".signInButton"),variant:"primary",onClick:()=>{r({screen:"SignInPlayOnServerModal",button:"SignIn"}),n.replace("/sign-in?signInSource=SignInPlayOnServerScreen_OreUI")},horizontal:!0},a(".signInButton"))))}const wz=n.p+"assets/Sign-in_Prompts_Save_Purchases-f506d.png",kz=n.p+"assets/Sign-in_Prompts_Save_Purchases Animated-cfb0b.gif";function Tz(){const n=u(),{t:a}=Ii("SignInSavePurchasesRoute"),r=LS(),l=bE(Zm),o=Ql(),i=(0,t.useFacetMap)((e=>e&&!l),[l],[o]),c=(0,t.useFacetMap)((e=>e?kz:wz),[],[i]),s=bE(ep),d=a(s?".altSignInHeader":".signInHeader"),m=a(s?".altSignInPrompt":".signInPrompt"),p=(0,t.useFacetWrap)(s?[]:[a(".signInList1"),a(".signInList2"),a(".signInList3")]),f=s?"":a(".createAccountPrompt");return e.createElement(Ld,{defaultFocusAlias:"signInSavePurchasesButton"},e.createElement(Ld.Header,{onClose:()=>{r({screen:"SignInSavePurchases",button:"Close"}),n.goBack()}},d),e.createElement(Ld.Content,null,e.createElement(Yc,{size:4}),e.createElement(Rc,{src:c,className:"WNtel",imageRendering:"pixelated"}),e.createElement(Ld.Text,{gamepadIndex:0,narrationText:m},e.createElement(zs,{type:"captionLong",align:"left"},m)),e.createElement(Ld.List,{items:p,gamepadIndex:1}),e.createElement(Ld.Text,{gamepadIndex:2,narrationText:f},e.createElement(zs,{type:"captionLong",align:"left"},f))),e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{gamepadIndex:0,inputLegend:a(".laterButton"),variant:"secondary",onClick:()=>{r({screen:"SignInSavePurchases",button:"MaybeLater"}),n.goBack()},horizontal:!0},a(".laterButton")),e.createElement(Yc,{size:4}),e.createElement(Pu,{gamepadIndex:1,gamepadAlias:"signInSavePurchasesButton",autofocus:!0,inputLegend:a(".signInButton"),variant:"primary",onClick:()=>{r({screen:"SignInSavePurchases",button:"SignIn"}),n.replace("/sign-in?signInSource=SignInSavePurchasesScreen_OreUI")},horizontal:!0},a(".signInButton"))))}const xz=n.p+"assets/Sign-in_Prompts_Launch-eadae.png",Iz=n.p+"assets/Sign-in_Prompts_Launch Animated-fdbda.gif";function Pz(){const n=u(),{t:a}=Ii("SignInDressingRoomRoute"),r=LS(),l=bE(Zm),o=Ql(),i=(0,t.useFacetMap)((e=>e&&!l),[l],[o]),c=(0,t.useFacetMap)((e=>e?Iz:xz),[],[i]);return e.createElement(Ld,{defaultFocusAlias:"dressingRoomSignInButton"},e.createElement(Ld.Header,{onClose:()=>{r({screen:"SignInDressingRoom",button:"Close"}),n.goBack()}},a(".signInHeader")),e.createElement(Ld.Content,null,e.createElement(Yc,{size:4}),e.createElement(Rc,{src:c,className:"vw9Nj",imageRendering:"pixelated"}),e.createElement(Ld.Text,{gamepadIndex:0,narrationText:a(".signInPrompt")},e.createElement(zs,{type:"captionLong",align:"left"},a(".signInPrompt")))),e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{gamepadIndex:0,inputLegend:a(".laterButton"),variant:"secondary",onClick:()=>{r({screen:"SignInDressingRoom",button:"MaybeLater"}),n.goBack()},horizontal:!0},a(".laterButton")),e.createElement(Yc,{size:4}),e.createElement(Pu,{gamepadIndex:1,gamepadAlias:"dressingRoomSignInButton",autofocus:!0,inputLegend:a(".signInButton"),variant:"primary",onClick:()=>{r({screen:"SignInDressingRoom",button:"SignIn"}),n.replace("/sign-in?signInSource=SignInDressingRoomScreen_OreUI")},horizontal:!0},a(".signInButton"))))}const Oz=n.p+"assets/Sign-in_Prompts_Save_Purchases-f506d.png",Az=n.p+"assets/Sign-in_Prompts_Save_Purchases Animated-cfb0b.gif";function Nz(){const n=u(),{t:a}=Ii("SignInMarketplaceRoute"),r=(0,t.useFacetWrap)([a(".signInList1")]),l=LS(),o=bE(Zm),i=Ql(),c=(0,t.useFacetMap)((e=>e&&!o),[o],[i]),s=(0,t.useFacetMap)((e=>e?Az:Oz),[],[c]);return e.createElement(Ld,{defaultFocusAlias:"signInMarketplaceButton"},e.createElement(Ld.Header,{onClose:()=>{l({screen:"SignInMarketplace",button:"Close"}),n.goBack()}},a(".signInHeader")),e.createElement(Ld.Content,null,e.createElement(Yc,{size:4}),e.createElement(Rc,{src:s,className:"QnWeO",imageRendering:"pixelated"}),e.createElement(Ld.Text,{gamepadIndex:0,narrationText:a(".signInPrompt")},e.createElement(zs,{type:"captionLong",align:"left"},a(".signInPrompt"))),e.createElement(Ld.List,{items:r,gamepadIndex:1}),e.createElement(Yc,{size:4})),e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{gamepadIndex:0,inputLegend:a(".laterButton"),variant:"secondary",onClick:()=>{l({screen:"SignInMarketplace",button:"MaybeLater"}),n.goBack()},horizontal:!0},a(".laterButton")),e.createElement(Yc,{size:4}),e.createElement(Pu,{gamepadIndex:1,gamepadAlias:"signInMarketplaceButton",autofocus:!0,inputLegend:a(".signInButton"),variant:"primary",onClick:()=>{l({screen:"SignInMarketplace",button:"SignIn"}),n.replace("/sign-in?signInSource=SignInMarketplaceScreen_OreUI")},horizontal:!0},a(".signInButton"))))}const Rz=n.p+"assets/Sign-in_Prompts_Launch-7712e.png",Lz=n.p+"assets/Sign-in_Prompts_Launch Animated-d5ba8.gif";function _z(){const n=u(),a=f(),{t:r}=Ii("SignInWorldsFriendsServersRoute"),l=(0,t.useSharedFacet)(el),o=LS(),i=bE(Zm),c=Ql(),s=(0,t.useFacetMap)((e=>e&&!i),[i],[c]),d=(0,t.useFacetMap)((e=>e?Lz:Rz),[],[s]),m=(0,t.useFacetMap)((e=>AM(e.platform)?[r(".signInList4"),r(".signInList2PS"),r(".signInList3PS")]:[r(".signInList1"),r(".signInList2"),r(".signInList3"),r(".signInList4")]),[r],[l]),p=(0,t.useFacetCallback)((e=>()=>{o({screen:"SignInWorldsFriendsServers",button:"SignIn"});const t=e.get("redirectTo"),a=null!=t?"&redirectTo="+encodeURIComponent(t):"";n.replace("/sign-in?signInSource=SignInWorldsFriendsServersScreen_OreUI"+a)}),[n,o],[a]),g=(0,t.useFacetCallback)((e=>()=>{o({screen:"SignInWorldsFriendsServers",button:"MaybeLater"});const t=e.get("redirectTo");null!=t?n.replace(t):n.goBack()}),[n,o],[a]),E=(0,t.useFacetCallback)((e=>()=>{o({screen:"SignInWorldsFriendsServers",button:"Close"});const t=e.get("redirectTo");null!=t?n.replace(t):n.goBack()}),[n,o],[a]);return e.createElement(Ld,{defaultFocusAlias:"signInWorldsFriendsServersButton"},e.createElement(Ld.Header,{onClose:E},r(".signInHeader")),e.createElement(Ld.Content,null,e.createElement(Yc,{size:4}),e.createElement(Rc,{src:d,className:"HJLaJ",imageRendering:"pixelated"}),e.createElement(Ld.Text,{gamepadIndex:0,narrationText:r(".signInPrompt")},e.createElement(zs,{type:"captionLong",align:"left"},r(".signInPrompt"))),e.createElement(Ld.List,{items:m,gamepadIndex:1}),e.createElement(Ld.Text,{gamepadIndex:2,narrationText:r(".createAccountPrompt")},e.createElement(zs,{type:"captionLong",align:"left"},r(".createAccountPrompt")))),e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{gamepadIndex:0,inputLegend:r(".laterButton"),variant:"secondary",onClick:g,horizontal:!0},r(".laterButton")),e.createElement(Yc,{size:4}),e.createElement(Pu,{gamepadIndex:1,gamepadAlias:"signInWorldsFriendsServersButton",autofocus:!0,inputLegend:r(".signInButton"),variant:"primary",onClick:p,horizontal:!0},r(".signInButton"))))}const Dz=n.p+"assets/Sign-in_Prompts_Launch-7712e.png",Bz=n.p+"assets/Sign-in_Prompts_Launch Animated-d5ba8.gif";function Wz(){const n=u(),{t:a}=Ii("FirstTimeSignInRoute"),r=(0,t.useSharedFacet)(el),l=LS(),o=bE(Zm),i=Ql(),c=(0,t.useFacetMap)((e=>e&&!o),[o],[i]),s=(0,t.useFacetMap)((e=>e?Bz:Dz),[],[c]),d=bE(ep),m=(0,t.useFacetMap)((e=>d?e.platform==Ve.IOS||e.platform==Ve.GOOGLE?a(".altSignInPromptMobile"):a(".altSignInPrompt"):a(".signInPrompt")),[a,d],[r]),p=(0,t.useFacetMap)((e=>d?AM(e.platform)?[a(".altSignInList1"),a(".altSignInList2"),a(".altSignInList3PS")]:e.platform==Ve.IOS||e.platform==Ve.GOOGLE?[]:[a(".altSignInList1"),a(".altSignInList2"),a(".altSignInList3")]:AM(e.platform)?[a(".signInList4"),a(".signInList2PS"),a(".signInList3PS")]:[a(".signInList1"),a(".signInList2"),a(".signInList3"),a(".signInList4")]),[a,d],[r]),f=d?"":a(".createAccountPrompt");return e.createElement(Ld,{defaultFocusAlias:"firstTimeSignInButton"},e.createElement(Ld.Header,{onClose:()=>{l({screen:"FirstTimeSignIn",button:"Close"}),n.goBack()}},a(".signInHeader")),e.createElement(Ld.Content,null,e.createElement(Yc,{size:4}),e.createElement(Rc,{src:s,className:"ulzxH",imageRendering:"pixelated"}),e.createElement(Ld.Text,{gamepadIndex:0,narrationText:m},e.createElement(zs,{type:"captionLong",align:"left"},m)),e.createElement(Ld.List,{items:p,gamepadIndex:1}),e.createElement(Ld.Text,{gamepadIndex:2,narrationText:f},e.createElement(zs,{type:"captionLong",align:"left"},f))),e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{gamepadIndex:0,inputLegend:a(".laterButton"),variant:"secondary",onClick:()=>{l({screen:"FirstTimeSignIn",button:"MaybeLater"}),n.goBack()},horizontal:!0},a(".laterButton")),e.createElement(Yc,{size:4}),e.createElement(Pu,{gamepadIndex:1,gamepadAlias:"firstTimeSignInButton",autofocus:!0,inputLegend:a(".signInButton"),variant:"primary",onClick:()=>{l({screen:"FirstTimeSignIn",button:"SignIn"}),n.replace("/sign-in?signInSource=FirstTimeSignInScreen_OreUI")},horizontal:!0},a(".signInButton"))))}function Uz({errorMessage:t,onDismiss:n}){const{t:a}=Ii("ErrorModal"),r=a(".title"),l=a(".goBack"),o=a(".goingBack"),i=null!=t&&""!==t?t:o,c=`${r} . ${i}`,s=i!==o;return e.createElement(Ld,null,e.createElement(Ld.Header,null,r),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:c},i)),s&&e.createElement(Ld.Buttons,null,e.createElement(Pu,{variant:"primary",onClick:n,gamepadIndex:0,autofocus:!0,inputLegend:l},l)))}function zz({visible:n,unmountOnExit:a,alwaysMounted:r,contentComponent:l,inverse:o}){const i=Ql();return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:i},e.createElement(ns,{alwaysMounted:r,visible:n,inverse:o,appear:!0,unmountOnExit:a,timeout:400},(t=>e.createElement(jz,{status:t,contentComponent:l})))),e.createElement(t.Mount,{when:i,condition:!1},e.createElement(zr,{contentComponent:l,visible:n,unmountOnExit:a})))}const jz=({status:n,contentComponent:a})=>{const r=(0,e.useMemo)((()=>e.memo(a)),[a]),l=(0,t.useFacetMap)((([e])=>"entered"===e||"entering"===e),[],[n]),o=(0,t.useFacetMap)((e=>!e),[],[l]),i=(0,t.useFacetMap)((([e])=>"entered"===e),[],[n]),c=(0,t.useFacetMap)((([e])=>"entered"!==e),[],[n]);return e.createElement(x,{value:l},e.createElement(Wr,{disabled:o},e.createElement("fast-div",{className:(0,t.useFacetMap)((([e,t])=>Or()("C84xm",{kEh2T:!t,k0msz:t,JDSRH:"entered"===e,DSGNH:"entering"===e,uv_vE:"exiting"===e,_rSgg:"exited"===e})),[],[n])},e.createElement(Hz,{paused:c},e.createElement(Dr,{type:"contentful",renderingCompleted:i}),e.createElement(r,null)))))},Hz=({paused:n,children:a})=>{const r=(0,t.useFacetUnwrap)(n);return e.createElement(t.PauseMountProvider,{paused:r===t.NO_VALUE||r},a)},Vz=n.p+"assets/video_crosshair-76970.webm",Gz=n.p+"assets/video_touch-e5021.webm",$z=n.p+"assets/video_classic-fbc33.webm",Kz={wrapper:"C9Ox8",wrapperDisabled:"chklf",RadioBox:"UYLxr",innerBox:"mNihg",innerBoxTileLeft:"Rugdi",innerBoxTileRight:"TG2vJ",RadioBoxCheckedDisabled:"OGJXs",label:"aS_mB",labelInner:"T4t4A"};function Xz({onClick:n,checked:a,label:r,description:l,disabled:o,extraSpeechProps:{index:i,groupSize:c}={index:1,groupSize:1},onFocusChanged:s,omitDescription:u=!1,readDescription:d=!1,checkedRole:m="primary",uncheckedRole:p="neutral50",textRole:f="neutral",soundEffectPressed:g}){const{t:E}=Ii("RadioBox"),h=(0,t.useFacetWrap)(a),b=gr(m),v=gr(p),F=hr("inherit"),y=(0,t.useFacetMap)((e=>[...null!=r?[r]:[],e?E(".selected"):"",e&&d&&null!=l?l+". ":"",o?E(".disabled"):"",E(".count",[`${i+1}`,`${c}`])].join(" . ")),[d,l,r,i,c,o,E],[h]),S=(0,t.useFacetMap)((e=>{var t,n,a,r;return Or()(Kz.RadioBox,{[null!==(t=b.background.interactive)&&void 0!==t?t:""]:e,[null!==(n=b.border.interactive)&&void 0!==n?n:""]:e,[null!==(a=v.background.interactive)&&void 0!==a?a:""]:!e,[null!==(r=v.border.interactive)&&void 0!==r?r:""]:!e})}),[b,v],[h]);return e.createElement(ic,{className:Kz.wrapper,classNameFocused:Or()(Kz.focused,ji),classNameDisabled:Kz.wrapperDisabled,narrationText:y,onClick:n,onFocusChanged:s,inputLegend:!1,disabled:o,soundEffectPressed:null!=g?g:F.toggle},e.createElement("fast-div",{className:S},e.createElement(zi,null),e.createElement(hc,{effect:"specular"}),e.createElement(t.Mount,{when:h},e.createElement("div",{className:Kz.innerBox},e.createElement("div",{className:Kz.innerBoxTileLeft}),e.createElement("div",{className:Kz.innerBoxTileRight})))),Boolean(r)&&e.createElement("div",{className:Or()(Kz.label)},Boolean(!u)&&Boolean(l)&&e.createElement(Yc,{size:4}),e.createElement(zs,{type:"body",role:f,variant:o?"dimmer":void 0},r),Boolean(!u)&&Boolean(l)&&e.createElement(e.Fragment,null,e.createElement(zs,{type:"captionShort",role:f,variant:"dimmer"},e.createElement("div",{className:Kz.labelInner},l)),e.createElement(Yc,{size:4}))))}let Yz=0;const qz=()=>{};function Qz({options:t,title:n,onChange:a=qz,value:r,disabled:l=!1,disabledValues:o,onFocusChanged:i,checkedRole:c,uncheckedRole:s,wrapperRole:u="neutral",soundEffectPressed:d}){const m=(0,e.useRef)(null),p=gr(u),f=hr(u);-1===t.findIndex((e=>e.value===r))&&console.warn("The provided default value does not match any of the provided options. This means that no option is selected, which is a broken state for RadioGroup.");const g=(0,e.useRef)("MCT-"+Yz++);return e.createElement(ja,{role:u},e.createElement(Pc,{delegateFocusFromMemory:!0,disabled:l,delegateFocusByAlias:g.current,containerRef:m},e.createElement("div",{className:Or()("d41i7",p.background.base)},e.createElement(hc,{effect:"specular",thin:!0,left:!1,right:!1,bottom:!1}),null!=n&&""!=n&&e.createElement(e.Fragment,null,e.createElement(Yc,{size:4}),e.createElement("div",{className:"dTZYj"},e.createElement(zs,{type:"body",role:u,variant:l?"dimmer":void 0},n))),e.createElement(Yc,{size:4}),t.map(((n,m)=>e.createElement(Xz,{disabled:!!(l||o&&o.indexOf(n.value)>-1),key:m,label:n.label,description:n.description,omitDescription:n.omitDescription,readDescription:n.readDescription,gamepad:{index:m},checked:n.value===r,onClick:()=>{r!==n.value&&a(n.value)},extraSpeechProps:{index:m,groupSize:t.length},onFocusChanged:i,checkedRole:c,uncheckedRole:s,textRole:u,soundEffectPressed:null!=d?d:f.toggle}))),e.createElement(Yc,{size:4}))))}const Jz="vzhv1";function Zz({startWorld:n}){const[a,r]=(0,t.useFacetState)("0px"),l=(0,e.useRef)(null),o=Hr(),{t:i}=Ii("TouchControlSelectionRoute"),c=(0,t.useSharedFacet)(Wp),[s,u]=(0,e.useState)(Bp.CLASSIC),d=(0,t.useSharedFacet)(jm),m=(0,t.useFacetCallback)((e=>()=>{e.inWorldCreation=!1,o.goBack()}),[o],[d]),p=(0,t.useFacetCallback)((e=>()=>{e.touchControlScheme=s,e.showTouchControlSelectionScreen=!1,n()}),[s,n],[c]),f=gr("neutral80"),g="touch",E="classic",h="crosshair",b=(0,e.useRef)(null),v=(0,e.useRef)(null),F=(0,e.useRef)(null),y=(0,e.useMemo)((()=>[b,F,v]),[]),S=(0,t.useFacetCallback)((e=>t=>{let n=Bp.TOUCH;if(t==E?n=Bp.CLASSIC:t==h&&(n=Bp.CROSSHAIR),e.playVideoInTouchControlSelectionScreen)for(let e=Bp.TOUCH;e<=Bp.CLASSIC;++e){const t=y[e].current;e==n?null!=t&&(t.currentTime=0,t.play()):null==t||t.pause()}u(n)}),[y],[c]);(0,t.useFacetEffect)((e=>{switch(e.touchControlScheme){case Bp.CLASSIC:S(E);break;case Bp.TOUCH:S(g);break;case Bp.CROSSHAIR:S(h)}}),[S],[c]);const C=(0,e.useCallback)((()=>{if(l.current){const{width:e}=l.current.getBoundingClientRect();e>0?r(.48*e+"px"):requestAnimationFrame(C)}}),[r]);function M(e){return s==e?"100%":"0px"}function w(e){return s==e?"100%":"0px"}(0,e.useEffect)((()=>(C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C))),[C]);const k=[i(".header")+". ",i(".title")+". ",(s==Bp.CLASSIC?i(".classicLabel"):s==Bp.TOUCH?i(".touchLabel"):i(".crosshairLabel"))+". ",i(".selected")+". ",s==Bp.CLASSIC?i(".classicInfo"):s==Bp.TOUCH?i(".touchInfo"):i(".crosshairInfo")].join(" . ");return e.createElement(vE,null,e.createElement(hE,{text:k}),e.createElement(DE,{onBackButton:m,center:e.createElement(zs,{type:"header5A"},i(".header")),gamepadAlias:"touch-control-selection"},e.createElement(UE,null,e.createElement(UE.Row,{gamepadIndex:0},e.createElement(UE.Column,{gamepadIndex:0,wideSize:8,narrowSize:4},e.createElement(ys,{gamepadIndex:0},e.createElement(Yc,{size:4}),e.createElement("div",{className:Jz},e.createElement("fast-div",{ref:l,style:{height:a}},e.createElement("div",{className:Or()("hmYnU",f.background.base)},e.createElement("div",{className:"SmsRy"},e.createElement("div",{className:"RBMB_"},e.createElement(vs,null)))),e.createElement("video",{ref:y[Bp.CLASSIC],style:{width:M(Bp.CLASSIC),height:w(Bp.CLASSIC),position:"absolute"},src:$z,loop:!0}),e.createElement("video",{ref:y[Bp.CROSSHAIR],style:{width:M(Bp.CROSSHAIR),height:w(Bp.CROSSHAIR),position:"absolute"},src:Vz,loop:!0}),e.createElement("video",{ref:y[Bp.TOUCH],style:{width:M(Bp.TOUCH),height:w(Bp.TOUCH),position:"absolute"},src:Gz,loop:!0})),e.createElement("div",{className:"c_o_5"},e.createElement(zs,{type:"body"},s==Bp.CLASSIC?i(".classicInfo"):s==Bp.TOUCH?i(".touchInfo"):i(".crosshairInfo")))))),e.createElement(UE.Column,{gamepadIndex:1,wideSize:4,narrowSize:4},e.createElement(ys,{gamepadIndex:1},e.createElement(Yc,{size:4}),e.createElement("div",{className:Jz},e.createElement(Qz,{title:i(".title"),gamepad:{index:0},options:[{label:i(".touchLabel"),value:g,description:i(".touchInfo"),omitDescription:!0,readDescription:!0},{label:i(".classicLabel"),value:E,description:i(".classicInfo"),omitDescription:!0,readDescription:!0},{label:i(".crosshairLabel"),value:h,description:i(".crosshairInfo"),omitDescription:!0,readDescription:!0}],onChange:e=>S(e),value:s==Bp.CLASSIC?E:s==Bp.TOUCH?g:h})),e.createElement(Yc,{size:4}),e.createElement(Pu,{variant:"hero",gamepadIndex:1,onClick:p,inputLegend:i(".select"),autofocus:!0,"data-testid":"select-touch-control-button",narrationSuffix:s==Bp.CLASSIC?i(".classicLabel"):s==Bp.TOUCH?i(".touchLabel"):i(".crosshairLabel")},i(".select"))))))))}function ej(){const n=u(),a=(0,t.useFacetCallback)(((e,t)=>()=>{e.inWorldCreation?(e.inWorldCreation=!1,t.fireEventButtonPressed("Create_World_Button_OreUI",{}),e.createWorld()):n.goBack()}),[n],[(0,t.useSharedFacet)(jm),(0,t.useSharedFacet)(fg)]);return e.createElement(Zz,{startWorld:a})}function tj(){const n=Vr(),a=(0,t.useSharedFacet)(xp),r=decodeURIComponent(n.id),l=(0,t.useFacetMap)((e=>e.localWorlds.find((e=>e.allContentOwned&&e.id===r))),[r],[a]),o=xN(l);return e.createElement(Zz,{startWorld:o})}let nj;!function(e){e[e.VISUAL=1]="VISUAL"}(nj||(nj={}));const aj="upload-realms-error-modal-back",rj=_i((()=>{const{t:n}=Ii("EditWorld.playOnRealmsErrorModal"),a=(0,t.useSharedFacet)(Qf),r=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.uploadWorldToRealmError)&&void 0!==t?t:qf.UnknownError}),[],[a]),l=(0,t.useFacetCallback)((e=>()=>e.clearUploadWorldToRealmTaskState()),[],[a]),o=(0,t.useFacetMap)((e=>{switch(e){case qf.CrossPlatformRestricted:return{title:n(".crossPlatformRestricted.title"),firstParagraph:n(".crossPlatformRestricted.message"),secondParagraph:n(".crossPlatformRestricted.message2")};case qf.TooManyRealms:return{title:n(".memberOfTooManyRealms.title"),firstParagraph:n(".memberOfTooManyRealms.message"),secondParagraph:""};case qf.ActionAlreadyInProgress:case qf.CannotSaveWorld:case qf.Generic:case qf.InvalidRealmName:case qf.InvalidResponse:case qf.InvalidWorldId:case qf.UnknownError:default:return{title:n(".unknown.title"),firstParagraph:n(".unknown.message"),secondParagraph:n(".unknown.errorCode",[`${e}`])}}}),[n],[r]),i=(0,t.useFacetMap)((e=>e.title),[],[o]),c=(0,t.useFacetMap)((e=>e.firstParagraph),[],[o]),s=(0,t.useFacetMap)((e=>e.secondParagraph),[],[o]),u=(0,t.useFacetMap)((e=>""!=e.secondParagraph),[],[o]);return e.createElement(Ld,{onOverlayClick:l,defaultFocusAlias:aj},e.createElement(Ld.Header,{onClose:l},i),e.createElement(Ld.Content,null,e.createElement(t.Mount,{when:u,condition:!1},e.createElement(Ld.Text,{narrationText:c,center:!0},c)),e.createElement(t.Mount,{when:u,condition:!0},e.createElement(Ld.Paragraphs,{narrationText:`${c}. ${s}`,spaceBetweenParagraphs:5},e.createElement(zs,{type:"captionLong",align:"center"},c),e.createElement(zs,{type:"captionLong",align:"center"},s)))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:aj,inputLegend:n(".closeButton"),variant:"secondary",onClick:l},n(".closeButton"))))}));let lj;!function(e){e.EditWorldScreen="EditWorld",e.WorldEditingError="WorldEditingError",e.JoinRealmsError="JoinRealmsError",e.ResourcePackDownloadError="ResourcePacksDownloadError",e.UploadRealmsError="UploadRealmsError",e.UnexpectedLaunchError="UnexpectedLaunchError",e.MissingDependencies="MissingDependenciesError"}(lj||(lj={}));const oj=_i((({onClose:n})=>{const{t:a}=Ii("JoinRealmsServerError.noPlatformSubscription"),r=(0,t.useSharedFacet)(el),l=(0,t.useFacetMap)((e=>e.platform),[],[r]),o=(0,t.useFacetMap)((e=>NM(e)?a(".nintendo.body"):a(".xbox.body")),[a],[l]),i=(0,t.useFacetMap)((e=>NM(e)),[],[l]),c=(0,t.useFacetCallback)((e=>()=>{e.showPremiumNetworkUpsellModal(),n()}),[n],[(0,t.useSharedFacet)(Dg)]);return e.createElement(Ld,null,e.createElement(Ld.Header,{onClose:n},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:o,center:!0},o)),e.createElement(t.Mount,{when:i},e.createElement(Ld.Buttons,null,e.createElement(Pu,{inputLegend:a(".nintendo.moreInformation"),variant:"secondary",onClick:c,"data-testid":"no-platform-modal-more-info-button"},a(".nintendo.moreInformation")))))}));var ij;!function(e){e[e.SELECT_SCREENSHOT=0]="SELECT_SCREENSHOT",e[e.RESET=1]="RESET"}(ij||(ij={}));const cj=_i((({isOpen:t,onClose:n,onItemSelected:a})=>{const{t:r}=Ii("EditWorld.EditThumbnailModal");return e.createElement(RR,{title:r(".title"),items:[{enumeration:r(".optionsEnumeration",["1","2"]),label:r(".changeThumbnail"),value:ij.SELECT_SCREENSHOT,Icon:kS.EditImage,testId:"change-thumbnail-option"},{enumeration:r(".optionsEnumeration",["2","2"]),label:r(".resetThumbnail"),value:ij.RESET,Icon:kS.Reset,testId:"reset-thumbnail-option"}],isOpen:t,onClose:n,onItemSelect:a})})),sj=({editThumbnailModalMenu:n})=>{const{t:a}=Ii("PlayScreen"),r=u(),l=ow(),o=(0,t.useSharedFacet)(eE),i=(0,t.useSharedFacet)(cE),c=(0,t.useSharedFacet)($g),s=(0,t.useSharedFacet)(lE),d=(0,t.useSharedFacet)(Qf),m=(0,t.useSharedFacet)(Rp),p=(0,t.useSharedFacet)(el),f=(0,t.useSharedFacet)(Dg),g=(0,t.useSharedFacet)(_p),E=(0,t.useFacetCallback)(((e,t,n)=>()=>{e.useMobileDataOnce=!0,t.joinRealmWorld(n.uploadedRealmWorldId.toString())}),[],[(0,t.useSharedFacet)(Wp),m,d]),h=$M(),b=(0,t.useFacetMap)((e=>e.exportWorldStatus===Qg.SelectingFileDestination),[],[o]),v=(0,t.useFacetMap)((e=>AM(e.platform)),[],[p]),F=(0,t.useFacetMap)((e=>e.exportWorldStatus===Qg.Exporting||e.exportWorldStatus===Qg.Setup),[],[o]),y=(0,t.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&t!=oE.Ok&&t!=oE.MissingDependencies&&t!=oE.DlcMissingContentKey}),[],[i]),S=(0,t.useFacetMap)((e=>e.saveLocalWorldTaskState===rM.RUNNING),[],[c]),C=(0,t.useFacetMap)(((e,t)=>null!=t.duplicateWorldError||null!=e.saveLocalWorldError||null!=e.loadWorldError),[],[c,o]),M=(0,t.useFacetMap)((e=>null!=e.packDownloadError||null!=e.lastConsultedPackSizesError),[],[s]),w=(0,t.useFacetMap)((e=>e.duplicateWorldTaskState===rM.RUNNING),[],[o]),k=(0,t.useFacetMap)((e=>e.makeWorldInfiniteState===rM.RUNNING),[],[o]),T=(0,t.useFacetMap)((e=>e.startLocalWorldResult==oE.DlcMissingContentKey),[],[i]),x=(0,t.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&t===oE.HasUnownedPacks}),[],[(0,t.useSharedFacet)(cE)]),I=(0,t.useFacetMap)(((e,t)=>e.packDownloadTaskState!==rM.IDLE&&t.startLocalWorldResult!==oE.MissingDependencies),[],[s,i]),P=(0,t.useFacetMap)((e=>e.packDownloadName),[],[s]),O=(0,t.useFacetMap)((e=>e.packDownloadProgress),[],[s]),A=(0,t.useFacetMap)((e=>e.packDownloadStatus===nE.Importing),[],[s]),N=(0,t.useFacetCallback)((e=>()=>{e.cancelPackDownload()}),[],[s]),R=(0,t.useFacetMap)((e=>e.joinRealmResult),[],[m]),L=(0,t.useFacetMap)((e=>null!=e.uploadWorldToRealmError),[],[d]),_=(0,t.useFacetMap)((e=>e.uploadedRealmWorldId.toString()),[],[d]),D=(0,t.useFacetMap)((e=>null!=e&&e!==Np.Ok&&e!==Np.InvalidCrossPlatformMultiplayerSkin&&e!==Np.MobileDataBlockedAndNoWifi&&e!==Np.MissingPlatformMembership&&e!==Np.MultiplayerPrivilegeBlocked),[],[R]),B=(0,t.useFacetMap)(((e,t)=>e===Np.MissingPlatformMembership&&!t),[],[R,v]),W=(0,t.useFacetMap)((e=>e===Np.MobileDataBlockedAndNoWifi),[],[R]),U=(0,t.useFacetMap)((e=>e===Np.InvalidCrossPlatformMultiplayerSkin),[],[R]),z=(0,t.useFacetCallback)((e=>()=>{e.clearJoinRealmTaskState()}),[],[m]),j=(0,t.useFacetMap)((e=>e===Np.MultiplayerPrivilegeBlocked),[],[R]),{downloadAssetsAndStartWorld:H,hasMissingPacks:V,hasMissingTemplate:G}=kN(),$=(0,t.useFacetCallback)(((e,t)=>()=>{H(encodeURI(e),(()=>{t.queueSnackbar(a(".missingDependenciesModal.downloadComplete"))}))}),[H,a],[l,g]),K=(0,t.useFacetCallback)((e=>()=>{e.clearStartLocalWorldResult()}),[],[i]),X=(0,t.useFacetMap)(((e,t)=>null!=e&&t.startLocalWorldResult===oE.MissingDependencies),[],[l,i]),Y=(0,t.useFacetCallback)(((e,t)=>a=>{a===ij.SELECT_SCREENSHOT?r.push(`/edit-world-thumbnail/${encodeURIComponent(e)}`):t.resetWorldIconToDefault(e),n.hide()}),[r,n],[l,o]);return(0,t.useFacetEffect)(((e,t,n,a,r,l,o,i,c)=>{e&&h({modal:lj.WorldEditingError,screen:lj.EditWorldScreen}),(t||l||o||i)&&h({modal:lj.JoinRealmsError,screen:lj.EditWorldScreen}),n&&h({modal:lj.ResourcePackDownloadError,screen:lj.EditWorldScreen}),a&&h({modal:lj.UnexpectedLaunchError,screen:lj.EditWorldScreen}),r&&h({modal:lj.UploadRealmsError,screen:lj.EditWorldScreen}),c&&h({modal:lj.MissingDependencies,screen:lj.EditWorldScreen})}),[h],[C,D,I,y,L,B,W,U,X]),(0,t.useFacetEffect)(((e,t,n)=>{e&&!t.hasPremiumNetworkAccess&&n===Np.MissingPlatformMembership&&t.showPremiumNetworkUpsellModal()}),[],[v,f,R]),e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:I},e.createElement(TM.Component,{title:P,percentage:O,isImportingPack:A,onCancel:N})),e.createElement(t.Mount,{when:T},e.createElement(bw.Component,null)),e.createElement(t.Mount,{when:y},e.createElement(qN.Component,null)),e.createElement(t.Mount,{when:M},e.createElement(gw.Component,null)),e.createElement(t.Mount,{when:S},e.createElement(pw.Component,null)),e.createElement(t.Mount,{when:C},e.createElement(mw.Component,null)),e.createElement(t.Mount,{when:w},e.createElement(iw.Component,null)),e.createElement(t.Mount,{when:k},e.createElement(Ew.Component,null)),e.createElement(t.Mount,{when:F},e.createElement(rw.Component,null)),e.createElement(t.Mount,{when:x},e.createElement(cR.Component,null)),e.createElement(t.Mount,{when:b},e.createElement(Ld.Overlay,null,e.createElement(e.Fragment,null))),e.createElement(t.Mount,{when:L},e.createElement(rj.Component,null)),e.createElement(t.Mount,{when:D},e.createElement(AL.Component,{worldId:_})),e.createElement(t.Mount,{when:W},e.createElement(dP.Component,{joinServer:E,onClose:z})),e.createElement(t.Mount,{when:U},e.createElement(jL.Component,{onClose:z,onChangeSkin:()=>{r.push("/persona")}})),e.createElement(t.Mount,{when:B},e.createElement(oj.Component,{onClose:z})),e.createElement(t.Mount,{when:j},e.createElement(pN.Component,{onClose:z})),e.createElement(t.Mount,{when:X},e.createElement(rR.Component,{onClose:K,onAccept:$,hasMissingPacks:V,hasMissingTemplate:G})),e.createElement(cj.Component,{isOpen:n.isVisible,onClose:n.hide,onItemSelected:Y}))},uj="save-changes-modal-continue",dj=_i((({saveChanges:n,closeModal:a,discardChanges:r})=>{const{t:l}=Ii("EditWorld.saveChangesModal"),o=(0,t.useSharedFacet)(fg),i=LS(),c=(0,t.useFacetCallback)((e=>()=>{a(),n(),e.fireEventOptionsChanged(lj.EditWorldScreen),i({button:"SaveChanges",screen:lj.EditWorldScreen})}),[n,a,i],[o]),s=(0,t.useFacetCallback)((e=>()=>{r(),a(),e.discardTrackedOptions(),i({button:"DiscardChanges",screen:lj.EditWorldScreen})}),[r,a,i],[o]);return e.createElement(Ld,{onOverlayClick:a,defaultFocusAlias:uj},e.createElement(Ld.Header,{onClose:a},l(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:l(".message"),gamepadIndex:0},l(".message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:uj,variant:"primary",inputLegend:l(".saveInputLegend"),onClick:c},l(".save")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:l(".discardInputLegend"),onClick:s},l(".discard"))))})),mj=({onPlayWorld:t})=>{const{t:n}=Ii("EditWorld"),a=bE("vanilla.ab.newEditWorldScreenSecondVariant"),{generalData:r,multiplayerData:l}=lw(),o=RO(r),{disableMainButton:i,buttonHint:c}=KO(o,l,r,n,"SideMenu.narrationPlayButtonHint");return e.createElement(Pu,{"data-testid":"edit-world",disabled:i,gamepadAlias:TS,narrationSuffix:c,variant:a?"secondary":"hero",onClick:t,inputLegend:n("SideMenu.play")},n("SideMenu.play"))},pj=({isRealmsButtonDisabled:n,onPlayOnRealms:a})=>{const{t:r}=Ii("EditWorld"),l=UM.useModal(),{generalData:o,multiplayerData:i}=lw(),c=RO(o),{disableSecondaryButton:s,buttonHint:u}=KO(c,i,o,r,"SideMenu.narrationPlayButtonHint",n),d=XO(a,l.show);return e.createElement(e.Fragment,null,e.createElement(ar,{collection:VO},e.createElement(Pu,{gamepadAlias:xS,narrationSuffix:u,linebreak:!0,"data-testid":"play-on-realm",variant:"primary",onClick:d,inputLegend:r("SideMenu.playOnRealm"),disabled:s},r("SideMenu.playOnRealm"))),e.createElement(t.Mount,{when:l.isVisible},e.createElement(UM.Component,{mode:_v.EDIT,onClose:l.hide})))},fj=()=>{const n=ow(),a=(0,t.useSharedFacet)($g),r=(0,t.useSharedFacet)(lE),l=(0,t.useFacetMap)((e=>e.loadWorldTaskState),[],[a]),o=(0,t.useFacetMap)(((e,t)=>e.worldIsInitialized&&t.isInitialized||null!=e.loadWorldError),[],[a,r]),i=oM(((e,t)=>function*(n){t.loadWorld(n),yield l,e.loadPacksData(n)}),[l],[r,a,n]);return(0,t.useFacetEffect)((e=>{i(e)}),[i],[n]),e.createElement(t.Mount,{when:o},e.createElement(gj,null))},gj=()=>{const{t:n}=Ii("EditWorld"),a=".notificationToasts.saved",r=".notificationToasts.deleted",l=".notificationToasts.duplicated",o=".notificationToasts.addonPackActivated",i=".notificationToasts.addonPackDeactivated",c=n(".notificationToasts.worldConverted"),[s,d]=(()=>{const[e,n]=(0,t.useFacetState)(!1),a=(0,t.useSharedFacet)(eE),r=(0,t.useSharedFacet)($g),l=(0,t.useSharedFacet)(Qf),o=(0,t.useSharedFacet)(Rp);return(0,t.useFacetEffect)(((e,t,a,r)=>{(null!=t.duplicateWorldError||null!=e.saveLocalWorldError||null!=a.uploadWorldToRealmError||a.uploadWorldToRealmTaskState!==rM.RUNNING&&r.joinRealmTaskState!==rM.RUNNING)&&n(!1)}),[n],[r,a,l,o]),[e,n]})(),m=ow(),p=(0,t.useSharedFacet)(xp),g=(0,t.useFacetMap)(((e,t)=>e.localWorlds.find((e=>e.allContentOwned&&e.id===t))),[],[p,m]),E=u(),h=LS(),b=$M(),v=(0,t.useSharedFacet)(fg),F=(0,t.useSharedFacet)(cE),y=(0,t.useSharedFacet)($g),S=(0,t.useFacetMap)((e=>e.worldData.general.worldName),[],[y]),C=(0,t.useSharedFacet)(el),M=(0,t.useSharedFacet)(Qf),w=(0,t.useSharedFacet)(_p),k=(0,t.useSharedFacet)(eE),T=(0,t.useSharedFacet)(lE),x=(0,t.useSharedFacet)(Rp),I=(0,t.useSharedFacet)(xm),P=(0,t.useSharedFacet)(zf),O=(0,t.useSharedFacet)(Rg),A=(0,t.useSharedFacet)(cg),N=(0,t.useSharedFacet)(Pm),R=(0,t.useSharedFacet)(Bg),{advancedData:L,cheatsData:_,generalData:D,experimentsData:B,multiplayerData:W,resourcePacksData:U}=lw(),z=function(){const e=ow(),n=(0,t.useSharedFacet)($g);return(0,t.useFacetMap)(((e,t)=>null!=t?e.worldSummary:void 0),[],[n,e])}(),j=dj.useModal(),H=dj.useModal(),V=dj.useModal(),G=dj.useModal(),$=dj.useModal(),K=cw.useModal(),X=eA.useModal(),Y=QO.useModal(),q=vM.useModal(),Q=bE(rp),J=(0,t.useFacetMap)((e=>e.worldPacksData),[],[T]),Z=(0,t.useFacetMap)((e=>e.worldData.isUsingTemplate),[],[y]),ee=(0,t.useFacetMap)((e=>{var t;return null===(t=e.worldData)||void 0===t?void 0:t.lockedTemplate}),[],[y]),te=(0,t.useFacetCallback)(((e,t)=>()=>{e.closeWorld(t)}),[],[y,m]);(0,e.useEffect)((()=>()=>{te()}),[te]);const ne=xN(g),ae=(0,t.useFacetMap)((e=>e.saveLocalWorldTaskState),[],[y]),re=(0,t.useFacetMap)((e=>e.duplicateWorldTaskState),[],[k]),le=(0,t.useFacetMap)((e=>e.isAchievementsEditDisabled),[],[y]),oe=zO({generalData:D,advancedData:L,cheatsData:_,multiplayerData:W,betaFeaturesEnabled:(0,t.useFacetMap)((e=>e.worldData.betaFeatures.some((e=>e.isEnabled))),[],[y]),behaviorPacksEnabled:(0,t.useFacetMap)((e=>e.activeBehaviorPacks.length>0),[],[J])}),ie=(0,t.useFacetMap)((e=>e.storageAvailableSize),[],[C]),ce=(0,t.useFacetMap)((e=>e.supportsSizeQuery),[],[C]),se=IM.useShowModal(),ue=yM.useShowModal(),de=CM.useShowModal(),me=QC.useShowModal(),pe=cj.useModal(),fe=(0,t.useFacetCallback)((e=>(t,n)=>{if(n){var a,r,l,o,i;const n=null!==(a=null===(r=e.activeTexturePacks.find((e=>t==e.id)))||void 0===r?void 0:r.name)&&void 0!==a?a:"",c=null!==(l=null===(o=e.activeBehaviorPacks.find((e=>t==e.id)))||void 0===o?void 0:o.name)&&void 0!==l?l:"";return null!==(i=n||c)&&void 0!==i?i:"Pack"}{var c,s,u,d,m;const n=null!==(c=null===(s=e.availableTexturePacks.find((e=>t==e.id)))||void 0===s?void 0:s.name)&&void 0!==c?c:"",a=null!==(u=null===(d=e.availableBehaviorPacks.find((e=>t==e.id)))||void 0===d?void 0:d.name)&&void 0!==u?u:"";return null!==(m=n||a)&&void 0!==m?m:"Pack"}}),[],[J]),ge=(0,t.useFacetCallback)(((e,a,r)=>l=>{const i=e.continuePackActivation(a);if(i===aE.PackDataWarning)me({packId:l,type:"activate",packType:tE.Behavior,onAccept:ge});else if(null!=i)se({errorCode:i});else{const e=fe(l,!0);r.queueSnackbar(n(o,[e===t.NO_VALUE?"Pack":e]))}}),[me,se,o,fe,n],[T,m,w]),Ee=(0,t.useFacetCallback)(((e,a,r)=>l=>{const o=e.continuePackDeactivation(a);if(null!=o)se({errorCode:o});else{const e=fe(l,!1);r.queueSnackbar(n(i,[e===t.NO_VALUE?"Pack":e]))}}),[se,fe,n],[T,m,w]),he=(0,t.useFacetMap)((e=>e.packDownloadTaskState),[],[T]),be=oM(((e,t)=>function*(n){switch(e.downloadPacks(t,[n]),yield he,e.packDownloadTaskState){case rM.DONE:e.cancelPackDownload(),ge(n);break;case rM.CANCELLED:e.cancelPackDownload()}}),[he,ge],[T,m]),ve=(0,t.useFacetMap)((e=>e.lastConsultedPackSizesTaskState),[],[T]),Fe=oM(((e,t)=>function*(n,a){e.getPackSizes([n],t),yield ve;let r="";null==e.lastConsultedPackSizesError&&(r=e.lastConsultedPackSizes,e.getPackSizesReset()),de({packId:n,packName:a,packSize:r,supportsSizeQuery:ce,availableSize:ie,onAccept:be})}),[ve,de,ce,ie,be],[T,m]),ye=(0,t.useFacetCallback)(((e,a,r)=>(l,i,c)=>{const s=e.activatePack(a,l,i,!1);if(s===aE.NeedToDownloadPack)Fe(l,c);else if(s===aE.PackDependencyWarning)ue({packId:l,onAccept:ge});else if(s===aE.PackDataWarning)me({packId:l,type:"activate",packType:i,onAccept:ge});else if(null!=s)se({errorCode:s});else{const e=fe(l,!0);r.queueSnackbar(n(o,[e===t.NO_VALUE?"Pack":e]))}}),[Fe,ue,ge,me,se,fe,n],[T,m,w]),Se=(0,t.useFacetCallback)(((e,a,r)=>(l,o)=>{const c=e.deactivatePack(a,l,o,!1);if(c===aE.PackDataWarning)me({packId:l,type:"deactivate",packType:o,onAccept:Ee});else if(null!=c)se({errorCode:c});else{const e=fe(l,!1);r.queueSnackbar(n(i,[e===t.NO_VALUE?"Pack":e]))}}),[me,Ee,se,fe,n],[T,m,w]),Ce=(0,t.useFacetCallback)(((e,t,r,l)=>(o,i,c,s)=>{e.changePackPriority(t,o,i,c,s),r.queueSnackbar(n(a,[`"${l}"`]))}),[n,a],[T,m,w,S]),Me=(0,t.useFacetCallback)((e=>t=>{E.push(`/pack-settings/${t}/${encodeURIComponent(e)}`)}),[E],[m]),we=(0,t.useFacetCallback)(((e,t)=>()=>{t&&(e.worldData.lockedTemplate=!1)}),[],[y,ee]),ke=(0,t.useFacetMap)((e=>null!=e.worldSummary.worldIconPath&&e.worldSummary.worldIconPath.length>0?e.worldSummary.worldIconPath:WO),[],[y]),Te=(0,t.useFacetCallback)(((e,t,n)=>()=>{h({button:"OptOut",screen:"EditWorld"}),e.closeWorld(n),t.selectTechStackForScreen(og.EditWorldScreen,ig.JsonUI)}),[h],[y,A,m]),xe=(0,t.useFacetCallback)((e=>()=>{e.worldHasBeenModified?q.show():Te()}),[Te,q],[y]),[Ie,Pe]=(0,t.useFacetState)(!1),Oe=oM(((e,t,r,l)=>function*(){d(!0),e.saveLocalWorld(r),yield ae,e.saveLocalWorldError||(e.clearSaveLocalWorldTaskState(),t.queueSnackbar(n(a,[`"${l}"`])),E.goBack())}),[n,d,ae,a,E],[y,w,m,S]),Ae=(0,t.useFacetCallback)((()=>()=>{Pe(!1),j.hide()}),[Pe,j],[]),Ne=(0,t.useFacetCallback)(((e,t)=>()=>{Pe(!0),e.worldHasBeenModified?j.show():(t.discardTrackedOptions(),E.goBack(),Pe(!1))}),[E,j,Pe],[y,v]),Re=oM(((e,t,r,l)=>function*(){e.saveLocalWorld(t),yield ae,r.queueSnackbar(n(a,[`"${l}"`])),e.clearSaveLocalWorldTaskState(),ne()}),[n,ae,ne,a],[y,m,w,S]),Le=(0,t.useFacetCallback)(((e,t)=>()=>{h({button:"Play",screen:"EditWorld"}),e.worldHasBeenModified?(t.fireEventOptionsChanged(lj.EditWorldScreen),Re()):(t.discardTrackedOptions(),ne())}),[ne,h,Re],[y,v]),_e=(0,t.useFacetCallback)(((e,t)=>()=>{e.reloadWorld(t),ne()}),[ne],[y,m]),De=oM(((e,t,a,r,o)=>function*(){e.saveLocalWorld(r),yield ae,e.clearSaveLocalWorldTaskState(),a.startDuplicateWorld(r),yield re,a.clearDuplicateWorldTaskState(),t.queueSnackbar(n(l,[`"${o}"`])),E.goBack()}),[n,ae,re,l,E],[y,w,k,m,S]),Be=(0,t.useFacetCallback)((e=>()=>{e.worldHasBeenModified?$.show():De()}),[De,$],[y]),We=oM(((e,t,a,r)=>function*(){t.startDuplicateWorld(a),yield re,t.clearDuplicateWorldTaskState(),e.queueSnackbar(n(l,[`"${r}"`])),E.goBack()}),[n,re,l,E],[w,k,m,S]),Ue=(0,t.useFacetCallback)(((e,t,a,l)=>()=>{e.deleteWorld(a),t.queueSnackbar(n(r,[`"${l}"`])),E.goBack()}),[n,r,E],[k,w,m,S]),ze=(0,t.useFacetCallback)((e=>t=>{E.push(`/export-world/${e}/${t?Pg.Template:Pg.Regular}`)}),[E],[m]),je=oM(((e,t,r,l)=>function*(o){e.saveLocalWorld(t),yield ae,e.clearSaveLocalWorldTaskState(),r.queueSnackbar(n(a,[`"${l}"`])),ze(o)}),[n,ae,a,ze],[y,m,w,S]),He=(0,e.useCallback)((()=>je(!0)),[je]),Ve=(0,t.useFacetCallback)((e=>t=>{e.worldHasBeenModified?t?G.show():V.show():ze(t)}),[ze,V,G],[y]),Ge=(0,e.useCallback)((()=>Ve(!0)),[Ve]),$e=(0,t.useFacetCallback)(((e,t)=>n=>{e.loadWorld(t),ze(n)}),[ze],[y,m]),Ke=(0,e.useCallback)((()=>$e(!0)),[$e]),Xe=(0,t.useFacetMap)((e=>e.uploadWorldToRealmTaskState),[],[M]),Ye=(0,t.useFacetMap)((e=>e.joinRealmTaskState),[],[x]),qe=oM(((e,t,n,a,r,l,o)=>function*(){if(h({button:"PlayOnRealm",screen:"EditWorld"}),l.isPreviewBuild&&0===a.length&&0===r.length)return void X.show();if(o&&Q)return b({modal:"RealmsTrialMode",screen:"EditWorld"}),void Y.show();d(!0),e.uploadWorldToRealm(t),yield Xe,e.clearUploadWorldToRealmTaskState();const i=e.uploadedRealmWorldId;d(!0),n.joinRealmWorld(i.toString()),yield Ye,n.clearJoinRealmTaskState()}),[h,Q,d,Xe,Ye,X,b,Y],[M,m,x,P,O,I,R]);(0,t.useFacetEffect)(((e,t)=>{e.choosePreviewRealm&&(0===t.length?E.push("/realms-choose-realm/realm-subscriptions"):E.push("/realms-choose-realm/preview-realms"))}),[E],[M,P]);const Qe=(0,t.useFacetMap)((e=>e.makeWorldInfiniteState),[],[k]),Je=oM(((e,t,n)=>function*(){d(!0),h({button:"MakeWorldInfinite",screen:"EditWorld"}),e.makeWorldInfinite(t),yield Qe,e.clearMakeWorldInfiniteState(),n.queueSnackbar(c),d(!1)}),[Qe,d,c,h],[k,m,w]);(()=>{const e=(0,t.useSharedFacet)(_p),n=(0,t.useSharedFacet)(eE),{t:a}=Ii("EditWorld");(0,t.useFacetEffect)(((e,t)=>{e.clearPlayerDataTaskState===rM.DONE&&(t.queueSnackbar(a(".clearPlayerDataToast")),e.resetClearPlayerData())}),[a],[n,e])})();const Ze=(0,t.useFacetMap)((e=>e.isEditorWorld),[],[y]);(()=>{const e=ow(),n=(0,t.useSharedFacet)(_p),a=(0,t.useSharedFacet)(lE),r=(0,t.useFacetMap)((e=>e.worldPacksData),[],[a]),l=IM.useShowModal(),{t:o}=Tp("EditWorld"),i=(0,t.useFacetCallback)((e=>t=>{var n,a,r,l,o;const i=null!==(n=null===(a=e.activeTexturePacks.find((e=>t==e.id)))||void 0===a?void 0:a.name)&&void 0!==n?n:"",c=null!==(r=null===(l=e.activeBehaviorPacks.find((e=>t==e.id)))||void 0===l?void 0:l.name)&&void 0!==r?r:"";return null!==(o=i||c)&&void 0!==o?o:"Pack"}),[],[r]),c=(0,t.useFacetCallback)(((e,n,a)=>r=>{const c=e.activatePack(n,r,tE.Behavior,!0);if(null!=c)l({errorCode:c});else{const e=i(r);a.queueSnackbar(o(".notificationToasts.addonPackActivated",[e===t.NO_VALUE?"Pack":e]))}}),[l,i,o],[a,e,n]),s=f(),u=(0,t.useFacetMap)((e=>e.get("packid")),[],[s]);(0,t.useFacetEffect)((e=>{null!=e&&c(e)}),[c],[u])})();const et=(0,t.useFacetCallback)(((e,t)=>n=>{null!=t&&e.clearPlayerData(n,t)}),[],[k,m]),tt=(0,t.useFacetMap)(((e,t,n)=>!(e||t||n)||Q&&n),[Q],[Ze,N,R]),nt=(0,t.useFacetMap)((e=>e.startLocalWorldTaskState===rM.RUNNING),[],[F]);return e.createElement(Dv.Provider,{value:_v.EDIT},e.createElement(BO,{advancedData:L,cheatsData:_,experimentsData:B,generalData:D,multiplayerData:W,resourcePacksData:U,worldPacks:J,worldPreviewImage:ke,isUsingTemplate:Z,isLockedTemplate:ee,worldSummary:z,isEditorWorld:Ze,isAchievementsDisabled:le,achievementsDisabledMessages:oe,renderPage:(0,t.useFacetWrap)(!0),onActivatePack:ye,onDeactivatePack:Se,onChangePackPriority:Ce,onClickPackSettings:Me,onUnlockTemplateSettings:we,backButtonCallback:Ne,backButtonDisabled:s,onMakeWorldInfinite:Je,onDuplicateWorld:Be,onDeleteWorld:Ue,onEditThumbnail:pe.show,onExportWorld:Ve,onExportTemplate:Ge,onOptOut:xe,isSeedChangeLocked:(0,t.useFacetWrap)(!1),onClearPlayerData:K.show,sideMenuButtons:e.createElement(e.Fragment,null,e.createElement(vv.Item,null,e.createElement(mj,{onPlayWorld:Le})),e.createElement(Yc,{size:1}),e.createElement(t.Mount,{when:tt},e.createElement(vv.Item,null,e.createElement(pj,{onPlayOnRealms:qe,isRealmsButtonDisabled:Ie}))))}),e.createElement(sj,{editThumbnailModalMenu:pe}),e.createElement(t.Mount,{when:j.isVisible},e.createElement(dj.Component,{saveChanges:Oe,closeModal:Ae,discardChanges:E.goBack})),e.createElement(t.Mount,{when:H.isVisible},e.createElement(dj.Component,{saveChanges:Re,closeModal:H.hide,discardChanges:_e})),e.createElement(t.Mount,{when:$.isVisible},e.createElement(dj.Component,{saveChanges:De,closeModal:$.hide,discardChanges:We})),e.createElement(t.Mount,{when:V.isVisible},e.createElement(dj.Component,{saveChanges:je,closeModal:V.hide,discardChanges:$e})),e.createElement(t.Mount,{when:G.isVisible},e.createElement(dj.Component,{saveChanges:He,closeModal:G.hide,discardChanges:Ke})),e.createElement(t.Mount,{when:K.isVisible},e.createElement(cw.Component,{clearPlayerData:et,closeModal:K.hide})),e.createElement(t.Mount,{when:X.isVisible},e.createElement(eA.Component,{onClose:X.hide})),e.createElement(t.Mount,{when:nt},e.createElement(jO.Component,{title:n(".startLocalWorldModal.title")})),e.createElement(t.Mount,{when:q.isVisible},e.createElement(vM.Component,{optOutCallback:Te,closeModal:q.hide})),e.createElement(t.Mount,{when:Y.isVisible},e.createElement(QO.Component,{worldSettingsMode:_v.EDIT,onClose:Y.hide})))},Ej="zYipN";function hj(){const n=u(),a=(0,t.useSharedFacet)(eE),r=(0,t.useSharedFacet)(_p),l=m(),o=(0,t.useFacetMap)((e=>decodeURIComponent(e.id)),[],[l]),i=(0,t.useFacetMap)((e=>e.type===Pg.Regular),[],[l]),{t:c}=Ii("EditWorld.exportWorldFlow"),{t:s}=Ii("EditWorld.notificationToasts"),{t:d}=Ii("ExportWorld.error"),p="narrow"===Ko(),[f,g]=(0,t.useFacetState)(!1),[E,h]=(0,t.useFacetState)(!1),[b,v]=(0,t.useFacetState)(!1),{generalData:F}=lw(),y=(0,t.useFacetMap)(((e,t)=>t&&e.isHardcore),[],[F,i]),S=(0,t.useFacetCallback)((e=>()=>{e.clearExportWorldResult(),n.goBack()}),[n],[a]),C=(0,t.useFacetMap)(((e,t)=>!t&&e),[],[f,y]),M=(0,t.useFacetCallback)(((e,t,n,a,r)=>()=>{let l=Xg.None;n&&(l|=Xg.ClearPlayerData),a&&(l|=Xg.ForceHardcoreMode),r?e.exportWorldAsTemplate(t,l):e.exportWorld(t,l)}),[],[a,o,C,E,b]);(0,t.useFacetEffect)(((e,t,n)=>{const a=e.exportWorldResult,r=s(n?".exportedTemplate":".exportedWorld");a===Yg.Ok?(t.queueSnackbar(r),S()):a===Yg.Cancelled&&e.clearExportWorldResult()}),[s,S],[a,r,b]);const w=(0,t.useFacetMap)((e=>e.exportWorldStatus===Qg.Exporting),[],[a]),k=(0,t.useFacetMap)((e=>null!=e.exportWorldResult&&e.exportWorldResult!==Yg.Ok&&e.exportWorldResult!==Yg.Cancelled),[],[a]),T=(0,t.useFacetMap)((e=>c(e?".exportWorldLabel":".exportWorldTemplateLabel")),[c],[i]),x=(0,t.useFacetMap)((e=>{switch(e.exportWorldResult){case Yg.NeedToRemoveVRHeadset:return d(".needToRemoveVRHeadset.title");case Yg.IncorrectWorldId:return d(".incorrectWorldID.title");default:return d(".unknownError.title")}}),[d],[a]),I=(0,t.useFacetMap)((e=>c(e?".exportWorldNarration":".exportWorldTemplateNarration")),[c],[i]),P=(0,t.useFacetMap)((e=>c(e?".clearPlayerDataDescription.alreadyInHardcoreMode":".clearPlayerDataDescription")),[c],[y]),O=[c(".headerTitle"),c(".exportationSettingsGroup"),c(".headerDescription")].join(" . ");return e.createElement(e.Fragment,null,e.createElement(vE,null,e.createElement(Ps,{text:I},e.createElement(DE,{onBackButton:S,center:e.createElement(zs,{type:"header5A"},T),footer:p?e.createElement(bj,{isRegularExport:i,exportCallback:M,cancelCallback:S}):null,gamepadAlias:"export-world-flow"},e.createElement(ys,null,e.createElement(UE,null,e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:1,narrowSize:1,disabled:!0}),e.createElement(UE.Column,{wideSize:10,narrowSize:6},e.createElement(t.Mount,{when:k},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement("div",{className:Or()(Ej)},e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,x))))),e.createElement(Yc,{size:2}),e.createElement("div",{className:Or()(Ej)},e.createElement(Ps,{text:O},e.createElement(qS,{title:c(".headerTitle"),description:c(".headerDescription")}),e.createElement(iC,{title:c(".clearPlayerDataTitle"),description:P,value:f,onChange:g,disabled:y}),e.createElement(t.Mount,{when:i,condition:!1},e.createElement(e.Fragment,null,e.createElement(iC,{title:c(".exportHardcoreModeTitle"),description:c(".exportHardcoreModeDescription"),value:E,onChange:h}),e.createElement(iC,{title:c(".exportAsTemplateTitle"),description:c(".exportAsTemplateDescription"),value:b,onChange:v})))),p?null:e.createElement(bj,{isRegularExport:i,exportCallback:M,cancelCallback:S}))),e.createElement(UE.Column,{wideSize:1,narrowSize:1,disabled:!0}))))))),e.createElement(t.Mount,{when:w},e.createElement(rw.Component,null)))}function bj({exportCallback:n,cancelCallback:a,isRegularExport:r}){const l=gr("neutral"),{t:o}=Ii("EditWorld.exportWorldFlow"),i=(0,t.useFacetMap)((e=>o(e?".exportButtonLabel":".exportTemplateButtonLabel")),[o],[r]);return e.createElement(e.Fragment,null,e.createElement("div",{className:Or()("P6Myy",l.background.base)},e.createElement(UE,null,e.createElement(UE.Row,null,e.createElement(Pu,{horizontal:!0,inputLegend:o(".cancel"),onClick:a,variant:"secondary",narrationSuffix:[o(".buttonsEnumaration",["1","2"]),o(".cancelHint")].join(" . ")},o(".cancel")),e.createElement(Yc,{size:2}),e.createElement(Pu,{horizontal:!0,inputLegend:i,onClick:n,variant:"primary",narrationSuffix:o(".buttonsEnumaration",["2","2"])},i)))))}const vj=n.p+"assets/emptyRealmSlotBig-174b3.png",Fj=n.p+"assets/emptyRealmSlotSmall-fe677.png",yj=n.p+"assets/celebration_world_icon-46ff8.jpg",Sj="realm-preview-replace-preview-realm-close",Cj=_i((({onConfirm:t,onClose:n})=>{const{t:a}=Ii("RealmsPreviews.ReplaceWorld"),r=a(".message");return e.createElement(Ld,{defaultFocusAlias:Sj},e.createElement(Ld.Header,{onClose:n},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:r,gamepadIndex:0},r)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{"data-testid":"replace-world-confirm-button",gamepadIndex:0,inputLegend:a(".select"),variant:"primary",onClick:t},a(".confirm")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,gamepadAlias:Sj,inputLegend:a(".select"),variant:"secondary",onClick:n},a(".cancel"))))})),Mj=n.p+"assets/GenericEmptyState-45ab1.png";let wj;function kj({world:n,index:a,onItemClick:r}){const{t:l}=Ii("ChooseSlotRoute"),o=(0,t.useFacetMap)((e=>e.worldName),[],[n]),i=(0,t.useFacetMap)((e=>-1===e.id?vj:e.slotImage.length>0?yj:WO),[],[n]),c=(0,t.useFacetMap)((e=>-1===e.id?l(".emptySlotHint"):l(".slotHint")),[l],[n]),s=(0,t.useFacetMap)((e=>l(".slotEnumeration",[(a+1).toString(),e.toString()])),[l,a],[c]);return e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(LA,{gamepadIndex:a,inputLegend:l(".select"),onClick:r,narrationSuffix:s},e.createElement(Rc,{src:i,aspectRatio:Rc.AspectRatio["16:9"]}),e.createElement(LA.Information,{narrationText:o},e.createElement(zs,{type:"body",verticalAlign:"center"},o))))}function Tj({onItemClick:n}){return e.createElement(kA,{gamepadIndex:0,data:(0,t.useFacetMap)((e=>e.realmSlots),[],[(0,t.useSharedFacet)(Vf)]),columns:3,itemSeparatorHorizontal:e.createElement(Yc,{size:4}),renderItem:({itemFacet:t,index:a})=>e.createElement(kj,{world:t,index:a,onItemClick:()=>n(a)})})}function xj({world:n,index:a,onItemClick:r}){const{t:l}=Ii("ChooseSlotRoute"),o=(0,t.useFacetMap)((e=>e.worldName),[],[n]),i=(0,t.useFacetMap)((e=>-1===e.id?Fj:e.slotImage.length>0?yj:WO),[],[n]),c=gr("neutral80"),s=(0,t.useFacetMap)(((e,t)=>l(".slotButtonNarration",[t.toString(),(a+1).toString(),-1===e.id?l(".emptySlotHint"):l(".slotHint")])),[l,a],[n,o]);return e.createElement(Yb,{gamepadIndex:a,tall:!0},e.createElement(Yb.Action,{inputLegend:l(".select"),narrationText:s,onClick:r},e.createElement("div",{className:"xKrMY"},e.createElement(Rc,{src:i,aspectRatio:Rc.AspectRatio["16:9"],className:Or()(c.border.base,"WsmeP")})),e.createElement(Yb.Main,null,e.createElement(zs,{type:"body"},o))))}function Ij({onItemClick:n}){return e.createElement(Y_,{header:e.createElement(Yc,{size:2}),gamepadIndex:0,data:(0,t.useFacetMap)((e=>e.realmSlots),[],[(0,t.useSharedFacet)(Vf)]),renderItem:({itemFacet:t,index:a})=>e.createElement(xj,{world:t,index:a,onItemClick:()=>n(a)})})}function Pj(){const n=Hr(),{t:a}=Ii("ChooseSlotRoute"),r=Yo(70),l=(0,t.useSharedFacet)(Vf),o=(0,t.useSharedFacet)($g),i=(0,t.useSharedFacet)(Qf),c=function(){const[e,n]=(0,t.useFacetState)(wj.IDLE),a=(0,t.useSharedFacet)(Vf),r=(0,t.useFacetCallback)(((e,t)=>a=>{e==wj.IDLE&&(n(wj.SELECTING_SLOT),t.selectSlot(a))}),[n],[e,a]),l=(0,t.useFacetCallback)((e=>()=>{n(wj.IDLE),e.reset()}),[n],[a]);return(0,t.useFacetEffect)(((e,t)=>{t==wj.SELECTING_SLOT&&(e.isSlotSelected?n(wj.SLOT_SELECTED):e.didFailToActivateSlot&&n(wj.ERROR))}),[n],[a,e]),{state:e,select:e=>r(e),reset:l}}(),s=(0,t.useFacetMap)(((e,t)=>e.isLoading&&t!==wj.SELECTING_SLOT),[],[l,c.state]),u=(0,t.useFacetMap)((e=>a(".chooseSlotHeader",[e.selectedRealmName])),[a],[l]),d=m(),p=(0,t.useFacetMap)((e=>e.id),[],[d]),f=(0,t.useSharedFacet)(jm),g=(0,e.useRef)(!1);(0,t.useFacetEffect)(((e,t)=>{g.current||(g.current=!0,e.getSelectedRealmDetails(t))}),[g],[l,p]),(0,t.useFacetEffect)(((e,t,n,a,r)=>{n===wj.SLOT_SELECTED&&"uninitialized"!==a.currentWorldId&&(c.reset(),r.setPreviewRealmForUpload(t))}),[n,c],[f,p,c.state,o,i]),(0,t.useFacetEffect)(((e,t,n,a)=>{n===wj.SLOT_SELECTED&&"uninitialized"===a.currentWorldId&&(c.reset(),e.createWorldOnPreviewRealm(t))}),[n,c],[f,p,c.state,o]);const E=(0,t.useFacetMap)(((e,t)=>!e.isShowingConfirmationModal&&t===wj.SELECTING_SLOT),[],[l,c.state]),h=(0,t.useFacetMap)(((e,t)=>e.isShowingConfirmationModal&&t==wj.SELECTING_SLOT),[],[l,c.state]),b=(0,t.useFacetCallback)((e=>()=>{e.confirm()}),[],[l]),v=(0,t.useFacetMap)((e=>e.didFailToActivateSlot),[],[l]),F=(0,t.useFacetMap)((e=>e.didFailToQuerySelectedRealmDetails),[],[l]),y=gr("inherit"),S=a(".backHint"),C=(0,t.useFacetMap)((e=>a(".screen",[e])),[a],[u]),M=(0,t.useFacetCallback)(((e,t)=>()=>{e.didFailToQuerySelectedRealmDetails&&e.getSelectedRealmDetails(t)}),[],[l,p]);return e.createElement(vE,null,e.createElement(t.Mount,{when:s},e.createElement("div",{className:Or()("aziqd",y.overlay.base)},e.createElement(vs,null))),e.createElement(t.Mount,{when:s,condition:!1},e.createElement(e.Fragment,null,e.createElement(hE,{text:C,interruptible:!1}),e.createElement(DE,{onBackButton:n.goBack,backButtonHint:S,center:e.createElement(zs,{type:"header5A"},u),gamepadAlias:"choose-slote-route"},e.createElement(UE,null,e.createElement(UE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(t.Mount,{when:F,condition:!1},e.createElement(UE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(Yc,{size:2}),e.createElement(Fl,{data:r},(t=>t?e.createElement(Ij,{onItemClick:c.select}):e.createElement(Tj,{onItemClick:c.select}))))),e.createElement(t.Mount,{when:F},e.createElement(e.Fragment,null,e.createElement(UE.Column,{wideSize:2,narrowSize:0}),e.createElement(UE.Column,{gamepadIndex:0,wideSize:8,narrowSize:8},e.createElement(ys,{gamepadIndex:0},e.createElement(Yc,{size:2}),e.createElement(GE,{gamepadIndex:0,title:a(".noSlotsErrorTitle"),text:a(".noSlotsErrorMessage"),imgSrc:Mj,buttons:[{text:a(".noSlotsErrorButton"),inputLegend:a(".select"),onClick:M}]})))))))),e.createElement(t.Mount,{when:h},e.createElement(Cj.Component,{onConfirm:b,onClose:c.reset})),e.createElement(t.Mount,{when:v},e.createElement(sA.Component,{onClickClose:c.reset})),e.createElement(t.Mount,{when:E},e.createElement(iA,{onClickClose:c.reset})))),e.createElement(wd.Space,null))}!function(e){e[e.IDLE=0]="IDLE",e[e.SELECTING_SLOT=1]="SELECTING_SLOT",e[e.SLOT_SELECTED=2]="SLOT_SELECTED",e[e.ERROR=3]="ERROR"}(wj||(wj={}));const Oj=n.p+"assets/trash-4fd68.png",Aj=n.p+"assets/arrowForwardWhite-9acff.png";function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Nj.apply(this,arguments)}const Rj=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("XYqmB",n);return e.createElement(Rc,Nj({},a,{className:r,src:Aj,imageRendering:"pixelated"}))},Lj=e=>({messageId:e.id,messageType:e.inboxCategory,messageRead:e.read.toString()}),_j="delete-inbox-message-confirm",Dj=_i((function({item:n}){const{t:a}=Ii("InboxRoute.deleteConfirmation"),r=Li(),l=LS(),o=(0,t.useFacetCallback)((e=>()=>{e.deleteNotification(n.id,n.instanceId),l({button:"MessageAction_Delete",screen:"Inbox",details:Lj(n)})}),[n,l],[(0,t.useSharedFacet)(Fp)]);return e.createElement(Ld.Overlay,null,e.createElement(Ld,{defaultFocusAlias:_j},e.createElement(Ld.Header,{onClose:r},a(".header")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:a(".dialogText")},a(".dialogText"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{variant:"destructive",gamepadIndex:0,gamepadAlias:_j,inputLegend:a(".deleteConfirm"),autofocus:!0,onClick:()=>{o(),r()}},a(".deleteConfirm")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,inputLegend:a(".cancel"),onClick:r},a(".cancel")))))})),Bj="invite-expired-modal-ok",Wj=_i((({item:n,onClose:a})=>{const{t:r}=Ii("Realms.InviteExpiredModals"),l=Li(),o=(0,t.useFacetCallback)(((e,t)=>()=>{e.rejectInvitation(t.instanceId),a(),l()}),[l,a],[(0,t.useSharedFacet)(Fp),n]);return e.createElement(Ld,{defaultFocusAlias:Bj},e.createElement(Ld.Header,null,r(".header")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:r(".message")},r(".message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:Bj,gamepadIndex:0,inputLegend:r(".ok"),variant:"secondary",onClick:o},r(".ok"))))}));function Uj(e){const n=(0,t.useFacetMap)((e=>e.getTechStackForScreen(og.PlayScreen)==ig.OreUI),[],[(0,t.useSharedFacet)(cg)]);return(0,t.useFacetMap)(((e,t)=>t?`/play/realms/${e}`:"/play/friends"),[],[e,n])}function zj({invite:n,daysLeft:a}){const{t:r}=Ii("InboxRoute"),l=(0,t.useFacetMap)(((e,t)=>{switch(e.invStatus){case gp.ACCEPTED:return"primaryTint";case gp.REJECTED:return"neutral100";case gp.EXPIRED:return"noticeTint";case gp.NONE:if(null!=t&&e.inboxCategory!==Ep.INVITES)return t<=0?"noticeTint":"informativeTint";default:return"noticeTint"}}),[],[n,a]),o=(0,t.useFacetMap)(((e,t)=>{switch(e.invStatus){case gp.ACCEPTED:return r(".accepted");case gp.REJECTED:return r(".rejected");case gp.EXPIRED:return r(".expired");default:return null!=t&&e.inboxCategory!==Ep.INVITES?t<=0?r(".expired"):t<1?r(".endsToday"):r(".endsSoon",[`${t}`]):""}}),[r],[n,a]),i=(0,t.useFacetMap)(((e,t)=>e.invStatus!=gp.NONE||null!=t),[],[n,a]);return e.createElement(t.Mount,{when:i},e.createElement(ux,{role:l},o))}function jj({item:t,gamepadIndex:n}){return e.createElement(Yb,{gamepadIndex:n,defaultFocusedChildBehavior:"grid"},e.createElement(Hj,{item:t,gamepadIndex:0}),e.createElement(Vj,{item:t,gamepadIndex:1}))}const Hj=({item:n})=>{const a=u(),{t:r}=Ii("InboxListItem"),{t:l}=Ii("InboxListItem.narration"),o=(0,t.useFacetMap)((e=>e.expiryDaysLeft),[],[n]),i=LS(),c=(0,t.useFacetCallback)(((e,t)=>()=>{i({button:"MessageAction_View",screen:"Inbox",details:Lj(e)}),e.read||e.inboxCategory==Ep.INVITES||t.setNotificationRead(e.instanceId),a.push(`/message/${e.instanceId}/`)}),[a,i],[n,(0,t.useSharedFacet)(Fp)]),s=(0,t.useFacetMap)((e=>e.title),[],[n]),d=(0,t.useFacetMap)((e=>e.read),[],[n]),m=(0,t.useFacetMap)((e=>e.sender),[],[n]),p=(0,t.useFacetMap)((e=>e.inboxCategory),[],[n]),f=(0,t.useFacetMap)(((e,t,n,a)=>[e,t,l(!1===n?".unreadPost":".readPost"),""!==a?l(".postedBy",[a]):"",e!==Ep.INVITES?l(".buttonSiblings",["1","2"]):l(".buttonSiblings",["1","3"])].filter((e=>null!=e&&""!==e)).join(" . ")),[l],[p,s,d,m]);return e.createElement(Yb.Action,{inputLegend:r(".view"),narrationText:f,onClick:c,gamepadIndex:0},e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.invStatus===gp.NONE&&e.invType!=fp.NONE||!e.read&&e.inboxCategory!=Ep.INVITES),[],[n])},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(Yb.Cell,null,e.createElement(kh,null)),e.createElement(Yc,{size:1}))),e.createElement(Yb.Main,null,e.createElement(zs,{type:"body"},e.createElement(ru,null,(0,t.useFacetMap)((e=>e.title),[],[n]))),e.createElement(zs,{type:"captionShort",variant:"dimmer"},e.createElement(ru,null,(0,t.useFacetMap)((e=>e.sender),[],[n])))),e.createElement(Yb.Cell,null,e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.inboxCategory!=Ep.INVITES),[],[n])},e.createElement(zs,{type:"body",variant:"dimmer"},e.createElement(ru,null,(0,t.useFacetMap)((e=>e.dateString),[],[n])))),e.createElement(zj,{invite:n,daysLeft:o})),e.createElement(Yc,{size:1}))},Vj=({item:n})=>{const{t:a}=Ii("InboxListItem"),{t:r}=Ii("InboxListItem.narration"),l=gr("inherit"),o=Dj.useShowModal(),i=LS(),c=Uj((0,t.useFacetMap)((e=>e.worldId),[],[n])),s=u(),d=(0,t.useSharedFacet)(Fp),[m,p]=(0,t.useFacetState)(!1),f=(0,t.useFacetCallback)(((e,t,n)=>()=>{n||(t.acceptInvitation(e.instanceId),p(!0),i({button:"MessageAction_AcceptInvite",screen:"Inbox",details:Lj(e)}))}),[i,p],[n,d,m]),g=(0,t.useFacetCallback)(((e,t)=>()=>{t.rejectInvitation(e.instanceId),i({button:"MessageAction_RejectInvite",screen:"Inbox",details:Lj(e)})}),[i],[n,d]),E=(0,t.useFacetCallback)(((e,t)=>()=>{s.push(t),i({button:"MessageAction_Realms",screen:"Inbox",details:Lj(e)})}),[s,i],[n,c]),h=(0,t.useFacetCallback)((e=>()=>{o({item:e})}),[o],[n]),b=(0,t.useFacetMap)((e=>e.invStatus==gp.JOIN&&e.invType==fp.REALMS||e.invStatus==gp.ACCEPTED&&e.invType==fp.REALMS),[],[n]),v=(0,t.useFacetMap)((e=>e?["3","3"]:["2","2"]),[],[b]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.invStatus==gp.NONE&&e.invType!=fp.NONE),[],[n])},e.createElement(e.Fragment,null,e.createElement(Yb.AdditionalAction,{gamepadIndex:0,narrationText:[r(".accept"),r(".buttonSiblings",["2","3"])].join(" . "),inputLegend:a(".accept"),onClick:f},e.createElement(Ys,null),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionTiny"},a(".accept"))),e.createElement(Yb.AdditionalAction,{gamepadIndex:3,narrationText:[r(".reject"),r(".buttonSiblings",["3","3"])].join(" . "),inputLegend:a(".reject"),onClick:g},e.createElement(jc,null),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionTiny"},a(".reject"))))),e.createElement(t.Mount,{when:b},e.createElement(Yb.AdditionalAction,{gamepadIndex:1,inputLegend:a(".join"),narrationText:[a(".join"),r(".buttonSiblings",["2","3"])].join(" . "),onClick:E},e.createElement(Rj,null),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionTiny"},a(".join")))),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.invStatus!=gp.NONE||e.invType==fp.NONE),[],[n])},e.createElement(Yb.AdditionalAction,{gamepadIndex:3,narrationText:(0,t.useFacetMap)((e=>[r(".delete"),r(".buttonSiblings",e)].join(" . ")),[r],[v]),inputLegend:a(".delete"),onClick:h},e.createElement(Rc,{src:Oj,className:Or()("gRR2U",l.icon)}),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionTiny"},a(".delete")))),e.createElement(t.Mount,{when:(0,t.useFacetMap)(((e,t)=>t&&e.invStatus===gp.EXPIRED),[],[n,m])},e.createElement(Wj.Component,{item:n,onClose:()=>p(!1)})))},Gj=n.p+"assets/external-link-b22bb.png";function $j(){return $j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$j.apply(this,arguments)}const Kj=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("avoET",n);return e.createElement(Rc,$j({},a,{className:r,src:Gj,imageRendering:"pixelated"}))};Kj.imgSrc=Gj;const Xj=n.p+"assets/Feedback-f0949.png",Yj=n.p+"assets/NoNews-191af.png",qj=n.p+"assets/NoRealmsInvites-3af80.png",Qj=n.p+"assets/NoRealmsNews-ed604.png",Jj="_7QZv",Zj="NXvDA";function eH({data:n}){const a=(0,t.useFacetMap)((e=>e.history.length>0||e.recent.length>0),[],[n]),r=(0,t.useFacetMap)((e=>e.category==Ep.FEEDBACK),[],[n]),l=(0,t.useFacetMap)((e=>e.category),[],[n]),{t:o}=Ii("InboxSectionList"),i=(0,t.useFacetMap)((e=>e.realmsSubscriber),[],[(0,t.useSharedFacet)(Fp)]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:r},e.createElement(nH,null)),e.createElement(t.Mount,{when:a},e.createElement(e.Fragment,null,e.createElement(RI,{gamepadIndex:0,data:(0,t.useFacetMap)((e=>[{role:"neutral",title:o(".recent"),data:e.recent},{role:"neutral",title:o(".history"),data:e.history}]),[o],[n]),renderSectionHeader:(t,n)=>e.createElement(nb,{role:n,label:t}),sectionSeparator:e.createElement(Yc,{size:4}),renderItem:({itemFacet:t,index:n})=>e.createElement(jj,{item:t,gamepadIndex:n}),footer:e.createElement(wd.Space,{extraSpace:e.createElement(Yc,{size:1})})}))),e.createElement(t.Mount,{when:a,condition:!1},e.createElement(aH,{value:l,realmsSubscriber:i})))}function tH({value:t,t:n,historyAPI:a,state:r}){return e.createElement(Fl,{data:t},(t=>{switch(t){case Ep.NEWS:return e.createElement(GE,{autofocus:!0,gamepadIndex:0,title:n(".emptyNewsTitle"),text:n(".emptyNewsText"),imgSrc:Yj,imgClass:Jj});case Ep.INVITES:return e.createElement(GE,{autofocus:!0,gamepadIndex:0,title:n(".emptyInvitesTitle"),text:n(".emptyInvitesText"),imgSrc:qj,imgClass:Jj});case Ep.REALMS:return e.createElement(GE,{autofocus:!0,gamepadIndex:0,title:n(".emptyRealmSubTitle"),text:n(".emptyRealmSubText"),imgSrc:Qj,imgClass:Jj});case Ep.MARKETPLACEPASS:return e.createElement(Fl,{data:r},(t=>"subscribePromptWithLearnMoreButton"==t?e.createElement(GE,{autofocus:!0,gamepadIndex:0,title:n(".emptyMarketplacePassSubscribePromptTitle"),text:n(".emptyMarketplacePassSubscribePromptText"),imgSrc:Qj,imgClass:Jj,buttons:[{text:n(".emptyMarketplacePassLearn"),inputLegend:n(".select"),onClick:()=>a.push("/csb-pdp/?tab=csb"),variant:"primary"}]}):"subscribePrompt"==t?e.createElement(GE,{autofocus:!0,gamepadIndex:0,title:n(".emptyMarketplacePassSubscribePromptTitle"),text:n(".emptyMarketplacePassSubscribePromptText"),imgSrc:Qj,imgClass:Jj}):e.createElement(GE,{autofocus:!0,gamepadIndex:0,title:n(".emptyMarketplacePassTitle"),text:n(".emptyMarketplacePassText"),imgSrc:Yj,imgClass:Jj})));case Ep.FEEDBACK:return e.createElement(GE,{autofocus:!0,gamepadIndex:0,title:n(".feedbackSubTitle"),text:"",imgSrc:Xj,imgClass:Jj});default:return e.createElement(GE,{autofocus:!0,gamepadIndex:0,title:n(".emptyMessageTitle"),text:n(".emptyMessageText"),imgSrc:Yj,imgClass:Jj})}}))}function nH(){const{t:n}=Ii("InboxRoute"),a=(0,t.useSharedFacet)(Ug),r=(0,t.useFacetCallback)((e=>()=>e.openLink(Wg.PlayerFeedbackMain)),[],[a]),l=(0,t.useFacetCallback)((e=>()=>e.openLink(Wg.PlayerFeedbackIdeas)),[],[a]);return e.createElement(e.Fragment,null,e.createElement("div",{className:"cnpc6"},e.createElement("div",{className:Zj},e.createElement(Pu,{inputLegend:n(".feedbackMainButton"),onClick:r,imgSrc:Kj.imgSrc,gamepadIndex:0},n(".feedbackMainButton"))),e.createElement(Yc,{size:2}),e.createElement("div",{className:Zj},e.createElement(Pu,{inputLegend:n(".feedbackIdeasButton"),onClick:l,imgSrc:Kj.imgSrc,gamepadIndex:1},n(".feedbackIdeasButton")))),e.createElement(Yc,{size:2}))}function aH({value:n,realmsSubscriber:a}){const{t:r}=Ii("InboxRoute"),l=Hr(),o=(0,t.useFacetMap)((e=>e.platform===Ve.AMAZON_HANDHELD),[],[(0,t.useSharedFacet)(el)]),i=(0,t.useFacetMap)((e=>e.marketplacePassSubscriber),[],[(0,t.useSharedFacet)(Fp)]),c=(0,t.useFacetMap)((e=>e.isPreviewBuild),[],[(0,t.useSharedFacet)(xm)]),s=(0,t.useFacetMap)(((e,t,n)=>t||e?t?"general":"undefined":n?"subscribePrompt":"subscribePromptWithLearnMoreButton"),[],[o,i,c]),u=(0,t.useFacetMap)(((e,t)=>e==Ep.REALMS&&!t),[],[n,a]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:u,condition:!0},e.createElement(e.Fragment,null,e.createElement(ar,{collection:VO},e.createElement(GE,{autofocus:!0,gamepadIndex:0,title:r(".emptyRealmNoSubTitle"),text:r(".emptyRealmNoSubText"),imgSrc:Qj,imgClass:Jj,buttons:[{text:r(".learn"),inputLegend:r(".select"),onClick:()=>l.push("/realms-plus-pdp?tab=default"),variant:"primary"}]})))),e.createElement(t.Mount,{when:u,condition:!1},e.createElement(e.Fragment,null,e.createElement(tH,{value:n,t:r,historyAPI:l,state:s}))))}const rH=n.p+"assets/Feedback-ecfce.png",lH=n.p+"assets/Invites-6a622.png",oH=n.p+"assets/MarketplacePass-8eb08.png",iH=n.p+"assets/News-f8148.png",cH=n.p+"assets/Realms-c7419.png";function sH(e){switch(e){case Ep.FEEDBACK:return rH;case Ep.INVITES:return lH;case Ep.MARKETPLACEPASS:return oH;case Ep.NEWS:return iH;case Ep.REALMS:return cH;default:return""}}function uH(){const{t:n}=Ii("InboxRoute"),a=bE(tp)?Sp:yp,r=(0,t.useFacetMap)((e=>RM(e.platform)),[],[(0,t.useSharedFacet)(el)]),l=(0,t.useFacetMap)((e=>e.platform===Ve.AMAZON_HANDHELD),[],[(0,t.useSharedFacet)(el)]),o=(0,t.useFacetMap)((e=>e.marketplacePassSubscriber),[],[(0,t.useSharedFacet)(Fp)]),i=(0,t.useFacetMap)(((e,t,a,r,l)=>function(e,t,n,a,r){const l=[];return a.forEach((a=>{const o=a.category===Ep.INVITES?r.showInvitesBadges:r.showMessageBadges;(a.category!==Ep.MARKETPLACEPASS||t)&&(a.category!==Ep.FEEDBACK||n)&&l.push({displayName:a.name?a.name:e("."+a.category),imageUrl:a.imageUrl?a.imageUrl:sH(a.category),imageId:a.category+"Icon",value:a.category,count:a.unreadCount,shouldShowBadge:o,telemetryButtonName:"Inbox_"+a.category+"_Button"})})),l}(n,l||!r,!a,e,{showMessageBadges:t.showMessageBadges,showInvitesBadges:t.showInvitesBadges})),[n],[(0,t.useSharedFacet)(a),(0,t.useSharedFacet)(Cp),r,l,o]),c=(0,t.useFacetMap)(((e,t)=>0===e.length||t),[],[i,(0,t.useIsDeferring)()]);return e.createElement(vv,{loading:c},e.createElement(vv.ItemList,{items:i,renderItem:dH}))}function dH({item:n,gamepadIndex:a}){const r=u(),{t:l}=Ii("InboxRoute"),o=Vr(),i=(0,t.useFacetMap)((e=>e.displayName),[],[n]),c=LS(),s=(0,t.useFacetMap)((e=>o.tab===e.value),[o],[n]);return e.createElement(t.DeferredMount,null,e.createElement(vv.ListItem,{narrationText:i,onSelect:(0,t.useFacetCallback)((e=>()=>{e.value!==o.tab&&(c({button:e.telemetryButtonName,screen:"Inbox"}),r.replace(`/inbox/${e.value}`))}),[o,r,c],[n]),value:(0,t.useFacetMap)((e=>e.value),[],[n]),selected:s,gamepadIndex:a,inputLegend:l(".select")},e.createElement(vv.ItemCell,null,e.createElement(Lv,{iconSrc:(0,t.useFacetMap)((e=>e.imageUrl),[],[n]),selected:s})),e.createElement(vv.ItemMain,null,e.createElement(zs,{type:"body"},i)),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.count>0&&e.shouldShowBadge),[],[n])},e.createElement(vv.ItemCell,{margin:"start"},e.createElement(ux,{role:"destructiveTint"},(0,t.useFacetMap)((e=>`${e.count}`),[],[n]))))))}function mH(){const n=Hr(),a=Vr(),{t:r}=Ii("InboxRoute"),l=fh({wide:8,narrow:6,width:260}),o=(0,t.useFacetMap)((e=>e.messagingServiceFailed),[],[(0,t.useSharedFacet)(Fp)]),i=bE(tp)?Sp:yp;(0,t.useFacetEffect)((e=>{null==a.tab&&e.length>0&&(n.replace(`/inbox/${e[0].category}`),a.tab=e[0].category)}),[a,n],[(0,t.useSharedFacet)(i)]);const c=(0,t.useFacetMap)((e=>0===e.length),[],[(0,t.useSharedFacet)(i)]);return e.createElement(vE,null,e.createElement(DE,{onBackButton:n.goBack,center:e.createElement(zs,{type:"header5A"},r(".header")),right:e.createElement(DE.MenuButton,{type:"filter",gamepadIndex:2,onClick:()=>{n.push("/inbox-settings")},narrationText:r(".settingsButton"),"data-testid":"inbox-route-navigation-button",disabled:o}),gamepadAlias:"inbox-route"},e.createElement(UE,{narrowBreakpointWidth:102},e.createElement(Yc,{size:2}),e.createElement(t.Mount,{when:o},e.createElement(UE.Column,{narrowSize:6,wideSize:8},e.createElement(GE,{title:r(".messagingServiceFailure"),text:r(".messagingServiceFailureBody"),imgSrc:Mj,imgClass:l?"YxuTr":"Bw0be"}))),e.createElement(t.Mount,{when:o,condition:!1},e.createElement(UE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(UE.Column,{wideSize:1,narrowSize:0}),e.createElement(UE.Column,{gamepadIndex:0,wideSize:3,narrowSize:2},e.createElement(uH,null)),e.createElement(UE.Column,{gamepadIndex:1,wideSize:7,narrowSize:6},e.createElement(t.Mount,{when:c},e.createElement(mh,{tab:void 0,component:()=>e.createElement(ys,{loading:!0,children:e.createElement(e.Fragment,null)})})),e.createElement(t.Map,{array:(0,t.useSharedFacet)(i)},(t=>e.createElement(Fl,{data:t},(n=>e.createElement(mh,{tab:n.category,component:()=>e.createElement(eH,{data:t})})))))),e.createElement(UE.Column,{wideSize:1,narrowSize:0}))),e.createElement(Yc,{size:2}))))}function pH({realm:n,index:a,maxIndex:r,asSubscription:l,onItemClick:o}){const{t:i}=Ii("ChooseRealmRoute"),c=(0,t.useFacetMap)((e=>i(".players",[e.maxPlayers.toString()])),[i],[n]),s=(0,t.useFacetMap)((e=>e.gameMode===yg.CREATIVE?i(".creative"):e.gameMode===yg.SURVIVAL?i(".survival"):i(".adventure")),[i],[n]),u=(0,t.useFacetMap)((e=>l?i(".realmSubscription",[(a+1).toString()]):e.slotName),[i,a,l],[n]),d=(0,t.useFacetMap)((e=>l?i(".pairedWith",[e.realmName]):e.realmName),[i,l],[n]),m=(0,t.useFacetMap)(((e,t,n,r,o)=>[r,i(".realmChoiceNumber",[(a+1).toString(),e.toString()]),o,l?i(".typeOfSubscription",[t]):i(".typeOfWorld",[n])].join(" . ")),[i,a,l],[r,c,s,u,d]);return e.createElement(Yb,{gamepadIndex:a,tall:!0},e.createElement(Yb.Action,{inputLegend:i(".select"),narrationText:m,onClick:o},e.createElement(Yb.Main,null,e.createElement(zs,{type:"body"},e.createElement(ru,null,u)),e.createElement(zs,{type:"body",variant:"dimmer"},e.createElement(ru,null,d)),e.createElement(Yc,{size:1}),l&&e.createElement(ar,{collection:VO},e.createElement(ux,{role:"primaryTint"},c)),!l&&e.createElement(ux,{role:"neutral100"},s))))}function fH(){const{t:n}=Ii("ChooseRealmRoute"),a=(0,t.useSharedFacet)(Ng),r=(0,t.useSharedFacet)(jm),l=(0,t.useSharedFacet)($g),o=(0,t.useSharedFacet)(zf),i=u(),c=(0,t.useFacetCallback)(((e,t,n)=>a=>{"uninitialized"!==n.currentWorldId?i.push(`/realms-choose-slot/${t[a].id}`):e.inWorldCreation&&e.selectRealmToCreateOn(`${t[a].id}`)}),[i],[r,o,l]),s=(0,e.useCallback)((()=>{i.replace("/realms-choose-realm/realm-subscriptions")}),[i]),d=Ko(),m=(0,t.useSharedFacet)(xm);return e.createElement(Y_,{gamepadIndex:0,gamepadAlias:"wrapper",header:e.createElement(Yc,{size:2}),data:o,renderItem:({itemFacet:e,index:t,listLengthFacet:n})=>pH({realm:e,index:t,maxIndex:n,asSubscription:!1,onItemClick:()=>c(t)}),footer:e.createElement(t.Mount,{when:(0,t.useFacetMap)(((e,t)=>e.realms.length>0&&0!=t.length),[],[a,o])},e.createElement(t.DeferredMount,null,e.createElement("div",{className:Or()({TyJek:"tablet"===d},{z8rvJ:"desktop"===d},{opGGY:"narrow"===d})},e.createElement(Yc,{size:4}),e.createElement(Pu,{inputLegend:n(".select"),variant:"secondary",onClick:s},(0,t.useFacetMap)((e=>e.isBetaBuild?n(".addNewBetaRealm"):n(".addNewPreviewRealm")),[n],[m])),e.createElement(Yc,{size:4}))))})}function gH({onItemClick:n}){const a=(0,t.useSharedFacet)(Gm),r=(0,t.useSharedFacet)(Rg),l=(0,t.useFacetCallback)(((e,t)=>a=>{n(),e.createPreviewRealmFromSubscriptionId(`${t[a].id}`)}),[n],[a,r]);return e.createElement(Y_,{gamepadIndex:0,header:e.createElement(Yc,{size:2}),footer:e.createElement(Yc,{size:2}),data:r,renderItem:({itemFacet:e,index:t,listLengthFacet:n})=>pH({realm:e,index:t,maxIndex:n,asSubscription:!0,onItemClick:()=>l(t)})})}function EH(){const n=u(),{t:a}=Ii("ChooseRealmRoute"),r=(0,t.useSharedFacet)(xm),l=(0,t.useSharedFacet)(Uf),o=(0,t.useSharedFacet)(Ng),i=(0,t.useSharedFacet)(Gm),c=(0,t.useSharedFacet)(jm),s=(0,t.useSharedFacet)(zf),p=(0,t.useSharedFacet)($g),f=(0,t.useSharedFacet)(Qf),[g,E]=(0,t.useFacetState)(!1),h=(0,t.useFacetMap)(((e,t,n)=>e.state===Bf.Loading||t.state===Bf.Loading||n),[],[l,o,g]),b=(0,t.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===rM.RUNNING),[],[i]),v=m(),F=(0,t.useFacetMap)((e=>"realm-subscriptions"===e.tab),[],[v]),y=(0,t.useFacetMap)(((e,t)=>e?a(".chooseARealmSubscription"):t.isBetaBuild?a(".chooseABetaRealm"):a(".chooseAPreviewRealm")),[a],[F,r]),S=(0,t.useSharedFacet)(Rg),C=(0,t.useFacetCallback)(((e,t,a,r,l,o)=>()=>{e&&0!==t.length&&0!==a.length&&r.inWorldCreation?n.replace("/realms-choose-realm/preview-realms"):("uninitialized"!==l.currentWorldId&&o.clearUploadWorldToRealmTaskState(),n.goBack())}),[n],[F,s,S,c,p,f]),M=d();(0,t.useFacetEffect)(((e,t)=>{!e&&t&&E(!1)}),[E],[M,g]),(0,t.useFacetEffect)(((e,t)=>{t.inWorldCreation&&e.createPreviewRealmFromSubscriptionTaskState===rM.DONE&&(e.reset(),E(!0),t.createWorldOnPreviewRealm(e.getCreatedPreviewRealmId()))}),[E],[i,c]),(0,t.useFacetEffect)(((e,t,n)=>{"uninitialized"!==t.currentWorldId&&e.createPreviewRealmFromSubscriptionTaskState===rM.DONE&&(e.reset(),n.setPreviewRealmForUpload(e.getCreatedPreviewRealmId()))}),[],[i,p,f]);const w=(0,t.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===rM.FAILED),[],[i]),k=(0,t.useFacetCallback)((e=>()=>{e.reset()}),[],[i]),T=Ko(),x=a(".backButtonHint"),I=gr("inherit"),P=(0,t.useFacetMap)((e=>a(".screen",[e])),[a],[y]),O=(0,t.useFacetMap)(((e,t)=>!e&&0===t.length),[],[F,s]),A=(0,t.useFacetMap)(((e,t)=>e&&0===t.length),[],[F,S]),N=(0,t.useFacetMap)(((e,t)=>e||t),[],[O,A]),R=(0,t.useFacetCallback)(((e,t,n)=>()=>{e?n.forceFetchUnpairedRealmsList():t.forceFetchRealmsList()}),[],[F,l,o]),L=(0,t.useFacetMap)(((e,t)=>e?a(".emptyState.noSubscriptionErrorTitle"):t.isBetaBuild?a(".emptyState.noRealmsErrorTitle.beta"):a(".emptyState.noRealmsErrorTitle.preview")),[a],[A,r]),[_,D]=(0,t.useFacetState)(!1);return e.createElement(vE,null,e.createElement(hE,{text:P,interruptible:!1}),e.createElement(t.Mount,{when:h},e.createElement("div",{className:Or()("_8UNVp",I.overlay.base)},e.createElement(vs,null))),e.createElement(t.Mount,{when:h,condition:!1},e.createElement(e.Fragment,null,e.createElement(DE,{onBackButton:C,backButtonHint:x,center:e.createElement(zs,{type:"header5A"},y),gamepadAlias:"choose-realm-route",delegateByAlias:"wrapper"},e.createElement(UE,null,e.createElement(UE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(t.Mount,{when:N,condition:!1},e.createElement(e.Fragment,null,e.createElement(UE.Column,{wideSize:"tablet"===T?1:"desktop"===T?2:12,narrowSize:0}),e.createElement(UE.Column,{gamepadIndex:0,wideSize:"tablet"===T?10:"desktop"===T?8:12,narrowSize:8},e.createElement(mh,{tab:"realm-subscriptions",component:(0,e.useCallback)((()=>e.createElement(gH,{onItemClick:()=>D(!0)})),[D])}),e.createElement(mh,{tab:"preview-realms",component:fH}),e.createElement(wd.Space,null)))),e.createElement(t.Mount,{when:N},e.createElement(e.Fragment,null,e.createElement(UE.Column,{wideSize:2,narrowSize:0}),e.createElement(UE.Column,{gamepadIndex:0,wideSize:8,narrowSize:8},e.createElement(ys,{gamepadIndex:0},e.createElement(Yc,{size:2}),e.createElement(GE,{gamepadIndex:0,title:L,text:a(".emptyState.message"),imgSrc:Mj,buttons:[{text:a(".emptyState.tryAgain"),inputLegend:a(".select"),onClick:R}]}))))))),e.createElement(wd.Space,{extraSpace:e.createElement(Yc,{size:1})}),e.createElement(t.Mount,{when:_},e.createElement(nA.Component,{onConfirm:(0,t.useFacetCallback)(((e,t,n)=>()=>{let a=t.inWorldCreation;"uninitialized"!==n.currentWorldId&&(a=!0),e.activateNewPreviewRealm(a),D(!1)}),[D],[i,c,p]),onClose:(0,t.useFacetCallback)((e=>()=>{e.reset(),D(!1)}),[D],[i])})),e.createElement(t.Mount,{when:w},e.createElement(sA.Component,{onClickClose:k})),e.createElement(t.Mount,{when:b},e.createElement(oA,{onClickClose:(0,t.useFacetCallback)((e=>()=>e.reset()),[],[i])}))))))}const hH="delete-read-inbox-message-confirm",bH=_i((function(){const{t:n}=Ii("InboxSettingsRoute.deleteReadConfirmation"),a=Li(),r=LS(),l=(0,t.useFacetCallback)((e=>()=>{e.deleteAllRead(),r({button:"DeleteAllRead",screen:"Inbox"}),a()}),[a,r],[(0,t.useSharedFacet)(Fp)]);return e.createElement(Ld.Overlay,null,e.createElement(Ld,{defaultFocusAlias:hH},e.createElement(Ld.Header,{onClose:a},n(".header")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:n(".dialogText")},n(".dialogText"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{variant:"destructive",gamepadIndex:0,gamepadAlias:hH,inputLegend:n(".deleteConfirm"),autofocus:!0,onClick:l},n(".deleteConfirm")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,inputLegend:n(".cancel"),onClick:a},n(".cancel")))))}));function vH(){const n=Hr(),a=Ko(),r=(0,t.useSharedFacet)(Fp),l=LS(),o="neutral80",i=gr(o),c=bH.useShowModal(),s=(0,t.useFacetMap)((e=>e.settings.showOnlyFriendInvites),[],[r]),u=(0,t.useFacetMap)((e=>e.settings.showInvitesBadges),[],[r]),d=(0,t.useFacetMap)((e=>e.settings.showMessageBadges),[],[r]),m=(0,t.useFacetCallback)((e=>()=>{e.settings.toggleOnlyFriendInvites(),e.reloadInvites()}),[],[r]),p=(0,t.useFacetCallback)((e=>()=>e.settings.toggleMessageBadges()),[],[r]),f=(0,t.useFacetCallback)((e=>()=>e.settings.toggleInvitesBadges()),[],[r]),{t:g}=Ii("InboxSettingsRoute"),E=(0,t.useFacetCallback)((e=>()=>{e.saveSettings(),n.goBack()}),[n],[r]);return e.createElement(ja,{role:o},e.createElement(vE,null,e.createElement(DE,{onBackButton:E,center:e.createElement(zs,{type:"header5A"},g(".title")),gamepadAlias:"inbox-settings-route",footer:e.createElement(wd.Space,{extraSpace:e.createElement(Yc,{size:1})})},e.createElement(ys,{gamepadIndex:0},e.createElement(UE,null,"desktop"===a&&e.createElement(Yc,{size:2}),e.createElement(UE.Row,{gamepadIndex:0},e.createElement(UE.Column,{wideSize:1,narrowSize:1}),e.createElement(UE.Column,{gamepadIndex:1,wideSize:10,narrowSize:6},e.createElement(Yc,{size:2}),e.createElement("fast-div",{className:Or()(i.border.base,i.background.base,"kVqwq")},e.createElement(iC,{title:g(".onlyShowFriends"),value:s,onChange:m}),e.createElement(qS,{title:g(".categories"),description:g(".categoriesDescription")}),e.createElement(iC,{title:g(".showMessages"),value:d,onChange:p}),e.createElement(iC,{title:g(".showInvites"),value:u,onChange:f}),e.createElement(du,null,e.createElement(Pu,{gamepadIndex:5,onClick:(0,t.useFacetCallback)((e=>()=>{e.markAllRead(),l({button:"MarkAllRead",screen:"Inbox"})}),[l],[r]),inputLegend:g(".markAllRead"),variant:"secondary"},g(".markAllRead")),e.createElement(Yc,{size:2}),e.createElement(Pu,{gamepadIndex:6,onClick:c,inputLegend:g(".deleteAllRead"),variant:"destructive"},g(".deleteAllRead")))),e.createElement(Yc,{size:2}))))))))}function FH({message:n}){const a=(0,t.useFacetMap)((e=>e.content),[],[n]);return e.createElement(zs,{type:"paragraphs",whiteSpace:"preWrap",children:a})}var yH;function SH({message:n}){const a=(0,t.useFacetMap)((e=>e.invStatus===gp.NONE),[],[n]),r=(0,t.useFacetMap)((e=>e.invStatus===gp.ACCEPTED&&e.invType!==fp.GAME),[],[n]),l=(0,t.useFacetMap)((e=>e.invStatus===gp.JOIN&&e.invType!==fp.GAME),[],[n]),o=u(),i=(0,e.useRef)(!1);(0,t.useFacetEffect)((e=>{i.current&&e.invStatus==gp.REJECTED&&(i.current=!1,o.goBack())}),[o,i],[n]);const c=Uj((0,t.useFacetMap)((e=>e.worldId),[],[n])),[s,d]=(0,t.useFacetState)(!1),m=(0,t.useFacetCallback)(((e,t,n,a)=>r=>{switch(r){case yH.Accept:n||(t.acceptInvitation(e.instanceId),d(!0));break;case yH.Reject:t.rejectInvitation(e.instanceId),i.current=!0;break;case yH.Join:o.push(a);break;case yH.Back:o.goBack();break;case yH.ViewProfile:o.push(mP(e.senderXuid))}}),[o,d],[n,(0,t.useSharedFacet)(Fp),s,c]);return e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(t.Mount,{when:a},e.createElement(MH,{handleButtonClick:m})),e.createElement(t.Mount,{when:r},e.createElement(wH,{handleButtonClick:m})),e.createElement(t.Mount,{when:l},e.createElement(wH,{handleButtonClick:m})))}function CH({message:n}){const{t:a}=Ii("InboxMessageDetailsRoute"),r=ta(),l=(0,t.useFacetMap)((e=>e.invType===fp.GAME),[],[n]),o=(0,t.useFacetMap)((e=>e.invType===fp.REALMS),[],[n]),i=(0,t.useFacetMap)(((e,t)=>a(t?".gameInvitationNote0":".invitationNote0",[e.sender])),[a],[n,l]),c=(0,t.useFacetMap)(((e,t)=>a(t?".gameInvitationRejectedMessage":".realmsInvitationRejectedMessage",[e.sender])),[a],[n,l]),s=(0,t.useFacetMap)((e=>e.invStatus==gp.REJECTED),[],[n]),u=a(".invitationRejectedMessageDetails"),d=(0,t.useFacetMap)((e=>e?[a(".invitationNote1"),a(".invitationNote2"),a(".invitationNote3"),a(".invitationNote4")]:[]),[a],[o]),m=(0,t.useFacetMap)(((e,t)=>[e,t.join(" . ")].join(" . ")),[],[i,d]),p=(0,t.useFacetMap)((e=>[e,u].join(" ")),[u],[c]),f=(0,t.useFacetMap)(((e,t,n)=>e?t:n),[],[s,p,m]);return e.createElement(ic.Maybe,{isInteractive:r,narrationText:f},e.createElement(t.Mount,{when:s,condition:!1},e.createElement(e.Fragment,null,e.createElement(zs,{children:i,type:"paragraphs"}),e.createElement(Yc,{size:4}),e.createElement(t.Mount,{when:l,condition:!1},e.createElement(zs.List,{items:d})))),e.createElement(t.Mount,{when:s},e.createElement(e.Fragment,null,e.createElement(zs,{children:c,type:"paragraphs"}),e.createElement(Yc,{size:4}),e.createElement(zs,{children:u,type:"paragraphs"}))))}function MH({handleButtonClick:t}){const{t:n}=Ii("InboxMessageDetailsRoute"),{t:a}=Ii("InboxMessageDetailsRoute.narration"),r=n(".accept"),l=n(".reject"),o=n(".viewProfile");return e.createElement(e.Fragment,null,e.createElement(vv.Item,null,e.createElement(Pu,{narrationSuffix:a(".buttonSiblings",["1","3"]),inputLegend:r,isElevated:!0,variant:"primary",onClick:()=>t(yH.Accept)},r)),e.createElement(Yc,{size:2}),e.createElement(vv.Item,null,e.createElement(Pu,{narrationSuffix:a(".buttonSiblings",["2","3"]),inputLegend:l,onClick:()=>t(yH.Reject),isElevated:!0,variant:"secondary"},l)),e.createElement(Yc,{size:2}),e.createElement(vv.Item,null,e.createElement(Pu,{narrationSuffix:a(".buttonSiblings",["3","3"]),inputLegend:o,onClick:()=>t(yH.ViewProfile),isElevated:!0,variant:"secondary"},o)))}function wH({handleButtonClick:t}){const{t:n}=Ii("InboxMessageDetailsRoute"),{t:a}=Ii("InboxMessageDetailsRoute.narration"),r=n(".join");return e.createElement(vv.Item,null,e.createElement(ar,{collection:VO},e.createElement(Pu,{narrationSuffix:a(".buttonSiblings",["1","1"]),gamepadIndex:2,inputLegend:r,onClick:()=>t(yH.Join),isElevated:!0,variant:"primary"},r)))}!function(e){e[e.Accept=0]="Accept",e[e.Reject=1]="Reject",e[e.Join=2]="Join",e[e.Back=3]="Back",e[e.ViewProfile=4]="ViewProfile"}(yH||(yH={}));const kH=n.p+"assets/default-f0026.png";function TH({message:n}){const a=(0,t.useFacetMap)((e=>{var t,n;return null!==(t=null===(n=e.images[0])||void 0===n?void 0:n.isLoaded)&&void 0!==t&&t}),[],[n]),r=(0,t.useFacetMap)((e=>{var t,n;return""!=(null===(t=e.images[0])||void 0===t?void 0:t.url)?null===(n=e.images[0])||void 0===n?void 0:n.url:kH}),[],[n]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:a},e.createElement(e.Fragment,null,e.createElement(Yc,{size:5}),e.createElement("div",{className:"r1xtb"},e.createElement(Rc,{src:r,aspectRatio:Rc.AspectRatio["16:9"]})),e.createElement(Yc,{size:5}))),e.createElement(FH,{message:n}))}function xH({offer:n,index:a,message:r}){const{t:l}=Ii("InboxContentItem"),{t:o}=Ii("InboxContentItem.narration"),i=u(),c=(0,t.useFacetCallback)((e=>()=>{i.push("/marketplace?productId="+encodeURIComponent(e.id)+"&origin=Inbox")}),[i],[n]),s=(0,t.useFacetMap)((e=>o(".createdBy",[e.creator])),[o],[n]),d=(0,t.useFacetMap)((e=>e.title),[],[n]),m=(0,t.useFacetMap)((e=>{var t,n;return null!==(t=null===(n=e.images[a+1])||void 0===n?void 0:n.isLoaded)&&void 0!==t&&t}),[a],[r]),p=(0,t.useFacetMap)((e=>{var t,n;return""!=(null===(t=e.images[a+1])||void 0===t?void 0:t.url)?null===(n=e.images[a+1])||void 0===n?void 0:n.url:kH}),[a],[r]),f=(0,t.useFacetMap)(((e,t)=>[t,e].filter((e=>null!=e&&""!==e)).join(" . ")),[],[s,d]),g=gr("neutral");return e.createElement("fast-div",{className:"LUNVz"},e.createElement(Yb,{gamepadIndex:a},e.createElement(Yb.Action,{inputLegend:l(".view"),narrationText:f,onClick:c,gamepadIndex:0},e.createElement(t.Mount,{when:m},e.createElement(Yb.Cell,null,e.createElement(Rc,{src:p,className:Or()("Cudab",g.border.base,"ygS1r")}))),e.createElement(Yc,{size:1}),e.createElement(Yb.Main,null,e.createElement(zs,{type:"body"},d),e.createElement(zs,{type:"captionShort",variant:"dimmer"},s)))))}function IH({message:n}){const a=(0,t.useFacetMap)((e=>e.content),[],[n]);return e.createElement(e.Fragment,null,e.createElement(zs,{type:"body",align:"left",variant:"dimmer",children:a}),e.createElement(Yc,{size:2}),e.createElement(t.Map,{array:(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.offers)&&void 0!==t?t:[]}),[],[n])},((t,a)=>e.createElement(xH,{offer:t,index:a,message:n}))))}function PH({message:n,children:a,title:r=(0,t.createStaticFacet)(""),imageIndex:l=0,fullHeight:o=!0,defaultImage:i=(0,t.createStaticFacet)(""),spacingAroundSideMenu:c=null}){const{t:s}=Ii("InboxMessageDetailsRoute"),u=(0,t.useFacetMap)(((e,t)=>""!=t?t:e.title),[],[n,r]),d=(0,t.useFacetMap)((e=>s(".from",[e.sender])),[s],[n]),m=(0,t.useFacetMap)((e=>e.dateString),[],[n]),p=(0,t.useFacetMap)((e=>{var t,n;return null!==(t=null===(n=e.images[l])||void 0===n?void 0:n.isLoaded)&&void 0!==t&&t}),[l],[n]),f=(0,t.useFacetMap)(((e,t)=>{var n,a;return""!=(null===(n=e.images[l])||void 0===n?void 0:n.url)?null===(a=e.images[l])||void 0===a?void 0:a.url:t}),[l],[n,i]),g=(0,t.useFacetMap)((e=>e.buttons),[],[n]),E=(0,t.useFacetMap)(((e,t,n)=>[t,n,e.dateString].join(" . ")),[],[n,u,d,r]);return e.createElement(vv,{gamepadIndex:1,autofocus:!0,fullHeight:o,narrationPrefix:E,spacingAroundSideMenu:c},e.createElement(vv.Item,null,e.createElement("div",{className:"UEFZY"},e.createElement(t.Mount,{when:p},e.createElement(Rc,{src:f,aspectRatio:Rc.AspectRatio["16:9"]})),e.createElement(t.Mount,{when:p,condition:!1},e.createElement(Rc,{src:i,aspectRatio:Rc.AspectRatio["16:9"]}))),e.createElement(Yc,{size:2})),e.createElement(vv.Item,null,e.createElement(zs,{type:"body",variant:"stronger"},u),e.createElement(zs,{type:"captionShort",variant:"dimmer"},d),e.createElement(zs,{type:"captionShort",variant:"dimmer"},m)),e.createElement(t.Map,{array:g},((t,a)=>e.createElement(OH,{message:n,button:t,index:a}))),a)}function OH({message:n,button:a,index:r}){const l=u(),o=(0,t.useFacetCallback)(((e,t,n)=>()=>{null!=t&&(n.reportClick(e.id,e.instanceId,t.id),t.action===Gp.EXTERNAL?t.openExternalLink():t.action===Gp.INTERNAL&&l.push(t.link))}),[l],[n,a,(0,t.useSharedFacet)(Fp)]),i=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.text)&&void 0!==t?t:""}),[],[a]),c=(0,t.useFacetMap)((e=>e.action===Gp.EXTERNAL||e.action===Gp.INTERNAL),[],[a]);return e.createElement(t.Mount,{when:c},e.createElement(vv.Item,null,e.createElement(Yc,{size:2}),e.createElement(Fl,{data:a},(t=>e.createElement(Pu,{inputLegend:i,gamepadIndex:r+1,onClick:o,Icon:()=>e.createElement(YU,{button:t}),variant:"primary",narrationPrefix:i},i)))))}const AH=n.p+"assets/realmsDefaultImage-bd8bc.png",NH=n.p+"assets/gameInviteDefaultImage-60630.png";function RH(){const{t:n}=Ii("InboxMessageDetailsRoute"),a=u(),r=Vr().messageId,l=d(),o=(0,t.useFacetMap)(((e,n)=>{if(n)for(let t=0;t<e.inboxMessages.length;t++)if(e.inboxMessages[t].instanceId==r)return e.inboxMessages[t];return t.NO_VALUE}),[r],[(0,t.useSharedFacet)(Fp),l]),i=(0,t.useFacetMap)((e=>e.inboxCategory==Ep.INVITES),[],[o]),c=(0,t.useFacetMap)((e=>e.invType===fp.GAME),[],[o]),s=(0,t.useFacetMap)((e=>e.template==hp.IMAGETEXT||e.template==hp.HEROIMAGECTA),[],[o]),m=(0,t.useFacetMap)((e=>e.template==hp.CONTENTLISTCTA||e.template==hp.CONTENTLISTNOCTA),[],[o]),p=(0,t.useFacetMap)((e=>e.template==hp.IMAGETNAILCTA),[],[o]);return e.createElement(t.Mount,{when:l},e.createElement(vE,null,e.createElement(DE,{onBackButton:a.goBack,center:e.createElement(zs,{type:"header5A"},n(".details")),gamepadAlias:"inbox-message-details-route",footer:e.createElement(wd.Space,{extraSpace:e.createElement(Yc,{size:1})})},e.createElement(t.Mount,{when:i},e.createElement(LH,{message:o,content:CH,title:(0,t.useFacetMap)((e=>n(e?".gameInvite":".realmInvite")),[n],[c]),imageDefault:(0,t.useFacetMap)((e=>e?NH:AH),[],[c])},e.createElement(SH,{message:o}))),e.createElement(t.Mount,{when:i,condition:!1},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:s},e.createElement(LH,{message:o,content:FH})),e.createElement(t.Mount,{when:p},e.createElement(LH,{message:o,content:TH,imageIndex:1})),e.createElement(t.Mount,{when:m},e.createElement(LH,{message:o,content:IH})))))))}function LH({children:n,message:a,content:r,title:l=(0,t.createStaticFacet)(""),imageIndex:o=0,imageDefault:i=(0,t.createStaticFacet)(kH)}){const[c,s]=function(n){const a=(0,e.useRef)(!0),[r,l]=(0,e.useState)([]),o=(0,t.useFacetMap)(((e,t)=>[0,...e].map((e=>e*t))),[],[(0,t.useFacetWrap)([102]),(0,e.useContext)(jo)]);return(0,t.useFacetEffect)((e=>{const t=()=>{const t=window.innerWidth;return e.map(((e,n,a)=>n===a.length-1?t>=e:t>=e&&t<a[n+1]))},n=()=>l(t());return a.current&&(l(t()),a.current=!1),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[l],[o]),r}(),u=gr(),d="neutral",m=Or()("VRcEA",u[d].background.base,{[`${u[d].border.base}`]:null!=u[d].border.base&&s,yUiHw:s}),p=(0,t.useFacetMap)((e=>e.content),[],[a]),f=c?null:e.createElement(Yc,{size:2});return e.createElement(UE,{noGutters:c,narrowBreakpointWidth:102},e.createElement(UE.Row,{fullHeight:c},e.createElement(UE.Column,{wideSize:1,narrowSize:0}),e.createElement(UE.Column,{wideSize:3,narrowSize:3},e.createElement(PH,{message:a,imageIndex:o,fullHeight:c,children:n,title:l,defaultImage:i,spacingAroundSideMenu:f})),e.createElement(UE.Column,{wideSize:7,narrowSize:5},e.createElement(ys,{emptyFocusableNarrationText:p,floating:c},e.createElement("div",{className:"ggcmj"},f,e.createElement("div",{className:Or()(m)},r({message:a})),f))),e.createElement(UE.Column,{wideSize:1,narrowSize:0})))}function _H(){const n=Hr(),a=(0,t.useSharedFacet)(Gm),r=(0,t.useSharedFacet)(Ng),l=(0,e.useRef)(!1),[o,i]=(0,t.useFacetState)(!1),c=(0,t.useSharedFacet)(Rg);(0,t.useFacetEffect)(((e,t,n)=>{t.state!==Bf.Loading&&!l.current&&n.length>0&&(i(!0),e.createPreviewRealmFromSubscriptionId(`${n[0].id}`),l.current=!0)}),[l,i],[a,r,c]);const s=(0,t.useFacetMap)(((e,t)=>t.createPreviewRealmFromSubscriptionTaskState!==rM.RUNNING&&e.state===Bf.Loading),[],[r,a]),u=(0,t.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===rM.RUNNING&&e.createPreviewRealmFromSubscriptionResult===Vm.CreatingPreviewRealm),[],[a]),d=(0,t.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===rM.RUNNING&&e.createPreviewRealmFromSubscriptionResult===Vm.RetrievingCreatedPreviewRealm),[],[a]),m=(0,t.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===rM.FAILED),[],[a]),p=(0,t.useFacetCallback)((e=>()=>{i(!1),e.reset(),n.goBack()}),[n,i],[a]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:s},e.createElement(rA,{onClickClose:n.goBack})),e.createElement(t.Mount,{when:s,condition:!1},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:o},e.createElement(nA.Component,{onConfirm:(0,t.useFacetCallback)((e=>()=>{i(!1),e.activateNewPreviewRealm(!1)}),[i],[a]),onClose:p})),e.createElement(t.Mount,{when:u},e.createElement(oA,{onClickClose:n.goBack})),e.createElement(t.Mount,{when:d},e.createElement(lA,{onClickClose:n.goBack})),e.createElement(t.Mount,{when:m},e.createElement(sA.Component,{onClickClose:p})))))}const DH="pM3f_",BH=_i((({externalServerWorldError:t,onClose:n})=>{const{t:a}=Ii("PlayScreen.serverTab.addServerError"),r="pop-up-modal-AddServerErrorModal",l=Li(),o=function(e){switch(e){case Xm.NameIsEmpty:return".nameError";case Xm.AddressIsEmpty:return".addressError";case Xm.InvalidIpAddress:return".ipAddressError";case Xm.InvalidPortNumber:return".portError";case Xm.IdNotFound:case Xm.UnknownError:default:return".genericError"}}(t),i=()=>{l(),n()};return e.createElement(Ld,{defaultFocusAlias:r},e.createElement(Ld.Header,{onClose:i},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:a(o),gamepadIndex:0,center:!0},a(o))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:r,inputLegend:a(".closeButton"),onClick:i},a(".closeButton"))))})),WH="go-back-server-modal",UH=_i((({onDeleteServer:t,onClose:n})=>{const{t:a}=Ii("PlayScreen.serverTab.confirmDeletion");return e.createElement(Ld,{defaultFocusAlias:WH},e.createElement(Ld.Header,{onClose:n},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:a(".message"),gamepadIndex:0,center:!0},a(".message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,gamepadAlias:WH,inputLegend:a(".goBackButton"),variant:"secondary",onClick:n},a(".goBackButton")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,inputLegend:a(".deleteButtonInputLegend"),variant:"destructive",onClick:()=>{t(),n()}},a(".deleteButton"))))})),zH="save-button-unsaved-changes-server-modal",jH=_i((({onSaveChanges:n,onDiscardChanges:a,onClose:r,localization:l="unsavedChanges"})=>{const{t:o}=Ii(`PlayScreen.serverTab.${l}`),i=(0,t.useFacetCallback)((()=>()=>{r(),a()}),[a,r],[]);return e.createElement(Ld,{defaultFocusAlias:zH},e.createElement(Ld.Header,{onClose:r},o(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:o(".message"),gamepadIndex:0,center:!0},o(".message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:zH,inputLegend:o(".discardChangesButtonInputLegend"),variant:"secondary",onClick:i},o(".discardChangesButton")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:o(".saveChangesButtonInputLegend"),variant:"primary",onClick:()=>{n(),r()}},o(".saveChangesButton"))))})),HH=n.p+"assets/save-27aad.png";function VH(){return VH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},VH.apply(this,arguments)}const GH=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("E5OBz",n);return e.createElement(Rc,VH({},a,{className:r,src:HH,imageRendering:"pixelated"}))};let $H;!function(e){e.ExternalServer="ExternalServer"}($H||($H={}));const KH=19132,XH=65535,YH=()=>{const n=(0,t.useSharedFacet)(Op),a=(0,t.useSharedFacet)(Ym),r=(0,t.useSharedFacet)(Rp),l=(0,t.useSharedFacet)(_p),o=(0,t.useSharedFacet)(Lp),i=BH.useModal(),c=UH.useModal(),s=jH.useModal(),d=$M(),[p,f]=(0,e.useState)(void 0),[g,E]=(0,t.useFacetState)(!1),h=u(),b=function(){const e=m();return(0,t.useFacetMap)((e=>e.id),[],[e])}(),v=gr("neutral"),F=(0,t.useFacetMap)((e=>null!=e),[],[b]),y="narrow"===Ko(),{t:S}=Tp("PlayScreen.serverTab.serverForm"),[C,M]=(0,t.useFacetState)(!1),[w,k]=(0,t.useFacetState)(""),T=(0,t.useFacetMap)((e=>e.networkDetails.name),[],[n]),x=(0,t.useFacetMap)((e=>e.networkDetails.port.toString()),[],[n]),[I,P]=(0,t.useFacetState)(KH.toString()),O=(0,t.useFacetMap)((e=>e.networkDetails.address),[],[n]),A=(0,t.useFacetMap)((e=>e.doNotShowMultiplayerIpSafetyWarning),[],[o]),[N,R]=(0,t.useFacetState)(""),L=(0,t.useFacetCallback)((()=>e=>{k(e),E(!0)}),[k,E],[]),_=(0,t.useFacetCallback)((()=>e=>{R(e),E(!0)}),[R,E],[]),D=(0,t.useFacetCallback)((()=>e=>{P(e),E(!0)}),[P,E],[]),B=(0,t.useFacetCallback)((e=>t=>{if(e)return;i.show(),f(t);const n={modalReason:Xm[t]};d({modal:"AddJoinExternalServerError",screen:$H.ExternalServer,details:n})}),[f,i,d],[i.isVisible]),W=(0,e.useCallback)((()=>{k(""),R(""),P(KH.toString()),E(!1)}),[k,R,P,E]),U=(0,t.useFacetCallback)((e=>t=>{e.queueSnackbar(t)}),[],[l]),z=(0,t.useFacetCallback)(((e,t,n,a)=>()=>{const r=e.addExternalServerWorld(t,n,parseInt(a));return E(!0),null!=r?B(r):(U(S(".serverAddedNotification")),null!=e.addedServerId?(h.goBack(),h.replace(`/play/servers/${e.addedServerId}/${NL(Sg.External)}`)):h.goBack(),W()),r}),[E,U,S,B,h,W],[a,w,N,I]),j=(0,t.useFacetMap)((e=>e.joinExternalServerTaskState),[],[r]),H=(0,t.useFacetMap)((e=>e.joinExternalServerResult),[],[r]),V=(0,t.useFacetCallback)((e=>()=>{e.clearJoinExternalServerTaskState()}),[],[r]),G=oM((e=>function*(t){e.joinExternalServer(t),yield j,e.clearJoinExternalServerTaskState()}),[j],[r]),$=(0,t.useFacetCallback)(((e,t)=>()=>{null==z()&&(t?G(String(e.addedServerId)):h.push(`/online-play-warning/${NL(Sg.External)}/${e.addedServerId}`))}),[G,z,h],[a,A]),K=(0,t.useFacetCallback)(((e,t)=>()=>{if(null!=t){const n=e.removeExternalServerWorld(parseInt(t));n?B(n):(M(!0),U(S(".serverDeletedNotification")),h.goBack())}}),[B,U,S,M,h],[a,b]),X=(0,t.useFacetCallback)(((e,t,n,a,r)=>()=>{if(null!=t){const l=e.editExternalServerWorld(parseInt(t),n,a,parseInt(r));l?B(l):(U(S(".serverEditedNotification")),h.goBack())}}),[B,U,S,h],[a,b,w,N,I]),Y=(0,t.useFacetCallback)((e=>()=>{e?s.show():(W(),h.goBack())}),[h,s,W],[g]);(0,t.useFacetEffect)(((e,t,n,a)=>{a&&(k(e),R(t),P(n))}),[k,R,P],[T,O,x,F]);const q=(0,t.useFacetMap)((e=>null!=e&&e!==Ap.OK),[],[H]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:C,condition:!1},e.createElement(vE,null,e.createElement(t.Mount,{when:F,condition:!0},e.createElement(Ps,{text:S(".editServerNarration")},e.createElement(DE,{onBackButton:Y,center:e.createElement(zs,{type:"header5A"},S(".editServerTitle")),footer:y?e.createElement(e.Fragment,null,e.createElement(qH,{isEditing:!0,primaryCallback:X,secondaryCallback:c.show}),e.createElement(wd.Space,null)):e.createElement(wd.Space,null),gamepadAlias:"external-server-form-creating"},e.createElement(ys,null,e.createElement(UE,null,e.createElement(UE.Row,{gamepadIndex:0},e.createElement(UE.Column,{wideSize:1,narrowSize:1,disabled:!0}),e.createElement(UE.Column,{wideSize:10,narrowSize:6},e.createElement(Yc,{size:2}),e.createElement("div",{className:Or()(v.border.base,DH)},e.createElement(nw,{label:S(".serverNameLabel"),value:w,onChange:L,placeholder:S(".serverNamePlaceholder"),filterProfanity:!0}),e.createElement(QH,{address:N,setAddress:_}),e.createElement(JH,{port:I,setPort:D}),y?null:e.createElement(qH,{isEditing:!0,primaryCallback:X,secondaryCallback:c.show}))),e.createElement(UE.Column,{wideSize:1,narrowSize:1,disabled:!0}))))))),e.createElement(t.Mount,{when:F,condition:!1},e.createElement(Ps,{text:S(".newServerNarration")},e.createElement(DE,{onBackButton:Y,center:e.createElement(zs,{type:"header5A"},S(".newServerTitle")),footer:y?e.createElement(e.Fragment,null,e.createElement(qH,{primaryCallback:$,secondaryCallback:z,isEditing:!1}),e.createElement(wd.Space,null)):e.createElement(wd.Space,null),gamepadAlias:"external-server-form-creating"},e.createElement(ys,null,e.createElement(UE,null,e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:1,narrowSize:1}),e.createElement(UE.Column,{wideSize:10,narrowSize:6},e.createElement(Yc,{size:2}),e.createElement("div",{className:Or()(v.border.base,DH)},e.createElement(nw,{label:S(".serverNameLabel"),value:w,onChange:L,placeholder:S(".serverNamePlaceholder"),filterProfanity:!0}),e.createElement(QH,{address:N,setAddress:_}),e.createElement(JH,{port:I,setPort:D}),y?null:e.createElement(qH,{primaryCallback:$,secondaryCallback:z,isEditing:!1}))),e.createElement(UE.Column,{wideSize:1,narrowSize:1}))))))),e.createElement(t.Mount,{when:i.isVisible},e.createElement(BH.Component,{externalServerWorldError:p,onClose:i.hide})),e.createElement(t.Mount,{when:c.isVisible},e.createElement(UH.Component,{onDeleteServer:K,onClose:c.hide})),e.createElement(t.Mount,{when:s.isVisible},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:F},e.createElement(jH.Component,{onSaveChanges:X,onDiscardChanges:h.goBack,onClose:s.hide})),e.createElement(t.Mount,{when:F,condition:!1},e.createElement(jH.Component,{onSaveChanges:s.hide,onDiscardChanges:h.goBack,onClose:s.hide,localization:"unsavedAddChanges"})))))),e.createElement(t.Mount,{when:q},e.createElement(rD.Component,{onClose:V})))};function qH({isEditing:t,primaryCallback:n,secondaryCallback:a}){const r=gr("neutral"),{t:l}=Tp("PlayScreen.serverTab.serverForm");return e.createElement(e.Fragment,null,e.createElement("div",{className:Or()("b_Dcf",r.background.base,r.bevel.base,"Ue6QT")},e.createElement(UE.Row,null,e.createElement(Pu,{horizontal:!0,inputLegend:l(t?".deleteServerButton":".addServerButton"),onClick:a,variant:t?"destructive":"secondary",Icon:t?aP:void 0},l(t?".deleteServerButton":".addServerButton")),e.createElement(YS.ButtonSpacing,null),e.createElement(Pu,{horizontal:!0,inputLegend:l(t?".saveChangesButton":".addAndPlayButton"),onClick:n,variant:"primary",Icon:t?GH:void 0},l(t?".saveChangesButton":".addAndPlayButton")))))}function QH({address:t,setAddress:n}){const{t:a}=Tp("PlayScreen.serverTab.serverForm");return e.createElement(nw,{label:a(".serverAddressLabel"),onChange:n,placeholder:a(".serverAddressPlaceholder"),value:t,filterProfanity:!0})}function JH({port:t,setPort:n}){const{t:a}=Tp("PlayScreen.serverTab.serverForm"),{narrateText:r}=Fs({interruptible:!1}),l=(0,e.useCallback)(((e,t)=>{const n=e.match(/^[0-9]*$/g);return 0!==e.length&&n?parseInt(e)>XH?(r(a(".serverPortNotWithinRange",[XH.toString()])),t(XH.toString()),Uu.ValidationResult.INVALID):Uu.ValidationResult.VALID:(r(a(".serverPortInvalidValue",[KH.toString()])),t(KH.toString()),Uu.ValidationResult.INVALID)}),[r,a]);return e.createElement(nw,{label:a(".serverPortLabel"),onBlur:l,onChange:n,value:t,isNumber:!0})}const ZH=n.p+"assets/survival-6ff33.png",eV=n.p+"assets/creative-34775.png",tV=n.p+"assets/easy-8c5d9.png",nV=n.p+"assets/normal-6b57a.png",aV=n.p+"assets/hard-bd518.png",rV=n.p+"assets/peaceful-95e19.png",lV="quick-world-creation-route-mode/survival",oV="quick-world-creation-route-difficulty/easy",iV=()=>{const n=(0,t.useSharedFacet)($g),a=(0,t.useSharedFacet)(cE);return e.createElement(t.Mount,{when:(0,t.useFacetMap)(((e,t)=>null!=e.saveLocalWorldError||t.startLocalWorldResult===oE.WorldNotInLevelList||t.startLocalWorldResult===oE.GameServerStarterNotReady),[],[n,a])},e.createElement(mw.Component,null))},cV=(e,n)=>{const a=(0,t.useSharedFacet)($g),r=(0,t.useSharedFacet)(cE),l=(0,t.useFacetMap)((e=>e.saveLocalWorldTaskState),[],[a]);return oM(((t,a)=>function*(){t.saveLocalWorldTaskState===rM.IDLE&&(t.addWorld(),t.worldData.general.gameMode=e,t.worldData.general.difficulty=n,t.saveLocalWorld(t.currentWorldId),yield l,a.startLocalWorld(t.currentWorldId))}),[e,n,l],[a,r])},sV=(e,n)=>{const a=u(),r=SN(),l=cV(e,n);return(0,t.useFacetCallback)((t=>()=>{t?a.push(`/quick-create-new-world/${e}/${n}/touch-control-selection`):l()}),[a,e,n,l],[r])},uV=({image:t,title:n,description:a,inputLegend:r,gamepadAlias:l,onClick:o,groupIndex:i,groupSize:c})=>{const[s,u]=pV(16.2),{t:d}=Ii("Common.narration"),m=d(".position",[`${i}`,`${c}`]),p=[n,d(".roles.button"),m,a].join(" . ");return e.createElement(LA,{gamepadIndex:0,inputLegend:r,gamepadAlias:l,onClick:o,narrateCardRole:!1},e.createElement("fast-div",{ref:s,className:"NHHNk",style:{backgroundImage:gV(t),paddingTop:u}}),e.createElement(LA.Information,{narrationText:p},e.createElement(zs,{type:"body",verticalAlign:"center"},n),e.createElement(zs,{type:"captionShort",variant:"dimmer"},a)))},dV=({image:t,title:n,inputLegend:a,description:r,gamepadAlias:l,onClick:o,groupIndex:i,groupSize:c})=>{const[s,u]=pV(14),{t:d}=Ii("Common.narration"),m=d(".position",[`${i}`,`${c}`]),p=[n,d(".roles.button"),m,r].join(" . ");return e.createElement(LA,{gamepadIndex:0,inputLegend:a,gamepadAlias:l,onClick:o,narrateCardRole:!1},e.createElement("fast-div",{ref:s,className:"_PMoJ",style:{backgroundImage:gV(t),paddingTop:u}}),e.createElement(LA.Information,{narrationText:p},e.createElement(zs,{type:"body",verticalAlign:"center"},n),e.createElement(zs,{type:"captionShort",variant:"dimmer"},r)))},mV=({image:t,title:n,description:a,inputLegend:r,gamepadAlias:l,onClick:o,groupIndex:i,groupSize:c})=>{const{t:s}=Ii("Common.narration"),u=s(".position",[`${i}`,`${c}`]),d=[n,s(".roles.button"),u,a].join(" . ");return e.createElement(Yb,{tall:!0},e.createElement(Yb.Action,{inputLegend:r,narrationText:d,gamepadAlias:l,onClick:o},e.createElement(Yb.Cell,null,e.createElement("div",{className:"yIenp",style:{backgroundImage:gV(t)}})),e.createElement(Yb.Main,null,e.createElement(zs,{type:"body"},n),e.createElement(zs,{type:"captionShort",variant:"dimmer"},a))))},pV=n=>{const a=(0,e.useRef)(null),[r,l]=(0,t.useFacetState)("0px"),o=$o(n),i=(0,t.useFacetCallback)((e=>({width:t})=>{l(`${Math.max(.5625*t,e)}px`)}),[l],[o]);return Qo(a,i),[a,r]},fV={Mode:function(){const{t}=Ii("QuickWorldCreationRoute.Mode"),n=u(),a=sV(yg.CREATIVE,Rm.NORMAL);return e.createElement(NO,{title:t(".title"),screenAnalyticsId:"QuickWorldCreationMode",gamepadAlias:"quick-world-creation-route-mode",delegateByAlias:lV},(()=>e.createElement(e.Fragment,null,e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}),e.createElement(iV,null),e.createElement(ys,{delegateFocusByAlias:oV},e.createElement(UE,{maxWidth:96,centerContentVertically:!0},e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:1,narrowSize:0}),e.createElement(UE.Column,{wideSize:5,narrowSize:4},e.createElement(uV,{gamepadAlias:lV,title:t(".survivalTitle"),description:t(".survivalDescription"),inputLegend:t(".survivalInputLegend"),image:ZH,onClick:()=>n.push("/quick-create-new-world/survival/difficulty"),groupIndex:1,groupSize:2})),e.createElement(UE.Column,{wideSize:5,narrowSize:4},e.createElement(uV,{title:t(".creativeTitle"),description:t(".creativeDescription"),inputLegend:t(".creativeInputLegend"),image:eV,onClick:a,groupIndex:2,groupSize:2}))))))))},Difficulty:function(){const{t}=Ii("QuickWorldCreationRoute.Difficulty"),n=Yo(48),a=e.createElement(UE,{nonFullScreen:!0,centerContentVertically:!0},e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:3,narrowSize:2},e.createElement(dV,{title:t(".peacefulTitle"),description:t(".peacefulDescription"),inputLegend:t(".createInputLegend"),image:rV,onClick:sV(yg.SURVIVAL,Rm.PEACEFUL),groupIndex:1,groupSize:4})),e.createElement(UE.Column,{wideSize:3,narrowSize:2},e.createElement(dV,{gamepadAlias:oV,title:t(".easyTitle"),description:t(".easyDescription"),inputLegend:t(".createInputLegend"),image:tV,onClick:sV(yg.SURVIVAL,Rm.EASY),groupIndex:2,groupSize:4})),e.createElement(UE.Column,{wideSize:3,narrowSize:2},e.createElement(dV,{title:t(".normalTitle"),description:t(".normalDescription"),inputLegend:t(".createInputLegend"),image:nV,onClick:sV(yg.SURVIVAL,Rm.NORMAL),groupIndex:3,groupSize:4})),e.createElement(UE.Column,{wideSize:3,narrowSize:2},e.createElement(dV,{title:t(".hardTitle"),description:t(".hardDescription"),inputLegend:t(".createInputLegend"),image:aV,onClick:sV(yg.SURVIVAL,Rm.HARD),groupIndex:4,groupSize:4})))),r=e.createElement(UE,{nonFullScreen:!0,centerContentVertically:!0},e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:12,narrowSize:8},e.createElement(mV,{title:t(".peacefulTitle"),description:t(".peacefulDescription"),inputLegend:t(".createInputLegend"),image:rV,onClick:sV(yg.SURVIVAL,Rm.PEACEFUL),groupIndex:1,groupSize:4}),e.createElement(mV,{gamepadAlias:oV,title:t(".easyTitle"),description:t(".easyDescription"),inputLegend:t(".createInputLegend"),image:tV,onClick:sV(yg.SURVIVAL,Rm.EASY),groupIndex:2,groupSize:4}),e.createElement(mV,{title:t(".normalTitle"),description:t(".normalDescription"),inputLegend:t(".createInputLegend"),image:nV,onClick:sV(yg.SURVIVAL,Rm.NORMAL),groupIndex:3,groupSize:4}),e.createElement(mV,{title:t(".hardTitle"),description:t(".hardDescription"),inputLegend:t(".createInputLegend"),image:aV,onClick:sV(yg.SURVIVAL,Rm.HARD),groupIndex:4,groupSize:4}))));return e.createElement(NO,{title:t(".title"),screenAnalyticsId:"QuickWorldCreationMode",gamepadAlias:"quick-world-creation-route-difficulty",delegateByAlias:oV},(()=>e.createElement(e.Fragment,null,e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}),e.createElement(iV,null),e.createElement(ys,{delegateFocusByAlias:oV},e.createElement(Fl,{data:n},(e=>e?r:a))))))},TouchControlSelection:function(){const{mode:t,difficulty:n}=Vr(),a=cV(parseInt(t,10),parseInt(n,10));return e.createElement(Zz,{startWorld:a})}},gV=e=>`url(${e}?filtering=point)`,EV=n.p+"assets/externalLink-0e493.png",hV=n.p+"assets/privacy_safety_help_qr-c5392.png",bV="ufbEn",vV="https://aka.ms/RealmsSafety";function FV({addExtraSpace:n,onClose:a,children:r,isBrowserFriendly:l}){const{t:o}=Ii("PrivacyAndOnlineSafetyModal"),i=(0,t.useSharedFacet)(uf),c="privacy-and-online-safety-try-again-button",s=(0,t.useFacetCallback)((e=>()=>{e.openLink(Wg.RealmsSafetyPage)}),[],[(0,t.useSharedFacet)(Ug)]),u=(0,t.useFacetCallback)((e=>()=>{e.checkClubAndMultiplayerPermissions()}),[],[i]),d=(0,t.useFacetWrap)(n);return e.createElement(Ld,{defaultFocusAlias:c},e.createElement(Ld.Header,{onClose:a},o(".header")),e.createElement(Ld.Content,null,e.createElement("div",{className:"IveWW"},e.createElement(t.Mount,{when:l,condition:!1},e.createElement("div",{className:"zo5W7"},e.createElement(Rc,{src:hV,className:"HC86T"}))),e.createElement("div",{className:"L115_"},r,e.createElement("div",{className:bV},e.createElement(t.Mount,{when:l},e.createElement(zs,{type:"captionLong"},e.createElement(WS,{onClick:s,gamepadIndex:1,withUnderlinePolyfill:!0},vV))),e.createElement(t.Mount,{when:l,condition:!1},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:d},e.createElement(Yc,{size:4})),e.createElement(zs,{type:"captionLong"},vV))),e.createElement(Yc,{size:4}))))),e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{gamepadAlias:c,gamepadIndex:0,inputLegend:o(".tryAgain"),horizontal:!0,onClick:u},o(".tryAgain")),e.createElement(t.Mount,{when:l},e.createElement(e.Fragment,null,e.createElement(Yc,{size:4}),e.createElement(Pu,{onClick:s,imgSrc:EV,inputLegend:o(".buttonAction"),variant:"primary",horizontal:!0,narrationSuffix:o(".linkButtonHint"),gamepadIndex:1},o(".externalLinkText"))))))}const yV=_i((({closeCallback:n,isBrowserFriendly:a})=>{const{t:r}=Ii("PrivacyAndOnlineSafetyModal"),l=(0,t.useFacetMap)((e=>{const t=e?null:r(".qrCodeHint");return[r(".fromOnlineSafety"),r(".toAccessRealms"),r(".multiplayerPermissionMessage"),t].join(" . ")}),[r],[a]);return e.createElement(FV,{onClose:n,isBrowserFriendly:a},e.createElement(Ld.Paragraphs,{gamepadIndex:0,spaceBetweenParagraphs:0,narrationText:l},e.createElement(zs,{type:"captionLong"},r(".fromOnlineSafety")),e.createElement(zs,{type:"captionLong"},r(".toAccessRealms")),e.createElement(zs,{type:"captionLong"},r(".multiplayerPermissionMessage"))))})),SV=_i((({closeCallback:n,isBrowserFriendly:a})=>{const{t:r}=Ii("PrivacyAndOnlineSafetyModal"),l=(0,t.useFacetMap)((e=>{const t=e?null:r(".qrCodeHint");return[r(".fromOnlineSafety"),r(".toAccessRealmsStories"),r(".clubPermissionMessage"),t].join(" . ")}),[r],[a]);return e.createElement(FV,{onClose:n,isBrowserFriendly:a},e.createElement(Ld.Paragraphs,{gamepadIndex:0,spaceBetweenParagraphs:0,narrationText:l},e.createElement(zs,{type:"captionLong"},r(".fromOnlineSafety")),e.createElement(zs,{type:"captionLong"},r(".toAccessRealmsStories")),e.createElement(zs,{type:"captionLong"},r(".clubPermissionMessage"))))})),CV=_i((({closeCallback:n,isBrowserFriendly:a})=>{const{t:r}=Ii("PrivacyAndOnlineSafetyModal"),l=(0,t.useFacetMap)((e=>{const t=e?null:r(".qrCodeHint");return[r(".fromOnlineSafety"),r(".toAccessRealmsNumbered"),r(".multiplayerPermissionMessage"),r(".toAccessRealmsStoriesNumbered"),r(".clubPermissionMessage"),t].join(" . ")}),[r],[a]);return e.createElement(FV,{addExtraSpace:!0,onClose:n,isBrowserFriendly:a},e.createElement(Ld.Paragraphs,{gamepadIndex:0,spaceBetweenParagraphs:0,narrationText:l},e.createElement(zs,{type:"captionLong"},r(".fromOnlineSafety")),e.createElement(zs,{type:"captionLong"},r(".toAccessRealmsNumbered")),e.createElement("div",{className:bV},e.createElement(zs,{type:"captionLong"},r(".multiplayerPermissionMessage"))),e.createElement(Yc,{size:4}),e.createElement(zs,{type:"captionLong"},r(".toAccessRealmsStoriesNumbered")),e.createElement("div",{className:bV},e.createElement(zs,{type:"captionLong"},r(".clubPermissionMessage")))))}));function MV({closeCallback:n}){const a=(0,t.useSharedFacet)(uf),r=(0,t.useSharedFacet)(el),l=(0,t.useFacetMap)((e=>!e.getMultiplayerCheckResult&&e.getClubCheckResult),[],[a]),o=(0,t.useFacetMap)((e=>!e.getClubCheckResult&&e.getMultiplayerCheckResult),[],[a]),i=(0,t.useFacetMap)((e=>!e.getClubCheckResult&&!e.getMultiplayerCheckResult),[],[a]),c=(0,t.useFacetMap)((({platform:e})=>(e=>e===Ve.GOOGLE||e===Ve.IOS||e===Ve.MACOS||e===Ve.UWP||e===Ve.WIN32)(e)),[],[r]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:i},e.createElement(CV.Component,{closeCallback:n,isBrowserFriendly:c})),e.createElement(t.Mount,{when:o},e.createElement(SV.Component,{closeCallback:n,isBrowserFriendly:c})),e.createElement(t.Mount,{when:l},e.createElement(yV.Component,{closeCallback:n,isBrowserFriendly:c})))}var wV;function kV(){const n=m(),a=f(),r=u(),l=d(),o=(0,t.useSharedFacet)(Xf),i=(0,t.useSharedFacet)(pf),c=(0,t.useSharedFacet)(Ef),[s,p]=(0,t.useFacetState)(wV.Enter),g=(0,t.useFacetMap)(((e,t,n)=>t&&e==wV.Initializing&&!n.isFetchingRealmWorld&&!n.isRealmWorldValid),[],[s,l,i]),E=(0,t.useFacetMap)(((e,t,n)=>t&&e==wV.FetchSettings&&(n.currentFetchState===Tg.FetchFailed||n.currentFetchState===Tg.InternalError)),[],[s,l,o]),h=(0,t.useFacetMap)(((e,t,n)=>t&&e==wV.FetchSettings&&n.currentFetchState===Tg.RateLimit),[],[s,l,o]),b=(0,t.useFacetMap)(((e,t,n,a,r)=>t&&e!=wV.DataReady&&!n&&!a&&!r),[],[s,l,g,E,h]),v=(0,t.useFacetMap)((e=>e.getClubCheckResult&&e.getMultiplayerCheckResult),[],[(0,t.useSharedFacet)(uf)]),F=(0,t.useFacetMap)(((e,t,n)=>t&&e==wV.DataReady&&!n),[],[s,l,v]),y=(0,e.useCallback)((()=>{r.goBack()}),[r]),S=(0,t.useSharedFacet)(rg),C=(0,t.useFacetMap)((e=>e.screenshots),[],[S]);return(0,t.useFacetEffect)(((e,t,n,a,l,o,i,c,s,u)=>{if(n)switch(t){case wV.Enter:{if(!e.realmId)return;a.reset(),a.init(e.realmId);const t=u.get("screenshotId");if(null!=t){const e=s.find((e=>e.id===t));e&&(c.storyScreenshotSelectionFilePath=e.filePath)}p(wV.Initializing)}break;case wV.Initializing:!l.isFetchingRealmWorld&&l.isRealmWorldValid&&(a.fetchSettings(e.realmId),p(wV.FetchSettings));break;case wV.FetchSettings:o.currentFetchState===Tg.Success&&(a.clearSettingsStatus(),p(wV.DataReady));break;case wV.DataReady:i&&(p(wV.Finished),"new-story"===e.tab?r.replace(`/realms-new-story/${e.realmId}`):r.replace(`/realms-stories/${e.tab}/${e.realmId}`))}else p(wV.Enter)}),[p,r],[n,s,l,(0,t.useSharedFacet)(mf),i,o,v,c,C,a]),e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:b},e.createElement(cA,{onClickClose:y})),e.createElement(t.Mount,{when:g},e.createElement(uA.Component,{onClickClose:y})),e.createElement(t.Mount,{when:E},e.createElement(sA.Component,{onClickClose:y})),e.createElement(t.Mount,{when:h},e.createElement(mA.Component,{onClickClose:y})),e.createElement(t.Mount,{when:F},e.createElement(MV,{closeCallback:y})))}!function(e){e[e.Enter=0]="Enter",e[e.Initializing=1]="Initializing",e[e.FetchSettings=2]="FetchSettings",e[e.DataReady=3]="DataReady",e[e.Finished=4]="Finished"}(wV||(wV={}));function TV({storyComment:n}){const a=(0,t.useSharedFacet)(vf),r=(0,t.useFacetMap)((e=>e.players),[],[a]),l=(0,t.useFacetMap)((e=>e.body),[],[n]),o=(0,t.useFacetMap)((e=>e.timePosted),[],[n]),i=(0,t.useFacetMap)((e=>e.timePostedNarration),[],[n]),c=(0,t.useFacetWrap)(!0),s=(0,t.useFacetMap)((e=>e.authorXuid),[],[n]),u=(0,t.useFacetMap)(((e,t)=>{const n=om(t,(t=>t.xuid===e));return null!=n?n:pB}),[],[s,r]),d=(0,t.useFacetMap)((e=>0===e.totalLikes),[],[n]),m=(0,t.useFacetMap)((e=>{let t=3;return e||t++,t}),[],[d]);return e.createElement(OB,{body:l,timePosted:o,timePostedNarration:i,storyFeedElementCount:m,author:u,hasViewed:c,commentPostType:!0})}function xV({storyComment:n,index:a,numberOfComments:r}){const{t:l}=Ii("RealmsStories.feedPost"),o=(0,t.useSharedFacet)(pf),i=u(),c=m(),s=(0,t.useFacetMap)((e=>1===e.totalLikes?l(".totalLike",[e.totalLikes.toString()]):l(".totalLikes",[e.totalLikes.toString()])),[l],[n]),d=(0,t.useFacetMap)((e=>e.hasLiked),[],[n]),p=(0,t.useFacetMap)((e=>0===e.totalLikes),[],[n]),f=(0,t.useSharedFacet)(mf),g=(0,t.useFacetCallback)(((e,t)=>()=>{e.toggleLikeStatus!==xg.InProgress&&t.toggleLike(e.id,e.parentId)}),[],[n,f]),E=WB.useModal(),h=(0,t.useFacetMap)((e=>e.authorXuid),[],[n]),b=(0,t.useFacetMap)(((e,t)=>e===t.userXuid),[],[h,o]),v=(0,t.useFacetMap)((e=>e.ownerXuid===e.userXuid),[],[o]),F=zB.useModal(),y=(0,e.useCallback)((()=>{F.hide(),E.hide()}),[F,E]),S=(0,t.useFacetCallback)(((e,t)=>()=>{t.delete(e.id,e.parentId),y()}),[y],[n,f]),C=(0,t.useFacetMap)((e=>e.deleteStatus==xg.InputInvalid||e.deleteStatus==xg.InternalError||e.deleteStatus==xg.UploadFailed||e.deleteStatus==xg.PostingFailed),[],[n]),M=(0,t.useFacetCallback)(((e,t)=>()=>t.clearDeleteStatus(e.id)),[],[n,f]),w=HB.useModal(),k=(0,e.useCallback)((()=>{w.hide(),E.hide()}),[w,E]),T=(0,t.useFacetCallback)(((e,t)=>()=>{t.reportToClubOwner(e.id,e.parentId),k()}),[k],[n,f]),x=(0,t.useFacetMap)((e=>e.reportToClubOwnerStatus==xg.InputInvalid||e.reportToClubOwnerStatus==xg.InternalError||e.reportToClubOwnerStatus==xg.UploadFailed||e.reportToClubOwnerStatus==xg.PostingFailed),[],[n]),I=(0,t.useFacetCallback)(((e,t)=>()=>t.clearReportToClubOwnerStatus(e.id)),[],[n,f]),P=(0,t.useFacetCallback)(((e,t)=>()=>{E.hide(),i.push(`/realms-stories-report-feed-item/${rW.Comment}/${e.realmId}?postId=${t.id}`)}),[i,E],[c,n]),O=(0,t.useFacetMap)((e=>e.reportToXboxStatus),[],[n]),A=(0,t.useFacetMap)((e=>e!==xg.Idle&&e!==xg.InProgress&&e!==xg.RateLimit),[],[O]),N=(0,t.useFacetCallback)(((e,t)=>()=>{e.clearReportToXboxStatus(t.id)}),[],[f,n]),R=(0,t.useFacetMap)((e=>e.deleteStatus==xg.RateLimit||e.reportToClubOwnerStatus==xg.RateLimit||e.reportToXboxStatus==xg.RateLimit),[],[n]),L=(0,t.useFacetCallback)((e=>()=>{e.deleteStatus==xg.RateLimit&&M(),e.reportToClubOwnerStatus==xg.RateLimit&&I(),e.reportToXboxStatus==xg.RateLimit&&N()}),[M,I,N],[n]),_=(0,t.useSharedFacet)(_p);(0,t.useFacetEffect)(((e,t,n)=>{e.reportToClubOwnerStatus===xg.Success&&(t.queueSnackbar(l(".options.notify.toast")),n.clearReportToClubOwnerStatus(e.id))}),[l],[n,_,f]);const D=(0,t.useFacetMap)((e=>[l(".commentPostGroup"),l(".postGroupRole"),l(".postGroupEnumeration",[`${a+1}`,`${e}`])].join(" . ")),[a,l],[r]);return e.createElement(e.Fragment,null,e.createElement(Ps,{text:D},e.createElement(PB,{content:e.createElement(TV,{storyComment:n}),index:a,totalLikes:s,hasLiked:d,hideLikes:p,toggleLikeCallback:g,openOptionsCallback:E.show})),e.createElement(t.Mount,{when:E.isVisible},e.createElement(WB.Component,{isAuthor:b,isRealmOwner:v,isCommentOptions:!0,onClose:E.hide,onDelete:F.show,onNotify:w.show,onReport:P})),e.createElement(t.Mount,{when:F.isVisible},e.createElement(zB.Component,{onConfirm:S,onCancel:y,isCommentOptions:!0})),e.createElement(t.Mount,{when:C},e.createElement(GB.Component,{onClose:M,isCommentOptions:!0})),e.createElement(t.Mount,{when:w.isVisible},e.createElement(HB.Component,{onConfirm:T,onCancel:k,isCommentOptions:!0})),e.createElement(t.Mount,{when:x},e.createElement(KB.Component,{onClose:I})),e.createElement(t.Mount,{when:R},e.createElement(mA.Component,{onClickClose:L})),e.createElement(t.Mount,{when:A},e.createElement(JB.Component,{reportStatus:O,onClose:N})))}function IV(){const n=d(),{t:a}=Ii("RealmsStories.CommentsScreen"),{t:r}=Ii("RealmsStories.feedEvent"),l=m(),o=(0,t.useFacetMap)((e=>e.id),[],[l]),i=(0,t.useSharedFacet)(Gf),c=(0,t.useSharedFacet)(Yf),s=(0,t.useSharedFacet)(Ef),u=(0,t.useSharedFacet)(el),p=(0,t.useFacetMap)(((e,t)=>om(e.stories,(e=>e.id===decodeURIComponent(t)))),[],[i,o]),f=(0,t.useFacetMap)((e=>{var t;return null===(t=(null==e?void 0:e.commentsStatus)===Tg.InProgress)||void 0===t||t}),[],[p]),g=(0,t.useFacetMap)((e=>e?e.body:""),[],[p]),E=(0,t.useFacetMap)((e=>!!e&&(null==e?void 0:e.isEvent)&&(null==e?void 0:e.isEventLoaded)),[],[p]),h=(0,t.useFacetMap)(((e,t)=>{if(e){const e=FB(t);if(e)return"large"===e.treatmentSize?ZB.LARGE_EVENT:ZB.MEDIUM_EVENT}return ZB.STORY}),[],[E,g]),b=(0,t.useSharedFacet)(vf),v=(0,t.useFacetMap)(((e,t,n)=>{const a=[];return e&&t&&t.eventPlayerXuids.map((e=>{var t;const r=null!==(t=om(n.players,(t=>t.xuid===e)))&&void 0!==t?t:pB;a.push(r)})),a}),[],[E,p,b]),F=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.eventMetadata)&&void 0!==t?t:""}),[],[p]),y=Yo(70),S=(0,t.useFacetMap)(((e,t,n,a,l)=>{if(e){var o;const e="large"===(null!==(o=yB(t))&&void 0!==o?o:"medium")?EB:hB;return SB({eventId:t,t:r,playerData:n,maxDisplayedPlayers:a?e.narrow:e.full,eventMetadata:l})}return t}),[r],[E,g,v,y,F]),C=(0,t.useFacetMap)((e=>e.players),[],[b]),M=(0,t.useFacetMap)(((e,t,n)=>{var r;return n?a(".realmEvent"):(e&&null!==(r=om(t,(t=>t.xuid===e.authorXuid)))&&void 0!==r?r:pB).gamerTag}),[a],[p,C,E]),w=(0,t.useFacetMap)((e=>e?e.timePosted:""),[],[p]),k=(0,t.useFacetMap)(((e,t,n)=>e?fB(n):t?t.image:""),[],[E,p,g]),T=(0,t.useFacetMap)(((e,t)=>e.comments.filter((e=>e.parentId===decodeURIComponent(t)))),[],[c,o]),x=(0,t.useFacetMap)((e=>e.length),[],[T]),I=Ko(),P=(0,t.useFacetMap)((e=>e.commentInProgressBody),[],[s]),O=(0,t.useFacetCallback)((e=>t=>{e.commentInProgressBody=t}),[],[s]),A=(0,t.useSharedFacet)(mf),[N,R]=(0,t.useFacetState)(!1);(0,t.useFacetEffect)(((e,t,n,a)=>{a||n||(R(!0),e.fetchStoryComments(decodeURIComponent(t)))}),[R],[A,o,f,N]);const[L,_]=ZM(!1),D=(0,t.useFacetCallback)(((e,t,n,a)=>()=>{QM(a,t)?_.show():(n.commentInProgressBody=t,e.postComment())}),[_],[A,P,s,(0,t.useSharedFacet)(df)]);(0,t.useFacetEffect)(((e,t)=>{e.postCommentStatus===xg.Success&&(O(""),t.clearPostCommentStatus())}),[O],[c,A]);const B=(0,t.useFacetMap)(((e,t)=>e&&(t.postCommentStatus==xg.InputInvalid||t.postCommentStatus==xg.InternalError||t.postCommentStatus==xg.UploadFailed||t.postCommentStatus==xg.PostingFailed)),[],[n,c]),W=(0,t.useFacetMap)(((e,t)=>e&&t.postCommentStatus==xg.RateLimit),[],[n,c]),U=(0,t.useFacetCallback)((e=>()=>{e.clearPostCommentStatus()}),[],[A]),z=(0,t.useFacetMap)(((e,t)=>""===e||t.postCommentStatus===xg.InProgress||t.postCommentStatus===xg.Uploading),[],[P,c]),j=(0,t.useFacetUnwrap)(z),H=gr("neutral"),V=(0,t.useFacetMap)((e=>!e.isOnline),[],[u]),G=(0,t.useFacetMap)(((e,t)=>!(!e||e.commentsStatus!==Tg.InternalError&&e.commentsStatus!==Tg.FetchFailed&&e.commentsStatus!==Tg.RateLimit||t)),[],[p,V]),$=(0,t.useFacetMap)(((e,t)=>e||t),[],[V,G]),K=(0,t.useFacetCallback)(((e,t)=>()=>{e.fetchStoryComments(decodeURIComponent(t))}),[],[A,o]),X=(0,e.useRef)(null),Y=(0,t.useFacetMap)(((e,t)=>[a(".writeYourComment"),a(".inputField"),a(".enumeration",["1","2"]),e.length>0?e:a(".inputFieldHint"),t?a(".textFieldEmptyStateNarration"):""].join(" . ")),[a],[P,z]);return e.createElement(ar,{collection:VO},e.createElement(vE,null,e.createElement(NO,{title:a(".header"),gamepadAlias:"realms-stories-comments-route",screenAnalyticsId:"StoriesComments",delegateByAlias:"comments-text-box"},(()=>e.createElement(UE,null,e.createElement(t.Mount,{when:$},e.createElement(UE.Row,{gamepadIndex:0},e.createElement(Yc,{size:"narrow"===I?0:1}),e.createElement(UE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(t.Mount,{when:V},e.createElement(XD,null)),e.createElement(t.Mount,{when:G},e.createElement(qD,{onClick:K,pageName:a(".header")}))),e.createElement(Yc,{size:"narrow"===I?0:1}))),e.createElement(t.Mount,{when:_.isVisible},e.createElement(JM.Component,{onClose:_.hide})),e.createElement(t.Mount,{when:$,condition:!1},e.createElement(UE.Row,{gamepadIndex:0,className:"OiYcF"},e.createElement(UE.Column,{gamepadIndex:0,wideSize:4,narrowSize:0},e.createElement(eW,{content:S,sender:M,timestamp:w,image:k,containerType:h})),e.createElement(UE.Column,{wideSize:8,narrowSize:8,gamepadIndex:1},e.createElement(Yc,{size:2}),e.createElement(Pc,{containerRef:X,alias:"comments-text-box"},e.createElement("div",{ref:X,className:Or()("YwLqB",H.border.base)},e.createElement(t.DeferredMount,null,e.createElement(nw.WithButton,{buttonInputLegend:a(".select"),buttonText:a(".post"),buttonOnClick:D,placeholder:a(".writeYourComment"),label:"",maxLength:350,value:P,onChange:O,narrationOverride:Y,buttonDisabled:z,buttonVariant:!1===j?"primary":"secondary",buttonNarrationHint:a(".enumeration",["2","2"]),onBlur:L})))),e.createElement(kA,{loading:f,firstRowSeparatorVertical:e.createElement(Yc,{size:1}),data:T,header:e.createElement(Yc,{size:"narrow"===I?1:3}),gamepadIndex:1,columns:1,itemSeparatorVertical:e.createElement(Yc,{size:"narrow"===I?2:4}),renderItem:({itemFacet:t,index:n})=>e.createElement(xV,{storyComment:t,index:n,numberOfComments:x}),footer:e.createElement(Yc,{size:4})})))),e.createElement(wd.Space,null)))),e.createElement(t.Mount,{when:B},e.createElement(dA.Component,{onClickClose:U})),e.createElement(t.Mount,{when:W},e.createElement(mA.Component,{onClickClose:U}))))}const PV="O1z7a";function OV(){return OV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},OV.apply(this,arguments)}const AV=(t,n,a,r)=>t.map(((l,o,i)=>{let{children:c}=l,s=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(l,["children"]);return e.createElement(e.Fragment,{key:o},e.createElement(Pu,OV({gamepadIndex:n?i.length-o:o},s,{horizontal:n,narrationSuffix:a?[r(".buttonEnumeration",[`${o+1}`,`${t.length}`]),s.narrationSuffix].filter(Boolean).join(" . "):s.narrationSuffix}),c),o!==i.length-1&&e.createElement(Yc,{size:2}))})),NV=({title:t,narrationSuffix:n,sectionRole:a="neutral80",buttonsRole:r="neutral",leftContent:l,rightContent:o,buttons:i,shouldEnumerateButtons:c,delegateFocusByAlias:s,onGoBack:u})=>{const d=Ll(),m=gr(a),p=gr(r),f="narrow"===Ko(93),{t:g}=Ii("HeroMessage"),E=(0,e.useRef)(null),h=[t,n].filter(Boolean).join(" . "),b=(0,e.useRef)(null),v=(0,e.useRef)(null);return e.createElement(Ps,{text:h},e.createElement(Pc,{containerRef:E,delegateFocusByAlias:s,delegateFocusFromMemory:!0},e.createElement("div",{ref:E,className:"ql95r",style:{marginLeft:d.left+"px",marginRight:d.right+"px",marginTop:d.top+"px",marginBottom:f?0:d.bottom+"px"}},e.createElement("div",{className:"YqX3E"},e.createElement(UE,{narrowBreakpointWidth:53},e.createElement(UE.Row,{gamepadIndex:0},e.createElement(UE.Column,{gamepadIndex:1,wideSize:f?6:7,narrowSize:3},e.createElement("div",{className:Or()(PV,"uJ4VV",m.background.base,m.border.base)},e.createElement(zs,{type:f?"header5A":"header3",align:"center"},t),e.createElement("fast-div",{className:"iZMwc"},l))),e.createElement(UE.Column,{gamepadIndex:2,wideSize:f?6:5,narrowSize:5},e.createElement("div",{className:Or()("DURQC",m.background.base)},e.createElement("div",{className:Or()("rUQta",PV,m.border.base)},o),!f&&e.createElement(Pc,{containerRef:v},e.createElement("div",{ref:v,className:Or()("YZFU6",PV,p.background.base,p.border.base)},AV(i,!1,c,g))))))))),f&&e.createElement("div",{className:Or()("sbwOK",p.background.base)},e.createElement(hc,{effect:"bevel",left:!1,right:!1}),e.createElement(Pc,{containerRef:b},e.createElement("div",{ref:b,className:"N9mIh",style:{paddingLeft:d.left+"px",paddingRight:d.right+"px",paddingBottom:d.bottom+"px"}},AV(i,!0,c,g))),e.createElement(wd.Space,{addSafeZone:!1}))),!f&&e.createElement(wd.Space,null),u&&e.createElement(xs,{onClick:u,options:{button:W.B,inputLegend:Gc.Buttons.Back.useLocalization().t(".inputLegend")}}))};NV.Content=({children:t})=>e.createElement(ys,{gamepadIndex:-1},e.createElement("div",{className:"Bp0Op"},t));const RV="An2ie",LV="u9qaf";function _V(){return _V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_V.apply(this,arguments)}const DV=(0,e.createContext)({steps:(0,t.createFacet)({initialValue:[]}),isMenu:(0,t.createFacet)({initialValue:!0}),activeStep:(0,t.createFacet)({initialValue:null}),onBackClick:()=>{},onNavigationClick:()=>{},registerStep:()=>{}}),BV=()=>(0,e.useContext)(DV),WV=({children:n,title:a,narrationSuffix:r,activePane:l,onNavigationClick:o,onBackClick:i,role:c="neutral80",headerRole:s="neutral"})=>{const u=(0,e.useRef)(null),[d,m]=(0,t.useFacetState)([]),p=(0,t.useFacetWrap)(l),f=(0,t.useFacetMap)((e=>""==e),[],[p]),g=gr(c),E=(0,t.useFacetMap)((e=>Or()("ldUqd",{xEVVZ:!1===e})),[],[f]),h=(0,e.useCallback)((e=>{m((n=>n===t.NO_VALUE||n.includes(e)?n:[...n,e]))}),[m]),b=(0,e.useMemo)((()=>({activeStep:p,steps:d,isMenu:f,headerRole:s,onNavigationClick:o,onBackClick:i,registerStep:h})),[p,f,s,o,i,h,d]),v=[a,r].filter(Boolean).join(" . ");return e.createElement(Pc,{containerRef:u},e.createElement("div",{ref:u,className:Or()("UXt21",g.background.base)},e.createElement("fast-div",{className:E},e.createElement(Ps,{text:v},e.createElement(DV.Provider,{value:b},e.createElement(Wr,{disabled:(0,t.useFacetMap)((e=>!1===e),[],[f])},e.createElement("div",{className:RV},e.createElement(jV,null,a),e.createElement(UV,null))),e.createElement(Wr,{disabled:f},e.createElement("div",{className:RV},n)))))))},UV=()=>{const{steps:n,onNavigationClick:a}=BV();return e.createElement("div",{className:"pJAxl"},e.createElement(ys,{floating:!0,delegateFocusFromMemory:!0},e.createElement("div",{className:"NgvAh"},e.createElement(t.Map,{array:n},((t,r)=>e.createElement(zV,{title:t,steps:n,index:r,onClick:a}))))))},zV=({title:n,steps:a,index:r,onClick:l})=>{const{t:o}=Ii("SlidingNavigationPane.Menu"),i=(0,t.useFacetMap)(((e,t)=>[e,o(".elementType"),o(".enumeration",[`${r+1}`,`${t.length}`])].filter(Boolean).join(" . ")),[r,o],[n,a]),c=(0,t.useFacetCallback)((e=>()=>l(e)),[l],[n]);return e.createElement(Yb,{small:!0},e.createElement(Yb.Action,{inputLegend:o(".select"),narrationText:i,onClick:c},e.createElement(Yb.Main,null,e.createElement("div",{className:"sQPyh"},e.createElement(zs,{type:"body"},n),e.createElement(Rj,null)))))},jV=({children:n,onBack:a,role:r="inherit"})=>{const{t:l}=Ii("Modal"),o=l(".backInputLegend"),i=gr(r),c=(0,t.useFacetMap)((()=>({button:W.B,inputLegend:o,disabled:!1})),[o],[]),s=(0,e.useRef)(null);return e.createElement(Ac,{containerRef:s,condition:null!=a},e.createElement("div",{ref:s,className:Or()("n4pdL",i.background.base,i.text.base,{pIxpo:null!=a})},e.createElement(hc,{effect:"specular"}),null!=a&&e.createElement(xs,{options:c,onClick:a}),e.createElement(jC,{options:{index:-2}},e.createElement("div",{className:Or()("haDng",{[LV]:null==a})},a&&e.createElement(sc,{role:r,inputLegend:o,narrationText:l(".backNarration"),onClick:a},e.createElement(Wc,null))),e.createElement(zs,{type:"body"},e.createElement(ru,null,n)),e.createElement("div",{className:Or()("eQcQq",{[LV]:null==a})}))),e.createElement("div",{className:Or()("t8vJH",i.shadow.base)}))};WV.Pane=n=>{let{children:a,title:r,titleNarrationSuffix:l,contentNarrationSuffix:o}=n,i=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,["children","title","titleNarrationSuffix","contentNarrationSuffix"]);const{activeStep:c,onBackClick:s,registerStep:u}=BV(),[d,m]=(0,t.useFacetState)(!1),p=(0,e.useRef)(!1),f=(0,e.useRef)(null),g=(0,e.useRef)(null),E=`sliding-navigation-pane_${r.toLowerCase()}`,h=`${E}_scroll-view`,b=`${E}_empty-focusable`;(0,e.useEffect)((()=>{u(r)}),[u,r]),(0,t.useFacetEffect)((e=>{let t;const n=(null==e?void 0:e.toLowerCase())===r.toLowerCase();return!0===p.current&&!1===n?t=setTimeout((()=>m(!1)),400):m(n),p.current=n,()=>{clearTimeout(t)}}),[m,r],[c]);const v=[r,l].filter(Boolean).join(" . ");return e.createElement(t.Mount,{when:d},e.createElement(e.Fragment,null,e.createElement(xs,{options:{button:W.B,inputLegend:Gc.Buttons.Back.useLocalization().t(".inputLegend")},onClick:s}),e.createElement(Ps,{text:v},e.createElement(Pc,{containerRef:g,delegateFocusFromMemory:!0},e.createElement("div",{className:"SWwM1",ref:g},e.createElement(jV,{onBack:s},r),e.createElement(Ps,{getText:()=>f.current?[_S(DS(f.current)),o].filter(Boolean).join(" . "):""},e.createElement(ys,{innerRef:f,gamepadAlias:h,emptyFocusableGamepadAlias:b,floating:!0},e.createElement("div",_V({},i,{className:"YLp7y"}),a))))))))};const HV="JIgih",VV=n.p+"assets/RealmsStoryOptIn-f47af.png",GV=n.p+"assets/promo-small-social-09075.png",$V=n.p+"assets/promo-small-members-9a075.png",KV=n.p+"assets/promo-small-time-4e542.png";let XV;var YV;!function(e){e.Default="defaultPane",e.Social="socialPane",e.Members="membersPane",e.History="historyPane"}(XV||(XV={})),function(e){e.Default="",e.Social=".learnMore.social.title",e.Members=".learnMore.members.title",e.History=".learnMore.history.title"}(YV||(YV={}));const qV={[XV.Default]:YV.Default,[XV.Social]:YV.Social,[XV.Members]:YV.Members,[XV.History]:YV.History};function QV(){const n=m(),{t:a}=Ii("RealmsStories.OptInScreen"),[r,l]=(0,t.useFacetState)(!1),o=u(),i=d(),c=(0,e.useRef)(null),s="learn-more-landmark-alias",p=`${Math.floor(1e9*Math.random())}`,f=nB(p),g=(0,e.useMemo)((()=>({"":XV.Default,[a(YV.Social)]:XV.Social,[a(YV.Members)]:XV.Members,[a(YV.History)]:XV.History})),[a]),E=(0,t.useFacetMap)((e=>{var t;return qV[null!==(t=e.detailPane)&&void 0!==t?t:XV.Default]}),[],[n]),h=(0,t.useFacetMap)((e=>e===YV.Default?"":a(e)),[a],[E]),b=(0,t.useFacetCallback)((e=>t=>{var n;const a=null!==(n=g[t])&&void 0!==n?n:XV.Default;o.replace(`/realms-story-opt-in/${a}/${e.tab}/${e.realmId}`)}),[g,o],[n]),v=(0,t.useSharedFacet)(mf),F=(0,t.useSharedFacet)(Xf),y=(0,t.useFacetMap)((e=>e.getClubCheckResult&&e.getMultiplayerCheckResult),[],[(0,t.useSharedFacet)(uf)]),S=(0,t.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[(0,t.useSharedFacet)(pf)]),C=(0,t.useFacetMap)((e=>e.currentPostState),[],[F]),M=qW.useModal(),w=(0,t.useFacetMap)(((e,t)=>e&&(t===xg.InProgress||t===xg.Uploading)),[],[i,C]),k=(0,t.useFacetMap)(((e,t)=>e&&(t===xg.InputInvalid||t===xg.InternalError||t===xg.UploadFailed||t===xg.PostingFailed)),[],[i,C]),T=(0,t.useFacetMap)(((e,t)=>e&&t===xg.RateLimit),[],[i,C]),x=(0,t.useFacetCallback)(((e,t,n)=>()=>{e.setPlayerOptInStatusAndPostWithOptInTelemetry(n.realmId,Kf.OptedIn,p,tB.OptIn_Success,t)}),[p],[v,S,n]),I=(0,t.useFacetCallback)(((e,t,n)=>()=>{e.setPlayerOptInStatusAndPostWithOptInTelemetry(n.realmId,Kf.OptedOut,p,tB.OptOut_InfoDialog,t),o.goBack()}),[o,p],[v,S,n]),P=(0,t.useFacetCallback)(((e,t)=>()=>{e.playerOptIn==Kf.OptedIn&&(t||f(tB.OptIn_BadAccountSettings),l(!0))}),[l,f],[F,y]),O=(0,t.useFacetCallback)((e=>()=>{l(!1),"new-story"===e.tab?o.replace(`/realms-new-story/${e.realmId}`):o.replace(`/realms-stories/feed/${e.realmId}`)}),[o,l],[n]),A=(0,t.useFacetCallback)((e=>()=>{e.clearSettingsStatus(),o.goBack()}),[o],[v]);(0,t.useFacetEffect)(((e,t,n)=>{e&&t===xg.Success&&(n.clearSettingsStatus(),P())}),[P],[i,C,v]);const N=(0,t.useFacetCallback)((e=>()=>{e===YV.Default&&(f(tB.BackOut_InfoDialog),o.goBack())}),[o,f],[E]),R=a(".learnMore.dataType"),L=a(".screen"),_=a(".title.suffix");return e.createElement(e.Fragment,null,e.createElement(ar,{collection:VO},e.createElement(NV,{onGoBack:N,buttons:[{variant:"primary",inputLegend:"Select",onClick:x,children:a(".optInButton"),narrationSuffix:a(".optInButton.hint")},{variant:"secondary",inputLegend:"Select",onClick:M.show,children:a(".maybeLaterButton")}],shouldEnumerateButtons:!0,title:a(".title"),narrationSuffix:L,delegateFocusByAlias:s,leftContent:e.createElement(t_,{src:VV,minWidth:128,minHeight:72}),rightContent:e.createElement(Pc,{alias:s,containerRef:c},e.createElement("div",{ref:c},e.createElement(WV,{title:a(".learnMore.title"),narrationSuffix:_,activePane:h,onNavigationClick:e=>{b(e),f(tB.LearnMore)},onBackClick:()=>b(YV.Default)},e.createElement(WV.Pane,{title:a(YV.Social),titleNarrationSuffix:_,contentNarrationSuffix:R},e.createElement("div",{className:HV},e.createElement(JV,{imageSrc:GV}),e.createElement(zs,{shouldNarrate:!0,type:"captionLong"},a(".learnMore.social.body.1"))),e.createElement(Yc,{size:2}),e.createElement(zs,{shouldNarrate:!0,type:"captionLong"},a(".learnMore.social.body.2"))),e.createElement(WV.Pane,{title:a(YV.Members),titleNarrationSuffix:_,contentNarrationSuffix:R},e.createElement("div",{className:HV},e.createElement(JV,{imageSrc:$V}),e.createElement(zs,{shouldNarrate:!0,type:"captionLong"},a(".learnMore.members.body.1"))),e.createElement(Yc,{size:2}),e.createElement(zs,{shouldNarrate:!0,type:"captionLong"},a(".learnMore.members.body.2"))),e.createElement(WV.Pane,{title:a(YV.History),titleNarrationSuffix:_,contentNarrationSuffix:R},e.createElement("div",{className:HV},e.createElement(JV,{imageSrc:KV}),e.createElement(zs,{shouldNarrate:!0,type:"captionLong"},a(".learnMore.history.body.1"))),e.createElement(Yc,{size:2}),e.createElement(zs,{shouldNarrate:!0,type:"captionLong"},a(".learnMore.history.body.2"))))))})),e.createElement(t.Mount,{when:r},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:y,condition:!1},e.createElement(MV,{closeCallback:()=>{l(!1)}})),e.createElement(t.Mount,{when:y,condition:!0},e.createElement(YW.Component,{onOptInCompleted:()=>O()})))),e.createElement(t.Mount,{when:w},e.createElement(cA,{onClickClose:A})),e.createElement(t.Mount,{when:k},e.createElement(sA.Component,{onClickClose:A})),e.createElement(t.Mount,{when:T},e.createElement(mA.Component,{onClickClose:A})),e.createElement(t.Mount,{when:M.isVisible},e.createElement(qW.Component,{onClose:M.hide,onOptOutCompleted:I,onOptOutCancelled:()=>f(tB.CancelOptOut_InfoDialog)})))}function JV({imageSrc:t}){const n=Xo(65);return e.createElement(t_,{src:t,minWidth:64,minHeight:36,className:n?"uguyf":"mDP0E"})}const ZV=n.p+"assets/GenericError-86c4b.png",eG=n.p+"assets/AccessDenied-4ffcb.png",tG=n.p+"assets/RealmsMissing-e89cb.png",nG=n.p+"assets/ExternalLink-eae4d.png",aG=n.p+"assets/realms_default_image-e7bc0.jpg";function rG({realm:n,onItemClick:a,index:r,count:l}){const{t:o,f:i}=Ii("RealmListItem"),c=(0,t.useFacetMap)((e=>e.world.realmName),[],[n]),s=(0,t.useFacetMap)((e=>e.world.slotName),[],[n]),u=(0,t.useFacetMap)((e=>e.isOwner?o(".yourRealm"):o(".joinedRealm")),[o],[n]),d=gr("neutral"),m=(0,t.useFacetMap)((e=>null!=e.world.lastSaved?i.formatDate(e.world.lastSaved):"-"),[i],[n]),p=(0,t.useFacetMap)(((e,t,n,a)=>[e,o(".role"),t,o(".enumeration",[`${r+1}`,`${a}`]),o(".lastPlayedNarration",[n])].join(" . ")),[o,r],[c,u,m,l]);return e.createElement(Yb,{tall:!0},e.createElement(Yb.Action,{inputLegend:o(".select"),narrationText:p,onClick:a},e.createElement(Yb.Cell,null,e.createElement("div",{className:"qOrT_"},e.createElement(Rc,{src:aG,className:Or()(d.border.base,"fVh3O"),aspectRatio:Rc.AspectRatio["16:9"]}))),e.createElement(Yb.Main,null,e.createElement(zs,{type:"body"},e.createElement(ru,null,c)),e.createElement(zs,{type:"body",variant:"dimmer"},e.createElement(ru,null,s)),e.createElement(Yc,{size:1}),e.createElement(ar,{collection:VO},e.createElement(ux,{role:"primaryTint"},u))),e.createElement(Yb.Cell,{direction:"column"},e.createElement(zs,{type:"captionShort",variant:"dimmer"},o(".lastPlayed")),e.createElement(zs,{type:"captionShort",variant:"dimmer"},m))))}function lG(){const n=u(),{t:a}=Ii("PostToRealmStoriesRoute"),r=f(),l=(0,t.useSharedFacet)(uf),o=(0,t.useSharedFacet)(Uf),i=(0,t.useFacetMap)((e=>e.realms),[],[o]),c=(0,t.useFacetCallback)(((e,t)=>a=>{n.push(`/realms-story-entry-route/new-story/${e.realms[a].world.id}?screenshotId=${t.get("screenshotId")}`)}),[n],[o,r]),s=(0,t.useFacetMap)((e=>e.state===Bf.Error),[],[o]),d=(0,t.useFacetMap)((e=>e.state!=Bf.Error&&e.state!=Bf.Loading&&0===e.realms.length),[],[o]),m=(0,t.useFacetMap)(((e,t)=>e.state!=Bf.Error&&e.state!=Bf.Loading&&0!=e.realms.length&&!t.getClubCheckResult),[],[o,l]),p=(0,t.useFacetMap)(((e,t)=>e.state!=Bf.Error&&e.state!=Bf.Loading&&0!=e.realms.length&&t.getClubCheckResult&&!t.getAllowCapturesResult),[],[o,l]),g=(0,t.useFacetMap)(((e,t,n,a)=>e||t||n||a),[],[s,d,m,p]),E=Ko(),h=(0,t.useFacetCallback)((e=>()=>{e.openLink(Wg.RealmsSafetyPage)}),[],[(0,t.useSharedFacet)(Ug)]),b=(0,e.useCallback)((()=>{n.replace("/realms-pdp")}),[n]),v=(0,t.useFacetCallback)((e=>()=>e.forceFetchRealmsList()),[],[o]);return e.createElement(NO,{screenAnalyticsId:"Post-To-Realm-Stories",gamepadAlias:"post-to-realm-stories",title:a(".title"),delegateByAlias:"post-to-realm-stories-scrollview"},(()=>e.createElement(UE,null,e.createElement(UE.Row,null,e.createElement(Fl,{data:g},(n=>n?e.createElement(e.Fragment,null,e.createElement(UE.Column,{wideSize:"tablet"===E?1:"desktop"===E?2:12,narrowSize:0}),e.createElement(UE.Column,{wideSize:"tablet"===E?10:"desktop"===E?8:12,narrowSize:8},e.createElement(ys,null,e.createElement(Yc,{size:2}),e.createElement(t.Mount,{when:s},e.createElement(GE,{autofocus:!0,title:a(".realmsCantLoad.title"),text:a(".realmsCantLoad.message"),imgSrc:ZV,buttons:[{text:a(".realmsCantLoad.button"),inputLegend:a(".select"),onClick:v,variant:"secondary"}]})),e.createElement(t.Mount,{when:d},e.createElement(GE,{autofocus:!0,title:a(".noRealmsFound.title"),imgSrc:tG,buttons:[{text:a(".noRealmsFound.button"),inputLegend:a(".select"),onClick:b,variant:"secondary"}]})),e.createElement(t.Mount,{when:m},e.createElement(GE,{autofocus:!0,title:a(".youNeedPermission.title"),text:a(".youNeedPermission.message"),imgSrc:eG,buttons:[{text:a(".youNeedPermission.button"),inputLegend:a(".select"),onClick:h,variant:"secondary",imgSrc:nG}]})),e.createElement(t.Mount,{when:p},e.createElement(GE,{autofocus:!0,title:a(".accessDenied.title"),text:a(".accessDenied.message"),imgSrc:eG,buttons:[{text:a(".accessDenied.button"),inputLegend:a(".select"),onClick:h,variant:"secondary",imgSrc:nG}]}))))):e.createElement(UE.Column,{wideSize:12,narrowSize:8},e.createElement(Y_,{data:i,header:e.createElement(Yc,{size:1}),renderItem:({itemFacet:t,index:n,listLengthFacet:a})=>e.createElement(rG,{realm:t,index:n,count:a,onItemClick:()=>{c(n)}}),footer:e.createElement(Yc,{size:2}),itemSeparator:e.createElement(Yc,{size:2})}))))),e.createElement(wd.Space,{extraSpace:e.createElement(Yc,{size:2})}))))}function oG({qrCodeSrc:n,foregroundColor:a="",backgroundColor:r=""}){const l=(0,t.useFacetWrap)(n),o=(0,t.useFacetWrap)(a),i=(0,t.useFacetWrap)(r),c=(0,t.useFacetMap)(((e,t,n)=>(e.startsWith("qr://")&&(t||(t=encodeURIComponent(io)),n||(n=encodeURIComponent(go)),e+=`?foregroundColor=${t}&backgroundColor=${n}`),e)),[],[l,o,i]);return e.createElement(Rc,{aspectRatio:{height:1,width:1},imageRendering:"pixelated",className:"zEADj",src:c})}const iG="AddFriends";function cG(){const{t:n}=Ii("AddFriendSideMenu.narration"),a=Ko(),r=(0,t.useSharedFacet)(nf),l=(0,t.useSharedFacet)(Dg),o=(0,t.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,"")}),[],[r,l]);o();const i=UP(),c=(0,t.useFacetMap)((e=>{let t="";return e&&(""!=e.data.xblName&&(t=e.data.xblName),""!=e.data.platformName&&(t=e.data.platformName),""!=e.data.offlineName&&(t=e.data.offlineName)),[t,null!=e?e.data.realName:null,n(".group")].join(" . ")}),[n],[i]);return e.createElement(ys,{floating:!0},e.createElement("div",{className:""+("desktop"===a?"qCwOF":"")},e.createElement(vv,{narrationPrefix:c},e.createElement(sG,null))))}function sG(){const{t:n}=Ii("AddFriendSideMenu"),{t:a}=Ii("AddFriendSideMenu.narration"),r=UP(),l=LS(),o=(0,t.useSharedFacet)(Am),i=(0,t.useSharedFacet)(ug),c=(0,t.useSharedFacet)(_p),s=(0,t.useSharedFacet)(el),u=(0,t.useFacetMap)((e=>{if(e){if(""!=e.data.xblName)return e.data.xblName;if(""!=e.data.platformName)return e.data.platformName;if(""!=e.data.offlineName)return e.data.offlineName}return""}),[],[r]),d=(0,t.useFacetCallback)(((e,t,a,r)=>()=>{null!=e&&(e.state.xblState||e.state.platformState)&&(t.copyToClipboard(r),a.queueSnackbar(n(".gamertagCopied"))),l({button:"CopyGamertag",screen:iG})}),[n,l],[r,o,c,u]),m=(0,t.useFacetMap)((e=>e.isShareSupported),[],[i]),p=(0,t.useFacetMap)((e=>!RM(e.platform)),[],[s]),f=(0,t.useFacetCallback)(((e,t,a)=>()=>{e.share(a,n(".shareText"),null!=t?t.data.url:""),l({button:"ShareProfile",screen:iG})}),[n,l],[i,r,u]),g=(0,t.useFacetMap)(((e,t)=>a(".QRHint",[t])),[a],[r,u]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>null!=e&&e.state.xblState===ef.Loaded),[],[r])},e.createElement(e.Fragment,null,e.createElement(vv.Item,null,e.createElement(vv.ItemMain,null,e.createElement(ic.Maybe,{classNameFocused:ji,className:"RbtL1",isInteractive:ta(),narrationText:g},e.createElement(zi,null),e.createElement(oG,{qrCodeSrc:(0,t.useFacetMap)((e=>null!=e?e.data.qrCode:""),[],[r])})))),e.createElement(Yc,{size:2}),e.createElement(vv.Item,null,e.createElement(zs,{type:"header5B",align:"center"},(0,t.useFacetMap)(((e,t)=>t),[],[r,u])),e.createElement(zs,{type:"captionShort",variant:"dimmer",align:"center"},(0,t.useFacetMap)((e=>null!=e?e.data.realName:""),[],[r]))))),e.createElement(Yc,{size:1}),e.createElement(t.Mount,{when:m},e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement(vv.Item,null,e.createElement(Pu,{inputLegend:n(".shareButton"),variant:"hero",linebreak:!0,narrationSuffix:[a(".buttonSiblings",["1","2"]),n(".shareButtonHint")].join(" . "),onClick:f},n(".shareButton"))))),e.createElement(t.Mount,{when:p},e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement(vv.Item,null,e.createElement(Pu,{inputLegend:n(".copyGamertagButton"),narrationSuffix:[a(".buttonSiblings",["2","2"]),n(".copyGamertagButton")].join(" . "),variant:"secondary",linebreak:!0,onClick:d},n(".copyGamertagButton"))))))}const uG=n.p+"assets/qr-code-icon-cdeea.png",dG="searchByGamertag";function mG({searchQuery:n,onSearchQueryChange:a}){const{t:r}=Ii("AddFriendSearchByGamertag"),{t:l}=Ii("AddFriendSearchByGamertag.narration"),o=gr("neutral"),i=(0,t.useFacetMap)((e=>e?[l(".searchBar"),e,l(".searchGamertagHint")].join(" . "):[l(".searchBar"),l(".searchGamertagHint")].join(" . ")),[l],[n]),c=(0,t.useFacetWrap)(!1),s=ve();return(0,e.useEffect)((()=>{requestAnimationFrame((()=>{s(dG)}))}),[s]),e.createElement("div",null,e.createElement(du,{className:Or()("bydU_",o.border.base,o.background.base)},e.createElement(pu,{disabled:!0},r(".searchGamertagDescription")),e.createElement(Yc,{size:2}),e.createElement("div",{className:"XTqtC"},e.createElement(cu,{gamepadAlias:dG,narrationText:i,placeholderIcon:iu.MagnifyingGlass,placeholder:r(".searchGamertag"),gamepadIndex:0,value:n,"data-testid":r(".searchGamertag"),onChange:a}),e.createElement(t.Mount,{when:c},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(DE.Divider,null),e.createElement(Yc,{size:2}),e.createElement("div",{className:"i3br0"},e.createElement(Pu,{variant:"secondary",imgSrc:uG,inputLegend:r(".search"),narrationPrefix:l(".searchByQR")}))))),e.createElement(hc,{effect:"bevel"})))}let pG;function fG({title:n,players:a,accordionId:r,scrollViewRef:l,position:o,expandedDefaultState:i=!1,collapsible:c=!0,addFriendLocation:s,profileEntryPoint:u}){const{t:d}=Ii("AddFriendAccordion"),{t:m}=Ii("AddFriendAccordion.narration"),p=LS(),f=d(`.${n}`),g=(0,t.useFacetMap)((e=>e.length),[],[a]),[E,h]=(0,t.useFacetState)(0),b=(0,t.useFacetMap)(((e,t)=>e.slice(0,t)),[],[a,E]),v=(0,t.useFacetMap)(((e,t)=>e.length<=t),[],[a,E]),F=ve(),y=(0,e.useCallback)(((e=!1)=>{h((e=>e===t.NO_VALUE?e:e+5)),!1===e&&p({button:"LoadMoreResults",screen:iG})}),[h,p]);(0,e.useEffect)((()=>{y(!0)}),[y]);const S=(0,e.useRef)(null),C=at(),M=(0,t.useFacetCallback)((e=>()=>{F(r),e&&l&&l.current&&S.current&&(l.current.scrollTop=S.current.offsetTop+8),p({button:"BackToTop",screen:iG})}),[r,F,l,p],[C]),w=(0,t.useFacetMap)((e=>{const t=[m(".enumeration",[`${o[0]}`,`${o[1]}`])];return e.length>0?t.push(m(`.${n}Suggestions`,[`${e.length}`])):t.push(m(".noSuggestionsFound"),m(`.noSuggestionsMessage${n}`)),t.join(" . ")}),[o,m,n],[a]),k=(0,t.useFacetMap)((e=>e.length>5),[],[a]),T=(0,t.useFacetMap)((e=>0===e.length),[],[a]);return e.createElement("div",{ref:S,id:r},e.createElement(Yc,{size:2}),e.createElement(ox,{label:f,count:n!=pG.recommendedFriends?g:void 0,gamepadIndex:0,expandedDefaultState:i,narrationHint:w,onExpandNarrationHint:d(".genericOnExpandNarrationHint"),gamepadAlias:r,alwaysShowHint:!0,collapsible:c},e.createElement("div",{className:"C15if"},e.createElement(t.Mount,{when:T,condition:!1},e.createElement(t.Map,{array:b},((t,n)=>e.createElement(gG,{player:t,accordionId:r,index:n,visiblePlayers:b,addFriendLocation:s,profileEntryPoint:u})))),e.createElement(t.Mount,{when:T,condition:!0},e.createElement(EG,{accordionType:n})),e.createElement(t.Mount,{when:k},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement("div",{className:"IsVhy"},e.createElement(Pu,{gamepadIndex:2,horizontal:!0,narrationSuffix:m(".enumeration",["1","2"]),inputLegend:d(".backToTop"),onClick:()=>{M()}},d(".backToTop")),e.createElement(YS.ButtonSpacing,null),e.createElement(Pu,{gamepadIndex:3,horizontal:!0,inputLegend:d(".loadMoreResults"),narrationSuffix:m(".enumeration",["2","2"]),onClick:()=>{y(!1)},gamepadAlias:r+"LoadMore",disabled:v},d(".loadMoreResults"))))))))}function gG({player:n,accordionId:a,index:r,visiblePlayers:l,addFriendLocation:o,profileEntryPoint:i}){const c=LS(),[s,u]=(0,t.useFacetState)(!1);(0,t.useFacetEffect)((e=>u(e.isFollowedByMe)),[u],[n]);const d=(0,t.useFacetMap)((e=>function(e,t){return e.gamertag+e.xuid+t}(e,a)),[a],[n]),m=ve(),p=(0,t.useFacetMap)((e=>e.length),[],[l]),f=(0,t.useFacetCallback)(((e,t)=>()=>{const n=5*(Math.ceil(e.length/5)-1);r===n&&e.length>5&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{m(t)}))}))}),[m,r],[l,d]);(0,e.useEffect)((()=>{f()}),[f]);const g=(0,t.useFacetCallback)((()=>()=>{u(!0),c({button:"AddFriend",screen:iG})}),[u,c],[]),E=(0,t.useFacetMap)(((e,t,n)=>{let a="add-friend";return(null==n?void 0:n.data.xuid)===e.xuid&&(a="self"),(e.isFollowedByMe||t)&&(a=e.isFollowingMe?"added-mutual":"added-not-mutual"),{gamerIcon:e.gamerIcon,gamerTag:e.gamertag,xuid:e.xuid,variant:a,location:o}}),[o],[n,s,UP()]);return e.createElement(bP,{item:E,index:r,gamepadAlias:d,onAdditionalActionClick:g,listLength:p,profileEntryPoint:i})}function EG({accordionType:t}){const{t:n}=Ii("AddFriendAccordionEmptyPanel"),a=gr("neutral80");return e.createElement(du,{compact:!0,className:Or()(a.border.base,a.background.base,"p6FFj")},e.createElement(Yc,{size:3}),e.createElement(zs,{type:"body",align:"center"},n(".noSuggestionsFound")),e.createElement(Yc,{size:4}),e.createElement(zs,{type:"captionShort",variant:"dimmer",align:"center"},n(`.${t}`)),e.createElement(Yc,{size:3}))}!function(e){e.recommendedFriends="recommendedFriends",e.recentlyPlayedWith="recentlyPlayedWith",e.followers="followers",e.gamertagSearch="gamertagSearch"}(pG||(pG={}));const hG=n.p+"assets/external-link-b22bb.png",bG=n.p+"assets/search-error-image-32029.png",vG=n.p+"assets/parental-control-block-image-c827b.png",FG=n.p+"assets/blocked-adding-friends-image-f34cf.png",yG=n.p+"assets/load-error-image-8fa35.png",SG="KsiYT",CG="Q6j5_";let MG;function wG({errorType:n}){const a=(0,t.useFacetWrap)(n),{t:r}=Ii("AddFriendError"),l=(0,t.useFacetCallback)((e=>()=>{e.openLink(Wg.ParentPermissionHelpPage)}),[],[(0,t.useSharedFacet)(Ug)]),o=fh({wide:8,narrow:6,width:260});return e.createElement(Fl,{data:a},(t=>{switch(t){case MG.LoadError:return e.createElement(GE,{title:r(".loadErrorTitle"),text:r(".loadErrorMessage"),buttons:[{text:r(".tryAgain"),onClick:()=>{}}],imgSrc:yG,imgClass:o?SG:CG});case MG.ParentalControlError:return e.createElement(GE,{title:r(".parentalControlBlockTitle"),text:r(".parentalControlBlockMessage"),buttons:[{imgSrc:hG,text:r(".learnMore"),onClick:l}],imgSrc:vG,imgClass:o?SG:CG});case MG.BlockedAddingFriendsError:return e.createElement(GE,{title:r(".blockedAddingFriendsTitle"),text:r(".blockedAddingFriendsMessage"),buttons:[{imgSrc:hG,text:r(".learnMore"),onClick:l}],imgSrc:FG,imgClass:CG});case MG.SearchError:return e.createElement(GE,{title:r(".searchErrorTitle"),text:r(".searchErrorMessage"),imgSrc:bG,imgClass:CG});default:return e.createElement("div",null)}}))}!function(e){e[e.NoError=-1]="NoError",e[e.SearchError=0]="SearchError",e[e.LoadError=1]="LoadError",e[e.ParentalControlError=2]="ParentalControlError",e[e.BlockedAddingFriendsError=3]="BlockedAddingFriendsError"}(MG||(MG={}));const kG={columnsContainer:"DnCO_",spinnerContainer:"winnS"};function TG(){const{t:n}=Ii("AddFriendRoute"),a=(0,t.useSharedFacet)(Zf),r=(0,t.useSharedFacet)(Jf),l=(0,t.useSharedFacet)(lp),o=(0,t.useSharedFacet)(pp),i=(0,t.useFacetMap)((e=>e.playerList),[],[a]),c=(0,t.useFacetMap)((e=>e.playerList),[],[r]),s=(0,t.useFacetMap)((e=>e.playerList),[],[l]),u=(0,t.useFacetMap)((e=>e.searchResults),[],[o]),d=(0,e.useRef)(null),[m,p]=(0,t.useFacetState)(""),[f,g]=(0,t.useFacetState)(!1),E=(0,e.useRef)(null),h=(0,t.useFacetCallback)((e=>t=>{g(!0),p(t),E.current&&clearTimeout(E.current),E.current=setTimeout((()=>{e.search(t),E.current=null,g(!1)}),500)}),[E,p,g],[o]),b=(0,t.useFacetMap)(((e,t)=>e.isLoading||t),[],[o,f]),v=(0,t.useFacetMap)(((e,t,n)=>e.length>=3||t.searchResultsOverride||n),[],[m,o,b]),F=(0,t.useFacetMap)(((e,t,n)=>e.isLoading||t.isLoading||n.isLoading),[],[a,r,l]),y=[{title:pG.recommendedFriends,players:i,accordionId:"recommendedFriendsAccordionId",expandedDefaultState:!0,location:lf.ADDFRIENDS_RECOMMENDEDFRIENDS,profileEntryPoint:tf.AddFriends_RecommendedFriends},{title:pG.recentlyPlayedWith,players:c,accordionId:"recentlyPlayedWithAccordionId",expandedDefaultState:!1,location:lf.ADDFRIENDS_RECENTLYPLAYEDWITH,profileEntryPoint:tf.AddFriends_RecentlyPlayedWith},{title:pG.followers,players:s,accordionId:"followersAccordionId",expandedDefaultState:!1,location:lf.ADDFRIENDS_FOLLOWERS,profileEntryPoint:tf.AddFriends_Followers}],S=e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:F,condition:!1},e.createElement(e.Fragment,null,y.map(((t,n)=>e.createElement(fG,{key:t.title,title:t.title,players:t.players,accordionId:t.accordionId,scrollViewRef:d,position:[n+1,y.length],expandedDefaultState:t.expandedDefaultState,addFriendLocation:t.location,profileEntryPoint:t.profileEntryPoint}))))),e.createElement(t.Mount,{when:F,condition:!0},e.createElement("div",{className:kG.spinnerContainer},e.createElement(vs,null)))),C=(0,t.useFacetMap)((e=>e.xboxAPICallResult===Ig.Success),[],[o]),{narrateText:M}=Fs(),w=(0,e.useRef)(!1),k=(0,e.useRef)(!1),T=(0,t.useFacetMap)(((e,t,n)=>e?"loading":t?0===n.length?"no-results":"results":"API-error"),[],[b,C,u]);(0,t.useFacetEffect)(((e,t,a)=>{if(t.length>=3||a.searchResultsOverride)switch(e){case"API-error":k.current||M(`${n(".searchCantLoad")} . ${n(".error")} . ${n(".unknownError")}`),k.current=!0,w.current=!1;break;case"no-results":w.current||M(`${n(".noGamertagFound")} . ${n(".emptyState")} . ${n(".refineSearch")}`),w.current=!0,k.current=!1;break;case"results":k.current=!1,w.current=!1}}),[M,n],[T,m,o]);const x=e.createElement(Fl,{data:T},(t=>{switch(t){case"loading":return e.createElement("div",{className:kG.spinnerContainer},e.createElement(vs,null));case"API-error":return e.createElement("div",null,e.createElement(Yc,{size:2}),e.createElement(wG,{errorType:MG.LoadError}));case"no-results":return e.createElement("div",null,e.createElement(Yc,{size:2}),e.createElement(wG,{errorType:MG.SearchError}));default:return e.createElement(fG,{title:pG.gamertagSearch,players:u,accordionId:"gamertagSearchAccordionId",scrollViewRef:d,position:[1,1],expandedDefaultState:!0,addFriendLocation:lf.ADDFRIENDS_SEARCH,profileEntryPoint:tf.AddFriends_Search,collapsible:!1})}})),I=(0,t.useSharedFacet)(Dg),P=(0,t.useFacetMap)((e=>e.userPermissions.addFriends.denyReasons.includes(Lg.XboxLive_Parental)),[],[(0,t.useSharedFacet)(Dg)]),O=(0,t.useFacetMap)(((e,t)=>t?MG.ParentalControlError:e.userPermissions.addFriends.allowed?MG.NoError:MG.BlockedAddingFriendsError),[],[I,P]),A=ve(),N=Ko(),R=e.createElement(e.Fragment,null,e.createElement(UE,{narrowBreakpointWidth:102},e.createElement(Yc,{size:2}),e.createElement(UE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement("div",{className:kG.columnsContainer},e.createElement(UE.Column,{gamepadIndex:0,wideSize:4,narrowSize:3},e.createElement(cG,null)),e.createElement(UE.Column,{gamepadIndex:1,wideSize:8,narrowSize:5},"desktop"===N?e.createElement(Yc,{size:2}):"",e.createElement(mG,{searchQuery:m,onSearchQueryChange:h}),e.createElement(ys,{gamepadIndex:0,innerRef:d,delegateFocusFromMemory:!0},e.createElement("div",{className:"desktop"===N?kG.desktopMainMenu:kG.mainMenu},e.createElement(Fl,{data:v},(t=>t?x:e.createElement("div",null,S))))),e.createElement(Yc,{size:4})))),e.createElement(wd.Space,null)),e.createElement(xG,{onClick:function(){A(dG)}})),L=e.createElement(UE,{narrowBreakpointWidth:102},e.createElement(Yc,{size:3}),e.createElement(UE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(UE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(wG,{errorType:O}))),e.createElement(wd.Space,null),e.createElement(Yc,{size:4})),_=(0,t.useFacetMap)((e=>e!==MG.NoError),[],[O]);return e.createElement(NO,{title:n(".header"),screenAnalyticsId:"AddFriend",gamepadAlias:"add-friend-route",delegateByAlias:"add-friend-route"},(()=>e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:_,condition:!0},L),e.createElement(t.Mount,{when:_,condition:!1},R))))}function xG({onClick:n}){const{t:a}=Ii("AddFriendRoute");return e.createElement(xs,{onClick:n,options:(0,t.useFacetMap)((e=>({disabled:!e,button:W.Y,inputLegend:a(".search")})),[a],[et()])})}const IG="PQ7oJ",PG=n.p+"assets/info-icon-4cdb8.png",OG=n.p+"assets/manage-icon-4558c.png",AG=_i((({onClose:n,menuOptions:a,onItemSelect:r,title:l})=>{const o=(0,t.useFacetWrap)(l);return e.createElement(RR,{isOpen:!0,title:o,items:a,onClose:n,onItemSelect:r})})),NG="screenshot-gallery-modal-close-button-wrapper",RG=_i((({onClose:t})=>{const{t:n}=Ii("ScreenshotGalleryInfoModal"),a=NU();return e.createElement(Ld,{defaultFocusAlias:NG},e.createElement(Ld.Header,{titlebarGamepadAlias:NG,onClose:t},n(".title")),e.createElement(Ld.Content,null,e.createElement(Fl,{data:a},(t=>e.createElement(e.Fragment,null,e.createElement("div",{className:"wOpvW"},t.icon),e.createElement(Ld.Text,{narrationText:t.narration},t.text))))))}));function LG(e,t,n){return`/screenshot-details/${e}?sort=${t}&filter=${n}`}const _G="lyc-modal-cancel",DG=_i((({deleteScreenshots:t,onClose:n,plural:a,hasShowcased:r,hasFeatured:l})=>{const{t:o}=Ii("ScreenshotGalleryRoute.deleteScreenshotsModal"),i=o(a?".messagePlural":".message"),c=[];r&&c.push(o(".showcasedMessage")),l&&c.push(o(".featuredMessage")),c.push(i);const s=c.join(" . ");return e.createElement(Ld,{onOverlayClick:n,defaultFocusAlias:_G},e.createElement(Ld.Header,{onClose:n},o(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Paragraphs,{narrationText:s},r&&e.createElement(zs,{children:o(".showcasedMessage"),type:"captionLong"}),l&&e.createElement(zs,{children:o(".featuredMessage"),type:"captionLong"}),e.createElement(zs,{children:i,type:"captionLong"}))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadIndex:0,inputLegend:o(".cancelButton"),variant:"secondary",onClick:n},o(".cancelButton")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadIndex:1,inputLegend:o(".deleteButton"),variant:"destructive",onClick:t,gamepadAlias:_G},o(".deleteButton"))))}));var BG;function WG(){const{t:n}=Ii("ScreenshotGalleryRoute"),a=(0,e.useRef)(null),r=oU(),l=(0,t.useSharedFacet)(_p),o=(0,t.useSharedFacet)(rg),i=DG.useModal(),c=AG.useModal(),s=RG.useModal(),d=u(),m=(0,t.useSharedFacet)(Dg),p=(0,e.useCallback)(((e,t,n)=>{d.push(LG(e.id,t,n))}),[d]),[g,E]=(0,t.useFacetState)(!0),[h,b]=(0,t.useFacetState)(!1),[v,F]=(0,t.useFacetState)([]),y=(0,t.useFacetCallback)(((e,t,a)=>()=>{e.deleteScreenshots(a),t.queueSnackbar(n(1===a.length?".deleteScreenshotSnack":".deleteScreenshotSnackPlural",[a.length.toString()])),i.hide(),b(!1)}),[i,b,n],[o,l,v]),S=function(e){const n=(0,t.useSharedFacet)(rg);return(0,t.useFacetMap)(((e,t)=>{const n=e.screenshots.filter((e=>e.showcased)).some((e=>t.includes(e.id)));let a=!1;const r=e.screenshots.find((e=>e.featured));return null!=r&&t.includes(r.id)&&(a=!0),{hasShowcased:n,hasFeatured:a,plural:1!==t.length}}),[],[n,e])}(v),C=(0,e.useCallback)((e=>{F(e),i.show()}),[i,F]),M=(0,t.useFacetMap)((e=>n(e?".deleteScreenshots":".screenshotGalleryHeader")),[n],[h]),w=(0,t.useFacetMap)((e=>e.isLoadingGallery),[],[o]),k=(()=>{const t=iP();return(0,e.useCallback)(((e,n,a,r,l)=>{t("ScreenshotGalleryLoaded",{profileXuid:{value:e,privacyTag:mg.EUPI},relationToCurrentUser:{value:n,privacyTag:mg.SystemMetadata},numberOfScreenshots:{value:a,privacyTag:mg.SystemMetadata},numberOfShowcased:{value:r,privacyTag:mg.SystemMetadata},hasFeatured:{value:l,privacyTag:mg.SystemMetadata}})}),[t])})();(0,t.useFacetEffect)(((e,t,n,a)=>{if(n&&!e.isLoadingGallery){const t=e.screenshots.some((e=>e.featured));k(a.currentXuid,Number(Jp.Self),e.count,e.screenshots.filter((e=>e.showcased)).length,t),E(!1)}}),[k,E],[o,f(),g,m]);const T=[{label:n(".deviceStorage"),value:BG.DeviceStorage,gamepadAlias:"screenshot-manage-menu-options-0",enumeration:n(".optionsEnumeration",["1","2"])},{label:n(".deleteScreenshotsButton"),value:BG.DeleteScreenshots,gamepadAlias:"screenshot-manage-menu-options-1",enumeration:n(".optionsEnumeration",["2","2"])}],x=(0,t.useFacetMap)((e=>e.isInGame),[],[(0,t.useSharedFacet)(wp)]),I=bE(ap),P=I?3:2,O="narrow"==Ko(),A=(0,e.useCallback)((e=>{switch(c.hide(),e){case BG.DeleteScreenshots:b(!0);break;case BG.DeviceStorage:d.push("/settings/storage")}}),[c,b,d]),N=(0,t.useFacetMap)((e=>e.undownloadedCount),[],[o]),R=(0,t.useFacetMap)(((e,t,n)=>e>0&&n&&e+t.count>t.maxScreenshots),[],[N,o,(0,t.useFacetWrap)(I)]),L=(0,t.useFacetMap)(((e,t)=>n(".galleryFullWarning",[""+(e+t.count-t.maxScreenshots)])),[n],[N,o]);return e.createElement(e.Fragment,null,e.createElement(zU,{headerText:M,showHeaderNumbers:!0,onScreenshotClicked:p,screenshotLists:r,scrollViewRef:a,isLoadingScreenshots:w,banner:e.createElement(t.Mount,{when:R},e.createElement(e.Fragment,null,e.createElement(Yc,{size:3}),e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,L),e.createElement(Yc,{size:1}),e.createElement(KS.Link,{onClick:()=>b(!0)},n(".deleteScreenshotsLink"))))),managementRowButtons:e.createElement("div",{className:Or()("UEBNp",!O&&"wdTxL")},I&&e.createElement(e.Fragment,null,e.createElement("div",{className:Or()(O?"UurP7":"ni2_l")},e.createElement(Pu,{narrationPrefix:n(".manageShowcase"),inputLegend:n(".manageShowcase"),Icon:kS.Album,narrationSuffix:n(".optionsEnumeration",["1",`${P}`]),onClick:()=>d.push("/manage-showcase"),disabled:R},n(".manageShowcase"))),e.createElement(Yc,{size:2})),e.createElement("div",{className:Or()("LAZp5",!O&&"GV5Hz")},e.createElement("div",{className:IG},e.createElement(Pu,{inputLegend:n(".info"),narrationPrefix:n(".info"),imgSrc:PG,onClick:s.show,narrationSuffix:n(".optionsEnumeration",[""+(P-1),`${P}`])})),e.createElement(t.Mount,{when:x,condition:!1},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement("div",{className:IG},e.createElement(Pu,{inputLegend:n(".moreOptions"),narrationPrefix:n(".moreOptions"),imgSrc:OG,onClick:c.show,narrationSuffix:n(".optionsEnumeration",[`${P}`,`${P}`]),"data-testid":"screenshot-gallery-route-more-options"})))))),onSubmitSelection:C,onCancelSelection:()=>b(!1),selectionType:"delete",selectionEnabled:h}),e.createElement(t.Mount,{when:c.isVisible},e.createElement(AG.Component,{onClose:c.hide,menuOptions:T,onItemSelect:A,title:n(".galleryOptions")})),e.createElement(Fl,{data:S},(n=>e.createElement(t.Mount,{when:i.isVisible},e.createElement(DG.Component,{deleteScreenshots:y,onClose:i.hide,plural:n.plural,hasShowcased:n.hasShowcased,hasFeatured:n.hasFeatured})))),e.createElement(t.Mount,{when:s.isVisible},e.createElement(RG.Component,{onClose:s.hide})))}!function(e){e[e.ManageShowcased=0]="ManageShowcased",e[e.DeviceStorage=1]="DeviceStorage",e[e.DeleteScreenshots=2]="DeleteScreenshots"}(BG||(BG={}));const UG="gXCCn",zG=_i((({onClose:t,onConfirm:n})=>{const{t:a}=Ii("ScreenshotDeleteModal");return e.createElement(Ld,null,e.createElement(Ld.Header,{onClose:t},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:a(".text")},a(".text"))),e.createElement(Ld.Buttons,{horizontal:!0},e.createElement(Pu,{horizontal:!0,inputLegend:a(".cancel"),variant:"secondary",onClick:t},a(".cancel")),e.createElement(Yc,{size:1}),e.createElement(Pu,{horizontal:!0,inputLegend:a(".delete"),variant:"destructive",onClick:n,"data-testid":"screenshotDeleteModalDeleteButton"},a(".delete"))))}));function jG(e){return`xuid=${e.xuid}&playerName=${e.playerName}&relation=${e.relation}`}function HG(){return(0,t.useFacetMap)((e=>{var t,n,a;return{xuid:null!==(t=e.get("xuid"))&&void 0!==t?t:"",playerName:null!==(n=e.get("playerName"))&&void 0!==n?n:"",relation:null!==(a=Number(e.get("relation")))&&void 0!==a?a:Jp.Unknown}}),[],[f()])}function VG(e,t,n,a,r=""){return`/player-report?gamertag=${t}&isFriend=${n?"true":"false"}`+(""===e?"":`&xuid=${e}`)+(""===a?"":`&platformId=${a}`)+(""===r?"":`&galleryScreenshotId=${r}`)}let GG;var $G;function KG({screenshot:n,index:a,length:r,onGoToIndex:l,screenshotNarrationSuffix:o,variant:i}){const{t:c}=Ii("ScreenshotDetailsSideMenu"),{t:s}=Ii("ScreenshotDetailsSideMenu.narration"),d=AG.useModal(),m=u(),p=(0,t.useSharedFacet)(ug),f=AG.useModal(),g=[{label:c(".shareOptions.shareToExternal"),value:$G.ShareToExternal,gamepadAlias:"share-menu-modal-option-1",enumeration:c(".shareOptions.enumeration",["1","2"])},{label:c(".shareOptions.postToRealmsStories"),value:$G.PostToRealmsStories,gamepadAlias:"share-menu-modal-option-2",enumeration:c(".shareOptions.enumeration",["2","2"])}],E=(0,t.useFacetCallback)(((e,t)=>n=>{f.hide(),n===$G.ShareToExternal?e.shareFile(c(".shareTitle"),c(".shareText"),t.filePath):m.push(`/post-to-realm-stories?screenshotId=${t.id}`)}),[f,m,c],[p,n]),h=(0,t.useFacetCallback)((e=>()=>{e.isShareSupported?f.show():E($G.PostToRealmsStories)}),[f,E],[p]),b=zG.useModal(),v=(0,e.useCallback)((e=>{l(e-1)}),[l]),F=(0,t.useFacetMap)((e=>e+1),[],[a]),y=gr("neutral80"),S=e.createElement(Yc,{size:3}),C=(0,t.useFacetMap)((e=>e>=2),[],[r]),M=function(){const e=bE(ap),{t:n}=Ii("ScreenshotDetailsSideMenu");return(0,t.useFacetMap)((t=>{let a=e?2:1;const r=[];return t.isInGame||(a+=1,r.push({label:n(".deviceStorage"),value:GG.DeviceStorage,gamepadAlias:"screenshot-manage-menu-options-1",enumeration:n(".optionsEnumeration",["1",a.toString()])})),r.push({label:n(".deleteScreenshot"),value:GG.DeleteScreenshot,gamepadAlias:"screenshot-manage-menu-options-2",enumeration:n(".optionsEnumeration",[`${r.length+1}`,a.toString()])}),e&&r.push({label:n(".setWorldThumbnail"),value:GG.SetWorldThumbnail,gamepadAlias:"screenshot-manage-menu-options-3",enumeration:n(".optionsEnumeration",[`${r.length+1}`,a.toString()])}),r}),[n,e],[(0,t.useSharedFacet)(wp)])}(),w=(0,t.useFacetCallback)((e=>t=>{switch(d.hide(),t){case GG.DeviceStorage:m.push("/settings/storage");break;case GG.DeleteScreenshot:b.show();break;case GG.SetWorldThumbnail:m.push(`/set-world-thumbnail/${e.id}`)}}),[d,m,b],[n]),k=(0,t.useFacetMap)((e=>{var t;return null===(t=null==e?void 0:e.loadingImage)||void 0===t||t}),[],[n]),T=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.image)&&void 0!==t?t:""}),[],[n]),x=(0,t.useFacetMap)((e=>{let t="manage"===i?3:2;return e&&(t+=2),t}),[i],[C]),I=hW.useModal(),P=(0,t.useFacetMap)(((e,t)=>`${c(".narration.fullImage")} . ${t}`),[c],[a,o]),O=(0,t.useFacetCallback)(((e,t,n)=>()=>{b.hide(),e.deleteScreenshots([n.id]),t.queueSnackbar(c(".screenshotDeleted")),m.goBack()}),[m,b,c],[(0,t.useSharedFacet)(rg),(0,t.useSharedFacet)(_p),n]);return e.createElement(e.Fragment,null,e.createElement(vv,{autofocus:!0,spacingAroundSideMenu:S},e.createElement(Fl,{data:x},(a=>e.createElement(e.Fragment,null,"manage"===i?e.createElement(XG,{showFullImageModal:I.show,showManageMenuModal:d.show,onShareButtonClicked:h,numButtons:a}):e.createElement(YG,{screenshot:n,showFullImageModal:I.show,numButtons:a.toString()}),e.createElement(t.Mount,{when:C},e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement("div",{className:Or()("IcQAj",y.bevel.base)}),e.createElement("div",{className:Or()("JYwuF",y.background.base,y.bevel.base)},e.createElement(GI,{totalPages:r,currentPage:F,onChange:v,counterStyle:"index-counter-no-border",unlockMaxWidth:!0,narrateContextOnChange:!0,narrateTotalOnChange:!1,prevNarrationSuffix:[s(".buttonRole"),s(".enumeration",[""+(a-1),a.toString()]),s(".previousScreenshotHint"),s(".moveToRightHint")].join(" . "),nextNarrationSuffix:[s(".buttonRole"),s(".enumeration",[`${a}`,a.toString()]),s(".showNextScreenshotHint")].join(" . "),triggerShortcuts:!0})))))))),e.createElement(t.Mount,{when:I.isVisible},e.createElement(hW.Component,{src:T,isLoading:k,onClose:I.hide,closeInputLegend:c(".fullImageBack"),closeNarration:c(".fullImageBack"),narrationText:P})),"manage"===i&&e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:d.isVisible},e.createElement(AG.Component,{onClose:d.hide,menuOptions:M,onItemSelect:w,title:c(".manage")})),e.createElement(t.Mount,{when:b.isVisible},e.createElement(zG.Component,{onClose:b.hide,onConfirm:O}))),e.createElement(t.Mount,{when:f.isVisible},e.createElement(AG.Component,{onClose:f.hide,menuOptions:g,onItemSelect:E,title:c(".share")})))}function XG({showFullImageModal:t,showManageMenuModal:n,onShareButtonClicked:a,numButtons:r}){const{t:l}=Ii("ScreenshotDetailsSideMenu.narration"),{t:o}=Ii("ScreenshotDetailsSideMenu");return e.createElement(e.Fragment,null,e.createElement(vv.Item,null,e.createElement(Pu,{inputLegend:o(".share"),onClick:a,variant:"primary",linebreak:!0,narrationPrefix:o(".share"),narrationSuffix:l(".enumeration",["1",r.toString()])},o(".share"))),e.createElement(Yc,{size:1}),e.createElement(vv.Item,null,e.createElement(Pu,{inputLegend:o(".fullImage"),variant:"secondary",linebreak:!0,narrationPrefix:o(".fullImage"),narrationSuffix:l(".enumeration",[""+(r-3),r.toString()]),onClick:t},o(".fullImage"))),e.createElement(Yc,{size:1}),e.createElement(vv.Item,null,e.createElement(Pu,{onClick:n,inputLegend:o(".manage"),narrationPrefix:o(".manage"),narrationSuffix:l(".enumeration",[""+(r-2),r.toString()]),variant:"secondary",linebreak:!0},o(".manage"))),e.createElement(Yc,{size:1}))}function YG({screenshot:n,showFullImageModal:a,numButtons:r}){const{t:l}=Ii("ScreenshotDetailsSideMenu.narration"),{t:o}=Ii("ScreenshotDetailsSideMenu"),i=u(),c=(0,t.useFacetCallback)(((e,t)=>()=>{const n=e.relation===Jp.TwoWayFriend||e.relation===Jp.Following;i.push(VG(e.xuid,e.playerName,n,"",t.id))}),[i],[HG(),n]);return e.createElement(vv.Item,null,e.createElement(Pu,{inputLegend:o(".fullImage"),variant:"secondary",linebreak:!0,narrationPrefix:o(".fullImage"),narrationSuffix:l(".enumeration",["1",r]),onClick:a},o(".fullImage")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:o(".report"),variant:"secondary",linebreak:!0,narrationPrefix:o(".report"),narrationSuffix:l(".enumeration",["2",r]),onClick:c},o(".report")))}function qG({title:n,screenshot:a,index:r,length:l,onGoToIndex:o,screenshotNarrationSuffix:i,variant:c}){const s=gr(),{t:u}=Ii("ScreenshotDetailsLayout"),{t:d}=Ii("ScreenshotDetailsLayout.narration"),m=bE(ap),p=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.showcased)&&void 0!==t&&t}),[],[a]),f=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.featured)&&void 0!==t&&t}),[],[a]),g=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.image)&&void 0!==t?t:""}),[],[a]),E=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.captureTimeLabel)&&void 0!==t?t:""}),[],[a]),h=(0,t.useFacetMap)(((e,t,n)=>`${d(".screenshotEnumeration",[(e+1).toString(),t.toString()])} . ${n}`),[d],[r,l,i]),b=(0,t.useFacetMap)((e=>{var t;return null===(t=null==e?void 0:e.loadingImage)||void 0===t||t}),[],[a]),v={paddingTop:Rc.aspectRatioToPercentage(Rc.AspectRatio["16:9"])},F=(0,t.useSharedFacet)(el),y=(0,t.useFacetMap)((e=>e.platform),[],[F]),S=(0,t.useFacetMap)((e=>!NM(e)),[],[y]),C=(0,t.useFacetMap)(((e,t,n)=>m&&(t||n)||e),[m],[S,p,f]);return e.createElement(NO,{title:n,screenAnalyticsId:"ScreenshotDetails",gamepadAlias:"screenshot-details"},(()=>e.createElement(Ps,{text:h},e.createElement(UE,null,e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:4,narrowSize:3},e.createElement(KG,{screenshot:a,index:r,length:l,onGoToIndex:o,screenshotNarrationSuffix:i,variant:c})),e.createElement(UE.Column,{wideSize:8,narrowSize:5},e.createElement(Yc,{size:3}),e.createElement("div",{className:Or()("lyZTw",UG,s.neutral.border.base,s.neutral80.background.base)},e.createElement(t.Mount,{when:b},e.createElement("div",{className:"hMeKn",style:v},e.createElement(vs,null))),e.createElement(t.Mount,{when:b,condition:!1},e.createElement(Rc,{className:"b08Bz",src:g,aspectRatio:Rc.AspectRatio["16:9"]}))),e.createElement(t.Mount,{when:C},e.createElement("div",{className:Or()("Q40KW",UG,s.neutral.background.base,s.neutral.border.base)},e.createElement(t.Mount,{when:S},e.createElement(zs,{variant:"dimmer",type:"body"},E)),m&&e.createElement("div",{className:Or()("jnrwH","lNtlE")},e.createElement(t.Mount,{when:p},e.createElement(kS.Friends,{role:"neutral",width:24,height:24})),e.createElement(Yc,{size:1}),e.createElement(t.Mount,{when:f},e.createElement("div",{className:Or()("qIfjV",s.primaryTint.background.base)},e.createElement(zs,{role:"noticeTint",type:"captionShort"},u(".featured")))))))))))))}function QG(e){const{t:n}=Ii("ScreenshotDetailsLayout"),{t:a}=Ii("ScreenshotDetailsLayout.narration"),r=(0,t.useSharedFacet)(el),l=(0,t.useFacetMap)((e=>e.platform),[],[r]),o=(0,t.useFacetMap)((e=>!NM(e)),[],[l]),i=(0,t.useFacetWrap)(e);return(0,t.useFacetMap)(((e,t)=>{if(null==t)return"";const r=t.captureTimeLabel,l=t.featured,o=t.showcased,i=e&&null!=r?[a(".screenshotHint",[`${r}`])]:[];return l?i.push(n(".featured")):o&&i.push(a(".showcased")),i.join(" . ")}),[a,n],[o,i])}function JG(){const{t:n}=Ii("ScreenshotDetailsRoute"),a=(0,t.useSharedFacet)(rg),r=u(),l=d(),o=m(),i=f();(0,t.useFacetEffect)(((e,t)=>{e&&t.count<=0&&r.goBack()}),[r],[l,a]);const c=(0,t.useFacetMap)((e=>e.id),[],[o]),[s,p]=(0,t.useFacetState)(wU.NewestFirst),[g,E]=(0,t.useFacetState)(kU.ShowAll);(0,t.useFacetEffect)((e=>{e.has("sort")&&e.has("filter")&&(p(Number(e.get("sort"))),E(Number(e.get("filter"))))}),[p,E],[i]);const h=function(e,n,a){return(0,t.useFacetMap)(((e,t,n)=>{let a=op(e);switch(t===wU.NewestFirst?a.sort(((e,t)=>t.captureTime-e.captureTime)):a.sort(((e,t)=>e.captureTime-t.captureTime)),n){case kU.Showcased:a=a.filter((e=>e.showcased));break;case kU.Featured:a=a.filter((e=>e.featured));break;case kU.Unmarked:a=a.filter((e=>!e.showcased&&!e.featured))}return a}),[],[e,n,a])}((0,t.useFacetMap)((e=>e.screenshots),[],[a]),s,g),b=(0,t.useFacetMap)(((e,t)=>{var n;return null!==(n=e.find((e=>e.id===t)))&&void 0!==n?n:e[0]}),[],[h,c]),v=(0,t.useFacetMap)(((e,t)=>e.indexOf(t)),[],[h,b]),F=(0,t.useFacetMap)((e=>e.length),[],[h]),y=(0,t.useFacetCallback)(((e,t,n)=>a=>{if(a>=0&&a<e.length){const l=e[a].id;r.replace(LG(l,t,n))}}),[r],[h,s,g]),S=QG(b);return e.createElement(qG,{title:n(".title"),screenshot:b,index:v,length:F,onGoToIndex:y,screenshotNarrationSuffix:S,variant:"manage"})}!function(e){e[e.DeviceStorage=1]="DeviceStorage",e[e.DeleteScreenshot=2]="DeleteScreenshot",e[e.SetWorldThumbnail=3]="SetWorldThumbnail"}(GG||(GG={})),function(e){e[e.ShareToExternal=1]="ShareToExternal",e[e.PostToRealmsStories=2]="PostToRealmsStories"}($G||($G={}));const ZG=n.p+"assets/hanger-3e72e.png",e$=n.p+"assets/options-4558c.png",t$=n.p+"assets/icon_alex-5480b.png",n$=n.p+"assets/play-7c0c9.png",a$=n.p+"assets/friends-6037f.png",r$=n.p+"assets/checkmark_square-3c7c4.png",l$="iz6nc",o$="LK0BH",i$="zJoVE",c$="EpL3l",s$="bGH5b",u$="ydd66",d$="n8N0j",m$=n.p+"assets/external_link-0e493.png";function p$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p$(Object(n),!0).forEach((function(t){g$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g$(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let E$;!function(e){e[e.RemoveFriend=0]="RemoveFriend",e[e.Block=1]="Block",e[e.Mute=2]="Mute",e[e.Report=3]="Report",e[e.ViewXboxProfile=4]="ViewXboxProfile",e[e.ShareMyProfile=5]="ShareMyProfile",e[e.SignOut=6]="SignOut",e[e.PrivacyAndSafety=7]="PrivacyAndSafety",e[e.ManageAccountXboxApp=9]="ManageAccountXboxApp"}(E$||(E$={}));const h$=_i((function({onClose:n,onShare:a,player:r}){const{t:l}=Ii("PlayerOptionsModal"),o=(0,t.useSharedFacet)(of),i=(0,t.useFacetWrap)(r),c=(0,t.useSharedFacet)(Ug),s=(0,t.useSharedFacet)(Dg),d=(0,t.useSharedFacet)(el),m=u(),p=(0,t.useSharedFacet)(wp),f=(0,t.useFacetMap)(((e,t,n,a)=>{const r=t.platform,o=BM(t.platform);let i=[];return e.relation===Jp.Self?(i=[{label:l(".shareMyProfile"),value:E$.ShareMyProfile}],r===Ve.UWP||r===Ve.XBOX||a.isInGame||i.push({label:l(".signOut"),value:E$.SignOut}),r===Ve.UWP&&i.push({label:l(".manageAccount"),value:E$.ManageAccountXboxApp,imageSource:m$}),r!==Ve.UWP&&o&&i.push({label:l(".manageXboxProfile"),value:E$.ViewXboxProfile,imageSource:m$}),o&&i.push({label:l(".privacyAndSafety"),value:E$.PrivacyAndSafety,imageSource:m$})):(i=[{label:l(".block"),value:E$.Block,isSelected:e.isBlocked,isSelectable:!0},{label:l(".mute"),value:E$.Mute,isSelected:e.isMuted,isSelectable:!0},{label:l(".report"),value:E$.Report}],!n.userPermissions.addFriends.allowed||e.relation!==Jp.TwoWayFriend&&e.relation!==Jp.Following||i.unshift({label:l(".removeFriend"),value:E$.RemoveFriend}),o&&i.push({label:l(".viewXboxProfile"),value:E$.ViewXboxProfile,imageSource:m$})),i.map(((e,t)=>f$(f$({},e),{},{gamepadAlias:`options${t}`,enumeration:l(".optionsEnumeration",[`${t+1}`,`${i.length}`])})))}),[l],[i,d,s,p]),g=(0,t.useFacetCallback)(((e,t)=>()=>e.removeFriend(t.xuid)),[],[o,i]),E=(0,t.useFacetCallback)(((e,t)=>()=>t.isBlocked?e.unblock(t.xuid):e.block(t.xuid)),[],[o,i]),h=(0,t.useFacetCallback)(((e,t)=>()=>t.isMuted?e.unmute(t.xuid):e.mute(t.xuid)),[],[o,i]),b=(0,t.useFacetCallback)((e=>()=>{const t=e.relation===Jp.TwoWayFriend||e.relation===Jp.Following;m.push(VG(e.xuid,""===e.xblName?e.platformName:e.xblName,t,e.platformId))}),[m],[i]),v=(0,t.useFacetCallback)((e=>()=>e.openLink(Wg.XboxPrivacyAndOnlineSafety)),[],[c]),F=(0,t.useFacetCallback)(((e,t)=>()=>t.openLinkWithParams(Wg.XboxAccountProfile,`?gamertag=${e.xblName}&xuid=${e.xuid}&uuid=0`)),[],[i,c]),y=(0,t.useFacetCallback)((e=>()=>{e.signOutOfMicrosoftAccount()}),[],[s]),S=(0,t.useFacetCallback)((e=>()=>{e.manageMicrosoftAccount()}),[],[s]),C=(0,e.useCallback)((()=>{a()}),[a]),M=(0,e.useCallback)((e=>{switch(e){case E$.RemoveFriend:g();break;case E$.Block:E();break;case E$.Mute:h();break;case E$.Report:b();break;case E$.ViewXboxProfile:F();break;case E$.ShareMyProfile:C();break;case E$.SignOut:y();break;case E$.PrivacyAndSafety:v();break;case E$.ManageAccountXboxApp:S()}n(e)}),[g,E,h,b,n,v,F,y,S,C]);return e.createElement(RR,{onClose:n,onItemSelect:M,isOpen:!0,title:l(".optionsTitle"),items:f})})),b$=_i((function({onClose:t}){const{t:n}=Ii("ShareCurrentPlayerProfileModal");return e.createElement(Ld,null,e.createElement(Ld.Header,{onClose:t},n(".title")),e.createElement(Ld.Content,null,e.createElement(Yc,{size:3}),e.createElement(sG,null),e.createElement(Yc,{size:3})))})),v$=n.p+"assets/IconAddPlayerGrey-565a6.png";function F$(){return F$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},F$.apply(this,arguments)}const y$=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("TOlhy",n);return e.createElement(Rc,F$({},a,{className:r,src:v$,imageRendering:"pixelated"}))},S$=_i((({onClose:t,onContinue:n})=>{const{t:a}=Ii("JoinServerWarningModal");return e.createElement(Ld,null,e.createElement(Ld.Header,{onClose:t},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:a(".text")},a(".text"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{inputLegend:a(".continue"),variant:"primary",onClick:n},a(".continue")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:a(".cancel"),variant:"secondary",onClick:t},a(".cancel"))))})),C$=n.p+"assets/screenshot_1-48404.jpg",M$=n.p+"assets/screenshot_2-7c721.jpg",w$=n.p+"assets/screenshot_3-9dd41.jpg",k$=n.p+"assets/screenshot_4-72ff9.jpg",T$=n.p+"assets/screenshot_5-5636d.jpg",x$=n.p+"assets/screenshot_6-380c0.jpg",I$=n.p+"assets/screenshot_7-6cfec.jpg",P$=n.p+"assets/screenshot_8-b5f24.jpg";function O$(e){return(0,t.useFacetMap)((e=>{const t=[C$,M$,w$,k$,T$,x$,I$,P$];let n=0;for(let t=0;t<e.length;t++)n+=e.charCodeAt(t);return t[n%t.length]}),[],[e])}const A$="player-card-options-button",N$="player-card-action-button";function R$({playerFacet:n,featuredImgSrc:a,featuredImgLoading:r}){const{t:l}=Ii("PlayerCard"),o=gr("neutral80"),i=Ko(),c=(0,t.useFacetWrap)("narrow"===i),s=h$.useModal(),d=ve(),m=b$.useModal(),p=(0,t.useSharedFacet)(Dg),g=S$.useModal(),E=u(),h=f(),b=(0,t.useFacetMap)((e=>""!=e.xblName?e.xblName:""!=e.platformName?e.platformName:e.offlineName),[],[n]),v=(0,t.useFacetMap)((e=>e.isOnline?l(".online"):l(".offline")),[l],[n]),F=(0,t.useFacetMap)((e=>""===e.realName?void 0:e.realName),[],[n]),y=(0,t.useFacetMap)(((e,t)=>null!=t?t:e),[],[v,F]),S=(0,t.useFacetMap)((e=>!(""!==e.xuid||""!==e.platformId)||"if-enabled"),[],[n]),C=e.createElement(QI,{src:(0,t.useFacetMap)((e=>""!==e.xblProfilePic?e.xblProfilePic:""!==e.platformProfilePic?e.platformProfilePic:t$),[],[n]),variant:"large",status:(0,t.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[n]),usePersonaPicRendering:S}),M=(0,t.useSharedFacet)(wp),w=(0,t.useFacetMap)(((e,t,n)=>{let a="add-friend",r=!1;switch(e.relation){case Jp.Self:a="dressing-room";break;case Jp.TwoWayFriend:a=t.userPermissions.multiplayer.allowed&&""!==e.currentGame.joinHandleId&&e.currentGame.levelId!==n.currentLevelId?"join":"friends";break;case Jp.Following:a="added";break;case Jp.Follower:case Jp.Stranger:a="add-friend",r=!t.userPermissions.addFriends.allowed}return{type:a,disabled:r}}),[],[n,p,M]),k=(0,t.useFacetMap)(((e,t)=>!!e.avatar&&!t&&e.avatarState===Ag.Success),[],[n,c]),T=e.createElement("div",{className:o$},e.createElement(Fl,{data:k},(t=>t?e.createElement(e.Fragment,null,e.createElement("div",{className:"WSUNe"}),e.createElement(Yc,{size:2})):e.createElement(e.Fragment,null,C,e.createElement(Yc,{size:2})))),e.createElement("div",{className:"KsdEj"},e.createElement(Yc,{size:1}),e.createElement(D$,{displayName:b,description:y}),e.createElement(Yc,{size:1}))),x=(0,e.useCallback)((e=>{s.hide(),e!==E$.ShareMyProfile&&d(A$)}),[s,d]),I=(0,e.useCallback)((()=>{m.hide(),d(A$)}),[m,d]),P=sP((0,t.useFacetMap)((e=>e.currentGame.joinHandleId),[],[n])),O=(0,e.useCallback)((()=>{P(),g.hide()}),[P,g]),A=(0,t.useFacetMap)(((e,t,n)=>[l(".cardNarration"),e,t,n].join(" . ")),[l],[b,F,v]),N=(0,t.useFacetCallback)((e=>()=>{E.push(fP("set-featured-screenshot",e))}),[E],[h]),R=(0,t.useFacetWrap)(bE(np)),L=(0,t.useFacetWrap)(bE(ap)),_=(0,t.useFacetWrap)(r),D=(0,t.useFacetMap)(((e,t,n,a)=>e.relation===Jp.Self&&""!==e.xuid&&t&&n&&!a),[],[n,R,L,_]),B=O$((0,t.useFacetMap)((e=>""===e.xuid?e.platformId:e.xuid),[],[n])),W=(0,t.useFacetMap)(((e,t)=>""===e?t:e),[],[(0,t.useFacetWrap)(a),B]),U=Rc.aspectRatioToPercentage(Rc.AspectRatio["16:9"]);return e.createElement(e.Fragment,null,e.createElement(ja,{role:"neutral"},e.createElement(Ps,{text:A},e.createElement(t.Mount,{when:c},e.createElement("div",{className:Or()(l$,"OM_ft",o.background.base,o.border.base)},e.createElement("div",{className:"InmKR"},T,e.createElement(Yc,{size:2}),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.relation!==Jp.Unknown),[],[n])},e.createElement(B$,{playerFacet:n,buttonsState:w,optionsClick:s.show,onShowJoinWarning:g.show}))),e.createElement("div",{className:"Qs6Fq"},e.createElement(L$,{playerFacet:n}),e.createElement(t.Mount,{when:_,condition:!1},e.createElement(Rc,{className:Or()(s$,o.border.base),src:W,imageRendering:"pixelated",aspectRatio:Rc.AspectRatio["16:9"]})),e.createElement(t.Mount,{when:_},e.createElement("div",{style:{paddingTop:U},className:Or()(s$,o.border.base)},e.createElement("div",{className:u$},e.createElement("div",{className:d$},e.createElement(vs,null))))),e.createElement(t.Mount,{when:D},e.createElement(Mv,{inputLegend:l(".setFeaturedScreenshot"),narrationText:l(".setFeaturedScreenshot"),onClick:N,"data-testid":"set-featured-image-button",className:"gInOJ"},e.createElement(kS.EditImage,null)))))),e.createElement(t.Mount,{when:c,condition:!1},e.createElement("div",{className:Or()(l$,o.background.base,o.border.base)},e.createElement("div",{className:"TJn_r"},e.createElement(t.Mount,{when:_,condition:!1},e.createElement(Rc,{className:Or()(c$,o.border.base),src:W,imageRendering:"pixelated",aspectRatio:Rc.AspectRatio["16:9"]})),e.createElement(t.Mount,{when:_},e.createElement("div",{style:{paddingTop:U},className:Or()(c$,o.border.base)},e.createElement("div",{className:u$},e.createElement("div",{className:d$},e.createElement(vs,null))))),e.createElement(L$,{playerFacet:n}),e.createElement(_$,{playerFacet:n}),e.createElement(t.Mount,{when:k},e.createElement("div",{className:"BschF"},C)),e.createElement(t.Mount,{when:D},e.createElement(Mv,{inputLegend:l(".setFeaturedScreenshot"),narrationText:[l(".setFeaturedScreenshot"),l(".buttonRole")].join(" . "),onClick:N,"data-testid":"set-featured-image-button",className:"VWtd5"},e.createElement(kS.EditImage,null)))),e.createElement(Yc,{size:2}),e.createElement("div",{className:"CmyM2"},T),e.createElement(Yc,{size:2}),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.relation!==Jp.Unknown),[],[n])},e.createElement("div",{className:"wNDjp"},e.createElement(B$,{playerFacet:n,buttonsState:w,optionsClick:s.show,onShowJoinWarning:g.show}))))),e.createElement(t.Mount,{when:s.isVisible},e.createElement(h$.Component,{player:n,onClose:x,onShare:m.show})),e.createElement(t.Mount,{when:m.isVisible},e.createElement(b$.Component,{onClose:I})),e.createElement(t.Mount,{when:g.isVisible},e.createElement(S$.Component,{onContinue:O,onClose:g.hide})))))}function L$({playerFacet:n}){const{t:a}=Ii("PlayerCard");return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.isBlocked),[],[n])},e.createElement("div",{className:i$},e.createElement(ux,{role:"destructiveTint"},a(".blocked")))),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.isMuted&&!e.isBlocked),[],[n])},e.createElement("div",{className:i$},e.createElement(ux,{role:"noticeTint"},a(".muted")))))}function _$({playerFacet:n}){const a=(0,t.useFacetMap)((e=>{const t=e.avatarState!==Ag.Success;return Or()("AtQYr",{yOAEq:t})}),[],[n]);return e.createElement(Rc,{className:a,src:(0,t.useFacetMap)((e=>e.avatar),[],[n]),imageRendering:"pixelated"})}function D$({displayName:t,description:n}){return e.createElement(e.Fragment,null,e.createElement(zs,{type:"header5B"},e.createElement(ru,null,t)),e.createElement(zs,{type:"captionShort",variant:"dimmer"},e.createElement(ru,null,n)))}function B$({buttonsState:n,playerFacet:a,optionsClick:r,onShowJoinWarning:l}){const{t:o}=Ii("PlayerCard"),i=(0,t.useSharedFacet)(of),c=(0,t.useSharedFacet)(Dg),s=u(),d=(0,t.useFacetCallback)(((e,t)=>()=>e.addFriend(t.xuid,lf.PROFILE_MAIN)),[],[i,a]),m=(0,t.useFacetMap)((e=>e.isLoggedInWithMicrosoftAccount),[],[c]),p=(0,e.useCallback)((()=>{s.push("/persona")}),[s]),f=function(e,n){const a=(0,t.useSharedFacet)(wp),r=sP((0,t.useFacetMap)((e=>e.joinHandleId),[],[e]));return(0,t.useFacetCallback)((e=>()=>{e.isInGame&&e.isInMultiplayerSession&&e.isHosting?n():r()}),[r,n],[a])}((0,t.useFacetMap)((e=>e.currentGame),[],[a]),l),g=(0,t.useFacetMap)((e=>"friends"===e.type||"added"===e.type?o(".buttonSiblings",["1","1"]):o(".buttonSiblings",["2","2"])),[o],[n]);return e.createElement(e.Fragment,null,e.createElement("div",{className:o$},e.createElement(Fl,{data:n},(({type:t,disabled:n})=>{switch(t){case"dressing-room":return e.createElement(Pu,{inputLegend:o(".dressingRoomButton"),imgSrc:ZG,horizontal:!0,onClick:p,gamepadAlias:N$,narrationSuffix:o(".buttonSiblings",["1","2"])},o(".dressingRoomButton"));case"friends":return e.createElement(W$,{narrationText:o(".friendsButton")},e.createElement(Iu,{typeVariant:"dimmer",imgSrc:a$,role:"neutral100"},o(".friendsButton")));case"join":return e.createElement(Pu,{inputLegend:o(".joinButton"),variant:"primary",imgSrc:n$,horizontal:!0,onClick:f,gamepadAlias:N$,narrationSuffix:o(".buttonSiblings",["1","2"])},o(".joinButton"));case"added":return e.createElement(W$,{narrationText:o(".addedButton")},e.createElement(Iu,{typeVariant:"dimmer",imgSrc:r$},o(".addedButton")));case"add-friend":return e.createElement(Pu,{inputLegend:o(".addFriendButton"),variant:"primary",Icon:n?y$:oP,horizontal:!0,onClick:d,disabled:n,gamepadAlias:N$,narrationSuffix:o(".buttonSiblings",["1","2"])},o(".addFriendButton"))}return e.createElement(e.Fragment,null)})),e.createElement(t.Mount,{when:m},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement("div",{className:"GeM93"},e.createElement(Pu,{inputLegend:o(".optionsButton"),narrationPrefix:o(".optionsButton"),imgSrc:e$,onClick:r,gamepadAlias:A$,narrationSuffix:g,"data-testid":"options-button"}))))))}function W$({children:t,narrationText:n}){const a=gr("neutral80");return e.createElement(ic.Maybe,{className:Or()("wJgSN",a.border.base),isInteractive:ta(),inputLegend:!1,narrationText:n,classNameFocused:ji,gamepadAlias:N$},e.createElement(zi,null),t)}const U$=n.p+"assets/achievements-17c5b.png",z$=n.p+"assets/friends-47df6.png",j$=n.p+"assets/screenshots-cc55b.png",H$=n.p+"assets/generic_error-aa906.png",V$=n.p+"assets/connection_error-01bc2.png",G$=n.p+"assets/permissions_child_account-8fad2.png",$$=n.p+"assets/permissions_adult_account-dc71d.png",K$=n.p+"assets/nothing_to_see-1107f.png",X$=n.p+"assets/gamerscore_icon-53b10.png",Y$="hfWsq",q$="_tBkt",Q$="C9yED",J$=n.p+"assets/IconBootsGrey-142a3.png";function Z$(){return Z$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Z$.apply(this,arguments)}const eK=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("Q7W1Q",n);return e.createElement(Rc,Z$({},a,{className:r,src:J$,imageRendering:"pixelated"}))},tK=n.p+"assets/IconClockGrey-ea564.png";function nK(){return nK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},nK.apply(this,arguments)}const aK=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("xqY4u",n);return e.createElement(Rc,nK({},a,{className:r,src:tK,imageRendering:"pixelated"}))},rK=n.p+"assets/IconSwordGrey-9087f.png";function lK(){return lK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},lK.apply(this,arguments)}const oK=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("bFbkg",n);return e.createElement(Rc,lK({},a,{className:r,src:rK,imageRendering:"pixelated"}))},iK=n.p+"assets/IconPickaxeGrey-cb118.png";function cK(){return cK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},cK.apply(this,arguments)}const sK=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("nP6LO",n);return e.createElement(Rc,cK({},a,{className:r,src:iK,imageRendering:"pixelated"}))},uK="zFvFr",dK=({item:n,index:a,listLength:r})=>{const{t:l}=Ii("StatListItem"),o=(0,t.useFacetMap)((e=>null==e.compareData||e.data.value>=e.compareData.value),[],[n]),i=(0,t.useFacetMap)((e=>null!=e.compareData&&e.data.value<=e.compareData.value),[],[n]),c=function(t){switch(t){case cf.Boots:return e.createElement(eK,null);case cf.Clock:return e.createElement(aK,null);case cf.Sword:return e.createElement(oK,null);case cf.Pickaxe:return e.createElement(sK,null);default:return e.createElement(e.Fragment,null)}}((0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.icon),[],[n])));return e.createElement(Yb,{gamepadIndex:a,isFocusable:!0,narrationText:(0,t.useFacetMap)(((e,t)=>[e.label,null==e.compareData?e.data.narration:l(".compareNarration",[e.data.narration,e.compareData.narration]),l(".itemNarration",[`${a+1}`,`${t}`])].join(" . ")),[a,l],[n,r])},e.createElement(Yb.Cell,{direction:"row"},e.createElement(Yc,{size:2}),e.createElement(t.Mount,{when:o},c),e.createElement(t.Mount,{when:o,condition:!1},e.createElement("div",{className:uK}))),e.createElement(Yb.Main,null,e.createElement(zs,{type:"captionShort",variant:"dimmest"},(0,t.useFacetMap)((e=>e.label),[],[n])),e.createElement("div",{className:"gQkMG"},e.createElement(zs,{type:"captionShort"},(0,t.useFacetMap)((e=>e.data.display),[],[n])),e.createElement(t.With,{data:(0,t.useFacetMap)((e=>null==e.compareData?void 0:e.compareData.display),[],[n])},(t=>e.createElement(zs,{type:"captionShort"},t)))),e.createElement(t.With,{data:(0,t.useFacetMap)((e=>{if(null!=e.compareData)return 0===e.compareData.value&&0===e.data.value?.5:e.data.value/(e.data.value+e.compareData.value)}),[],[n])},(t=>e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement(ju,{percentage:t,fillComplement:!0}))))),e.createElement(Yb.Cell,{direction:"row"},e.createElement(t.Mount,{when:i},c),e.createElement(t.Mount,{when:i,condition:!1},e.createElement("div",{className:uK})),e.createElement(Yc,{size:2})))},mK="profile-friends-list";function pK({currentProfileFacet:n,loadedProfileFacet:a,followingListFacet:r}){const{t:l}=Ii("ProfileFriendsListRoute"),o=(0,t.useFacetMap)((e=>e.state.xblState!==ef.Loaded||e.data.relation===Jp.Self?l(".headerSelf"):l(".headerOther",[`${e.data.xblName}`])),[l],[a]);(0,t.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,"")}),[],[(0,t.useSharedFacet)(nf),(0,t.useSharedFacet)(Dg)])();const i=(0,t.useFacetMap)(((e,t)=>{const n=t.state.xblState===ef.Loaded||t.state.platformState===ef.Loaded?t.data.xuid:"";return{players:e.playerList.map((e=>function(e,t){let n="add-friend";return t===e.xuid?n="self":e.isFollowedByMe&&e.isFollowingMe?n="added-mutual":e.isFollowedByMe&&(n="added-not-mutual"),{gamerIcon:e.gamerIcon,gamerTag:e.gamertag,isOnline:e.isOnline,playingOnServerId:void 0,variant:n,xuid:e.xuid,location:lf.PROFILE_FRIENDSLIST}}(e,n))),loading:e.isLoading}}),[],[r,n]);return e.createElement(NO,{title:o,screenAnalyticsId:"ProfileFriendsList",gamepadAlias:"profile-friends-list-route",delegateByAlias:mK},(()=>e.createElement(UE,{narrowBreakpointWidth:102},e.createElement(UE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(UE.Column,{gamepadIndex:0,wideSize:1,narrowSize:0}),e.createElement(UE.Column,{gamepadIndex:0,wideSize:10,narrowSize:8},e.createElement(Fl,{data:i},(t=>e.createElement(Y_,{gamepadIndex:0,header:e.createElement(Yc,{size:2}),loading:t.loading,data:t.players,gamepadAlias:mK,footer:e.createElement(e.Fragment,null,e.createElement(wd.Space,null),e.createElement(Yc,{size:2})),renderItem:t=>e.createElement(bP,{item:t.itemFacet,listLength:t.listLengthFacet,index:t.index,gamepadAlias:`profile-friends-list-item-${t.index}`,profileEntryPoint:tf.Profile_FriendsList})}))))))))}function fK(e,t){return{gamerIcon:e.xblProfilePic,gamerTag:e.xblName,isOnline:e.isOnline,playingOnServerId:void 0,variant:t?"self":"player",xuid:e.xuid}}const gK="compare-stats-player-item-0";function EK({currentProfileFacet:n,loadedProfileFacet:a,statisticsFacet:r}){const{t:l}=Ii("CompareStatsRoute");(0,t.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,t.currentPlatformId)}),[],[(0,t.useSharedFacet)(nf),(0,t.useSharedFacet)(Dg)])();const o=(0,t.useFacetMap)(((e,t)=>e.state.xblState===ef.Loaded&&t.state.xblState===ef.Loaded),[],[a,n]),i=(0,t.useFacetMap)((e=>fK(e.data,!1)),[],[a]),c=(0,t.useFacetMap)((e=>fK(e.data,!0)),[],[n]),s=(0,t.useFacetWrap)(2),u=(0,t.useFacetMap)((e=>e.data.map((e=>({label:e.label,icon:e.icon,data:{value:e.currentUserValueRaw,display:e.currentUserValueDisplay,narration:e.currentUserValueNarration},compareData:{value:e.valueRaw,display:e.valueDisplay,narration:e.valueNarration}})))),[],[r]),d=(0,t.useFacetMap)((e=>!e.loaded),[],[r]);return e.createElement(NO,{title:l(".header"),screenAnalyticsId:"CompareStats",gamepadAlias:"compare-stats-route",delegateByAlias:gK},(()=>e.createElement(UE,{narrowBreakpointWidth:102},e.createElement(UE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(UE.Column,{gamepadIndex:0,wideSize:1,narrowSize:0}),e.createElement(UE.Column,{gamepadIndex:0,wideSize:10,narrowSize:8},e.createElement(Y_,{header:e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:o},e.createElement(Ps,{text:[l(".playerItemsNarration"),l(".playerItemsListRole")].join(" . ")},e.createElement(Yc,{size:2}),e.createElement("div",{className:"bo_jd"},e.createElement(bP,{item:c,index:0,listLength:s,disabled:!0,gamepadAlias:gK,profileEntryPoint:tf.Profile_CompareStatsCurrent}),e.createElement(Yc,{size:2}),e.createElement(bP,{item:i,index:1,listLength:s,disabled:!0,gamepadAlias:"compare-stats-player-item-1",profileEntryPoint:tf.Profile_CompareStatsLoaded})),e.createElement(Yc,{size:2})))),gamepadIndex:0,data:u,gamepadAlias:"compare-stats-list",renderItem:({itemFacet:t,index:n,listLengthFacet:a})=>e.createElement(dK,{item:t,index:n,listLength:a}),loading:d,footer:e.createElement(e.Fragment,null,e.createElement(wd.Space,null),e.createElement(Yc,{size:2}))}))))))}function hK(e){return{gamerIcon:e.gamerIcon,gamerTag:e.gamertag,isOnline:e.isOnline,playingOnServerId:void 0,variant:e.isFollowedByMe?"added-mutual":"add-friend",xuid:e.xuid,location:lf.PROFILE_FOLLOWERSLIST}}const bK="profile-followers-list";function vK(){const{t:n}=Ii("ProfileFollowersListRoute"),a=(0,t.useSharedFacet)(lp),r=(0,t.useFacetMap)((e=>({players:e.playerList.map(hK),loading:e.isLoading})),[],[a]);return e.createElement(NO,{title:n(".header"),screenAnalyticsId:"ProfileFollowersList",gamepadAlias:"profile-followers-list-route",delegateByAlias:bK},(()=>e.createElement(UE,{narrowBreakpointWidth:102},e.createElement(UE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(UE.Column,{gamepadIndex:0,wideSize:1,narrowSize:0}),e.createElement(UE.Column,{gamepadIndex:0,wideSize:10,narrowSize:8},e.createElement(Fl,{data:r},(t=>e.createElement(Y_,{gamepadIndex:0,header:e.createElement(Yc,{size:2}),loading:t.loading,data:t.players,gamepadAlias:bK,footer:e.createElement(e.Fragment,null,e.createElement(wd.Space,null),e.createElement(Yc,{size:2})),renderItem:t=>e.createElement(bP,{item:t.itemFacet,listLength:t.listLengthFacet,index:t.index,gamepadAlias:`profile-followers-list-item-${t.index}`,profileEntryPoint:tf.Profile_FollowersList})}))))))))}const FK=n.p+"assets/achievements_empty-f34cf.png";function yK(){const e=(0,t.useSharedFacet)(xm),n=(0,t.useSharedFacet)(el);return(0,t.useFacetMap)(((e,t)=>AM(e.platform)||t.isPreviewBuild),[],[n,e])}function SK(e){return(0,t.useFacetMap)((e=>(e.state.xblState===ef.Loaded||e.state.platformState===ef.Loaded)&&e.data.relation===Jp.Self),[],[e])}function CK(e){return(0,t.useFacetMap)((e=>e.state.platformState===ef.Loaded&&""!==e.data.platformId),[],[e])}function MK(){const e=(0,t.useSharedFacet)(Vp);return(0,t.useFacetMap)((e=>e.loaded),[],[e])}function wK(e,n,a,r,l,o,i,c,s,u,d){return(0,t.useFacetCallback)(((e,t,n,a,r,l,o,i,c,s,u)=>()=>{const{xuid:d,platformId:m}=e;if(n.subscribeToProfile(d,m),""!==d&&t.isLoggedInWithMicrosoftAccount){a.load(d),r.load(d),l.load(d),o.load(d),i.load(d);const e=t.currentXuid===d;s&&u&&!e&&(c.loadCount(d),c.loadFeaturedScreenshot(d))}}),[],[e,c,n,a,r,l,o,i,s,u,d])}const kK=({onScreenshotSelect:n,onGoBack:a,managementRowButtons:r})=>{const{t:l}=Ii("ScreenshotPicker"),o=(0,e.useRef)(null),i=oU(),c=(0,t.useSharedFacet)(rg),s=l(".header"),u=(0,e.useCallback)((e=>{n(e)}),[n]),d=(0,t.useFacetMap)((e=>e.isLoadingGallery),[],[c]);return e.createElement(zU,{headerText:s,onScreenshotClicked:u,screenshotLists:i,scrollViewRef:o,isLoadingScreenshots:d,onGoBack:a,managementRowButtons:r})},TK="profile-overview-list",xK="profile-tabs";function IK(e){const n=u(),a=f();return(0,t.useFacetCallback)((t=>()=>{n.push(fP(e,t))}),[n,e],[a])}function PK(){return(0,t.useFacetMap)(((e,t)=>{var n,a,r,l;return t.has("xuid")?!t.has("platformId")||e.isLoggedInWithMicrosoftAccount||e.isSignInInProgress?{xuid:null!==(n=t.get("xuid"))&&void 0!==n?n:"",platformId:null!==(a=t.get("platformId"))&&void 0!==a?a:""}:{xuid:"",platformId:null!==(r=t.get("platformId"))&&void 0!==r?r:""}:t.has("platformId")?{xuid:"",platformId:null!==(l=t.get("platformId"))&&void 0!==l?l:""}:{xuid:e.currentXuid,platformId:e.currentPlatformId}}),[],[(0,t.useSharedFacet)(Dg),f()])}function OK(){const n=(0,t.useSharedFacet)(Dg),a=(0,t.useSharedFacet)(rf),r=(0,t.useSharedFacet)(sf),l=UP(),o=PK(),i=WP(o),c=(0,t.useFacetWrap)(bE(np)),s=(0,t.useFacetWrap)(bE(ap)),u=wK(o,(0,t.useSharedFacet)(nf),r,a,(0,t.useSharedFacet)(Up),(0,t.useSharedFacet)(Vp),(0,t.useSharedFacet)(Qp),n,(0,t.useSharedFacet)(lg),c,s),m=(0,t.useFacetMap)((e=>e.isSignInInProgress),[],[n]),[g,E]=(0,t.useFacetState)({wasActive:!1,query:"",wasSignInInProgress:!1},t.strictShallowObjectEqualityCheck),[h,b]=(0,t.useFacetState)({shouldFireProfileLoaded:!1,shouldFireAchievementsDisplayed:!1},t.strictShallowObjectEqualityCheck);(0,t.useFacetEffect)(((e,t,n,a,r)=>{const l=t&&!a.wasActive,o=t&&a.wasActive&&a.query!==n.toString(),i=e.startsWith("/profile"),c=a.wasSignInInProgress&&!r;E({wasActive:t,query:n.toString(),wasSignInInProgress:r}),i&&(c||!r&&(l||o))&&(u(),b({shouldFireProfileLoaded:!0,shouldFireAchievementsDisplayed:!0}))}),[u,E,b],[p(),d(),f(),g,m]);const[v,F]=(0,t.useFacetState)(t.NO_VALUE),[y,S]=(0,t.useFacetState)(t.NO_VALUE),C=(0,t.useFacetMap)((e=>null!=e),[],[i]);return(0,t.useFacetEffect)(((e,t,n,a)=>{a.startsWith("/profile")&&(e&&null!=t&&F(t),e&&null!=n&&S(n))}),[F,S,u],[C,i,l,p()]),e.createElement(t.Mount,{when:C},e.createElement(AK,{profileFacet:v,currentProfileFacet:y,telemetryState:h,setTelemetryState:b}))}function AK({profileFacet:n,currentProfileFacet:a,telemetryState:r,setTelemetryState:l}){const{t:o}=Ii("ProfileRoute"),i=m(),c=(0,t.useFacetMap)((e=>e.tab),[],[i]),s=(0,t.useSharedFacet)(Dg),u=PK(),d=(0,t.useSharedFacet)(rf),p=(0,t.useSharedFacet)(sf),f=(0,t.useSharedFacet)(el),g=CK(n),E=SK(n),h=(0,t.useFacetMap)(((e,t,n,a,r)=>n.isOnline?t.isLoggedInWithMicrosoftAccount||t.isSignInInProgress||a||r?e.state.xblError===Zp.UserNotFound?Zp.UserNotFound:Zp.None:Zp.NotLoggedInWithMSA:Zp.NoInternet),[],[n,s,f,E,g]),b=(0,t.useFacetWrap)(bE(np)),v=(0,t.useFacetWrap)(bE(ap)),F=wK(u,(0,t.useSharedFacet)(nf),p,d,(0,t.useSharedFacet)(Up),(0,t.useSharedFacet)(Vp),(0,t.useSharedFacet)(Qp),s,(0,t.useSharedFacet)(lg),b,v),y=(0,t.useFacetCallback)(((e,t)=>()=>{const{xuid:n,platformId:a}=t;F(),e.refetchProfile(n,a)}),[F],[(0,t.useSharedFacet)(nf),u]),S=(0,t.useFacetMap)((e=>e!==Zp.None),[],[h]),C=(0,t.useFacetMap)(((e,t,n)=>t?o(".headerSelf"):""!=n.xuid&&e.state.xblState===ef.Loaded&&e.data.relation!==Jp.Self?o(".headerOther",[e.data.xblName]):""!=n.platformId&&e.state.platformState===ef.Loaded&&e.data.relation!==Jp.Self?o(".headerOther",[e.data.platformName]):o(".headerSelf")),[o],[n,S,u]),M=(0,t.useFacetMap)((e=>e.xuid),[],[u]);return e.createElement(Fl,{data:c},(t=>"friends-list"===t?e.createElement(pK,{loadedProfileFacet:n,currentProfileFacet:a,followingListFacet:d}):"compare-stats"===t?e.createElement(EK,{loadedProfileFacet:n,currentProfileFacet:a,statisticsFacet:p}):"followers-list"===t?e.createElement(vK,null):"set-featured-screenshot"===t?e.createElement(zK,null):e.createElement(NO,{title:C,screenAnalyticsId:"Profile",gamepadAlias:"profile-route",delegateByAlias:"player-card-scroll-view"},(()=>e.createElement(Fl,{data:S},(t=>t?e.createElement(UE,{narrowBreakpointWidth:70},e.createElement(UE.Row,{fullHeight:!0},e.createElement(UE.Column,{wideSize:1,narrowSize:0}),e.createElement(UE.Column,{wideSize:10,narrowSize:8},e.createElement(Yc,{size:2}),e.createElement(UK,{errorMessage:h,onRetryLoad:y,xuid:M})),e.createElement(UE.Column,{wideSize:1,narrowSize:0}))):e.createElement(NK,{profileFacet:n,xuid:M,telemetryState:r,setTelemetryState:l})))))))}const NK=({profileFacet:n,xuid:a,telemetryState:r,setTelemetryState:l})=>{const o=ve(),i=m(),c=f(),s=(0,t.useFacetMap)((e=>e.tab),[],[i]),d=u(),p=(0,t.useSharedFacet)(Dg),g=(0,t.useSharedFacet)(Qp),E=(0,t.useFacetCallback)((e=>t=>{o(Dh.getFocusAlias(xK,t)),d.replace(F(`/profile/${t}`,e))}),[o,d],[c]);(0,e.useEffect)((()=>{requestAnimationFrame((()=>{o(N$)}))}),[o]);const{t:h}=Ii("ProfileRoute"),b=[{label:h(".overviewTabButtonLabel"),value:"overview"},{label:h(".statsTabButtonLabel"),value:"stats"}],v=SK(n),y=CK(n),S=function(e){return(0,t.useFacetMap)((e=>e.state.platformState===ef.Loaded&&""!==e.data.platformId&&""===e.data.xuid),[],[e])}(n),C=(0,t.useFacetMap)(((e,t,n,a,r)=>{if(!e.isLoggedInWithMicrosoftAccount&&!e.isSignInInProgress&&(t||a))return Zp.NotLoggedInWithMSA;if(!t){if(e.isLoggedInWithMicrosoftAccount&&r)return Zp.LoggedInWithMSAButPlatformProfile;if(n.loaded&&!n.data.viewTargetProfile)return Zp.NotAllowedToViewProfilesAdult;if(!e.userPermissions.viewProfiles.allowed)return e.userPermissions.viewProfiles.denyReasons.includes(Lg.XboxLive_Parental)?Zp.NotAllowedToViewProfilesChild:Zp.NotAllowedToViewProfilesAdult}return Zp.None}),[],[p,v,g,y,S]),[M,w]=(0,t.useFacetState)(!1);(0,t.useFacetEffect)((e=>w(e!==Zp.None)),[w],[C]);const k=(0,t.useFacetMap)(((e,t,n,a,r)=>!(""===e||!a.isLoggedInWithMicrosoftAccount&&!a.isSignInInProgress||n||r||t.loaded)),[],[a,g,v,p,S]),T=(()=>{const t=iP();return(0,e.useCallback)(((e,n)=>{t("ProfileLoaded",{profileXuid:{value:e,privacyTag:mg.EUPI},relationToCurrentUser:{value:n,privacyTag:mg.SystemMetadata}})}),[t])})();(0,t.useFacetEffect)(((e,t,n,a)=>{e.state.xblState===ef.Loaded&&t.loaded&&n.shouldFireProfileLoaded&&!a&&(T(e.data.xuid,e.data.relation),n.shouldFireProfileLoaded=!1,l(n))}),[T,l],[n,g,r,M]);const x=MK(),I=function(e,n,a,r,l){const o=bE(np),i=bE(ap);return(0,t.useFacetMap)(((e,t,n,a,r)=>n!==Zp.NotAllowedToViewProfilesAdult&&n!==Zp.NotAllowedToViewProfilesChild&&o&&i&&""!==e&&t.isLoggedInWithMicrosoftAccount?e===t.currentXuid?{src:a.featuredScreenshot,loading:a.isLoadingFeaturedScreenshot}:{src:r.featuredScreenshot,loading:r.isLoadingFeaturedScreenshot}:{src:"",loading:!1}),[o,i],[e,n,a,r,l])}(a,p,C,(0,t.useSharedFacet)(rg),(0,t.useSharedFacet)(lg)),P=(0,t.useFacetMap)(((e,t)=>{let n=!1;""!==e.data.xuid&&(n=e.state.xblState===ef.Loading),""!==e.data.platformId&&(n=e.state.platformState===ef.Loading);const a=e.data.avatarState===Ag.Requested;return n||a||t}),[],[n,k,I]),O=(0,t.useFacetMap)((e=>e.data),[],[n]),A=(0,t.useFacetMap)((e=>e.src),[],[I]),N=(0,t.useFacetMap)((e=>e.loading),[],[I]);return e.createElement(UE,{narrowBreakpointWidth:70},e.createElement(Yc,{size:2}),e.createElement(UE.Row,{fullHeight:!0},e.createElement(UE.Column,{wideSize:4,narrowSize:0},e.createElement(ys,{loading:P,flexShrinkWrapper:!0,delegateFocusFromMemory:!0,gamepadAlias:"player-card-scroll-view",delegateFocusByAlias:N$},e.createElement(R$,{playerFacet:O,featuredImgSrc:A,featuredImgLoading:N}))),e.createElement(UE.Column,{wideSize:8,narrowSize:8},e.createElement(Fl,{data:M},(o=>o?e.createElement(e.Fragment,null,e.createElement(RK,{playerFacet:O,featuredImgSrc:A,featuredImgLoading:N}),e.createElement(t.Mount,{when:x},e.createElement(_K,null)),e.createElement(UK,{errorMessage:C,onRetryLoad:()=>{},xuid:a})):e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:k,condition:!1},e.createElement(Dh,{gamepadAliasNamespace:xK,value:s,onChange:E,tabs:b,narrationTitle:h(".narration.title"),enableGamepadShortcuts:!0})),e.createElement(mh,{tab:"overview",component:()=>e.createElement(DK,{profileFacet:n,telemetryState:r,setTelemetryState:l,loading:k,featuredImgSrc:A,featuredImgLoading:N})}),e.createElement(mh,{tab:"stats",component:()=>e.createElement(WK,{profileFacet:n,featuredImgSrc:A,featuredImgLoading:N})})))))))};function RK(t){return"narrow"===Ko()?e.createElement(e.Fragment,null,e.createElement(R$,t),e.createElement(Yc,{size:2})):null}const LK=({profileFacet:n})=>{const a=u(),{t:r}=Ii("ProfileRoute"),l=gr("neutral"),o=(0,t.useSharedFacet)(rf),i=(0,t.useSharedFacet)(el),c=(0,t.useSharedFacet)(Ug),s=(0,t.useSharedFacet)(xm),d=(0,t.useSharedFacet)(rg),m=(0,t.useSharedFacet)(lg),p=IK("friends-list"),f=IK("followers-list"),g=SK(n),E=(0,t.useFacetMap)((e=>!e),[],[g]),h=yK(),b=(0,t.useFacetMap)(((e,t)=>!e&&t),[],[h,(0,t.useSharedFacet)(zp)]),v=(0,t.useFacetMap)((e=>e.isLoading),[],[o]),F=(0,t.useFacetMap)((e=>e.playerList.length),[],[o]),y=(0,t.useFacetMap)((e=>!e.isLoading&&0===e.playerList.length),[],[o]),S=(0,t.useFacetMap)((e=>r(".friendsNarration",[`${e}`])),[r],[F]),C=(0,t.useFacetMap)(((e,t)=>t&&!e.isLoading?e.playerList.length:0),[],[(0,t.useSharedFacet)(lp),g]),M=(0,t.useFacetMap)((e=>0===e),[],[C]),w=(0,t.useFacetMap)(((e,t,n)=>n?e.count:t.count),[],[d,m,g]),k=(0,t.useFacetMap)(((e,t,n)=>n?e.maxScreenshots:t.maxScreenshots),[],[d,m,g]),T=(0,t.useSharedFacet)(Hp),x=bE(np),I=bE(ap),P=(0,t.useFacetMap)((e=>e&&x),[x],[g]),O=(0,t.useFacetMap)((e=>e.isLoadingCount),[],[d]),A=(0,t.useFacetMap)((e=>!e&&x&&I),[x,I],[g]),N=(0,t.useFacetMap)((e=>!e.isLoadingCount&&0===e.count),[],[m]),R=(0,t.useFacetMap)((e=>e.isLoadingCount),[],[m]),L=bE("vanilla.profileFeedback"),_=(0,t.useFacetMap)((e=>e.state.xblState===ef.Loaded&&e.data.relation===Jp.Follower),[],[n]),D=(0,t.useFacetMap)((e=>""!==e.data.xuid?e.data.xblName:""!==e.data.platformName?e.data.platformName:""!==e.data.offlineName?e.data.offlineName:""),[],[n]),B=(0,t.useFacetMap)((e=>r(".addFollowerBackBanner",[`${e}`])),[r],[D]),W=(0,t.useFacetMap)((e=>BM(e.platform)&&L),[L],[i]),U=(0,t.useFacetCallback)((e=>()=>{e.openLink(Wg.ProfileFeedbackMain)}),[],[c]),z=(0,t.useFacetMap)(((e,t)=>e&&t),[],[y,M]),j=(0,t.useFacetMap)((e=>e.isPreviewBuild),[],[s]),H=fh({wide:8,narrow:6,width:256}),V=MK(),G=(0,t.useFacetCallback)((()=>()=>{a.push("/screenshot-gallery")}),[a],[n]),$=(0,t.useFacetCallback)((e=>()=>{var t;a.push(`/screenshot-showcase?${jG({xuid:(t=e.data).xuid,playerName:t.xblName,relation:t.relation})}`)}),[a],[n]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:W},e.createElement(e.Fragment,null,e.createElement("div",{className:Or()("N41tZ",l.background.base,l.border.base)},e.createElement(Pu,{inputLegend:r(".feedbackButton"),Icon:Kj,onClick:U},r(".feedbackButton")),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"captionShort"},r(".feedbackText"))),e.createElement(Yc,{size:2}))),e.createElement(t.Mount,{when:_},e.createElement(e.Fragment,null,e.createElement(KS,{role:"informative"},e.createElement(KS.Text,null,B)),e.createElement(Yc,{size:2}))),e.createElement(t.Mount,{when:V},e.createElement(_K,null)),e.createElement(Yb,{gamepadIndex:0},e.createElement(Yb.Action,{narrationText:S,inputLegend:r(".friendsInputLegend"),onClick:p,disabled:y},e.createElement(Yb.Cell,null,e.createElement(Rc,{src:z$,imageRendering:"pixelated",className:Y$})),e.createElement(Yb.Main,null,e.createElement(zs,{type:"captionShort",variant:"dimmest"},r(".friendsItemLabel")),e.createElement(t.Mount,{when:v,condition:!1},e.createElement(zs,{type:"body"},F)),e.createElement(t.Mount,{when:v},e.createElement(Yc,{size:5})))),e.createElement(t.Mount,{when:g},e.createElement(Fl,{data:C},(n=>0===n?null:e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:z},e.createElement("div",{className:Or()("UEtRp",l.border.base)})),e.createElement(Yb.Action,{narrationText:r(".followersNarration",[`${n}`]),inputLegend:r(".followersInputLegend"),onClick:f,disabled:M},e.createElement(Yb.Main,null,e.createElement(zs,{type:"captionShort",variant:"dimmest"},r(".followersItemLabel")),e.createElement(zs,{type:"body"},n)))))))),e.createElement(t.Mount,{when:P},e.createElement(Yb,null,e.createElement(Yb.Action,{narrationText:(0,t.useFacetMap)(((e,t)=>r(".screenshotsNarration",[`${e}`,`${t}`])),[r],[w,k]),inputLegend:r(".screenshotsInputLegend"),onClick:G},e.createElement(Yb.Cell,null,e.createElement(Rc,{src:j$,imageRendering:"pixelated",className:Y$})),e.createElement(Yb.Main,null,e.createElement(zs,{type:"captionShort",variant:"dimmest"},r(".screenshotsItemLabel")),e.createElement(t.Mount,{when:O,condition:!1},e.createElement(zs,{type:"body"},(0,t.useFacetMap)(((e,t)=>r(".listItemFractionValue",[`${e}`,`${t}`])),[r],[w,k]))),e.createElement(t.Mount,{when:O},e.createElement(Yc,{size:5})))))),e.createElement(t.Mount,{when:A},e.createElement(Yb,null,e.createElement(Yb.Action,{narrationText:(0,t.useFacetMap)(((e,t)=>r(".screenshotsNarration",[`${e}`,`${t}`])),[r],[w,k]),inputLegend:r(".screenshotsInputLegend"),onClick:$,disabled:N},e.createElement(Yb.Cell,null,e.createElement(Rc,{src:j$,imageRendering:"pixelated",className:Y$})),e.createElement(Yb.Main,null,e.createElement(zs,{type:"captionShort",variant:"dimmest"},r(".showcaseItemLabel")),e.createElement(t.Mount,{when:R,condition:!1},e.createElement(zs,{type:"body"},(0,t.useFacetMap)(((e,t)=>r(".listItemFractionValue",[`${e}`,`${t}`])),[r],[w,k]))),e.createElement(t.Mount,{when:R},e.createElement(Yc,{size:5})))))),e.createElement(t.Mount,{when:j},e.createElement(GE,{title:r(".achievementsInPreviewTitle"),text:r(".achievementsInPreviewDesc"),imgSrc:FK,imgClass:H?q$:Q$})),e.createElement(t.Mount,{when:b},e.createElement(Yb,null,e.createElement(Yb.Action,{narrationText:(0,t.useFacetMap)((e=>[r(".achievementsNarration",[`${e.unlocked}`,`${e.total}`]),r(".gamerscoreNarration",[`${e.gamerScore}`,`${e.maxGamerScore}`])].join(" . ")),[r],[T]),inputLegend:r(".achievementsInputLegend"),onClick:()=>a.push("/achievements"),disabled:E},e.createElement(Yb.Cell,null,e.createElement(Rc,{src:U$,imageRendering:"pixelated",className:Y$})),e.createElement(Yb.Main,null,e.createElement(zs,{type:"captionShort",variant:"dimmest"},r(".achievementsItemLabel")),e.createElement(zs,{type:"body"},(0,t.useFacetMap)((e=>r(".listItemFractionValue",[`${e.unlocked}`,`${e.total}`])),[r],[T]))),e.createElement(Yb.Cell,{direction:"row"},e.createElement(Rc,{className:"kqGRS",src:X$,imageRendering:"pixelated"}),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"captionShort",variant:"dimmer"},(0,t.useFacetMap)((e=>r(".listItemFractionValue",[`${e.gamerScore}`,`${e.maxGamerScore}`])),[r],[T])),e.createElement(Yc,{size:1}))))))};function _K(){const{t:n}=Ii("ProfileRoute"),a=(0,t.useSharedFacet)(Vp),r=(0,t.useSharedFacet)(el),l=(0,t.useFacetMap)((e=>AM(e.platform)?n(".playStationAccount"):NM(e.platform)?n(".nintendoAccount"):""),[n],[r]),o=(0,t.useFacetMap)(((e,t)=>[n(".linkedAccountHeader"),`${t.data.displayName}`,e].join(" . ")),[n],[l,a]);return e.createElement(e.Fragment,null,e.createElement(nb,{role:"neutral",label:n(".linkedAccountHeader")}),e.createElement(Yb,{isFocusable:!0,narrationText:o},e.createElement(Yc,{size:2}),e.createElement(Yb.Cell,null,e.createElement(QI,{src:(0,t.useFacetMap)((e=>e.data.profilePic),[],[a]),variant:"large",status:"offline",usePersonaPicRendering:!1})),e.createElement(Yc,{size:2}),e.createElement(Yb.Cell,null,e.createElement("div",null,e.createElement(Yc,{size:1}),e.createElement(zs,{type:"header5B"},e.createElement(ru,null,(0,t.useFacetMap)((e=>e.data.displayName),[],[a]))),e.createElement(zs,{type:"captionShort",variant:"dimmer"},e.createElement(ru,null,l)),e.createElement(Yc,{size:1})))),e.createElement(Yc,{size:2}))}function DK({profileFacet:n,telemetryState:a,setTelemetryState:r,loading:l,featuredImgSrc:o,featuredImgLoading:i}){const{t:c}=Ii("ProfileRoute"),s=(0,t.useSharedFacet)(jp),u=(0,t.useFacetMap)((e=>e.suggested.slice(0,3)),[],[s]),d=(0,t.useFacetMap)((e=>e.completed.slice(0,3)),[],[s]),m=(()=>{const t=iP();return(0,e.useCallback)(((e,n)=>{t("ProfileSuggestedAchievementsDisplayed",{profileXuid:{value:e,privacyTag:mg.EUPI},suggestedNextAchievementIds:{value:n.join(","),privacyTag:mg.CustomerContent}})}),[t])})();(0,t.useFacetEffect)(((e,t,n,a)=>{const l=t.map((e=>e.id));e&&a.shouldFireAchievementsDisplayed&&(m(n.data.xuid,l),a.shouldFireAchievementsDisplayed=!1,r(a))}),[m,r],[(0,t.useSharedFacet)(zp),u,n,a]);const p=SK(n),f=(0,t.useFacetMap)((e=>!e),[],[p]),g=yK(),E=(0,t.useFacetMap)(((e,t)=>!e||t),[],[(0,t.useSharedFacet)(zp),l]),h=e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(RK,{playerFacet:(0,t.useFacetMap)((e=>e.data),[],[n]),featuredImgSrc:o,featuredImgLoading:i}),e.createElement(dh,{type:"contentful",renderingCompleted:!0}),e.createElement(LK,{profileFacet:n}),e.createElement(Yc,{size:2})),b=e.createElement(e.Fragment,null,e.createElement(wd.Space,{extraSpace:e.createElement(Yc,{size:1})}),e.createElement(Yc,{size:1}));return e.createElement(Ps,{text:c(".tabNarration",[c(".overviewTabButtonLabel"),"1","2"])},e.createElement(t.Mount,{when:g},e.createElement(ys,{loading:l,renderTracker:t=>e.createElement(dh,{type:"meaningful",renderingCompleted:t}),gamepadAlias:TK,delegateFocusFromMemory:!0},h,b)),e.createElement(t.Mount,{when:g,condition:!1},e.createElement(RI,{gamepadAlias:TK,delegateFocusFromMemory:!0,header:h,loading:E,data:(0,t.useFacetMap)(((e,t)=>[{role:"informativeTint",title:c(".suggestedAchievementsListLabel"),data:e},{role:"successTint",title:c(".completedAchievementsListLabel"),data:t}]),[c],[u,d]),footer:b,sectionSeparator:e.createElement(Yc,{size:2}),renderSectionHeader:(t,n)=>e.createElement(nb,{role:n,label:t}),renderItem:({itemFacet:t,index:n,sectionIndex:a,listLengthFacet:r})=>e.createElement(BK,{item:t,index:n,sectionIndex:a,listLength:r,disabled:f}),renderTracker:t=>e.createElement(dh,{type:"meaningful",renderingCompleted:t}),padSpinnerVertically:!0})))}const BK=({item:n,index:a,listLength:r,disabled:l})=>{const o=u();return e.createElement(av,{item:n,onClick:(0,t.useFacetCallback)((e=>()=>{o.push(`/achievement-detail/${e.id}`)}),[o],[n]),index:a,listLength:r,disabled:l})};function WK({profileFacet:n,featuredImgSrc:a,featuredImgLoading:r}){const{t:l}=Ii("ProfileRoute"),o=IK("compare-stats"),i=(0,t.useSharedFacet)(sf),c=(0,t.useFacetMap)((e=>e.data.map((e=>({label:e.label,icon:e.icon,data:{value:e.valueRaw,display:e.valueDisplay,narration:e.valueNarration}})))),[],[i]),s=e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(RK,{playerFacet:(0,t.useFacetMap)((e=>e.data),[],[n]),featuredImgSrc:a,featuredImgLoading:r}),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.state.xblState===ef.Loaded&&e.data.relation!==Jp.Self),[],[n])},e.createElement(e.Fragment,null,e.createElement("div",{className:"J35O9"},e.createElement(Pu,{inputLegend:l(".compareStats"),onClick:o},l(".compareStats"))),e.createElement(Yc,{size:2})))),u=(0,t.useFacetMap)((e=>!e.loaded),[],[i]);return e.createElement(Ps,{text:l(".tabNarration",[l(".statsTabButtonLabel"),"2","2"])},e.createElement(t.Mount,{when:u},e.createElement(Yc,{size:2})),e.createElement(Y_,{gamepadAlias:"profile-stats-list",delegateFocusFromMemory:!0,data:c,renderItem:({itemFacet:t,index:n,listLengthFacet:a})=>e.createElement(dK,{item:t,index:n,listLength:a}),loading:u,header:s,footer:e.createElement(e.Fragment,null,e.createElement(wd.Space,{extraSpace:e.createElement(Yc,{size:1})}),e.createElement(Yc,{size:1})),padSpinnerVertically:!0}))}function UK({errorMessage:n,xuid:a,onRetryLoad:r}){const{t:l}=Ii("ProfileRoute"),o=u(),i=fh({wide:8,narrow:6,width:256}),c=(0,t.useSharedFacet)(Ug),s=(0,t.useSharedFacet)(el),d=(()=>{const t=iP();return(0,e.useCallback)(((e,n)=>{t("ProfileError",{profileXuid:{value:e,privacyTag:mg.EUPI},profileErrorMessageType:{value:n,privacyTag:mg.SystemMetadata}})}),[t])})(),m=(0,t.useFacetCallback)(((e,t)=>()=>{d(e,t)}),[d],[a,n]);(0,e.useEffect)((()=>{m()}),[m]);const p=(0,t.useFacetCallback)((e=>()=>e.openLink(Wg.XboxPrivacyAndOnlineSafety)),[],[c]),f=()=>{o.push("/sign-in?signInSource=ProfileScreen_OreUI")},g=(0,t.useFacetMap)((e=>BM(e.platform)?[{text:l(".learnMoreButton"),onClick:p,imgSrc:Kj.imgSrc}]:[]),[l,p],[s]);return e.createElement(Fl,{data:n},(t=>{switch(t){case Zp.UserNotFound:return e.createElement(GE,{title:l(".loadErrorTitle"),text:l(".loadErrorMessage"),buttons:[{text:l(".errorRetryButton"),onClick:r}],imgSrc:H$,imgClass:i?q$:Q$});case Zp.NoInternet:return e.createElement(GE,{title:l(".loadErrorTitle"),text:l(".noInternetErrorMessage"),imgSrc:V$,imgClass:i?q$:Q$});case Zp.NotAllowedToViewProfilesAdult:return e.createElement(GE,{title:l(".needPermissionErrorTitle"),text:l(".needPermissionErrorMessage"),buttons:g,imgSrc:$$,imgClass:i?q$:Q$});case Zp.NotAllowedToViewProfilesChild:return e.createElement(GE,{title:l(".needPermissionErrorTitle"),text:l(".needPermissionErrorMessage"),buttons:g,imgSrc:G$,imgClass:i?q$:Q$});case Zp.NotLoggedInWithMSA:return e.createElement(GE,{title:l(".profileUnavailableErrorTitle"),text:l(".notLoggedInMSAErrorMessage"),buttons:[{text:l(".signInButton"),onClick:f,variant:"primary"}],imgSrc:K$,imgClass:i?q$:Q$});case Zp.LoggedInWithMSAButPlatformProfile:return e.createElement(GE,{title:l(".profileUnavailableErrorTitle"),text:l(".platformOnlyProfileErrorMessage"),imgSrc:K$,imgClass:i?q$:Q$});default:return e.createElement(e.Fragment,null)}}))}function zK(){const n=u(),a="narrow"===Ko(),{t:r}=Ii("ProfileRoute"),l=(0,t.useSharedFacet)(rg),o=(0,t.useFacetCallback)((e=>t=>{const a=e.screenshots.find((e=>e.featured));null==a?e.addScreenshotToShowcase(t.id,!0):e.replaceShowcasedScreenshot(a.id,t.id),n.goBack()}),[n],[l]),i=(0,t.useFacetCallback)((e=>()=>{const t=e.screenshots.find((e=>e.featured));null!=t&&e.removeShowcasedScreenshot(t.id),n.goBack()}),[n],[l]);return e.createElement(kK,{onScreenshotSelect:o,managementRowButtons:e.createElement("div",{className:Or()("S2nRi",{OGBkf:!a})},e.createElement("div",{className:Or()(["mcT40"],!a)},e.createElement(Pu,{inputLegend:r(".resetFeaturedImage"),narrationPrefix:r(".resetFeaturedImage"),onClick:i},r(".resetFeaturedImage"))))})}function jK(){const{t}=Ii("RealmsPDPScreen");return e.createElement(ar,{collection:VO},e.createElement(NO,{screenAnalyticsId:"Realms-PDP",gamepadAlias:"realms-pdp",title:t(".title"),delegateByAlias:p_},(()=>e.createElement(UE,null,e.createElement(UE.Row,{fullHeight:!0},e.createElement(UE.Column,{wideSize:12,narrowSize:8},e.createElement(E_,{header:e.createElement(Yc,{size:2}),footer:e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(wd.Space,null))})))))))}const HK=n.p+"assets/MCR_Logo_Primary-c83fa.png",VK=n.p+"assets/Marketplace-Error-8376f.png";function GK({onClick:t}){const{t:n}=Ii("RealmsPlanPickerScreen");return e.createElement(GE,{title:n(".error.title"),text:n(".error.body"),imgSrc:VK,imgClass:VD(),buttons:[{text:n(".error.button"),onClick:t,inputLegend:n(".error.button")}]})}function $K({children:t,disabled:n}){const a=Fr();return e.createElement("div",{className:Or()("jR6SA",{[a.disabled]:n})},e.createElement("div",{className:Or()("ct_jw",{_jOan:!n})}),t)}function KK({isCorePlan:n,hasFreeTrial:a}){const{t:r}=Ii("RealmsPlanPickerScreen"),l=ta(),o=n?"PDPCore":"PDPPlus",i=n?e.createElement(zs,{type:"body",align:"left",role:o},r(".featureLine0")):e.createElement(e.Fragment,null,e.createElement(zs,{type:"body",align:"left",role:o},r(".featureLine0Plus")+" "),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"body",align:"left",role:o,variant:"dimmer"},r(".featureLine0PlusNum"))),c=(0,t.useFacetMap)((e=>[r(n?".featureNarrationCore":".featureNarrationPlus"),r(n?".featureLine0Narration":".featureLine0PlusNarration"),r(".featureLine1"),r(".featureLine2Narration"),r(".featureLine3"),r(".featureLine4"),r(".featureLine5Narration"),r(".featureLine6"),e&&!n?r(".featureLine7"):"",n?"":r(".featureLine8")].filter((e=>""!=e)).join(" . ")),[r,n],[a]);return e.createElement(ic.Maybe,{isInteractive:l,narrationText:c,classNameFocused:ji,gamepadAlias:"plan-picker-feature-list-text-block-"+(n?"core":"plus")},e.createElement(zi,null),e.createElement("div",{className:"OTZ_a"},e.createElement($K,null,i),e.createElement(zs,{type:"body",align:"left",role:o},e.createElement($K,null,r(".featureLine1")),e.createElement($K,null,r(".featureLine2")),e.createElement($K,null,r(".featureLine3")),e.createElement($K,null,r(".featureLine4")),e.createElement($K,null,r(".featureLine5")),e.createElement($K,null,r(".featureLine6"))),e.createElement(t.Mount,{when:a},e.createElement($K,{disabled:n},e.createElement(zs,{type:"body",align:"left",role:o,disableable:!0},r(".featureLine7")))),e.createElement($K,{disabled:n},e.createElement(zs,{type:"body",align:"left",role:o,disableable:!0},r(".featureLine8")))))}function XK({narration:t,planTitle:n,button:a,children:r,reflectionRole:l}){const o=gr("neutral"),i=gr("informative");return e.createElement(Ps,{text:t},e.createElement("div",{className:Or()("pJBcK",o.border.base,i.background.base)},e.createElement(hc,{effect:"specular",role:l}),e.createElement(Rc,{src:HK,className:"Nv2tq"}),e.createElement("div",{className:"r1fl4"},e.createElement(zs,{type:"header5B",align:"center",role:l},n),e.createElement(Yc,{size:4}),a,r)),e.createElement(Yc,{size:6}),e.createElement(wd.Space,null))}function YK(){const{t:n}=Ii("RealmsPlanPickerScreen"),a=u(),r=(0,t.useSharedFacet)(Rf),l=(0,t.useSharedFacet)(Dp),o=(0,t.useFacetMap)((e=>!e.isFinishedQueryingProducts),[],[l]),i=(0,t.useFacetMap)(((e,t)=>e.isRealmsTrialAvailable&&t.isRealmsTrialOfferAvailable),[],[r,l]),c=(0,t.useFacetMap)((e=>e.coreSubscriptionPrice),[],[l]),s=(0,t.useFacetMap)((e=>n(".planCoreCardNarration",[e.coreSubscriptionPrice])),[n],[l]),d=(0,t.useFacetMap)((e=>e.plusSubscriptionPrice),[],[l]),m=(0,t.useFacetMap)((e=>n(".planRealmsPlusCardNarration",[e.plusSubscriptionPrice])),[n],[l]),p=(0,t.useFacetMap)(((e,t)=>""===e||""===t),[],[c,d]),f=(0,t.useFacetMap)((e=>!e.isRealmsCoreOfferAvailable),[],[l]),g=e.createElement(Pu,{inputLegend:n(".buyButtonCore"),disabled:f,variant:"secondary",gamepadAlias:"buy-core-button",onClick:()=>{a.push("/realms-create-screen?offerTier=2player")}},n(".buyButtonCore")),E=(0,t.useFacetMap)(((e,t)=>!(t.isRealmsPlusOfferAvailable||t.isRealmsTrialOfferAvailable&&e.isRealmsTrialAvailable)),[],[r,l]),h=e.createElement(Fl,{data:i},(t=>e.createElement(Pu,{disabled:E,inputLegend:n(!0===t?".buyRealmsPlusButtonTrial":".buyButtonPlus"),variant:!0===t?"primary":"secondary",gamepadAlias:"buy-realms-plus-button",onClick:()=>{a.push("/realms-plus-pdp?tab=default")}},n(!0===t?".buyRealmsPlusButtonTrial":".buyButtonPlus")))),b=t=>{const a=t?"PDPCore":"PDPPlus";return e.createElement(e.Fragment,null,e.createElement(zs,{type:"header5B",align:"center",role:a,variant:"stronger"},n(t?".priceCore":".pricePlus")),e.createElement(Yc,{size:4}),e.createElement(zs,{type:"header5B",align:"center",role:a,variant:"dimmer"},t?c:d),e.createElement(zs,{type:"header5B",align:"center",role:a},`/${n(".priceMonthly")}`))};return e.createElement(ar,{collection:VO},e.createElement(NO,{screenAnalyticsId:"RealmsPlanPicker",gamepadAlias:"realms-plan-picker",title:n(".title"),delegateByAlias:"plan-picker-scrollview"},(()=>e.createElement(ys,{loading:o,gamepadAlias:"plan-picker-scrollview",delegateFocusByAlias:"buy-realms-plus-button"},e.createElement(Fl,{data:p},(t=>t?e.createElement(UE,null,e.createElement(Yc,{size:2}),e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:1,narrowSize:0}),e.createElement(UE.Column,{wideSize:10,narrowSize:8},e.createElement(GK,{onClick:()=>{}}),e.createElement(Yc,{size:2}),e.createElement(wd.Space,null)))):e.createElement(Ps,{text:n(".titleNarrationHint")},e.createElement(UE,null,e.createElement(Yc,{size:6}),e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:1,narrowSize:0}),e.createElement(UE.Column,{wideSize:5,narrowSize:4},e.createElement(XK,{narration:s,planTitle:b(!0),button:g,reflectionRole:"PDPCore"},e.createElement(KK,{isCorePlan:!0,hasFreeTrial:i}))),e.createElement(UE.Column,{wideSize:5,narrowSize:4},e.createElement(XK,{narration:m,planTitle:b(!1),button:h,reflectionRole:"PDPPlus"},e.createElement(KK,{isCorePlan:!1,hasFreeTrial:i}))))))))))))}function qK(){const{t:n}=Ii("JoinRealmsServerInvitationsButton"),a=gr("neutral"),r=u(),l=n(".narrationSuffix"),o=(0,t.useSharedFacet)(Fp),i=(0,t.useFacetMap)((e=>bp(e.categoryData,Ep.INVITES)>0),[],[o]),c=(0,t.useFacetMap)((e=>n(e?".hasInvitesTitle":".noInvitesTitle")),[n],[i]),s=(0,t.useFacetMap)((e=>n(e?".hasInvitesBody":".noInvitesBody")),[n],[i]),d=(0,t.useFacetMap)(((e,t)=>[e,t,l].join(" . ")),[l],[c,s]);return e.createElement(Ps,{text:[n(".invitationsName"),n(".invitationsRole")].join(" . ")},e.createElement(yu,{delayedClick:!0,gamepadIndex:0,inputLegend:n(".inputLegend"),narrationText:d,onClick:()=>r.push("/inbox/invites"),variant:"neutral",reflection:"bevel"},e.createElement("div",{className:Or()(a.text.base,"Ji4ZW")},e.createElement("div",{className:"mYfkA"},e.createElement(zs,{type:"body"},e.createElement(ru,null,c)),e.createElement(zs,{variant:"dimmer",type:"captionShort"},e.createElement(ru,null,s))),e.createElement(Rj,null))))}function QK(e,n){const a=(0,t.useSharedFacet)(Nf),r=(0,t.useFacetMap)((e=>e.fetchRealmProgress),[],[a]),l=(0,t.useFacetMap)((e=>e.fetchRealmResult),[],[a]),o=(0,t.useFacetMap)((e=>e.fetchRealmError),[],[a]),i=LS(),c=oM(((e,t)=>function*(){if(""===t)return;null!=(null==n?void 0:n.analyticsId)&&i({button:"JoinRealmLink",screen:n.analyticsId});const a=t.trim();e.clearFetchRealm(),e.fetchRealm(a),yield r,null==e.fetchRealmError&&null!=n&&n.onSuccess&&n.onSuccess(a)}),[r,i,n],[a,e]),s=(0,t.useFacetCallback)((e=>()=>e.clearFetchRealm()),[],[a]);return{fetch:c,progress:r,result:l,error:o,clear:s}}function JK(){const{t:e}=Ii("JoinRealmsServerError");return t=>{switch(t){case Of.AlreadyMember:return e(".alreadyMember");case Of.BadInvite:return e(".badInvite");case Of.BlockedInvite:return e(".blockedInvite");case Of.RealmClosed:return e(".realmClosed");case Of.RealmExpired:return e(".realmExpired");case Of.UnexpectedServerResponse:return e(".unexpectedServerResponse");case Of.AnonymousAccount:return e(".anonymousAccount");case Of.InviteLinkNotFound:return e(".inviteLinkNotFound");default:return e(".unknownError")}}}const ZK="JoinRealmsServer";function eX(){const{t:n}=Ii("JoinRealmsServer"),a=gr("neutral"),r=u(),l=d(),[o,i]=(0,t.useFacetState)(""),c=(0,t.useFacetMap)((e=>e.length<=0),[],[o]),s=function(){const e=(0,t.useSharedFacet)(Ug),n=LS();return(0,t.useFacetCallback)((e=>()=>{n({button:"Help",screen:ZK}),e.openLink(Wg.JoinRealmHelpPage)}),[n],[e])}(),m=(0,e.useCallback)((e=>{i(""),r.push(`/join-realms-server/${e}`)}),[r,i]),p=QK((0,t.useFacetMap)((e=>function(e){const t=e;return t.split("/")[t.split("/").length-1]}(e)),[],[o]),{analyticsId:ZK,onSuccess:m}),f=(0,t.useFacetMap)(((e,t)=>t&&e===rM.RUNNING),[],[p.progress,l]),g=(0,e.useCallback)((()=>{p.clear(),r.goBack()}),[r,p]);return e.createElement(e.Fragment,null,e.createElement(NO,{screenAnalyticsId:ZK,gamepadAlias:"join-realms-server",title:n(".title"),onBack:g},(()=>e.createElement(UE,null,e.createElement(nX,{error:p.error},e.createElement(tX,{error:p.error}),e.createElement(UE.Row,{gamepadIndex:1,fullHeight:!0},e.createElement(UE.Column,{gamepadIndex:-1,wideSize:1,narrowSize:0,disabled:!0}),e.createElement(UE.Column,{narrowSize:8,wideSize:10,gamepadIndex:0},e.createElement(ys,{gamepadIndex:0},e.createElement(Yc,{size:2}),e.createElement(Ps,{text:[n(".linkBoxNarrationName"),n(".linkBoxNarrationRole")].join(" . ")},e.createElement("div",{className:Or()(a.border.base,"Iw16o")},e.createElement(nw,{description:n(".inputDescription"),gamepadIndex:0,label:n(".inputLabel"),onChange:i,placeholder:n(".inputPlaceholder"),value:o}),e.createElement(ar,{collection:VO},e.createElement(du,null,e.createElement("div",{className:"Aimtb"},e.createElement(Pu,{onClick:s,inputLegend:n(".helpButtonLabel"),imgSrc:Kj.imgSrc,horizontal:!0,"data-testid":"help-button",narrationSuffix:n(".buttonEnumeration",["1","2"])},n(".helpButtonLabel")),e.createElement(YS.ButtonSpacing,null),e.createElement(Pu,{onClick:p.fetch,inputLegend:n(".joinButtonLabel"),horizontal:!0,disabled:c,variant:"primary","data-testid":"join-realm-button",narrationSuffix:n(".buttonEnumeration",["2","2"])},n(".joinButtonLabel"))))))),e.createElement(Yc,{size:2}),e.createElement(qK,null))),e.createElement(UE.Column,{gamepadIndex:1,wideSize:1,narrowSize:0,disabled:!0})))))),e.createElement(t.Mount,{when:f},e.createElement(jO.Component,{title:n(".verifyingLinkModalTitle")})))}function tX({error:t}){const n=JK();return e.createElement(Fl,{data:t},(t=>null==t?null:e.createElement(UE.Row,{gamepadIndex:0},e.createElement(UE.Column,{gamepadIndex:-1,wideSize:1,narrowSize:0,disabled:!0}),e.createElement(UE.Column,{narrowSize:8,wideSize:10,gamepadIndex:0},e.createElement(Yc,{size:2}),e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,n(t)))),e.createElement(UE.Column,{gamepadIndex:-1,wideSize:1,narrowSize:0,disabled:!0}))))}function nX({error:n,children:a}){const r=JK(),l=(0,t.useFacetMap)((e=>null==e?"":r(e)),[r],[n]);return e.createElement(Ps,{text:l},a)}function aX(){return aX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},aX.apply(this,arguments)}function rX(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const lX=n=>{let{children:a,title:r,role:l="neutral80",className:o,disableBackButton:i=!0,centerContentVertically:c=!0}=n,s=rX(n,["children","title","role","className","disableBackButton","centerContentVertically"]);const u=gr(l),d=(0,t.useFacetMap)((e=>Or()("k9CX5",u.background.base,u.border.base,u.text.base,e)),[u],[(0,t.useFacetWrap)(o)]);return e.createElement(NO,aX({title:r,disableBackButton:i},s),(({})=>e.createElement(ja,{role:l},e.createElement(UE,{centerContentVertically:c},e.createElement(Yc,{size:2}),e.createElement(UE.Row,{gamepadIndex:0},e.createElement(UE.Column,{gamepadIndex:1,wideSize:12,narrowSize:8},e.createElement("fast-div",{className:d},a))),e.createElement(Yc,{size:2}),e.createElement(wd.Space,null)))))},oX=t=>{let{className:n}=t,a=rX(t,["className"]);return e.createElement("fast-div",aX({className:Or()("gOWPB",n)},a))},iX=({children:n,role:a="inherit",className:r})=>{const l=gr(a),o=(0,t.useFacetMap)((e=>Or()("WGK2I",l.background.base,l.border.base,l.text.base,e)),[l],[(0,t.useFacetWrap)(r)]);return e.createElement("fast-div",{className:o},e.createElement("fast-div",{className:Or()("sgTeP",l.specular.base)},n))},cX=_i((()=>{const{t:n}=Ii("JoinRealmsServerError"),{t:a}=Ii("JoinRealmsServerErrorModal"),r=(0,t.useSharedFacet)(Nf),l=(0,t.useFacetCallback)((e=>()=>e.clearJoinRealm()),[],[r]),o=(0,t.useFacetMap)((e=>{switch(e.joinRealmError){case Pf.MemberOfTooManyRealms:return n(".memberOfTooManyRealms");case Pf.NeedToCallFetchFirst:case Pf.RealmsAPIUnavailable:case Pf.UnknownError:default:return n(".unknownError")}}),[n],[r]);return e.createElement(Ld,{onOverlayClick:l},e.createElement(Ld.Header,{onClose:l},a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:o,center:!0},o)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{inputLegend:a(".closeButtonLabel"),variant:"secondary",onClick:l,"data-testid":"join-realms-error-close-button"},a(".closeButtonLabel"))))})),sX="JoinRealmsServerTransient";function uX(){const{t:n}=Tp("JoinRealmsServerTransient"),a=u(),r=d(),l=m(),o=(0,t.useSharedFacet)(_p),i=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.code)&&void 0!==t?t:""}),[],[l]),c=QK(i,{analyticsId:sX}),s=(0,t.useFacetCallback)((e=>(t,r)=>{e.queueSnackbar(n(".successSnackbar",[r])),a.go(-2),a.replace(`/play/realms/${t}`)}),[a,n],[o]),p=function(e,n){const a=(0,t.useSharedFacet)(Nf),r=(0,t.useSharedFacet)(Uf),l=(0,t.useFacetMap)(((e,t)=>e.joinRealmProgress!==rM.IDLE&&t.state===Bf.Loading?rM.RUNNING:e.joinRealmProgress),[],[a,r]),o=(0,t.useFacetMap)((e=>e.joinedRealmId&&e.joinedRealmName),[],[a]),i=(0,t.useFacetMap)((e=>e.joinRealmError),[],[a]),c=LS(),s=oM(((e,t)=>function*(){if(c({button:"JoinRealm",screen:sX}),e.clearJoinRealm(),e.joinRealm(t),yield l,null==e.joinRealmError){const t=e.joinedRealmId,a=e.joinedRealmName;n(t,a),e.clearJoinRealm()}}),[l,c,n],[a,e]);return{join:s,progress:l,result:o,error:i}}(i,s),f=(0,t.useFacetMap)((e=>e===rM.RUNNING),[],[c.progress]),g=(0,t.useFacetMap)((e=>e===rM.RUNNING),[],[p.progress]),E=(0,t.useFacetMap)(((e,t)=>e===rM.FAILED&&null!=t),[],[p.progress,p.error]),h=(0,e.useCallback)((()=>{a.goBack()}),[a]);(0,t.useFacetEffect)(((e,t,n,a)=>{!a||t||n||null!=e||c.fetch()}),[c],[c.result,g,f,r]);const b=(0,t.useFacetMap)(((e,t,n)=>e||t||null!=n),[],[f,g,c.error]);return e.createElement(e.Fragment,null,e.createElement(lX,{gamepadAlias:"join-realms-server-transient-route",title:n(".title"),screenAnalyticsId:sX,className:"M8SYf",disableBackButton:!1,centerContentVertically:!1},e.createElement(mX,{error:c.error}),e.createElement(dX,{realmWorld:c.result}),e.createElement(iX,null,e.createElement(ar,{collection:VO},e.createElement(Pu,{horizontal:!0,inputLegend:n(".cancelButtonLabel"),onClick:h,"data-testid":"cancel-button",narrationSuffix:n(".buttonEnumeration",["1","2"])},n(".cancelButtonLabel")),e.createElement(Yc,{size:3}),e.createElement(Pu,{horizontal:!0,onClick:p.join,inputLegend:n(".joinButtonLabel"),variant:"primary",disabled:b,"data-testid":"join-realm-button",narrationSuffix:n(".buttonEnumeration",["2","2"])},n(".joinButtonLabel"))))),e.createElement(t.Mount,{when:g},e.createElement(jO.Component,{title:n(".joinRealmModal")})),e.createElement(t.Mount,{when:E},e.createElement(cX.Component,null)))}function dX({realmWorld:n}){const{t:a}=Tp("JoinRealmsServerTransient"),r=(0,t.useFacetMap)((e=>{var t;return`${null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""}`}),[],[n]),l=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.realmName)&&void 0!==t?t:""}),[],[n]),o=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.slotName)&&void 0!==t?t:""}),[],[n]),i=function(e){const{t:n}=Ii("WorldTag");return(0,t.useFacetMap)((e=>{const t=[];return null==e||null!=e.gameMode&&t.push({label:n(KA(e.gameMode)),role:"neutral100"}),t}),[n],[e])}(n),c=(0,t.useFacetWrap)(0),s=(0,t.useFacetWrap)(!1),u=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.ownerXuid)&&void 0!==t?t:""}),[],[n]),{profileName:d,isLoaded:m}=function({ownerId:e,platformId:n}){const a=(0,t.useFacetWrap)(null!=e?e:""),r=(0,t.useFacetWrap)(null!=n?n:""),l=(0,t.useFacetCallback)((e=>(t,n)=>{e.subscribeToProfile(t,n)}),[],[(0,t.useSharedFacet)(nf)]);(0,t.useFacetEffect)(((e,t)=>{l(e,t)}),[l],[a,r]);const o=(0,t.useFacetMap)(((e,t)=>({xuid:e,platformId:t})),[],[a,r]),i=WP(o),c=(0,t.useFacetMap)((e=>(null==e?void 0:e.state.xblState)===ef.Loaded||(null==e?void 0:e.state.platformState)===ef.Loaded),[],[i]),s=(0,t.useFacetMap)((e=>{return null==(t=null==e?void 0:e.data)?"":""!==t.xblProfilePic?t.xblProfilePic:null!==(n=t.platformProfilePic)&&void 0!==n?n:"";var t,n}),[],[i]);return{ownerDetails:i,isLoaded:c,profileName:(0,t.useFacetMap)((e=>{return null==(t=null==e?void 0:e.data)?"":""!==t.xblName?t.xblName:null!==(n=t.platformName)&&void 0!==n?n:"";var t,n}),[],[i]),avatarSource:s}}({ownerId:u}),p=(0,t.useFacetMap)((e=>a(".ownerInformation",[e])),[a],[d]),f=(0,t.useFacetMap)((e=>[e,a(".caption")].join(" . ")),[a],[p]),g=(0,t.useFacetMap)(((e,t)=>null==e||!t),[],[n,m]);return e.createElement(Fl,{data:g},(t=>t?e.createElement("div",{className:"N16mH"},e.createElement(vs,null)):e.createElement(e.Fragment,null,e.createElement(fN,{id:r,title:l,subtitle:o,tags:i,narrationIndex:1,containerListLength:c,isMultiplayerWorld:s,onWorldClick:()=>{},disable:!0}),e.createElement(ys,{emptyFocusableNarrationText:f},e.createElement(oX,null,e.createElement(zs,{type:"paragraphs"},p),e.createElement(Yc,{size:4}),e.createElement(zs,{type:"captionShort",variant:"dimmest"},a(".caption")))))))}function mX({error:t}){const n=JK();return e.createElement(Fl,{data:t},(t=>null==t?null:e.createElement(e.Fragment,null,e.createElement(KS,{role:"noticeTint"},e.createElement(KS.Text,null,n(t))),e.createElement(Yc,{size:2}))))}let pX;function fX({children:t}){return e.createElement(ys,null,e.createElement(Yc,{size:2}),t)}!function(e){e.MarketplacePassTab="MarketplacePassTab",e.FeaturedCreatorsTab="FeaturedCreatorsTab",e.OwnedByMeTab="OwnedByMeTab"}(pX||(pX={}));function gX({tab:t}){const{t:n}=Ii(function(e){switch(e){case fR.MarketplacePass:return"StartFromTemplateRoute.MarketplacePass";case fR.Featured:return"StartFromTemplateRoute.Featured";default:return"StartFromTemplateRoute.OwnedByMe"}}(t)),a=gr("neutral");return e.createElement("div",{className:Or()("xm93A",a.background.base)},e.createElement(zs,{type:"header5A"},n(".title")),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"captionShort",variant:"dimmer",className:"y20ae"},n(".description")),e.createElement(Yc,{size:2}))}const EX="Jc8Rm";function hX({children:t,role:n="neutral",className:a,containerRef:r}){const l=gr(n),o=Or()(l.text.base,l.border.base,a);return e.createElement(ja,{role:n},e.createElement("div",{ref:r,className:o},t))}hX.Information=function({children:t,innerRef:n,narrationText:a,role:r="inherit",spacingSize:l=3,className:o}){NA(a);const i=gr(r),c=Or()("nDjUk",i.text.base,i.border.base,o);return e.createElement("div",{className:c,ref:n},e.createElement(Yc,{size:l}),t)},hX.AdditionalAction=function({children:n,onClick:a,onMouseDown:r,inputLegend:l,narrationText:o,gamepadAlias:i,hidden:c=!1,focusGridIndex:s,innerRef:u,touchDetectionDelay:d,soundEffectPressed:m,disabled:p}){return e.createElement(t.Mount,{when:(0,t.useFacetWrap)(c),condition:!1},e.createElement(yu,{innerRef:u,variant:"neutral",isElevated:!0,reflectionConfig:{top:!0,bottom:!1,left:!1,right:!1},classNameElevated:"wESDB",classNameElevatedAndPressed:"pTz3U",focusGridIndex:s,gamepadAlias:i,inputLegend:l,onClick:a,onMouseDown:r,narrationText:o,touchDetectionDelay:d,soundEffectPressed:m,disabled:p},e.createElement("div",{className:EX},n)))},hX.Action=function({children:n,onClick:a,inputLegend:r,onFocusChanged:l,onHoverChanged:o,narrationText:i,gamepadAlias:c,disabled:s=!1,testId:u,className:d}){const m=gr("neutral"),p=hr("neutral"),f=(0,t.useFacetMap)((e=>!0===e),[],[(0,t.useFacetWrap)(s)]),g=(0,t.useFacetWrap)(!1===r?"":r),E=(0,t.useFacetMap)(((e,t)=>!t&&e),[],[g,f]),h=(0,t.useFacetMap)((e=>Or()("S4smQ",e?"oBgkQ":m.background.base,m.background.hover,m.background.press,m.border.base)),[m],[f]),b=(0,t.useFacetMap)((e=>Or()(EX,e)),[],[(0,t.useFacetWrap)(null!=d?d:void 0)]),v=(0,t.useFacetMap)((e=>!0===e?void 0:p.press),[p],[f]),F=(0,t.useFacetCallback)((e=>()=>{e||a()}),[a],[f]);return e.createElement(ic,{className:h,gamepadAlias:c,inputLegend:E,narrationText:i,onClick:F,onFocusChanged:l,onHoverChanged:o,soundEffectPressed:v,classNameDisabled:Ha.pressed,classNameFocused:ji,"data-testid":u},e.createElement(zi,null),e.createElement(t.Mount,{when:(0,t.useFacetWrap)(s),condition:!1},e.createElement("div",{className:Or()("luBv_",m.shadow.interactive)})),e.createElement("fast-div",{className:b},n))};const bX=n.p+"assets/iconStar-a3e78.png";function vX(){return vX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vX.apply(this,arguments)}const FX=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("KDTZk",n);return e.createElement(Rc,vX({},a,{className:r,src:bX,imageRendering:"pixelated"}))},yX=n.p+"assets/iconStarGolden-e2d94.png";function SX(){return SX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},SX.apply(this,arguments)}const CX=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("fJora",n);return e.createElement(Rc,SX({},a,{className:r,src:yX,imageRendering:"pixelated"}))},MX=n.p+"assets/thumbnail-default-d0210.jpg";function wX({name:e,creator:n,thumbnailPath:a,ratingData:r,isPremium:l,isLocked:o,isOwnedByMeTab:i=!1,narrationIndex:c,containerListLength:s,isRateable:u,isInstalled:d,t:m}){const p=(0,t.useFacetWrap)(null!=l&&l),f=(0,t.useFacetWrap)(null!=u&&u),g=(0,t.useFacetWrap)(null!=o&&o),E=(0,t.useFacetWrap)(null!=d&&d),h=(0,t.useFacetWrap)(c),b=(0,t.useFacetWrap)(null!=r?r:{averageRating:void 0,totalRatingsCount:void 0}),v=(0,t.useFacetMap)((e=>e||MX),[],[a]),F=(0,t.useFacetMap)((e=>!e&&i),[i],[p]),y=(0,t.useFacetMap)((e=>i&&e),[i],[f]),S=(0,t.useFacetMap)((e=>!e&&i),[i],[E]),C=(0,t.useFacetMap)((e=>m(".creator",[e])),[m],[n]),M=(0,t.useFacetMemo)((e=>String(null!=e.averageRating&&e.averageRating.toFixed(1))),[],[b]),w=(0,t.useFacetMemo)((e=>`(${null!=e.totalRatingsCount&&e.totalRatingsCount})`),[],[b]),k=(0,t.useFacetMemo)(((e,t,n,a,r,l,o)=>[m(".componentRole"),e,t,a>0?m(".enumeration",[`${o+1}`,`${a}`]):"",i||null==n.averageRating?"":m(".rating",[String(n.averageRating.toFixed(1))]),l?m(".locked"):"",r?m(".imported"):""].filter(Boolean).join(" . ")),[i,m],[e,C,b,s,F,g,h,y,S]);return{name:e,contextNarration:k,actionNarration:(0,t.useFacetMemo)(((e,t)=>[m(t?".installed":".notInstalled"),e?[m(".button"),m(".enumeration",["1","2"])]:m(".button")].filter(Boolean).join(" . ")),[m],[y,S]),isLockedFacet:g,thumbnailPathResolved:v,createdBy:C,isImported:F,rating:M,voteCount:w,shouldRenderRateButton:y,additionalActionNarration:[m(".rate"),m(".button"),m(".enumeration",["2","2"])].join(" . "),shouldShowDownloadOverlay:S}}const kX=n.p+"assets/iconLock-e98de.png";function TX(){return TX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},TX.apply(this,arguments)}const xX=t=>{let{className:n}=t,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["className"]);const r=Dc("gDroV",n);return e.createElement(Rc,TX({},a,{className:r,src:kX,imageRendering:"pixelated"}))},IX="mEAi3",PX=n.p+"assets/download-062b3.png";var OX;function AX({isCard:n=!0,isLocked:a,thumbnailPath:r,shouldShowDownloadOverlay:l}){const o=gr("neutral"),i=(0,t.useFacetMap)((e=>n&&!e?"EVBEq":Or()("Swp_C",e?"U82ZZ":o.border.base)),[n,o.border.base],[a]),c=(0,t.useFacetMap)(((e,t)=>e?OX.Locked:t?OX.ShouldDownload:OX.Default),[],[a,l]),s=(0,e.useMemo)((()=>e.createElement(Rc,{className:i,aspectRatio:Rc.AspectRatio["16:9"],src:r})),[i,r]),u=(0,e.useMemo)((()=>e.createElement("div",{className:"HAWgs"})),[]);return e.createElement("div",{className:"Dbw4V"},e.createElement(Fl,{data:c},(t=>{switch(t){case OX.Locked:return e.createElement(e.Fragment,null,u,s,u,e.createElement("div",{className:"ML0On"}),e.createElement(xX,{className:IX}));case OX.ShouldDownload:return e.createElement(e.Fragment,null,s,e.createElement("div",{className:"IloHq"}),e.createElement(Rc,{src:PX,className:Or()("ue8jl",IX),imageRendering:"pixelated"}));case OX.Default:return e.createElement(e.Fragment,null,s)}})))}!function(e){e.Locked="locked",e.ShouldDownload="should-download",e.Default="default"}(OX||(OX={}));function NX({name:n,creator:a,thumbnailPath:r,ratingData:l,isPremium:o,isLocked:i,isInstalled:c,isOwnedByMeTab:s=!1,narrationIndex:u,containerListLength:d,isRateable:m,onAction:p,onAdditionalAction:f=(()=>{})}){const{t:g}=Ii("TemplateCard"),{contextNarration:E,actionNarration:h,additionalActionNarration:b,createdBy:v,shouldShowDownloadOverlay:F,isImported:y,isLockedFacet:S,rating:C,shouldRenderRateButton:M,thumbnailPathResolved:w,voteCount:k}=wX({containerListLength:d,creator:a,isInstalled:c,isLocked:i,isPremium:o,isRateable:m,name:n,isOwnedByMeTab:s,narrationIndex:u,ratingData:l,t:g,thumbnailPath:r}),T=(0,t.useFacetMap)(((e,t)=>s&&!Boolean(t)||e),[s],[y,(0,t.useFacetWrap)(null!=c&&c)]),x=(0,t.useFacetMap)((e=>s&&e?"fEe4R":"LbAiK"),[s],[y]);return e.createElement(Wr,null,e.createElement(Ps,{text:E},e.createElement(hX,null,e.createElement(hX.Action,{onClick:p,narrationText:h,inputLegend:g(".start")},e.createElement(AX,{shouldShowDownloadOverlay:F,isLocked:S,thumbnailPath:w}),e.createElement(hX.Information,{narrationText:""},e.createElement(zs,{type:"body"},e.createElement(ru,null,n)),e.createElement(Yc,{size:1}),e.createElement(zs,{type:"body",variant:"dimmer"},e.createElement(ru,null,v)),e.createElement(t.Mount,{when:y},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(ux,{role:"neutral100"},g(".imported")))),e.createElement(t.Mount,{when:T},e.createElement(e.Fragment,null,e.createElement("fast-div",{className:x}),e.createElement(Yc,{size:1}))),!s&&e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(RX,{rating:C,voteCount:k})),e.createElement(t.Mount,{when:M},e.createElement(Yc,{size:1})))),e.createElement(t.Mount,{when:M},e.createElement(hX.AdditionalAction,{onClick:f,narrationText:b,inputLegend:g(".rate")},e.createElement(Yc,{size:2}),e.createElement("div",{className:Or()("XCF9Q")},e.createElement(FX,null),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"body",role:"inherit",verticalAlign:"center"},g(".rate"))),e.createElement(Yc,{size:2}))))))}function RX({rating:t,voteCount:n}){return e.createElement("div",{className:"NO9g3"},e.createElement(CX,null),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"captionShort",variant:"dimmer",verticalAlign:"center",tag:"span"},t),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"captionShort",variant:"dimmer",verticalAlign:"center",tag:"span"},n))}function LX({name:n,creator:a,thumbnailPath:r,ratingData:l,isPremium:o,isLocked:i,isInstalled:c,isRateable:s,isOwnedByMeTab:u=!1,narrationIndex:d,containerListLength:m,onAction:p,onAdditionalAction:f=(()=>{})}){const{t:g}=Ii("TemplateCard"),{contextNarration:E,actionNarration:h,isLockedFacet:b,thumbnailPathResolved:v,createdBy:F,isImported:y,rating:S,voteCount:C,shouldRenderRateButton:M,shouldShowDownloadOverlay:w,additionalActionNarration:k}=wX({name:n,creator:a,thumbnailPath:r,ratingData:l,isPremium:o,isLocked:i,isInstalled:c,isRateable:s,isOwnedByMeTab:u,narrationIndex:d,containerListLength:m,t:g});return e.createElement(Wr,null,e.createElement(Ps,{text:E},e.createElement(Yb,{tall:!0},e.createElement(Yb.Action,{onClick:p,narrationText:h,inputLegend:g(".start")},e.createElement("div",{className:"aXoIG"},e.createElement(AX,{shouldShowDownloadOverlay:w,isCard:!1,isLocked:b,thumbnailPath:v})),e.createElement(Yb.Main,null,e.createElement(zs,{type:"body"},e.createElement(ru,null,n)),e.createElement(zs,{type:"body",variant:"dimmest"},e.createElement(ru,null,F)),e.createElement("div",{className:"uwvoa"},e.createElement(t.Mount,{when:y},e.createElement(ux,{role:"neutral100"},g(".imported"))),!u&&e.createElement(e.Fragment,null,e.createElement(CX,null),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"captionShort",variant:"dimmest"},e.createElement(ru,null,S)),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"captionShort",variant:"dimmest"},e.createElement(ru,null,C)))))),e.createElement(t.Mount,{when:M},e.createElement(Yb.AdditionalAction,{narrationText:k,onClick:f,inputLegend:g(".rate")},e.createElement(FX,null),e.createElement(Yc,{size:2}),e.createElement(zs,{type:"captionShort"},e.createElement(ru,null,g(".rate"))))))))}function _X(){const{t:n}=Tp("StartFromTemplateRoute.Featured"),{t:a}=Tp("StartFromTemplateRoute.getMoreButton"),{t:r}=Tp("PlayScreen.guestAccountPlatformModal"),{t:l}=Tp("PlayScreen.templateScreenNotAvailableInPreview"),o=u(),i=gR(),c=Ko(),s=LS(),d="narrow"===c,m=a(".title"),p=a(".body"),f=(0,t.useSharedFacet)(el),g=(0,t.useSharedFacet)(dE),E=(0,t.useSharedFacet)(Dg),h=(0,t.useFacetMap)((e=>e.isOnline),[],[f]),b=(0,t.useFacetMap)((e=>e.featuredWorldTemplates),[],[g]),v=(0,t.useFacetMap)((e=>e.seeMoreFeaturedRouteData),[],[g]),F=(0,t.useFacetMap)(((e,t,n)=>e?AM(n.platform)&&!t.isSignedInPlatformNetwork?"guest-account-playstation":NM(n.platform)&&!t.isSignedInPlatformNetwork?"guest-account-nintendo":"tab-content":"offline"),[],[h,E,f]),y=(0,t.useFacetMap)((e=>e.refreshTaskState),[],[g]),S=(0,t.useFacetMap)((e=>e===rM.RUNNING),[],[y]),C=(0,t.useFacetCallback)((e=>()=>{s({button:"WantMore",screen:pX.FeaturedCreatorsTab}),o.push(`/marketplace?title=${e.title}&pageId=${e.pageId}`)}),[o,s],[v]);return e.createElement(e.Fragment,null,e.createElement(Ps,{text:n(".role")+" . "+n(".title")},e.createElement(Fl,{data:F},(t=>{switch(t){case"guest-account-playstation":return e.createElement(fX,null,e.createElement(YP,{text:r(".textPlaystation"),title:l(".title")}));case"guest-account-nintendo":return e.createElement(fX,null,e.createElement(YP,{text:r(".textNintendo"),title:l(".title")}));case"offline":return e.createElement(fX,null,e.createElement(YP,{text:n(".noInternetMessage")}));default:return e.createElement(e.Fragment,null,e.createElement(kA,{loading:S,firstRowSeparatorVertical:e.createElement(BX,null),footer:e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement(Yx,{titleText:m,bodyText:p,onClick:C}),e.createElement(Yc,{size:2})),data:b,columns:d?1:3,itemSeparatorHorizontal:d?null:e.createElement(Yc,{size:2}),itemSeparatorVertical:d?null:e.createElement(Yc,{size:1}),renderItem:({itemFacet:t,index:n,listLengthFacet:a})=>e.createElement(DX,{templateData:t,index:n,numberOfTemplates:a,isNarrow:d}),innerRef:i}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))}}))),e.createElement(dh,{type:"contentful",renderingCompleted:!0}))}function DX({templateData:n,index:a,numberOfTemplates:r,isNarrow:l}){const o=u(),i=(0,t.useFacetMap)((e=>e.name),[],[n]),c=(0,t.useFacetMap)((e=>e.creator),[],[n]),s=(0,t.useFacetMap)((e=>e.thumbnailPath),[],[n]),d=(0,t.useFacetMap)((e=>e.ratingData),[],[n]),m=(0,t.useFacetCallback)((e=>()=>{o.push(`/marketplace?productId=${e.id}`)}),[o],[n]);return l?e.createElement(LX,{name:i,creator:c,thumbnailPath:s,ratingData:d,narrationIndex:a,containerListLength:r,onAction:m}):e.createElement(NX,{name:i,creator:c,thumbnailPath:s,ratingData:d,narrationIndex:a,containerListLength:r,onAction:m})}function BX(){return e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(gX,{tab:fR.Featured}),e.createElement(Yc,{size:2}))}const WX=()=>{const{t:e}=Tp("StartFromTemplateRoute.useTemplateOperations"),n=u(),a=(0,t.useSharedFacet)(EE),r=(0,t.useSharedFacet)(_p),l=LS(),o=(0,t.useFacetMap)((e=>e.importingTaskState),[],[a]),i=(0,t.useFacetMap)((e=>e.downloadingTaskState),[],[a]),c=oM(((t,n)=>function*(){l({button:"Import",screen:pX.OwnedByMeTab}),t.importWorldTemplate(),yield o,n.queueSnackbar(e(".importNotification")),t.resetImportTask()}),[o,e,l],[a,r]);return{importTemplate:c,downloadTemplate:oM((e=>function*(t,a){e.downloadWorldTemplate(t),yield i,e.resetDownloadTask(),n.push(`/create-new-world/general/${a}`)}),[i,n],[a])}},UX=n.p+"assets/marketplace-pass-image-sm-92c88.png",zX=n.p+"assets/marketplace-pass-image-260a8.png";function jX(){const{t:n}=Tp("StartFromTemplateRoute.MarketplacePass"),{t:a}=Tp("StartFromTemplateRoute.getMoreButton"),{t:r}=Tp("PlayScreen.guestAccountPlatformModal"),{t:l}=Tp("PlayScreen.templateScreenNotAvailableInPreview"),o=u(),i=gR(),c=Ko(),s=LS(),d=bE("vanilla.marketplace.discovery.prod"),m="narrow"===c,p=n(".NoTemplatesMessage.title"),f=n(".NoTemplatesMessage.description"),g=a(".title"),E=a(".body"),h={text:n(".NoTemplatesMessage.button"),onClick:()=>o.push("/settings/discovery_debug"),variant:"primary"},b=(0,t.useSharedFacet)(Ip),v=(0,t.useSharedFacet)(Dg),F=(0,t.useSharedFacet)(el),y=(0,t.useFacetMap)((e=>e.isOnline),[],[F]),S=(0,t.useFacetMap)((e=>e.marketplacePassWorldTemplates),[],[b]),C=(0,t.useFacetMap)((e=>e.seeMoreMarketplacePassRouteData),[],[b]),M=(0,t.useFacetMap)((({isRealmsPlusSubscriptionActive:e,isMarketplacePassSubscriptionActive:t})=>!e&&!t),[],[v]),w=(0,t.useFacetMap)(((e,t,n)=>e?AM(n.platform)&&!t.isSignedInPlatformNetwork?"guest-account-playstation":NM(n.platform)&&!t.isSignedInPlatformNetwork?"guest-account-nintendo":d?"tab-content":"non-production-marketplace-environment":"offline"),[d],[y,v,F]),k=(0,t.useFacetMap)((e=>e.refreshTaskState),[],[b]),T=(0,t.useFacetMap)((e=>e===rM.RUNNING),[],[k]),x=(0,t.useFacetCallback)((e=>()=>{s({button:"WantMore",screen:pX.MarketplacePassTab}),o.push(`/marketplace?title=${e.title}&pageId=${e.pageId}`)}),[o,s],[C]);return e.createElement(e.Fragment,null,e.createElement(Ps,{text:n(".role")+" . "+n(".title")},e.createElement(Fl,{data:w},(t=>{switch(t){case"guest-account-playstation":return e.createElement(fX,null,e.createElement(YP,{text:r(".textPlaystation"),title:l(".title")}));case"guest-account-nintendo":return e.createElement(fX,null,e.createElement(YP,{text:r(".textNintendo"),title:l(".title")}));case"offline":return e.createElement(fX,null,e.createElement(YP,{text:n(".noInternetMessage")}));case"non-production-marketplace-environment":return e.createElement(fX,null,e.createElement(GE,{title:p,text:f,buttons:[h]}));default:return e.createElement(e.Fragment,null,e.createElement(kA,{loading:T,firstRowSeparatorVertical:e.createElement(VX,{isNotSubscribed:M}),footer:e.createElement(e.Fragment,null,e.createElement(Yc,{size:1}),e.createElement(Yx,{titleText:g,bodyText:E,onClick:x}),e.createElement(Yc,{size:2})),data:S,columns:m?1:3,itemSeparatorHorizontal:m?null:e.createElement(Yc,{size:2}),itemSeparatorVertical:m?null:e.createElement(Yc,{size:1}),renderItem:({itemFacet:t,index:n,listLengthFacet:a})=>e.createElement(HX,{templateData:t,index:n+1,numberOfTemplates:a,isLocked:M,isNarrow:m}),innerRef:i}),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))}}))),e.createElement(dh,{type:"contentful",renderingCompleted:!0}))}function HX({templateData:n,index:a,numberOfTemplates:r,isLocked:l,isNarrow:o}){const i=u(),{downloadTemplate:c}=WX(),s=(0,t.useFacetMap)((e=>e.name),[],[n]),d=(0,t.useFacetMap)((e=>e.creator),[],[n]),m=(0,t.useFacetMap)((e=>e.thumbnailPath),[],[n]),p=(0,t.useFacetMap)((e=>e.ratingData),[],[n]),f=(0,t.useFacetCallback)(((e,t)=>()=>{t?i.push(`/marketplace?productId=${e.id}`):e.isInstalled?i.push(`/create-new-world/general/${e.packId}`):c(e.id,e.packId)}),[c,i],[n,l]);return o?e.createElement(LX,{name:s,creator:d,thumbnailPath:m,ratingData:p,isPremium:!0,isLocked:l,narrationIndex:a,containerListLength:r,onAction:f}):e.createElement(NX,{name:s,creator:d,thumbnailPath:m,ratingData:p,isPremium:!0,isLocked:l,narrationIndex:a,containerListLength:r,onAction:f})}function VX({isNotSubscribed:n}){const{t:a}=Tp("StartFromTemplateRoute.MarketplacePass"),r=ta(),l=NI(AI.TEMPLATES),o="narrow"===Ko();return e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(Fl,{data:n},(n=>n?e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:l},e.createElement(e.Fragment,null,e.createElement(L_,{location:O_.TemplatesScreen_MarketplacePass}),e.createElement(Yc,{size:2}))),e.createElement(ic.Maybe,{isInteractive:r,narrationText:a(".imageNarration")+" . "+a(".imageRole")},e.createElement(Rc,{imageRendering:"pixelated",src:o?UX:zX,aspectRatio:o?{height:90,width:490}:{height:65,width:475}}))):e.createElement(gX,{tab:fR.MarketplacePass}))),e.createElement(Yc,{size:2}))}let GX,$X;!function(e){e[e.NAME_AZ=1]="NAME_AZ",e[e.NAME_ZA=2]="NAME_ZA"}(GX||(GX={})),function(e){e[e.SHOW_ALL=1]="SHOW_ALL",e[e.MARKETPLACE=2]="MARKETPLACE",e[e.DOWNLOADED=3]="DOWNLOADED",e[e.IMPORTED=4]="IMPORTED"}($X||($X={}));const KX=GX.NAME_AZ,XX=$X.SHOW_ALL,YX=n.p+"assets/no-filtered-templates-91571.png";function qX(){const{t:n}=Ii("StartFromTemplateRoute.NoFilteredTemplatesMessage"),a=gh({wide:8,narrow:6,width:256}),r=(0,t.useFacetMap)((e=>e?"TJ2sb":"pCGKv"),[],[a]);return e.createElement(GE,{title:n(".title"),text:n(".message"),imgSrc:YX,imgClass:r})}const QX=function({searchTerm:t,onSearchTermChange:n}){const{t:a}=Tp("StartFromTemplateRoute.OwnedByMe");return e.createElement(cu,{"data-testid":"owned-by-me-search-field-id",value:t,placeholder:a(".searchBar"),placeholderIcon:iu.MagnifyingGlass,narrationText:a(".searchBar"),onChange:n,onBlur:n,shouldBlurOnEscape:!0,shouldBlurOnEnter:!0})},JX=function({ownedTemplatesList:n,selectedFilterOption:a,handleFilterChange:r}){const{t:l}=Tp("StartFromTemplateRoute.OwnedByMe.Filters"),o=(0,t.useFacetMap)((e=>String(e.length)),[],[n]),i=(0,t.useFacetMemo)((e=>String(e.filter((e=>e.ownedWorldTemplateData.isPremium)).length)),[],[n]),c=(0,t.useFacetMemo)((e=>String(e.filter((e=>e.ownedWorldTemplateData.isPremium&&e.ownedWorldTemplateData.isInstalled)).length)),[],[n]),s=(0,t.useFacetMemo)((e=>String(e.filter((e=>!e.ownedWorldTemplateData.isPremium)).length)),[],[n]),u=(0,t.useFacetMemo)(((e,t,n,a)=>[{label:l(".showAll",[e]),value:$X.SHOW_ALL,enumeration:l(".optionEnumeration",["1","4"])},{label:l(".downloaded",[n]),value:$X.DOWNLOADED,enumeration:l(".optionEnumeration",["2","4"])},{label:l(".imported",[a]),value:$X.IMPORTED,enumeration:l(".optionEnumeration",["3","4"])},{label:l(".marketplace",[t]),value:$X.MARKETPLACE,enumeration:l(".optionEnumeration",["4","4"])}]),[l],[o,i,c,s]);return e.createElement(lB,{title:l(".filterTitle"),options:u,value:a,onItemSelect:r,buttonTestId:"filter-dropdown-button",matchButtonHeight:!0})},ZX=function({selectedSortOption:t,handleSortChange:n}){const{t:a}=Tp("StartFromTemplateRoute.OwnedByMe.Filters"),r=(0,e.useMemo)((()=>[{label:a(".nameAZ"),value:GX.NAME_AZ,enumeration:a(".optionEnumeration",["1","2"]),narrationText:a(".nameAZ.narration")},{label:a(".nameZA"),value:GX.NAME_ZA,enumeration:a(".optionEnumeration",["2","2"]),narrationText:a(".nameZA.narration")}]),[a]);return e.createElement(lB,{title:a(".sortingTitle"),options:r,value:t,onItemSelect:n,buttonTestId:"sort-dropdown-button",matchButtonHeight:!0})},eY=function({Filter:t,Sort:n,ImportButton:a,SearchField:r,showImportButtonFacet:l}){const o="desktop"===Ko()?"IzKGH":"tkDJ7";return e.createElement(Fl,{data:l},(l=>l?e.createElement(e.Fragment,null,e.createElement("div",{className:o},e.createElement(UE.Column,{wideSize:6,narrowSize:4},r),e.createElement(UE.Column,{wideSize:6,narrowSize:4},a)),e.createElement(Yc,{size:2}),e.createElement("div",{className:o},e.createElement(UE.Column,{wideSize:6,narrowSize:4},t),e.createElement(UE.Column,{wideSize:6,narrowSize:4},n))):e.createElement("div",{className:o},e.createElement(UE.Column,{wideSize:4,narrowSize:4},r),e.createElement(UE.Column,{wideSize:4,narrowSize:2},t),e.createElement(UE.Column,{wideSize:4,narrowSize:2},n))))},tY=_i((({onClose:t})=>{const{t:n}=Ii("StartFromTemplateRoute.OwnedByMe.downloadUnavailableModal"),a=n(".title"),r=n(".message"),l=n(".goBack");return e.createElement(Ld,null,e.createElement(Ld.Header,null,a),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:r,center:!0},r)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{inputLegend:l,variant:"secondary",onClick:t},l)))})),nY=_i((()=>{const{t}=Ii("StartFromTemplateRoute.OwnedByMe.ImportTemplateModal"),n=t(".title");return e.createElement(Ld,null,e.createElement(Ld.Header,null,n),e.createElement(Ld.Content,null,e.createElement(Ld.Spinner,null)))})),aY=n.p+"assets/no-content-art-f5417.png";function rY({importTemplate:n}){const{t:a}=Ii("StartFromTemplateRoute.noContentMessage"),r=u(),l=(0,t.useSharedFacet)(el),o=(0,t.useFacetMap)((e=>_M(e.platform,e.arvrPlatform)),[],[l]),i=(0,e.useCallback)((()=>{r.push("/marketplace")}),[r]),c=(0,t.useFacetMemo)((e=>e?[{text:a(".goToMarketplaceButton"),inputLegend:a(".goToMarketplaceButton"),onClick:i},{text:a(".importButton"),inputLegend:a(".importButton"),imgSrc:mR,onClick:n}]:[{text:a(".goToMarketplaceButton"),inputLegend:a(".goToMarketplaceButton"),onClick:i}]),[i,n,a],[o]),s=fh({wide:8,narrow:6,width:256});return e.createElement(GE,{title:a(".title"),text:a(".message"),imgSrc:aY,imgClass:s?"LwVZ5":"jLAoa",buttons:c})}const lY=n.p+"assets/trial-mode-modal-art-3fb6d.png",oY={pixelArt:"GtOwO"},iY="trial-mode-modal-template-screen",cY=_i((({onClose:t})=>{const{t:n}=Ii("StartFromTemplateRoute.TrialModeModal"),a=jM(),r=(0,e.useCallback)((()=>{a(),t()}),[a,t]);return e.createElement(Ld,{defaultFocusAlias:iY},e.createElement(Ld.Header,{onClose:t},n(".title")),e.createElement(Ld.Content,{className:oY.content},e.createElement(Yc,{size:4}),e.createElement(Rc,{src:lY,imageRendering:"pixelated",className:oY.pixelArt}),e.createElement(Ld.Text,{narrationText:n(".message"),center:!0},n(".message"))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:iY,inputLegend:n(".button"),onClick:r,variant:"primary"},n(".button"))))}));function sY(){const{t:n}=Ii("StartFromTemplateRoute.OwnedByMe"),a=Ko(),r=gR(),l=tY.useModal(),o=nY.useModal(),i=cY.useModal(),c=d(),{delegationEventFacet:s,delegateFocus:u}=yc(),m=(0,e.useRef)(null),p="narrow"===a,{sortTemplates:f,filterTemplates:g,selectedSortOption:E,selectedFilterOption:h,handleSortChange:b,handleFilterChange:v}=(()=>{const[n,a]=(0,t.useFacetState)(KX),[r,l]=(0,t.useFacetState)(XX),o=d();(0,t.useFacetEffect)((e=>{e||(a(KX),l(XX))}),[l,a],[o]);const i=(0,e.useCallback)((e=>{a(e)}),[a]),c=(0,e.useCallback)((e=>{l(e)}),[l]);return{selectedSortOption:n,selectedFilterOption:r,sortTemplates:(0,e.useCallback)(((e,t)=>e.sort(((e,n)=>{const a=e.ownedWorldTemplateData,r=n.ownedWorldTemplateData;switch(t){case GX.NAME_AZ:return a.name.localeCompare(r.name);case GX.NAME_ZA:return r.name.localeCompare(a.name);default:return 0}}))),[]),filterTemplates:(0,e.useCallback)(((e,t)=>e.filter((e=>{const n=e.ownedWorldTemplateData;switch(t){case $X.MARKETPLACE:return n.isPremium;case $X.DOWNLOADED:return n.isPremium&&n.isInstalled;case $X.IMPORTED:return!n.isPremium;case $X.SHOW_ALL:default:return!0}}))),[]),handleSortChange:i,handleFilterChange:c}})(),{importTemplate:F}=WX(),{narrateText:y}=Fs({interruptible:!1}),[S,C]=(0,t.useFacetState)(""),[M,w]=(0,t.useFacetState)(!1),[k,T]=(0,t.useFacetState)(9),x=(0,t.useSharedFacet)(mE),I=(0,t.useSharedFacet)(EE),P=(0,t.useSharedFacet)(el),O=(0,t.useSharedFacet)(_p),A=(0,t.useFacetMap)((e=>e.isOnline),[],[P]),N=(0,t.useFacetMemo)((e=>e.ownedTemplateWorldList.filter((e=>!e.ownedWorldTemplateData.isLocked))),[],[x]),R=(0,t.useFacetMap)((e=>0===e.length),[],[N]),L=(0,t.useFacetMap)(((e,t)=>e&&!t?"offline":e?"no-templates":"tab-details"),[],[R,A]),_=(0,t.useFacetMemo)(((e,t,n,a)=>{const r=g(e,n),l=f(r,a);return""!=t?l.filter((e=>e.ownedWorldTemplateData.name.toLowerCase().includes(t.toLowerCase()))):l}),[g,f],[N,S,h,E]),D=(0,t.useFacetMap)((e=>e.length),[],[_]),B=(0,t.useFacetMap)(((e,t)=>e.slice(0,t)),[],[_,k]),W=(0,t.useFacetMap)((e=>e.length),[],[B]),U=(0,t.useFacetMap)((e=>0==e.length),[],[_]),z=(0,t.useFacetMap)((e=>_M(e.platform,e.arvrPlatform)),[],[P]),j=(0,t.useFacetCallback)((e=>()=>{e?i.show():F()}),[F,i],[(0,t.useSharedFacet)(Bg)]),H=(0,t.useFacetMap)((e=>e?[{text:n(".importButtonOffline"),inputLegend:n(".importButtonOffline"),imgSrc:mR,onClick:j}]:[]),[n,j],[z]),V=(0,t.useFacetMap)((e=>e.importingTaskState===rM.RUNNING),[],[I]),G=(0,t.useFacetMap)((e=>_M(e.platform,e.arvrPlatform)),[],[P]),$=(0,t.useFacetCallback)(((e,t,a)=>()=>{if(!e)return;w(!1);const r=t.length,l=[n(".searchResult.name"),n(".searchResult.role")];""===a?l.push(n(".searchResult.hint.cleared")):0===r?l.push(n(".searchResult.hint.noResult")):1===r?l.push(n(".searchResult.hint.oneResult")):r>1&&l.push(n(".searchResult.hint.multiResult",[`${r}`])),y(l.join(" . "))}),[y,w,n],[M,_,S]),K=(0,t.useFacetCallback)((()=>e=>{C(e),w(!0),$()}),[$,C,w],[]),X=(0,e.useCallback)((({children:t})=>e.createElement(Cc,{delegationEvent:s},e.createElement(Pc,{containerRef:m,delegateFocusFromMemory:!0},e.createElement("div",{ref:m},t)))),[m,s]),Y=(0,e.useMemo)((()=>{switch(a){case"desktop":return e.createElement(Yc,{size:4});case"tablet":return e.createElement(Yc,{size:2});default:return null}}),[a]);return(0,e.useEffect)((()=>{$()}),[$]),(0,t.useFacetEffect)((e=>{e?o.show():o.hide()}),[o],[V]),(0,t.useFacetEffect)((e=>{e||T(9)}),[T],[c]),(0,t.useFacetEffect)(((e,t)=>{t.importingTaskResult===fE.Cancelled&&(e.queueSnackbar(n(".importCancelled")),t.resetImportTask())}),[n],[O,I]),e.createElement(e.Fragment,null,e.createElement(Ps,{text:n(".role")+" . "+n(".title")},e.createElement(Fl,{data:L},(a=>{switch(a){case"offline":return e.createElement(fX,null,e.createElement(YP,{text:n(".noInternetMessage"),buttons:H}));case"no-templates":return e.createElement(fX,null,e.createElement(rY,{importTemplate:j}));default:return e.createElement(e.Fragment,null,e.createElement(dY,{showImportButton:G,searchTerm:S,ownedTemplatesList:N,selectedSortOption:E,selectedFilterOption:h,handleSortChange:b,handleFilterChange:v,importTemplate:j,onSearchTermChange:K}),e.createElement(kA,{data:B,columns:p?1:3,firstRowSeparatorVertical:e.createElement(Yc,{size:1}),itemSeparatorHorizontal:Y,itemSeparatorVertical:p?null:e.createElement(Yc,{size:1}),footer:e.createElement(t.Mount,{when:U,condition:!1},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(mY,{totalTemplatesCount:D,visibleTemplatesCount:W,scrollViewRef:r,delegateFocus:u,setTemplatesCountAllowedToBeShown:T}))),listWrapper:X,renderItem:({itemFacet:t,index:n,listLengthFacet:a})=>e.createElement(uY,{templateData:t,index:n,numberOfTemplates:a,showDownloadUnavailableModal:l.show}),innerRef:r,emptyMessage:e.createElement(qX,null)}),e.createElement(t.Mount,{when:l.isVisible},e.createElement(tY.Component,{onClose:l.hide})),e.createElement(t.Mount,{when:i.isVisible},e.createElement(cY.Component,{onClose:i.hide})),e.createElement(t.Mount,{when:o.isVisible},e.createElement(nY.Component,null)),e.createElement(dh,{type:"meaningful",renderingCompleted:!0}))}}))),e.createElement(dh,{type:"contentful",renderingCompleted:!0}))}function uY({templateData:n,index:a,numberOfTemplates:r,showDownloadUnavailableModal:l}){const{downloadTemplate:o}=WX(),i=u(),c="narrow"===Ko(),s=(0,t.useSharedFacet)(el),d=(0,t.useFacetMap)((e=>e.ownedWorldTemplateData),[],[n]),m=(0,t.useFacetMap)((e=>e.name),[],[d]),p=(0,t.useFacetMap)((e=>e.creator),[],[d]),f=(0,t.useFacetMap)((e=>e.thumbnailPath),[],[n]),g=(0,t.useFacetMap)((e=>e.isInstalled),[],[d]),E=(0,t.useFacetMap)((e=>e.isPremium),[],[d]),h=(0,t.useFacetMap)((e=>e.canBeRated),[],[n]),b=(0,t.useFacetMap)((e=>e.isOnline),[],[s]),v=(0,t.useFacetCallback)(((e,t,n)=>()=>{t?i.push(`/create-new-world/general/${e.localId}`):n?o(e.marketplaceId,e.localId):l()}),[o,i,l],[d,g,b]),F=(0,t.useFacetCallback)((e=>()=>{i.push(`/marketplace?packId=${e.localId}&focusRateSection`)}),[i],[d]);return e.createElement(e.Fragment,null,c?e.createElement(LX,{name:m,creator:p,thumbnailPath:f,narrationIndex:a,containerListLength:r,onAction:v,onAdditionalAction:F,isPremium:E,isInstalled:g,isRateable:h,isOwnedByMeTab:!0}):e.createElement(NX,{name:m,creator:p,thumbnailPath:f,narrationIndex:a,containerListLength:r,onAction:v,onAdditionalAction:F,isPremium:E,isInstalled:g,isRateable:h,isOwnedByMeTab:!0}))}function dY({showImportButton:t,searchTerm:n,ownedTemplatesList:a,selectedSortOption:r,selectedFilterOption:l,handleSortChange:o,handleFilterChange:i,importTemplate:c,onSearchTermChange:s}){const{t:u}=Ii("StartFromTemplateRoute.OwnedByMe"),d="narrow"===Ko(),m=(0,e.useMemo)((()=>e.createElement(JX,{ownedTemplatesList:a,selectedFilterOption:l,handleFilterChange:i})),[a,l,i]),p=(0,e.useMemo)((()=>e.createElement(ZX,{selectedSortOption:r,handleSortChange:o})),[r,o]),f=(0,e.useMemo)((()=>e.createElement(Pu,{onClick:c,imgSrc:mR,inputLegend:u(".importButton")},u(".importButton"))),[c,u]),g=(0,e.useMemo)((()=>e.createElement(QX,{onSearchTermChange:s,searchTerm:n})),[s,n]);return e.createElement(e.Fragment,null,!d&&e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(gX,{tab:fR.OwnedByMe})),e.createElement(Yc,{size:2}),e.createElement(eY,{Filter:m,ImportButton:f,SearchField:g,Sort:p,showImportButtonFacet:t}),e.createElement(Yc,{size:2}))}function mY({totalTemplatesCount:n,visibleTemplatesCount:a,scrollViewRef:r,delegateFocus:l,setTemplatesCountAllowedToBeShown:o}){const{t:i}=Ii("StartFromTemplateRoute.OwnedByMe"),c=i(".Footer.backToTop"),s=i(".Footer.loadMoreResults"),u=(0,e.useRef)(null),d=(0,t.useFacetMap)(((e,t)=>t<e),[],[n,a]),m=(0,t.useFacetMap)((e=>e>9),[],[a]),p=(0,t.useFacetMap)(((e,t)=>e&&t),[],[m,d]),f=(0,t.useFacetMap)((e=>e?i(".Footer.buttonEnumeration",["1","2"]):""),[i],[p]),g=(0,t.useFacetMap)((e=>e?i(".Footer.buttonEnumeration",["2","2"]):""),[i],[p]),E=(0,e.useCallback)((()=>{o((e=>e===t.NO_VALUE?e:e+9)),l.memory()}),[o,l]),h=(0,t.useFacetCallback)((e=>()=>{r.current&&(e&&(r.current.scrollTop=0),l.first())}),[l,r],[at()]);return e.createElement(Pc,{containerRef:u},e.createElement("div",{className:"n_hs_",ref:u},e.createElement(t.Mount,{when:m},e.createElement(Pu,{horizontal:!0,narrationSuffix:f,inputLegend:c,onClick:h},c)),e.createElement(t.Mount,{when:p},e.createElement(Yc,{size:2})),e.createElement(t.Mount,{when:d},e.createElement(Pu,{horizontal:!0,narrationSuffix:g,inputLegend:s,onClick:E},s))),e.createElement(Yc,{size:2}))}function pY({item:n}){const{t:a}=Ii("StartFromTemplateRoute.SideMenu"),r=u(),l=m(),o=(0,t.useFacetMap)((e=>e.label),[],[n]),i=(0,t.useFacetMap)((e=>e.value),[],[n]),c=(0,t.useFacetMap)(((e,t)=>e.value==t.tab),[],[n,l]),s=(0,t.useFacetCallback)((e=>()=>{r.replace(`/start-from-template/${e}`)}),[r],[i]);return e.createElement(vv.ListItem,{narrationText:o,value:i,onSelect:s,inputLegend:a(".inputLegend"),selected:c},e.createElement(zs,{type:"body"},e.createElement(ru,null,o)))}function fY(){const{t:n}=Ii("StartFromTemplateRoute.SideMenu"),a=(0,Ii("SideMenu").t)(".narrationRoleMenu"),r=(0,t.useSharedFacet)(mE),l=(0,t.useFacetWrap)(bE(Qm)),o=(0,t.useFacetMemo)((e=>n(".ownedByMe",[String(e.ownedTemplateWorldList.filter((e=>!e.ownedWorldTemplateData.isLocked)).length)])),[n],[r]),i=(0,t.useFacetMap)((e=>[{label:n(".marketplacePass"),value:fR.MarketplacePass},{label:n(".featured"),value:fR.Featured},{label:e,value:fR.OwnedByMe}]),[n],[o]),c=dR("Template");return e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(vv,{role:"neutralAlpha60",narrationRole:a,spacingAroundSideMenu:e.createElement(e.Fragment,null),hideInputLegendSpace:!0},e.createElement(t.Mount,{when:l},e.createElement(e.Fragment,null,e.createElement(vv.Item,null,e.createElement(Pu,{onClick:c,inputLegend:n(".cnwButton"),variant:"primary"},n(".cnwButton"))),e.createElement(Yc,{size:2}))),e.createElement(vv.ItemList,{items:i,renderItem:pY}),e.createElement("div",{className:"LVVPa"}),e.createElement(DP,{tab:"template",borderless:!0,transparent:!0})))}const gY=_i((()=>{const{t}=Ii("StartFromTemplateRoute.InitializationModal");return e.createElement(Ld,null,e.createElement(Ld.Header,null,t(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:t(".message")},t(".message"))))})),EY=_i((({hideCloseButton:n,onClose:a})=>{const r=(0,t.useSharedFacet)(EE),{t:l}=Ii("StartFromTemplateRoute.DownloadModal"),o=(0,t.useFacetMap)((e=>e.downloadingProgressPercent),[],[r]),i=(0,t.useFacetMap)((e=>`${e.downloadingProgressBytes} / ${e.downloadTotalBytes}`),[],[r]);return e.createElement(Ld,null,e.createElement(Ld.Header,{hideCloseButton:n,onClose:a},l(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.InformativeProgress,{percentage:o,label:i})))})),hY=_i((()=>{const n=(0,t.useSharedFacet)(EE),{t:a}=Ii("StartFromTemplateRoute.InstallModal"),r=(0,t.useFacetMap)((e=>e.downloadingProgressPercent),[],[n]);return e.createElement(Ld,null,e.createElement(Ld.Header,null,a(".title")),e.createElement(Ld.Content,null,e.createElement(Ld.Progress,{percentage:r})))}));function bY(e,t){if(null!=e)switch(e){case fE.MalformedZip:return"MalformedZip";case fE.Duplicate:return"Duplicate";default:return"GenericError"}else switch(t){case gE.DownloadFailed:return"DownloadFailed";case gE.InsufficientStorage:return"InsufficientStorage";default:return"GenericError"}}const vY=_i((()=>{const{t:n}=Ii("StartFromTemplateRoute.TemplateOperationsErrorModal"),a=u(),r=(0,t.useSharedFacet)(EE),l=(0,t.useFacetMap)((e=>e.importingTaskResult),[],[r]),o=(0,t.useFacetMap)((e=>e.downloadingTaskResult),[],[r]),i=(0,t.useFacetMap)(((e,t)=>n(`.title.${bY(e,t)}`)),[n],[l,o]),c=(0,t.useFacetMap)(((e,t)=>n(`.description.${bY(e,t)}`)),[n],[l,o]),s=(0,t.useFacetMap)(((e,t)=>n(`.button.${bY(e,t)}`)),[n],[l,o]),d=(0,t.useFacetCallback)((e=>()=>{e.resetDownloadTask(),e.resetImportTask()}),[],[r,o]),m=(0,t.useFacetCallback)((e=>()=>{d(),e===gE.InsufficientStorage&&a.push("/settings/marketplace_debug")}),[a,d],[o]);return e.createElement(Ld,null,e.createElement(Ld.Header,{onClose:d},i),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:c,center:!0},c)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:"template-operations-error-modal-button",inputLegend:s,variant:"secondary",onClick:m},s)))})),FY=()=>{const n=(0,t.useSharedFacet)(EE),a=(0,t.useFacetMap)((e=>e.downloadingStatus),[],[n]),r=(0,t.useFacetMap)((e=>e===pE.Initialising),[],[a]),l=(0,t.useFacetMap)((e=>e===pE.Downloading),[],[a]),o=(0,t.useFacetMap)((e=>e===pE.Importing),[],[a]),i=(0,t.useFacetMap)((e=>!e.canDownloadBeCancelled),[],[n]),c=(0,t.useFacetMap)((e=>e.importingTaskResult),[],[n]),s=(0,t.useFacetMap)((e=>e.downloadingTaskResult),[],[n]),u=(0,t.useFacetMap)(((e,t)=>null!=e&&e!==fE.Cancelled||null!=t),[],[c,s]),d=(0,t.useFacetCallback)((e=>()=>{e.cancelDownload(),e.resetDownloadTask()}),[],[n]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:r},e.createElement(gY.Component,null)),e.createElement(t.Mount,{when:l},e.createElement(EY.Component,{hideCloseButton:i,onClose:d})),e.createElement(t.Mount,{when:o},e.createElement(hY.Component,null)),e.createElement(t.Mount,{when:u},e.createElement(vY.Component,null)))};function yY(){const{t:n}=Ii("StartFromTemplateRoute"),a="narrow"===Ko(),r=(0,t.useSharedFacet)(Ip),l=(0,t.useSharedFacet)(dE),o=(0,t.useFacetCallback)(((e,t)=>()=>{e.refreshOffers(),t.refreshOffers()}),[],[r,l]),i=(0,t.useFacetCallback)(((e,t)=>()=>{e.clearRefreshTaskState(),t.clearRefreshTaskState()}),[],[r,l]);return(0,e.useEffect)((()=>(o(),()=>{i()})),[o,i]),e.createElement(NO,{gamepadAlias:"start-from-template",title:n(".title"),screenAnalyticsId:"StartFromTemplate"},(()=>e.createElement(UE,null,e.createElement(UE.Row,{fullHeight:!0},e.createElement(UE.Column,{wideSize:4,narrowSize:3},e.createElement(ys,{floating:!0},e.createElement(fY,null))),e.createElement(UE.Column,{wideSize:8,narrowSize:5},e.createElement("div",{className:Or()("wicxF",{kBm0K:a})},e.createElement(ph,{route:fR.MarketplacePass,Component:jX,wideSize:12,narrowSize:8}),e.createElement(ph,{route:fR.Featured,Component:_X,wideSize:12,narrowSize:8}),e.createElement(ph,{route:fR.OwnedByMe,Component:sY,wideSize:12,narrowSize:8})))),e.createElement(wd.Space,null),e.createElement(FY,null))))}const SY=n.p+"assets/realms-plus-banner-image-74c84.png",CY=n.p+"assets/realms-core-banner-image-d960f.png",MY=n.p+"assets/minecraft-realms-logo-5a448.png",wY=_i((({title:n,body:a,onClose:r})=>{const l="realm-purchase-error-close",{t:o}=Ii("RealmsPurchaseSubscriptionRoute.ErrorModals"),i=Li(),c=(0,t.useFacetWrap)(n),s=(0,t.useFacetWrap)(a),u=(0,e.useCallback)((()=>{i(),r&&r()}),[i,r]);return e.createElement(Ld,{defaultFocusAlias:l},e.createElement(Ld.Header,{onClose:u},c),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{gamepadIndex:0,narrationText:s,center:!0},s)),e.createElement(Ld.Buttons,null,e.createElement(Pu,{gamepadAlias:l,inputLegend:o(".select"),variant:"secondary",onClick:u},o(".close"))))}));function kY(){const n=gr("neutral"),a=gr("neutral80"),{t:r}=Ii("RealmsPurchaseSubscriptionRoute"),l="narrow"===Ko(),o=(0,t.useSharedFacet)(Dp),i=(0,t.useSharedFacet)(Ug),c=m(),s=f(),u=(0,t.useSharedFacet)(nf),d=(0,t.useSharedFacet)(Dg),p=(0,t.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,"")}),[],[u,d]);p();const g=(0,t.useFacetMap)((e=>"core"!=e.subscription),[],[c]),E=(0,t.useFacetMap)((e=>"plus-free-trial"==e.subscription),[],[c]),h=UP(),[b,v]=(0,t.useFacetState)("");(0,t.useFacetEffect)((e=>{const t=e.get("realmName");null!=t&&v(t)}),[v],[s]);const[F,y]=(0,t.useFacetState)(!1),S=(0,t.useFacetMap)((e=>!e),[],[F]),C=(0,t.useFacetMap)((e=>e?"":r(".checkboxUncheckedHint")),[r],[F]),M=(0,t.useFacetMap)((e=>e?"":[r(".purchaseButton.disabled"),r(".purchaseButton.disabled.hint")].join(" . ")),[r],[F]),w=(0,t.useFacetMap)((e=>{let t="";return null!=e?(""!==e.data.xblName&&(t=e.data.xblName),e.state.xblState===ef.Loaded?r(".inputPlaceholder",[t]):""):""}),[r],[h]),k=(0,t.useFacetUnwrap)(w),T=(0,t.useFacetMap)(((e,t)=>t?e.plusSubscriptionTerms:e.coreSubscriptionTerms),[],[o,g]),x=(0,t.useFacetMap)(((e,t)=>t?e.plusSubscriptionTermsExtra:e.coreSubscriptionTermsExtra),[],[o,g]),I=(0,t.useFacetMap)((e=>""===e),[],[x]),P=(0,t.useFacetMap)(((e,t)=>t?e.plusSubscriptionPrice:e.coreSubscriptionPrice),[],[o,g]),O=(0,t.useFacetMap)(((e,t,n)=>null!=n.get("subscriptionId")?r(".heroButton.renew",[e]):t?r(".heroButton.trial"):r(".heroButton.create",[e])),[r],[P,E,s]),A=(0,t.useFacetMap)(((e,t)=>{if(null!=t.get("subscriptionId"))return r(".header.renew");switch(e.subscription){case"core":return r(".header.core");case"plus":return r(".header.plus");case"plus-free-trial":return r(".header.trial");default:return"title"}}),[r],[c,s]),N=(0,t.useFacetMap)((e=>{switch(e.subscription){case"core":return"Realms-Core";case"plus":return"Realms-Plus";case"plus-free-trial":return"Realms-Plus-Free-Trial"}}),[],[c]),R=(0,t.useFacetUnwrap)(N),L=(0,t.useFacetCallback)((e=>()=>{e.openLink(Wg.TermsAndServicePage)}),[],[i]),_=(0,t.useFacetCallback)((e=>()=>{e.openLink(Wg.PrivacyPolicyPage)}),[],[i]),D=(0,t.useSharedFacet)(If),B=(0,t.useFacetMap)((e=>e.state!=wf.IDLE&&e.state!=wf.FAILED&&e.state!=wf.COMPLETED),[],[D]),W=(0,t.useFacetMap)((e=>e.state===wf.FAILED),[],[D]),U=(0,t.useFacetMap)((e=>e.failureReason),[],[D]),z=(0,t.useFacetCallback)((e=>()=>e.cancel()),[],[D]),[j,H]=ZM(!1),V=(0,t.useFacetCallback)(((e,t,n,a,l,o)=>()=>{if(QM(l,n))H.show();else if(null!=t){let l=n;if(""===l&&t.state.xblState===ef.Loaded&&""!==t.data.xblName&&(l=r(".inputPlaceHolder",[t.data.xblName])),"plus-free-trial"===a.subscription)e.purchaseTrial(t.data.xuid,l);else{const n=o.get("subscriptionId");e.purchase(t.data.xuid,l,null!=n?n:"",Tf.OfferMonthly,"core"===a.subscription?xf.Offer2Player:xf.Offer10Player)}}}),[H,r],[D,h,b,c,(0,t.useSharedFacet)(df),s]),G=(0,t.useSharedFacet)(Rp),$=(0,t.useFacetCallback)((e=>t=>{e.joinRealmWorld(t)}),[],[G]);(0,t.useFacetEffect)((e=>{e.state===wf.COMPLETED&&$(e.getRecentlyPurchasedRealmId())}),[$],[D]);const K=(0,t.useFacetMap)(((e,t)=>{switch(e){case kf.INVALID_REALM_NAME:return r(".errorModals.invalidRealmName.title");case kf.FAILED_CLUB_NAME_VALIDATION:return r(".errorModals.failedClubNameValidation.title");case kf.OFFER_NOT_FOUND:return r(".errorModals.offerNotFound.title");case kf.OFFER_NOT_AVAILABLE_INCOMPLETE_DATA:return r(".errorModals.offerNotAvailableIncompleteData.title");case kf.OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED:switch(t.subscription){case"core":return r(".errorModals.offerNotAvailableAllOffersOccupied.core.title");case"plus":return r(".errorModals.offerNotAvailableAllOffersOccupied.plus.title");default:return r(".errorModals.offerNotAvailableAllOffersOccupied.trial.title")}default:return r(".errorModals.genericFailure.title")}}),[r],[U,c]),X=(0,t.useFacetMap)(((e,t)=>{switch(e){case kf.INVALID_REALM_NAME:return r(".errorModals.invalidRealmName.body");case kf.FAILED_CLUB_NAME_VALIDATION:return r(".errorModals.failedClubNameValidation.body");case kf.OFFER_NOT_FOUND:return r(".errorModals.offerNotFound.body");case kf.OFFER_NOT_AVAILABLE_INCOMPLETE_DATA:return r(".errorModals.offerNotAvailableIncompleteData.body");case kf.OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED:switch(t.subscription){case"core":return r(".errorModals.offerNotAvailableAllOffersOccupied.core.body");case"plus":return r(".errorModals.offerNotAvailableAllOffersOccupied.plus.body");default:return r(".errorModals.offerNotAvailableAllOffersOccupied.trial.body")}default:return r(".errorModals.genericFailure.body")}}),[r],[U,c]),Y=ta(),{narrateText:q}=Fs(),Q=(0,t.useFacetCallback)(((e,t)=>()=>{q(""===t?e:[e,t].join(" "))}),[q],[T,x]),J=(0,t.useFacetMap)(((e,t)=>[r(".inputLabel"),r(".inputLabel.role"),""===e?t:e,r(".inputLabel.hint")].join(" . ")),[r],[b,w]);return e.createElement(ar,{collection:VO},e.createElement(NO,{title:A,gamepadAlias:"realms-purchase-subscription",screenAnalyticsId:R!==t.NO_VALUE?R:""},(()=>e.createElement(UE,null,e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:12,narrowSize:8},e.createElement(ys,null,e.createElement(Yc,{size:2}),e.createElement("div",{className:Or()(n.border.base,"_naYc")},e.createElement(TY,{isPlus:g,isTrial:E,price:P,isNarrow:l}),e.createElement(nw,{label:r(".inputLabel"),onChange:v,placeholder:k!==t.NO_VALUE?k:"",value:b,onBlur:j,narrationOverride:J}),e.createElement(YS,{stackedButtons:l,title:r(".panelButton.title"),roleNarrationOverride:r(".panelButton.role"),buttons:e.createElement(e.Fragment,null,e.createElement(Pu,{onClick:L,inputLegend:r(".select"),imgSrc:Kj.imgSrc,horizontal:!l,narrationSuffix:r(".panelButton.enum",["1","2"])},r(".panelButton.termsAndConditions")),e.createElement(YS.ButtonSpacing,null),e.createElement(Pu,{onClick:_,inputLegend:r(".select"),imgSrc:Kj.imgSrc,horizontal:!l,narrationSuffix:r(".panelButton.enum",["2","2"])},r(".panelButton.privacyPolicy")))}),e.createElement(ic.Maybe,{classNameFocused:ji,className:Or()("aSExM",a.background.base),isInteractive:Y,narrationText:[r(".termsAndConditionsTextBlock.name"),r(".termsAndConditionsTextBlock.role"),r(".termsAndConditionsTextBlock.hint")].join(" . "),onClick:Q,inputLegend:r(".select")},e.createElement(zi,null),e.createElement(Yc,{size:3}),e.createElement(zs,{type:"captionLong"},T),e.createElement(t.Mount,{when:I,condition:!1},e.createElement(zs,{type:"captionLong"},x)),e.createElement(Yc,{size:3})),e.createElement(ar,{collection:HO},e.createElement(Js,{title:r(".checkboxLabel"),gamepad:{index:2},onChange:y,value:F,hintNarration:C})),e.createElement(du,null,e.createElement(Pu,{onClick:V,inputLegend:r(".select"),variant:"hero",disabled:S,narrationSuffix:M},O))),e.createElement(Yc,{size:2}),e.createElement(wd.Space,null))))))),e.createElement(t.Mount,{when:B},e.createElement(jO.Component,{title:r(".modals.purchaseInProgress"),onClose:z})),e.createElement(t.Mount,{when:W},e.createElement(wY.Component,{title:K,body:X,onClose:z})),e.createElement(t.Mount,{when:H.isVisible},e.createElement(JM.Component,{onClose:H.hide})))}function TY({isPlus:n,isTrial:a,price:r,isNarrow:l}){const{background:o}=gr("informative"),i=(0,t.useFacetMap)((e=>e?SY:CY),[],[n]),{t:c}=Ii("RealmsPurchaseSubscriptionRoute"),s=(0,t.useFacetMap)(((e,t)=>t?`${c(".banner.subheading.trial",[e])}`:`${c(".banner.subheading",[e])}`),[c],[r,a]),u=(0,t.useFacetMap)(((e,t,n)=>[c(e?".banner.heading.plus":".banner.heading.core"),c(".banner.role"),c(t?".banner.subheading.trial.narration":".banner.subheading.narration",[n])].join(" . ")),[c],[n,a,r]),d=ta();return e.createElement(ic.Maybe,{classNameFocused:ji,isInteractive:d,className:Or()(o.base,"J_xmR"),narrationText:u},e.createElement(zi,null),!l&&e.createElement(Rc,{className:"T2aSE",src:MY}),e.createElement("div",{className:"FFm3X"},e.createElement(zs,{type:"body",role:"neutral"},s)),e.createElement(Rc,{className:"G8qoq",src:i}))}const xY="online-play-warning-proceed-button",IY=()=>{const n=m(),a=(0,t.useSharedFacet)(Lp),r=dD(),l=u(),{t:o}=Tp("PlayScreen.onlinePlayWarning"),i=o(".proceed"),c=o(".back"),s=(0,t.useFacetMap)((e=>e.type),[],[n]),d=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.id)&&void 0!==t?t:void 0}),[],[n]),p=(0,t.useFacetMap)((e=>e===NL(Sg.External)),[],[s]),f=(0,t.useFacetMap)((e=>e===NL(Sg.Realm)),[],[s]),g=(0,t.useFacetMap)((e=>o(e?".external.body":".thirdParty.body")),[o],[p]),E=(0,t.useFacetMap)((e=>o(e?".external.header":".thirdParty.header")),[o],[p]),h=iM((0,t.useFacetMap)((e=>null!=e?e:""),[],[d]),"RealmsTabContent","PlayRealm"),b=(0,t.useFacetCallback)(((e,t,n,a)=>()=>{e?(n.doNotShowMultiplayerIpSafetyWarning=!0,r.external(a)):(n.doNotShowMultiplayerOnlineSafetyWarning=!0,t?h():r.thirdParty())}),[r,h],[p,f,a,d]),v=(0,e.useCallback)((()=>l.goBack()),[l]);return e.createElement(lX,{gamepadAlias:"online-play-transient-route",title:o(".title"),screenAnalyticsId:"online-play-warning",className:"qhtCT",onBack:v,disableBackButton:!1},e.createElement(ys,{delegateFocusByAlias:xY},e.createElement(oX,{className:"aZQne"},e.createElement(zs,{type:"body"},E),e.createElement(Yc,{size:3}),e.createElement(zs,{type:"captionLong"},g)),e.createElement(iX,null,e.createElement(Pu,{horizontal:!0,inputLegend:c,onClick:v},c),e.createElement(Yc,{size:3}),e.createElement(Pu,{horizontal:!0,gamepadAlias:xY,onClick:b,inputLegend:i,variant:"primary"},i))))};function PY(){const n=u(),{t:a}=Ii("AccountUnlinkRoute"),r=LS(),l=(0,t.useSharedFacet)(Dg),o=UP(),i=(0,t.useFacetMap)((e=>a(".unlinkLine1",e?[e.data.xblName]:[""])),[a],[o]),c=(0,t.useFacetMap)((e=>e.accountUnlinkState===rM.RUNNING),[],[l]),s=(0,t.useFacetMap)((e=>e.accountUnlinkState===rM.DONE||e.accountUnlinkState===rM.FAILED),[],[l]),d=(0,t.useFacetCallback)((e=>()=>{e.unlinkMicrosoftAccount(),r({screen:"AccountUnlink",button:"Unlink"})}),[r],[l]);return e.createElement(e.Fragment,null,e.createElement(Ld,null,e.createElement(Ld.Header,{onClose:()=>{r({screen:"AccountUnlink",button:"Close"}),n.goBack()}},a(".header")),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:i},e.createElement(zs,{type:"captionLong",align:"left"},i)),e.createElement(Ld.Text,{narrationText:a(".unlinkLine2")},e.createElement(zs,{type:"captionLong",align:"left"},a(".unlinkLine2"))),e.createElement(Ld.Text,{narrationText:a(".unlinkLine3")},e.createElement(zs,{type:"captionLong",align:"left"},a(".unlinkLine3")))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{variant:"destructive",gamepadAlias:"unlinkButton",inputLegend:a(".unlinkButton"),onClick:d},a(".unlinkButton")),e.createElement(Yc,{size:1}),e.createElement(Pu,{gamepadAlias:"cancelButton",inputLegend:a(".cancelButton"),onClick:()=>{r({screen:"AccountUnlink",button:"Cancel"}),n.goBack()}},a(".cancelButton")))),e.createElement(t.Mount,{when:c},e.createElement(jO.Component,{title:a(".progressHeader")})),e.createElement(t.Mount,{when:s},e.createElement(OY,null)))}function OY(){const n=u(),{t:a}=Ii("AccountUnlinkRoute"),r=LS(),l=(0,t.useSharedFacet)(Dg),o=(0,t.useFacetMap)((e=>e.accountUnlinkState===rM.DONE?a(".successHeader"):a(".failHeader")),[a],[l]),i=(0,t.useFacetMap)((e=>e.accountUnlinkState===rM.DONE?a(".successBody"):a(".failBody")),[a],[l]),c=(0,t.useFacetCallback)((e=>()=>{e.clearAccountUnlinkState(),r({screen:"AccountUnlink",button:"CloseResults"}),n.goBack()}),[r,n],[l]);return e.createElement(Ld,null,e.createElement(Ld.Header,{onClose:c},o),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:i},e.createElement(zs,{type:"captionLong",align:"left"},i))),e.createElement(Ld.Buttons,null,e.createElement(Pu,{variant:"primary",gamepadAlias:"closeResultsButton",inputLegend:a(".closeResultsButton"),onClick:c},a(".closeResultsButton"))))}const AY="pD39N";function NY({variant:n,featuredScreenshot:a,featuredScreenshotFallbackImgSrc:r,nonFeaturedScreenshots:l,onScreenshotSlotClick:o}){const{t:i}=Tp("ScreenshotShowcaseGrid.narration"),c=Ko(),s=(0,t.useFacetWrap)(5),u=(0,t.useFacetMap)((e=>null==e),[],[a]),d=(0,t.useFacetMap)((e=>e.length),[],[l]),m=(0,t.useFacetMap)((e=>new Array(4-e).fill(0)),[],[d]),p=(0,t.useFacetCallback)(((e,t)=>n=>{0!==n?t.length>0&&n-1<t.length?o(n,t[n-1]):o(n):o(0,e)}),[o],[a,l]),f="narrow"!==c?{height:9.4,width:16}:void 0,g="manage"===n?i(".featuredScreenshotHint"):"",E="manage"===n?i(".showcasedScreenshotHint"):"",h="manage"===n?[i(".gridTitle"),i(".gridRole"),i(".gridHint")].join(" . "):[i(".gridTitle"),i(".gridRole")].join(" . ");return e.createElement(Ps,{text:h},e.createElement("div",{className:Or()({MR_RN:"narrow"!==c,zPuR7:"narrow"===c})},e.createElement("div",{className:Or()({a61Lz:"narrow"!==c})},e.createElement(t.With,{data:a},(t=>e.createElement(SU,{length:s,screenshot:t,index:0,onScreenshotClicked:()=>p(0),variant:n,gamepadAlias:"showcase-grid-item-0",narrationSuffix:g}))),e.createElement(t.Mount,{when:u},e.createElement(SU.Empty,{imgSrc:r,length:s,index:0,onClick:()=>p(0),variant:n,gamepadAlias:"showcase-grid-item-0",narrationSuffix:g,featured:!0}))),"narrow"===c&&e.createElement(Yc,{size:2}),e.createElement("div",{className:Or()("A8368",{zlnAP:"narrow"!==c})},e.createElement(t.Map,{array:l},((t,a)=>a>=4?null:e.createElement("div",{className:AY},e.createElement(SU,{length:s,screenshot:t,onScreenshotClicked:()=>p(a+1),variant:n,index:a+1,gamepadAlias:`showcase-grid-item-${a+1}`,narrationSuffix:E,imageAspectRatioOverride:f})))),e.createElement(Fl,{data:d},(a=>e.createElement(t.Map,{array:m},((t,r)=>{const l="manage"===n&&0===r?"manage":"view";return e.createElement("div",{className:AY},e.createElement(SU.Empty,{length:s,onClick:()=>p(1+a+r),index:1+a+r,variant:l,gamepadAlias:`showcase-grid-item-${1+a+r}`,narrationSuffix:"manage"===l?E:"",imageAspectRatioOverride:f}))})))))))}function RY(e,t){return`/showcase-details/${e}?${jG(t)}`}function LY(){const{t:n}=Ii("ScreenshotShowcaseRoute"),a=u(),r=(0,t.useSharedFacet)(lg),l=f(),o=d(),i=(0,t.useFacetCallback)((e=>t=>{e.loadGallery(t),e.loadFeaturedScreenshot(t)}),[],[r]);(0,t.useFacetEffect)(((e,t)=>{var n;e.has("xuid")&&t&&i(null!==(n=e.get("xuid"))&&void 0!==n?n:"")}),[i],[l,o]);const c=(0,t.useFacetMap)((e=>{var t;return n(".header",[null!==(t=e.get("playerName"))&&void 0!==t?t:""])}),[n],[l]),s=(0,t.useFacetMap)((e=>e.screenshots.slice().sort(((e,t)=>e.lastModifiedTime-t.lastModifiedTime))),[],[r]),m=(0,t.useFacetMap)((e=>e.isLoadingScreenshots||e.isLoadingFeaturedScreenshot),[],[r]),p=(0,t.useFacetMap)((e=>e.find((e=>e.featured))),[],[s]),g=(0,t.useFacetMap)((e=>e.filter((e=>!e.featured))),[],[s]),E=O$((0,t.useFacetMap)((e=>{var t;return null!==(t=e.get("xuid"))&&void 0!==t?t:""}),[],[l])),h=(0,t.useFacetCallback)((e=>t=>{e.loadShowcasedScreenshot(t)}),[],[r]),b=(0,t.useFacetCallback)((e=>(t,n)=>{if(null!=n){n.showcased&&h(n.id);const t=RY(n.id,e);a.push(t)}}),[a,h],[HG()]);return e.createElement(NO,{title:c,screenAnalyticsId:"ScreenshotShowcase",gamepadAlias:"screenshot-showcase-route",delegateByAlias:"screenshot-showcase-scroll-view"},(()=>e.createElement(UE,null,e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:12,narrowSize:8},e.createElement(t.Mount,{when:m},e.createElement(Yc,{size:2})),e.createElement(ys,{loading:m,flexShrinkWrapper:!0,delegateFocusFromMemory:!0,gamepadAlias:"screenshot-showcase-scroll-view",delegateFocusByAlias:"showcase-grid-item-0"},e.createElement(Yc,{size:2}),e.createElement(NY,{variant:"view",featuredScreenshot:p,featuredScreenshotFallbackImgSrc:E,nonFeaturedScreenshots:g,onScreenshotSlotClick:b}),e.createElement(Yc,{size:2})),e.createElement(t.Mount,{when:m},e.createElement(Yc,{size:2})))))))}const _Y=(0,e.createContext)((()=>Math.floor(Date.now()/1e3)));function DY({world:n,onWorldClick:a,onEdit:r,index:l,indexOffset:o,totalNrOfWorlds:i}){const c=(0,t.useFacetMap)((e=>e.id),[],[n]),s=(0,t.useFacetMap)((e=>e.name),[],[n]),u=(0,t.useFacetMap)((e=>e.isMultiplayerEnabled),[],[n]),d=qA(n,XA.LIST),m=(0,t.useFacetMap)((e=>e.previewImgPath),[],[n]),p=(0,t.useFacetMap)((e=>e.requiresCloudSync),[],[n]),f=(0,t.useFacetMap)((e=>e+l+1),[l],[o]),g=(0,t.useFacetMap)((e=>e.isHardcore),[],[n]),E=function(e,n){const{t:a}=Ii("ThumbnailWorldList"),{t:r}=Ii("ThumbnailWorldList.narration"),l=function(e,n){const{t:a,f:r}=Ii("ThumbnailWorldList");return(0,t.useFacetMap)(((e,t)=>{const n=t-e;function l(e,t){const r=Math.floor(n/t);return 1==r&&(e+="Singular"),a(e,[r.toString()])}return n<120?a(".justNow"):n<3600?l(".minutesAgo",60):n<86400?l(".hoursAgo",3600):n<=604800?l(".daysAgo",86400):r.formatDate(e)}),[a,r],[e,n])}((0,t.useFacetMap)((e=>e.lastSaved),[],[e]),n),o=a(".lastPlayed"),i=(0,t.useFacetMap)((e=>r(".lastPlayed",[e])),[r],[l]);return(0,t.useFacetMap)(((e,t)=>[{displayText:o,narrationText:""},{displayText:e,narrationText:t}]),[o],[l,i])}(n,(0,t.useFacetWrap)((0,e.useContext)(_Y)())),h=(0,t.useFacetCallback)((e=>()=>{a(e)}),[a],[c]);return e.createElement(fN,{id:c,title:s,tags:d,imageSrc:m,requiresCloudSync:p,containerListLength:i,narrationIndex:f,onEdit:r,onWorldClick:h,isMultiplayerWorld:u,isHardcore:g,metadataList:E})}function BY({localWorlds:n,onLocalWorldClick:a,onLocalWorldEdit:r}){const l=(0,t.useFacetMap)((e=>e.length),[],[n]),o=(0,t.useFacetWrap)(0);return e.createElement(e.Fragment,null,e.createElement(t.Map,{array:n},((t,n)=>e.createElement(e.Fragment,null,n>0&&e.createElement(Yc,{size:1}),e.createElement(DY,{world:t,onWorldClick:a,onEdit:r,indexOffset:o,index:n,totalNrOfWorlds:l})))))}const WY=n.p+"assets/no-worlds-yet-art-446b1.png";function UY(){const{t}=Ii("SetWorldThumbnailRoute.errorState"),n=u(),a=Ko(),r=(0,e.useCallback)((()=>{n.push("/create-new-world")}),[n]);return e.createElement(GE,{title:t(".emptyStateTitle"),text:t(".emptyStateText"),imgSrc:WY,imgClass:"narrow"===a?"Ub60v":"qJJvB",buttons:[{variant:"primary",text:t(".emptyStateCreateNewButton"),narrationSuffix:t(".createNewWorldNarration"),onClick:r,gamepadAlias:"play-cnw-button"}]})}function zY(){const n=u(),a=uR(),r=(0,t.useSharedFacet)(_p),l=(0,t.useSharedFacet)(eE),o=(0,t.useSharedFacet)(rg),i=m(),{t:c}=Ii("SetWorldThumbnailRoute"),s=(0,t.useFacetCallback)((e=>t=>e.find((e=>e.id===t))),[],[a.data]),d=(0,t.useFacetMap)(((e,t)=>e.screenshots.find((e=>e.id===t.thumbnailId))),[],[o,i]),p=(0,t.useFacetCallback)(((e,a,r)=>l=>{const o=s(l);null!=o&&null!=r&&o!=t.NO_VALUE&&(a.saveScreenshotAsWorldIcon(l,r.filePath,r.id),e.queueSnackbar(c(".successSnackbarMessage",[o.name])),n.goBack())}),[n,c,s],[r,l,d]),f=(0,t.useFacetMap)((e=>0===e.length),[],[a.data]);return e.createElement(NO,{title:c(".setWorldThumbnailHeader"),screenAnalyticsId:"SetWorldThumbnail",gamepadAlias:"set-world-thumbnail-route"},(()=>e.createElement(UE,null,e.createElement(UE.Row,{fullHeight:!0},e.createElement(t.Mount,{when:f,condition:!1},e.createElement(UE.Column,{wideSize:12,narrowSize:8},e.createElement(ys,{alwaysVisibleChildren:e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}))},e.createElement(BY,{localWorlds:a.data,onLocalWorldClick:p})))),e.createElement(t.Mount,{when:f},e.createElement(e.Fragment,null,e.createElement(UE.Column,{wideSize:1,narrowSize:0}),e.createElement(UE.Column,{wideSize:10,narrowSize:8},e.createElement(e.Fragment,null,e.createElement(Yc,{size:2}),e.createElement(UY,null))),e.createElement(UE.Column,{wideSize:1,narrowSize:0})))))))}function jY(){const{t:n}=Ii("ShowcaseDetailsRoute"),a=u(),r=(0,t.useSharedFacet)(lg),l=m(),o=(0,t.useFacetMap)((e=>e.id),[],[l]),i=(b=(0,t.useFacetMap)((e=>e.screenshots),[],[r]),(0,t.useFacetMap)((e=>function(e){const t=e.findIndex((e=>e.featured)),n=op(e);if(t>0){const e=n.splice(t,1);n.unshift(e[0])}return n}(e.slice().sort(((e,t)=>e.lastModifiedTime-t.lastModifiedTime)))),[],[b])),c=(0,t.useFacetMap)(((e,t)=>{var n;return null!==(n=e.find((e=>e.id===t)))&&void 0!==n?n:e[0]}),[],[i,o]),s=(0,t.useFacetMap)(((e,t)=>e.indexOf(t)),[],[i,c]),d=(0,t.useFacetMap)((e=>e.length),[],[i]),p=(0,t.useFacetCallback)((e=>t=>{e.loadShowcasedScreenshot(t)}),[],[r]),f=HG(),g=(0,t.useFacetCallback)(((e,t)=>n=>{if(n>=0&&n<e.length){const r=e[n].id;e[n].showcased&&p(e[n].id),a.replace(RY(r,t))}}),[a,p],[i,f]),E=QG(c),h=(0,t.useFacetMap)((e=>n(".title",[e.playerName])),[n],[f]);var b;return e.createElement(qG,{title:h,screenshot:c,index:s,length:d,onGoToIndex:g,screenshotNarrationSuffix:E,variant:"view"})}function HY(){const{t:n}=Ii("ManageShowcaseRoute"),a=(0,t.useSharedFacet)(Dg),r=(0,t.useSharedFacet)(rg),l=VY.useModal(),o=(0,t.useSharedFacet)(Lp),i=(0,t.useFacetMap)((e=>e.screenshots.slice().filter((e=>e.showcased)).sort(((e,t)=>e.lastModifiedTime-t.lastModifiedTime))),[],[r]),c=(0,t.useFacetMap)((e=>e.find((e=>e.featured))),[],[i]),s=(0,t.useFacetMap)((e=>e.filter((e=>!e.featured))),[],[i]),u=O$((0,t.useFacetMap)((e=>e.currentXuid),[],[a])),[d,m]=(0,t.useFacetState)(-1),[p,f]=(0,t.useFacetState)(""),g=(0,t.useFacetMap)((e=>-1!==e),[],[d]),E=(0,t.useFacetMap)(((e,t)=>e.find((e=>t===e.id))),[],[i,p]),h=(0,t.useFacetMap)((e=>e.isLoadingGallery),[],[r]),b=(0,e.useCallback)((()=>{m(-1)}),[m]),v=(0,e.useCallback)((()=>{f("")}),[f]),F=(0,t.useFacetCallback)((e=>t=>{t.showcased?e.setFeaturedScreenshot(t.id):e.addScreenshotToShowcase(t.id,!0)}),[],[r]),y=(0,t.useFacetCallback)((e=>t=>{e.addScreenshotToShowcase(t,!1)}),[],[r]),S=(0,t.useFacetCallback)((e=>t=>{e.removeShowcasedScreenshot(t)}),[],[r]),C=(0,t.useFacetCallback)((e=>t=>{0===e?F(t):y(t.id),b()}),[b,F,y],[d]),M=(0,t.useFacetCallback)((e=>(t,n)=>{null==n?m(t):e.doNotShowManageShowcaseClearWarning?S(n.id):(f(n.id),l.show())}),[m,f,S,l],[o]),w=(0,e.useCallback)((()=>{l.hide(),v()}),[v,l]),k=(0,t.useFacetCallback)((e=>()=>{null!=e&&S(e.id),l.hide(),v()}),[v,l,S],[E]);return e.createElement(e.Fragment,null,e.createElement(Fl,{data:g},(a=>a?e.createElement(kK,{onScreenshotSelect:C,onGoBack:b}):e.createElement(NO,{title:n(".manageHeader"),screenAnalyticsId:"ScreenshotShowcase",gamepadAlias:"screenshot-showcase-route",delegateByAlias:"manage-showcase-scroll-view"},(()=>e.createElement(UE,null,e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:12,narrowSize:8},e.createElement(t.Mount,{when:h},e.createElement(Yc,{size:2})),e.createElement(ys,{loading:h,flexShrinkWrapper:!0,delegateFocusFromMemory:!0,gamepadAlias:"manage-showcase-scroll-view",delegateFocusByAlias:"showcase-grid-item-0"},e.createElement(Yc,{size:2}),e.createElement(KS,{role:"informative"},e.createElement(KS.Text,null,n(".galleryBanner"))),e.createElement(Yc,{size:2}),e.createElement(NY,{variant:"manage",featuredScreenshot:c,featuredScreenshotFallbackImgSrc:u,nonFeaturedScreenshots:s,onScreenshotSlotClick:M}),e.createElement(Yc,{size:2})),e.createElement(t.Mount,{when:h},e.createElement(Yc,{size:2}))))))))),e.createElement(t.Mount,{when:l.isVisible},e.createElement(VY.Component,{onConfirm:k,onCancel:w,featured:(0,t.useFacetMap)((e=>null!=e&&e.featured),[],[E])})))}const VY=_i((({onConfirm:n,onCancel:a,featured:r})=>{const{t:l}=Ii("ManageShowcaseModal"),o=(0,t.useFacetMap)((e=>l(e?".clearFeaturedTitle":".clearShowcasedTitle")),[l],[r]),i=(0,t.useFacetMap)((e=>l(e?".clearFeaturedMessage":".clearShowcasedMessage")),[l],[r]),[c,s]=(0,t.useFacetState)(!1),u=(0,t.useSharedFacet)(Lp),d=(0,t.useFacetCallback)(((e,t)=>()=>{t&&(e.doNotShowManageShowcaseClearWarning=!0),n()}),[n],[u,c]);return e.createElement(Ld,null,e.createElement(Ld.Header,{onClose:a},o),e.createElement(Ld.Content,null,e.createElement(Ld.Text,{narrationText:i},i)),e.createElement(Ld.Buttons,{horizontal:!0,header:e.createElement(Ld.Checkbox,{value:c,onChange:s,title:l(".doNotShowAgain")})},e.createElement(Pu,{inputLegend:l(".cancel"),variant:"secondary",onClick:a,horizontal:!0},l(".cancel")),e.createElement(Yc,{size:1}),e.createElement(Pu,{inputLegend:l(".confirm"),variant:"primary",onClick:d,horizontal:!0},l(".confirm"))))}));function GY(){const n=u(),a=ow(),r=(0,t.useSharedFacet)(eE),l=(0,t.useFacetCallback)(((e,t)=>a=>{e.saveScreenshotAsWorldIcon(t,a.filePath,a.id),n.goBack()}),[n],[r,a]);return e.createElement(kK,{onScreenshotSelect:l})}const $Y=n.p+"assets/empty-592da.png";function KY(){const n=u(),{t:a}=Ii("RealmsStories.OptedOutMembers"),r=(0,t.useSharedFacet)(pf),l=(0,t.useSharedFacet)(vf),o=(0,t.useFacetMap)((e=>Sf(gM(e.players,(e=>!e.hasOptedIn&&e.role!==bf.NONMEMBER)))),[],[l]),i=jD(r,o,300),c=(0,t.useFacetMap)((e=>e.length),[],[i]),s=(0,t.useFacetMap)((e=>e>0),[],[c]),d=(0,t.useFacetMap)(((e,t)=>t.length<e.length),[],[o,i]),m=(0,t.useFacetMap)((e=>e.fetchMembersStatus===Tg.InProgress||e.fetchOnlineMembersStatus===Tg.InProgress),[],[l]),p=(0,t.useFacetMap)((e=>null!=om(e,(e=>e.fetchProfileStatus===Tg.InProgress))),[],[i]),f=(0,t.useIsDeferring)(),g=(0,t.useIsPaused)(),E=(0,t.useFacetMap)(((e,t,n)=>e||t||n||g),[g],[m,p,f]),h=a(".header"),b=a(".screen",[h]),v=[b,a(".listName"),a(".listRole")].join(" . "),F=VD();return e.createElement(ar,{collection:VO},e.createElement(vE,{role:"primary"},e.createElement(DE,{onBackButton:n.goBack,center:e.createElement(zs,{type:"header5A"},h),gamepadAlias:"realms-stories-opted-out-members"},e.createElement(t.DeferredMountProvider,null,e.createElement(UE,null,e.createElement(UE.Row,null,e.createElement(UE.Column,{wideSize:1,narrowSize:0}),e.createElement(UE.Column,{wideSize:10,narrowSize:8},e.createElement(Yc,{size:2}),e.createElement(ys,{loading:E,delegateFocusFromMemory:!0},e.createElement(Fl,{data:s},(n=>n?e.createElement(Ps,{text:v},e.createElement(t.Mount,{when:d},e.createElement(e.Fragment,null,e.createElement(QD,{forOptedOutMembers:!0}),e.createElement(Yc,{size:2}))),e.createElement(t.Map,{array:i},((t,n)=>e.createElement($D,{realmPlayer:t,index:n+1,totalPlayers:c})))):e.createElement(t.DeferredMount,null,e.createElement(Ps,{text:b},e.createElement(GE,{title:a(".noOptedOutMembers"),imgSrc:$Y,imgClass:F}))))),e.createElement(Yc,{size:2}))),e.createElement(UE.Column,{wideSize:1,narrowSize:0})))))))}function XY(){return e.createElement($d,{scalingMode:"legacy",defaultRoute:"/create-new-world",scope:["in-game","out-of-game"],errorComponent:Uz,gamepadAdapterVersion:nj.VISUAL,semanticCollection:HO},e.createElement(Gr,{route:"/achievements/:tab?",component:ov,transitionComponent:zz}),e.createElement(Gr,{route:"/achievement-detail/:id",component:bh,transitionComponent:zz}),e.createElement(Gr,{route:"/quick-create-new-world/mode",component:fV.Mode,transitionComponent:zz}),e.createElement(Gr,{route:"/quick-create-new-world/survival/difficulty",component:fV.Difficulty,transitionComponent:zz}),e.createElement(Gr,{route:"/quick-create-new-world/:mode/:difficulty/touch-control-selection",component:fV.TouchControlSelection,transitionComponent:zz}),e.createElement(Gr,{route:"/create-new-world/seed-templates",component:zA,transitionComponent:zz}),e.createElement(Gr,{route:"/create-new-world/:tab/:worldTemplateId?",component:vA,transitionComponent:zz}),e.createElement(S,{from:"/create-new-world",to:"/create-new-world/general"}),!1,e.createElement(Gr,{route:"/play/touch-control-selection/:id",component:tj,transitionComponent:zz}),e.createElement(Gr,{route:"/realms-pdp",component:jK,transitionComponent:zz}),e.createElement(Gr,{route:"/realms-plan-picker",component:YK,transitionComponent:zz}),e.createElement(Gr,{route:"/join-realms-server",component:eX,transitionComponent:zz}),e.createElement(Gr,{route:"/join-realms-server/:code",component:uX,transitionComponent:zz}),e.createElement(Gr,{route:"/play/servers/add",component:YH,transitionComponent:zz}),e.createElement(Gr,{route:"/play/:tab/:id?/:type?",component:LD,transitionComponent:zz}),e.createElement(Gr,{route:"/play/servers/:id/:type/edit",component:YH,transitionComponent:zz}),e.createElement(Gr,{component:IY,route:"/online-play-warning/:type/:id?",transitionComponent:zz}),e.createElement(S,{from:"/play",to:"/play/all"}),e.createElement(Gr,{route:"/start-from-template/:tab",component:yY,transitionComponent:zz}),e.createElement(S,{from:"/start-from-template",to:"/start-from-template/marketplace-pass"}),e.createElement(Gr,{route:"/mobile-data-blocked-modal/show-modal",component:FA,transitionComponent:zz}),e.createElement(Gr,{route:"/render-distance-warning-modal",component:Ev,transitionComponent:zr}),e.createElement(Gr,{route:"/touch-control-selection",component:ej,transitionComponent:zz}),e.createElement(Gr,{route:"/realms-choose-realm/:tab",component:EH,transitionComponent:zz}),e.createElement(Gr,{route:"/realms-choose-slot/:id",component:Pj,transitionComponent:zz}),e.createElement(Gr,{route:"/realms-stories/:tab/:realmId?",component:lU,transitionComponent:zz}),e.createElement(S,{from:"/realms-stories",to:"/realms-stories/feed"}),e.createElement(Gr,{route:"/realms-stories-opted-out-members/:realmId?",component:KY,transitionComponent:zz}),e.createElement(Gr,{route:"/realms-story-comments/:id/:realmId?",component:IV,transitionComponent:zz}),e.createElement(Gr,{route:"/realms-story-entry-route/:tab/:realmId?",component:kV,modes:["modal"]}),e.createElement(S,{from:"/realms-story-entry-route",to:"/realms-story-entry-route/feed"}),e.createElement(Gr,{route:"/realms-story-opt-in/:detailPane/:tab/:realmId",component:QV,transitionComponent:zz}),e.createElement(Gr,{route:"/post-to-realm-stories",component:lG,transitionComponent:zz}),e.createElement(Gr,{route:"/realms-story-share-link-modal-route/:realmId?",component:ZW,transitionComponent:zz,modes:["modal"]}),e.createElement(Gr,{route:"/hardcore-mode-world-warning-modal-route/:realmId?",component:uM,transitionComponent:zz,modes:["modal"]}),e.createElement(Gr,{route:"/realms-new-story/:realmId?",component:fU,transitionComponent:zz}),e.createElement(Gr,{route:"/realms-new-story/screenshot-gallery/:realmId?",component:jU,transitionComponent:zz,disabledCached:!0}),e.createElement(Gr,{route:"/announcement-modal/:id",component:az,transitionComponent:zr,modes:["modal"]}),e.createElement(Gr,{route:"/realms-stories-report-feed-item/:postType/:realmId?",component:dW,transitionComponent:zr}),e.createElement(Gr,{route:"/realms-stories-settings/:realmId?",component:oz,transitionComponent:zr}),e.createElement(Gr,{route:"/player-banned-modal",component:lz,transitionComponent:zr}),e.createElement(Gr,{route:"/player-report",component:gz,transitionComponent:zr}),e.createElement(Gr,{route:"/sign-in-achievements",component:bz,transitionComponent:zz,disabledCached:!0}),e.createElement(Gr,{route:"/sign-in-add-friend",component:yz,transitionComponent:zz}),e.createElement(Gr,{route:"/sign-in-play-on-server",component:Mz,transitionComponent:zz}),e.createElement(Gr,{route:"/sign-in-save-purchases",component:Tz,transitionComponent:zz}),e.createElement(Gr,{route:"/sign-in-dressing-room",component:Pz,transitionComponent:zz}),e.createElement(Gr,{route:"/sign-in-marketplace",component:Nz,transitionComponent:zz}),e.createElement(Gr,{route:"/sign-in-worlds-friends-servers",component:_z,transitionComponent:zz}),e.createElement(Gr,{route:"/first-time-sign-in",component:Wz,transitionComponent:zz}),e.createElement(Gr,{route:"/inbox/:tab?",component:mH,transitionComponent:zz}),e.createElement(Gr,{route:"/inbox-settings",component:vH,transitionComponent:zz}),e.createElement(Gr,{route:"/message/:messageId",component:RH,transitionComponent:zz}),e.createElement(Gr,{route:"/edit-world/:id/:tab/:worldTemplateId?",component:fj,transitionComponent:zz}),e.createElement(Gr,{route:"/edit-world-thumbnail/:id",component:GY,transitionComponent:zz}),e.createElement(S,{from:"/edit-world/:id",to:"/edit-world/:id/general"}),e.createElement(Gr,{component:hj,route:"/export-world/:id/:type",transitionComponent:zz}),e.createElement(Gr,{route:"/realms-create-preview-with-only-one-subscription",component:_H,modes:["modal"]}),e.createElement(Gr,{route:"/realms-purchase-subscription/:subscription",component:kY,transitionComponent:zz}),e.createElement(Gr,{route:"/add-friend",component:TG,transitionComponent:zz}),e.createElement(S,{from:"/profile",to:"/profile/overview",keepQuery:!0}),e.createElement(Gr,{route:"/profile/:tab",component:OK,transitionComponent:zz}),e.createElement(Gr,{route:"/screenshot-gallery",component:WG,transitionComponent:zz}),e.createElement(Gr,{route:"/screenshot-showcase",component:LY,transitionComponent:zz}),e.createElement(Gr,{route:"/manage-showcase",component:HY,transitionComponent:zz}),e.createElement(Gr,{route:"/screenshot-details/:id",component:JG,transitionComponent:zz}),e.createElement(Gr,{route:"/set-world-thumbnail/:thumbnailId",component:zY,transitionComponent:zz}),e.createElement(Gr,{route:"/showcase-details/:id",component:jY,transitionComponent:zz}),e.createElement(Gr,{route:"/account-unlink",component:PY,transitionComponent:zz}),e.createElement(wd,null))}var YY,qY;YY=e.createElement(XY,null),qY=document.getElementById("root"),(0,t.render)(YY,qY)})()})();